!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function e(){return t.default}:function e(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=526)}([function(t,e,n){"use strict";t.exports=n(533)},function(t,e,n){var r,i,o;t.exports=n(613)()},function(t,e,n){"use strict";var r=n(738);n.d(e,"a",function(){return r.a});var i=n(772);n.d(e,"o",function(){return i.a}),n.d(e,"t",function(){return i.b});var o=n(780);n.d(e,"c",function(){return o});var a=n(783);n.d(e,"y",function(){return a.a}),n.d(e,"z",function(){return a.b}),n.d(e,"C",function(){return a.e}),n.d(e,"A",function(){return a.c}),n.d(e,"B",function(){return a.d}),n.d(e,"D",function(){return a.f}),n.d(e,"E",function(){return a.g});var s=n(784),u=n(862),c=n(863);n.d(e,"n",function(){return c.a});var l=n(867);n.d(e,"d",function(){return l.a}),n.d(e,"e",function(){return l.b}),n.d(e,"f",function(){return l.c}),n.d(e,"g",function(){return l.d}),n.d(e,"h",function(){return l.e}),n.d(e,"i",function(){return l.f}),n.d(e,"k",function(){return l.g}),n.d(e,"l",function(){return l.h});var h=n(870);n.d(e,"q",function(){return h.a});var f=n(871);n.d(e,"p",function(){return f.a});var d=n(872);n.d(e,"r",function(){return d.a}),n.d(e,"w",function(){return d.b});var p=n(396);n.d(e,"s",function(){return p.a});var m=n(874);n.d(e,"m",function(){return m.a});var v=n(395),g=n(878);n.d(e,"j",function(){return g.a});var y=n(886);n.d(e,"b",function(){return y});var b=n(237),x=n(887);n.d(e,"u",function(){return x.a});var _=n(888);n.d(e,"v",function(){return _.a});var w=n(889),E=n(891);n.d(e,"x",function(){return E.a})},function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}t.exports=n},function(t,e,n){var r,i;!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)&&r.length){var a=n.apply(null,r);a&&t.push(a)}else if("object"===i)for(var s in r)o.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}var o={}.hasOwnProperty;"undefined"!==typeof t&&t.exports?(n.default=n,t.exports=n):(r=[],void 0!==(i=function(){return n}.apply(e,r))&&(t.exports=i))}()},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n},function(t,e){function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=n},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=n},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}t.exports=r},function(t,e,n){function r(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?o(t):e}var i=n(102),o=n(11);t.exports=r},function(t,e,n){function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}var i=n(706);t.exports=r},function(t,e){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ReactCSS=e.loop=e.handleActive=e.handleHover=e.hover=void 0;var i=n(1067),o=r(i),a=n(1068),s=r(a),u=n(1070),c=r(u),l=n(1071),h=r(l),f=n(1072),d=r(f),p=n(1073),m=r(p);e.hover=h.default,e.handleHover=h.default,e.handleActive=d.default,e.loop=m.default;var v=e.ReactCSS=function t(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=(0,o.default)(r),u=(0,s.default)(e,a);return(0,c.default)(u)};e.default=v},function(t,e,n){var r=n(733),i=n(59),o=i(r);t.exports=o},function(t,e,n){function r(t,e){return(s(t)?i:a)(t,o(e,3))}var i=n(52),o=n(32),a=n(391),s=n(17);t.exports=r},function(t,e,n){var r=n(352),i=n(59),o=n(153),a=i(function(t,e){return o(t)?r(t,e):[]});t.exports=a},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"n",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"e",function(){return u}),n.d(e,"t",function(){return c}),n.d(e,"p",function(){return l}),n.d(e,"m",function(){return h}),n.d(e,"I",function(){return f}),n.d(e,"j",function(){return d}),n.d(e,"w",function(){return v}),n.d(e,"x",function(){return g}),n.d(e,"Q",function(){return y}),n.d(e,"R",function(){return b}),n.d(e,"S",function(){return x}),n.d(e,"N",function(){return w}),n.d(e,"k",function(){return E}),n.d(e,"g",function(){return M}),n.d(e,"s",function(){return S}),n.d(e,"v",function(){return T}),n.d(e,"y",function(){return A}),n.d(e,"u",function(){return C}),n.d(e,"P",function(){return O}),n.d(e,"o",function(){return P}),n.d(e,"q",function(){return L}),n.d(e,"D",function(){return R}),n.d(e,"E",function(){return k}),n.d(e,"O",function(){return D}),n.d(e,"z",function(){return U}),n.d(e,"G",function(){return G}),n.d(e,"H",function(){return z}),n.d(e,"B",function(){return H}),n.d(e,"A",function(){return W}),n.d(e,"F",function(){return q}),n.d(e,"C",function(){return X}),n.d(e,"h",function(){return Y}),n.d(e,"i",function(){return K}),n.d(e,"J",function(){return Z}),n.d(e,"L",function(){return Q}),n.d(e,"M",function(){return J}),n.d(e,"K",function(){return $}),n.d(e,"d",function(){return tt}),n.d(e,"r",function(){return et}),n.d(e,"l",function(){return nt});var r="BUILD_ENV_OMEKA",i="BUILD_ENV_NODE",o=r,a="GROUP",s="COMPONENT",u="CM",c="MM",l="IN",h="FT",f=[c,u,l,h],d={inner:"rgb(105, 105, 105)",outer:"rgb(35, 35, 35)"},p=0,m=2.5,v="pinchend",g="pinchstart",y="zoomin",b="zoomout",x=.25,_=6710886,w=function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}}(),E={ANDROID_SMARTPHONE:function t(){return navigator.userAgent.match(/Android/i)&&matchMedia("only screen and (max-width: 1024px)")},ANDROID_TABLET:function t(){return navigator.userAgent.match(/Android/i)&&matchMedia("only screen and (max-width: 768px)")},IPHONE:function t(){return navigator.userAgent.match(/iPhone/i)},IPAD:function t(){return navigator.userAgent.match(/iPad/i)},SMARTPHONE:function t(){return E.ANDROID_SMARTPHONE()||E.IPHONE()},TABLET:function t(){return E.ANDROID_TABLET()||E.IPAD()}},M={MM_TO_CM:function t(e){return e/10},MM_TO_IN:function t(e){return e/25.4},MM_TO_FT:function t(e){return e/304.8},CM_TO_IN:function t(e){return e/2.54},CM_TO_MM:function t(e){return 10*e},CM_TO_FT:function t(e){return e/30.48},IN_TO_FT:function t(e){return e/12},IN_TO_CM:function t(e){return 2.54*e},IN_TO_MM:function t(e){return 25.4*e},FT_TO_IN:function t(e){return 12*e},FT_TO_CM:function t(e){return 30.48*e},FT_TO_MM:function t(e){return 304.8*e}},S={DIFFUSE_MAP:0,NORMAL_MAP:1,ROUGHNESS_MAP:2,METALNESS_MAP:3},T=".obj",A=".stl",C=".mtl",O=".zip",P=".gz",L=".js",R=0,k=1,N="ThreeModelCache",I="ThreeModelCacheIndex",j=["id"],D="WORKER_PROGRESS",B="WORKER_DATA",F=524288,U="Color",G="Vector2",z="Vector3",V="Group",H="Mesh",W="map",q=new Set([U,G,z,"Group",H]),X="MeshStandardMaterial",Y="CONVERSION_TYPE_MESH",K="CONVERSION_TYPE_RTI",Z=".jpg,.png,.bmp,.gif,.jpeg",Q=".obj",J=".ptm",$=".mtl",tt="checkbox",et="map",nt="file",rt="data:image/jpeg;base64,",it="data:image/jpeg;base64,"},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";var r=n(704);n.d(e,"d",function(){return r.a});var i=n(416),o=n(916),a=n(426),s=n(116),u=n(405),c=n(251),l=n(118),h=n(930),f=n(427),d=n(435),p=n(947),m=n(949),v=n(951),g=n(440),y=n(441),b=n(953);n.d(e,"h",function(){return b.a});var x=n(442),_=n(443),w=n(444),E=n(55),M=n(445),S=n(446),T=n(447),A=n(448),C=n(449),O=n(956);n.d(e,"i",function(){return O.a});var P=n(253),L=n(451),R=n(421),k=n(423),N=n(250),I=n(425),j=n(957);n.d(e,"l",function(){return j.a});var D=n(452),B=n(453),F=n(254),U=n(454),G=n(959),z=n(455),V=n(177),H=n(456),W=n(255),q=n(457),X=n(458),Y=n(248);n.d(e,"b",function(){return Y.a});var K=n(411),Z=n(412),Q=n(413),J=n(961),$=n(963);n.d(e,"f",function(){return $.a});var tt=n(431),et=n(965),nt=n(460),rt=n(459),it=n(27);n.d(e,"j",function(){return it.a});var ot=n(402),at=n(90),st=n(408),ut=n(252),ct=n(176);n.d(e,"k",function(){return ct.a});var lt=n(409),ht=n(410),ft=n(967),dt=n(256),pt=n(178),mt=n(179),vt=n(257),gt=n(461),yt=n(462),bt=n(969),xt=n(971),_t=n(973),wt=n(463),Et=n(975);n.d(e,"o",function(){return Et.a});var Mt=n(465),St=n(976),Tt=n(467),At=n(258),Ct=n(468),Ot=n(259),Pt=n(978);n.d(e,"a",function(){return Pt.a});var Lt=n(469),Rt=n(262),kt=n(260),Nt=n(261),It=n(174);n.d(e,"c",function(){return It.a});var jt=n(404);n.d(e,"e",function(){return jt.a});var Dt=n(406),Bt=n(407),Ft=n(175);n.d(e,"g",function(){return Ft.a});var Ut=n(429),Gt=n(432),zt=n(430),Vt=n(433),Ht=n(434),Wt=n(979),qt=n(414);n.d(e,"m",function(){return qt.a});var Xt=n(419),Yt=n(418),Kt=n(420),Zt=n(417),Qt=n(981),Jt=n(470),$t=n(471),te=n(985);n.d(e,"n",function(){return te.a});var ee=n(990),ne=n(472),re=n(993),ie=n(473),oe=n(474),ae=n(475),se=n(997),ue=n(476),ce=n(477),le=n(999),he=n(1001),fe=n(478),de=n(436),pe=n(438),me=n(1003),ve=n(479),ge=n(480),ye=n(263),be=n(481),xe=n(264),_e=n(265),we=n(1005),Ee=n(482),Me=n(483),Se=n(484),Te=n(485),Ae=n(486),Ce=n(487),Oe=n(488),Pe=n(489),Le=n(1007),Re=n(266),ke=n(181),Ne=n(490),Ie=n(267),je=n(272),De=n(269),Be=n(268),Fe=n(270),Ue=n(271),Ge=n(1009),ze=n(492),Ve=n(274),He=n(275),We=n(493),qe=n(273),Xe=n(494),Ye=n(276),Ke=n(1010),Ze=n(496),Qe=n(497),Je=n(498)},function(t,e,n){function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}var i=n(6);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1074);Object.defineProperty(e,"Alpha",{enumerable:!0,get:function t(){return r(i).default}});var o=n(500);Object.defineProperty(e,"Checkboard",{enumerable:!0,get:function t(){return r(o).default}});var a=n(1077);Object.defineProperty(e,"EditableInput",{enumerable:!0,get:function t(){return r(a).default}});var s=n(1078);Object.defineProperty(e,"Hue",{enumerable:!0,get:function t(){return r(s).default}});var u=n(1080);Object.defineProperty(e,"Raised",{enumerable:!0,get:function t(){return r(u).default}});var c=n(1081);Object.defineProperty(e,"Saturation",{enumerable:!0,get:function t(){return r(c).default}});var l=n(502);Object.defineProperty(e,"ColorWrap",{enumerable:!0,get:function t(){return r(l).default}});var h=n(1086);Object.defineProperty(e,"Swatch",{enumerable:!0,get:function t(){return r(h).default}})},function(t,e){t.exports={}},function(t,e,n){"use strict";function r(t){var e=null;return e=u.uint8array?new Uint8Array(t.length):new Array(t.length),o(t,e)}function i(t){return t}function o(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function a(t){var n=65536,r=e.getTypeOf(t),i=!0;if("uint8array"===r?i=d.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=d.applyCanBeUsed.nodebuffer),i)for(;n>1;)try{return d.stringifyByChunk(t,r,n)}catch(t){n=Math.floor(n/2)}return d.stringifyByChar(t)}function s(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var u=n(62),c=n(509),l=n(185),h=n(1146),f=n(120);e.newBlob=function(t,n){e.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var r=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,i=new r;return i.append(t),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(t,e,n){var r=[],i=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;i<o;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&1===String.fromCharCode.apply(null,l.allocBuffer(1)).length}catch(t){return!1}}()}};e.applyFromCharCode=a;var p={};p.string={string:i,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:function(t){return o(t,l.allocBuffer(t.length))}},p.array={string:a,array:i,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l.newBufferFrom(t)}},p.arraybuffer={string:function(t){return a(new Uint8Array(t))},array:function(t){return s(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:i,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:a,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:i,nodebuffer:function(t){return l.newBufferFrom(t)}},p.nodebuffer={string:a,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:i},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var r=e.getTypeOf(n);return p[r][t](n)},e.getTypeOf=function(t){return"string"===typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":u.nodebuffer&&l.isBuffer(t)?"nodebuffer":u.uint8array&&t instanceof Uint8Array?"uint8array":u.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!u[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e="",n,r;for(r=0;r<(t||"").length;r++)n=t.charCodeAt(r),e+="\\x"+(n<16?"0":"")+n.toString(16).toUpperCase();return e},e.delay=function(t,e,n){h(function(){t.apply(n||null,e||[])})},e.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},e.extend=function(){var t={},e,n;for(e=0;e<arguments.length;e++)for(n in arguments[e])arguments[e].hasOwnProperty(n)&&"undefined"===typeof t[n]&&(t[n]=arguments[e][n]);return t},e.prepareContent=function(t,n,i,o,a){return f.Promise.resolve(n).then(function(t){return u.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!==typeof FileReader?new f.Promise(function(e,n){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){n(t.target.error)},r.readAsArrayBuffer(t)}):t}).then(function(n){var s=e.getTypeOf(n);return s?("arraybuffer"===s?n=e.transformTo("uint8array",n):"string"===s&&(a?n=c.decode(n):i&&!0!==o&&(n=r(n))),n):f.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(t,e,n){function r(t,e,n){return i(o,t,e,n)}var i=n(789),o=n(791);t.exports=r},function(t,e,n){"use strict";function EventDispatcher(){}function Vector2(t,e){this.x=t||0,this.y=e||0}function Texture(t,e,n,r,i,o,a,s,u,c){Object.defineProperty(this,"id",{value:jt++}),this.uuid=It.generateUUID(),this.name="",this.image=void 0!==t?t:Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Texture.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:ClampToEdgeWrapping,this.wrapT=void 0!==r?r:ClampToEdgeWrapping,this.magFilter=void 0!==i?i:LinearFilter,this.minFilter=void 0!==o?o:LinearMipMapLinearFilter,this.anisotropy=void 0!==u?u:1,this.format=void 0!==a?a:RGBAFormat,this.type=void 0!==s?s:UnsignedByteType,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:LinearEncoding,this.version=0,this.onUpdate=null}function Vector4(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function WebGLRenderTarget(t,e,n){this.uuid=It.generateUUID(),this.width=t,this.height=e,this.scissor=new Vector4(0,0,t,e),this.scissorTest=!1,this.viewport=new Vector4(0,0,t,e),n=n||{},void 0===n.minFilter&&(n.minFilter=LinearFilter),this.texture=new Texture(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function WebGLRenderTargetCube(t,e,n){WebGLRenderTarget.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function Quaternion(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function Vector3(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function Matrix4(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function DataTexture(t,e,n,r,i,o,a,s,u,c,l,h){Texture.call(this,null,o,a,s,u,c,r,i,l,h),this.image={data:t,width:e,height:n},this.magFilter=void 0!==u?u:NearestFilter,this.minFilter=void 0!==c?c:NearestFilter,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function CubeTexture(t,e,n,r,i,o,a,s,u,c){t=void 0!==t?t:[],e=void 0!==e?e:CubeReflectionMapping,Texture.call(this,t,e,n,r,i,o,a,s,u,c),this.flipY=!1}function r(){this.seq=[],this.map={}}function i(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,o=Ft[i];if(void 0===o&&(o=new Float32Array(i),Ft[i]=o),0!==e){r.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function o(t,e){var n=Ut[e];void 0===n&&(n=new Int32Array(e),Ut[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function a(t,e){t.uniform1f(this.addr,e)}function s(t,e){t.uniform1i(this.addr,e)}function u(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function c(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function l(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function h(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function f(t,e){void 0===e.elements?t.uniformMatrix3fv(this.addr,!1,e):(zt.set(e.elements),t.uniformMatrix3fv(this.addr,!1,zt))}function d(t,e){void 0===e.elements?t.uniformMatrix4fv(this.addr,!1,e):(Gt.set(e.elements),t.uniformMatrix4fv(this.addr,!1,Gt))}function p(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTexture2D(e||Dt,r)}function m(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTextureCube(e||Bt,r)}function v(t,e){t.uniform2iv(this.addr,e)}function g(t,e){t.uniform3iv(this.addr,e)}function y(t,e){t.uniform4iv(this.addr,e)}function b(t){switch(t){case 5126:return a;case 35664:return u;case 35665:return c;case 35666:return l;case 35674:return h;case 35675:return f;case 35676:return d;case 35678:return p;case 35680:return m;case 5124:case 35670:return s;case 35667:case 35671:return v;case 35668:case 35672:return g;case 35669:case 35673:return y}}function x(t,e){t.uniform1fv(this.addr,e)}function _(t,e){t.uniform1iv(this.addr,e)}function w(t,e){t.uniform2fv(this.addr,i(e,this.size,2))}function E(t,e){t.uniform3fv(this.addr,i(e,this.size,3))}function M(t,e){t.uniform4fv(this.addr,i(e,this.size,4))}function S(t,e){t.uniformMatrix2fv(this.addr,!1,i(e,this.size,4))}function T(t,e){t.uniformMatrix3fv(this.addr,!1,i(e,this.size,9))}function A(t,e){t.uniformMatrix4fv(this.addr,!1,i(e,this.size,16))}function C(t,e,n){var r=e.length,i=o(n,r);t.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTexture2D(e[a]||Dt,i[a])}function O(t,e,n){var r=e.length,i=o(n,r);t.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTextureCube(e[a]||Bt,i[a])}function P(t){switch(t){case 5126:return x;case 35664:return w;case 35665:return E;case 35666:return M;case 35674:return S;case 35675:return T;case 35676:return A;case 35678:return C;case 35680:return O;case 5124:case 35670:return _;case 35667:case 35671:return v;case 35668:case 35672:return g;case 35669:case 35673:return y}}function L(t,e,n){this.id=t,this.addr=n,this.setValue=b(e.type)}function R(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=P(e.type)}function k(t){this.id=t,r.call(this)}function N(t,e){t.seq.push(e),t.map[e.id]=e}function I(t,e,n){var r=t.name,i=r.length;for(Vt.lastIndex=0;;){var o=Vt.exec(r),a=Vt.lastIndex,s=o[1],u="]"===o[2],c=o[3];if(u&&(s|=0),void 0===c||"["===c&&a+2===i){N(n,void 0===c?new L(s,t,e):new R(s,t,e));break}var l=n.map,h=l[s];void 0===h&&(h=new k(s),N(n,h)),n=h}}function j(t,e,n){r.call(this),this.renderer=n;for(var i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=0;o<i;++o){var a=t.getActiveUniform(e,o),s=a.name;I(a,t.getUniformLocation(e,s),this)}}function Color(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function Box2(t,e){this.min=void 0!==t?t:new Vector2(1/0,1/0),this.max=void 0!==e?e:new Vector2(-1/0,-1/0)}function D(t,e){function n(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);a=i.createBuffer(),s=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,a),i.bufferData(i.ARRAY_BUFFER,t,i.STATIC_DRAW),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,s),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e,i.STATIC_DRAW),f=i.createTexture(),d=i.createTexture(),o.bindTexture(i.TEXTURE_2D,f),i.texImage2D(i.TEXTURE_2D,0,i.RGB,16,16,0,i.RGB,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),o.bindTexture(i.TEXTURE_2D,d),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,16,16,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),u={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},c=r(u),l={vertex:i.getAttribLocation(c,"position"),uv:i.getAttribLocation(c,"uv")},h={renderType:i.getUniformLocation(c,"renderType"),map:i.getUniformLocation(c,"map"),occlusionMap:i.getUniformLocation(c,"occlusionMap"),opacity:i.getUniformLocation(c,"opacity"),color:i.getUniformLocation(c,"color"),scale:i.getUniformLocation(c,"scale"),rotation:i.getUniformLocation(c,"rotation"),screenPosition:i.getUniformLocation(c,"screenPosition")}}function r(e){var n=i.createProgram(),r=i.createShader(i.FRAGMENT_SHADER),o=i.createShader(i.VERTEX_SHADER),a="precision "+t.getPrecision()+" float;\n";return i.shaderSource(r,a+e.fragmentShader),i.shaderSource(o,a+e.vertexShader),i.compileShader(r),i.compileShader(o),i.attachShader(n,r),i.attachShader(n,o),i.linkProgram(n),n}var i=t.context,o=t.state,a,s,u,c,l,h,f,d;this.render=function(r,u,p){if(0!==e.length){var m=new Vector3,v=p.w/p.z,g=.5*p.z,y=.5*p.w,b=16/p.w,x=new Vector2(b*v,b),_=new Vector3(1,1,0),w=new Vector2(1,1),E=new Box2;E.min.set(p.x,p.y),E.max.set(p.x+(p.z-16),p.y+(p.w-16)),void 0===c&&n(),i.useProgram(c),o.initAttributes(),o.enableAttribute(l.vertex),o.enableAttribute(l.uv),o.disableUnusedAttributes(),i.uniform1i(h.occlusionMap,0),i.uniform1i(h.map,1),i.bindBuffer(i.ARRAY_BUFFER,a),i.vertexAttribPointer(l.vertex,2,i.FLOAT,!1,16,0),i.vertexAttribPointer(l.uv,2,i.FLOAT,!1,16,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,s),o.disable(i.CULL_FACE),o.buffers.depth.setMask(!1);for(var M=0,S=e.length;M<S;M++){b=16/p.w,x.set(b*v,b);var T=e[M];if(m.set(T.matrixWorld.elements[12],T.matrixWorld.elements[13],T.matrixWorld.elements[14]),m.applyMatrix4(u.matrixWorldInverse),m.applyMatrix4(u.projectionMatrix),_.copy(m),w.x=p.x+_.x*g+g-8,w.y=p.y+_.y*y+y-8,!0===E.containsPoint(w)){o.activeTexture(i.TEXTURE0),o.bindTexture(i.TEXTURE_2D,null),o.activeTexture(i.TEXTURE1),o.bindTexture(i.TEXTURE_2D,f),i.copyTexImage2D(i.TEXTURE_2D,0,i.RGB,w.x,w.y,16,16,0),i.uniform1i(h.renderType,0),i.uniform2f(h.scale,x.x,x.y),i.uniform3f(h.screenPosition,_.x,_.y,_.z),o.disable(i.BLEND),o.enable(i.DEPTH_TEST),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),o.activeTexture(i.TEXTURE0),o.bindTexture(i.TEXTURE_2D,d),i.copyTexImage2D(i.TEXTURE_2D,0,i.RGBA,w.x,w.y,16,16,0),i.uniform1i(h.renderType,1),o.disable(i.DEPTH_TEST),o.activeTexture(i.TEXTURE1),o.bindTexture(i.TEXTURE_2D,f),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),T.positionScreen.copy(_),T.customUpdateCallback?T.customUpdateCallback(T):T.updateLensFlares(),i.uniform1i(h.renderType,2),o.enable(i.BLEND);for(var A=0,C=T.lensFlares.length;A<C;A++){var O=T.lensFlares[A];O.opacity>.001&&O.scale>.001&&(_.x=O.x,_.y=O.y,_.z=O.z,b=O.size*O.scale/p.w,x.x=b*v,x.y=b,i.uniform3f(h.screenPosition,_.x,_.y,_.z),i.uniform2f(h.scale,x.x,x.y),i.uniform1f(h.rotation,O.rotation),i.uniform1f(h.opacity,O.opacity),i.uniform3f(h.color,O.color.r,O.color.g,O.color.b),o.setBlending(O.blending,O.blendEquation,O.blendSrc,O.blendDst),t.setTexture2D(O.texture,1),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0))}}}o.enable(i.CULL_FACE),o.enable(i.DEPTH_TEST),o.buffers.depth.setMask(!0),t.resetGLState()}}}function B(t,e){function n(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);s=o.createBuffer(),u=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,s),o.bufferData(o.ARRAY_BUFFER,t,o.STATIC_DRAW),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,u),o.bufferData(o.ELEMENT_ARRAY_BUFFER,e,o.STATIC_DRAW),c=r(),l={position:o.getAttribLocation(c,"position"),uv:o.getAttribLocation(c,"uv")},h={uvOffset:o.getUniformLocation(c,"uvOffset"),uvScale:o.getUniformLocation(c,"uvScale"),rotation:o.getUniformLocation(c,"rotation"),scale:o.getUniformLocation(c,"scale"),color:o.getUniformLocation(c,"color"),map:o.getUniformLocation(c,"map"),opacity:o.getUniformLocation(c,"opacity"),modelViewMatrix:o.getUniformLocation(c,"modelViewMatrix"),projectionMatrix:o.getUniformLocation(c,"projectionMatrix"),fogType:o.getUniformLocation(c,"fogType"),fogDensity:o.getUniformLocation(c,"fogDensity"),fogNear:o.getUniformLocation(c,"fogNear"),fogFar:o.getUniformLocation(c,"fogFar"),fogColor:o.getUniformLocation(c,"fogColor"),alphaTest:o.getUniformLocation(c,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var i=n.getContext("2d");i.fillStyle="white",i.fillRect(0,0,8,8),f=new Texture(n),f.needsUpdate=!0}function r(){var e=o.createProgram(),n=o.createShader(o.VERTEX_SHADER),r=o.createShader(o.FRAGMENT_SHADER);return o.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),o.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),o.compileShader(n),o.compileShader(r),o.attachShader(e,n),o.attachShader(e,r),o.linkProgram(e),e}function i(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var o=t.context,a=t.state,s,u,c,l,h,f,d=new Vector3,p=new Quaternion,m=new Vector3;this.render=function(r,v){if(0!==e.length){void 0===c&&n(),o.useProgram(c),a.initAttributes(),a.enableAttribute(l.position),a.enableAttribute(l.uv),a.disableUnusedAttributes(),a.disable(o.CULL_FACE),a.enable(o.BLEND),o.bindBuffer(o.ARRAY_BUFFER,s),o.vertexAttribPointer(l.position,2,o.FLOAT,!1,16,0),o.vertexAttribPointer(l.uv,2,o.FLOAT,!1,16,8),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,u),o.uniformMatrix4fv(h.projectionMatrix,!1,v.projectionMatrix.elements),a.activeTexture(o.TEXTURE0),o.uniform1i(h.map,0);var g=0,y=0,b=r.fog;b?(o.uniform3f(h.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(o.uniform1f(h.fogNear,b.near),o.uniform1f(h.fogFar,b.far),o.uniform1i(h.fogType,1),g=1,y=1):b.isFogExp2&&(o.uniform1f(h.fogDensity,b.density),o.uniform1i(h.fogType,2),g=2,y=2)):(o.uniform1i(h.fogType,0),g=0,y=0);for(var x=0,_=e.length;x<_;x++){var w=e[x];w.modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,w.matrixWorld),w.z=-w.modelViewMatrix.elements[14]}e.sort(i);for(var E=[],x=0,_=e.length;x<_;x++){var w=e[x],M=w.material;if(!1!==M.visible){o.uniform1f(h.alphaTest,M.alphaTest),o.uniformMatrix4fv(h.modelViewMatrix,!1,w.modelViewMatrix.elements),w.matrixWorld.decompose(d,p,m),E[0]=m.x,E[1]=m.y;var S=0;r.fog&&M.fog&&(S=y),g!==S&&(o.uniform1i(h.fogType,S),g=S),null!==M.map?(o.uniform2f(h.uvOffset,M.map.offset.x,M.map.offset.y),o.uniform2f(h.uvScale,M.map.repeat.x,M.map.repeat.y)):(o.uniform2f(h.uvOffset,0,0),o.uniform2f(h.uvScale,1,1)),o.uniform1f(h.opacity,M.opacity),o.uniform3f(h.color,M.color.r,M.color.g,M.color.b),o.uniform1f(h.rotation,M.rotation),o.uniform2fv(h.scale,E),a.setBlending(M.blending,M.blendEquation,M.blendSrc,M.blendDst),a.buffers.depth.setTest(M.depthTest),a.buffers.depth.setMask(M.depthWrite),M.map?t.setTexture2D(M.map,0):t.setTexture2D(f,0),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0)}}a.enable(o.CULL_FACE),t.resetGLState()}}}function Material(){Object.defineProperty(this,"id",{value:Yn++}),this.uuid=It.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=NormalBlending,this.side=FrontSide,this.shading=SmoothShading,this.vertexColors=NoColors,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.needsUpdate=!0}function ShaderMaterial(t){Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function MeshDepthMaterial(t){Material.call(this),this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Box3(t,e){this.min=void 0!==t?t:new Vector3(1/0,1/0,1/0),this.max=void 0!==e?e:new Vector3(-1/0,-1/0,-1/0)}function Sphere(t,e){this.center=void 0!==t?t:new Vector3,this.radius=void 0!==e?e:0}function Matrix3(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function Plane(t,e){this.normal=void 0!==t?t:new Vector3(1,0,0),this.constant=void 0!==e?e:0}function Frustum(t,e,n,r,i,o){this.planes=[void 0!==t?t:new Plane,void 0!==e?e:new Plane,void 0!==n?n:new Plane,void 0!==r?r:new Plane,void 0!==i?i:new Plane,void 0!==o?o:new Plane]}function F(t,e,n,r){function i(e,n,r,i){var o=e.geometry,a=null,s=y,u=e.customDepthMaterial;if(r&&(s=b,u=e.customDistanceMaterial),u)a=u;else{var c=!1;n.morphTargets&&(o&&o.isBufferGeometry?c=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(c=o.morphTargets&&o.morphTargets.length>0)),e.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var l=e.isSkinnedMesh&&n.skinning,h=0;c&&(h|=m),l&&(h|=v),a=s[h]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var f=a.uuid,d=n.uuid,p=x[f];void 0===p&&(p={},x[f]=p);var g=p[d];void 0===g&&(g=a.clone(),p[d]=g),a=g}a.visible=n.visible,a.wireframe=n.wireframe;var _=n.side;return R.renderSingleSided&&_==DoubleSide&&(_=FrontSide),R.renderReverseSided&&(_===FrontSide?_=BackSide:_===BackSide&&(_=FrontSide)),a.side=_,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function o(e,r,a,s){if(!1!==e.visible){if(e.layers.test(r.layers)&&(e.isMesh||e.isLine||e.isPoints)&&e.castShadow&&(!e.frustumCulled||u.intersectsObject(e))){e.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,e.matrixWorld);var c=n.update(e),l=e.material;if(Array.isArray(l))for(var h=c.groups,f=0,d=h.length;f<d;f++){var m=h[f],v=l[m.materialIndex];if(v&&v.visible){var g=i(e,v,s,p);t.renderBufferDirect(a,null,c,g,e,m)}}else if(l.visible){var g=i(e,l,s,p);t.renderBufferDirect(a,null,c,g,e,null)}}for(var y=e.children,b=0,x=y.length;b<x;b++)o(y[b],r,a,s)}}var a=t.context,s=t.state,u=new Frustum,c=new Matrix4,l=e.shadows,h=new Vector2,f=new Vector2(r.maxTextureSize,r.maxTextureSize),d=new Vector3,p=new Vector3,m=1,v=2,g=1+(m|v),y=new Array(g),b=new Array(g),x={},_=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],w=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)],E=[new Vector4,new Vector4,new Vector4,new Vector4,new Vector4,new Vector4],M=new MeshDepthMaterial;M.depthPacking=RGBADepthPacking,M.clipping=!0;for(var S=ShaderLib.distanceRGBA,T=UniformsUtils.clone(S.uniforms),A=0;A!==g;++A){var C=0!==(A&m),O=0!==(A&v),P=M.clone();P.morphTargets=C,P.skinning=O,y[A]=P;var L=new ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:T,vertexShader:S.vertexShader,fragmentShader:S.fragmentShader,morphTargets:C,skinning:O,clipping:!0});b[A]=L}var R=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,n){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==l.length){s.disable(a.BLEND),s.buffers.color.setClear(1,1,1,1),s.buffers.depth.setTest(!0),s.setScissorTest(!1);for(var r,i,m=0,v=l.length;m<v;m++){var g=l[m],y=g.shadow;if(void 0!==y){var b=y.camera,x=y.matrix;if(p.setFromMatrixPosition(g.matrixWorld),b.position.copy(p),h.copy(y.mapSize),h.min(f),g&&g.isPointLight){r=6,i=!0;var M=h.x,S=h.y;E[0].set(2*M,S,M,S),E[1].set(0,S,M,S),E[2].set(3*M,S,M,S),E[3].set(M,S,M,S),E[4].set(3*M,0,M,S),E[5].set(M,0,M,S),h.x*=4,h.y*=2,x.makeTranslation(-p.x,-p.y,-p.z)}else r=1,i=!1,d.setFromMatrixPosition(g.target.matrixWorld),b.lookAt(d),b.updateMatrixWorld(),b.matrixWorldInverse.getInverse(b.matrixWorld),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(b.projectionMatrix),x.multiply(b.matrixWorldInverse);if(null===y.map){var T={minFilter:NearestFilter,magFilter:NearestFilter,format:RGBAFormat};y.map=new WebGLRenderTarget(h.x,h.y,T),y.map.texture.name=g.name+".shadowMap",b.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(g);var A=y.map;t.setRenderTarget(A),t.clear();for(var C=0;C<r;C++){if(i){d.copy(b.position),d.add(_[C]),b.up.copy(w[C]),b.lookAt(d),b.updateMatrixWorld(),b.matrixWorldInverse.getInverse(b.matrixWorld);var O=E[C];s.viewport(O)}c.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),u.setFromMatrix(c),o(e,n,b,i)}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}var P=t.getClearColor(),L=t.getClearAlpha();t.setClearColor(P,L),R.needsUpdate=!1}}}function Ray(t,e){this.origin=void 0!==t?t:new Vector3,this.direction=void 0!==e?e:new Vector3}function Euler(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||Euler.DefaultOrder}function Layers(){this.mask=1}function Object3D(){function t(){i.setFromEuler(r,!1)}function e(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:Kn++}),this.uuid=It.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();var n=new Vector3,r=new Euler,i=new Quaternion,o=new Vector3(1,1,1);r.onChange(t),i.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function Line3(t,e){this.start=void 0!==t?t:new Vector3,this.end=void 0!==e?e:new Vector3}function Triangle(t,e,n){this.a=void 0!==t?t:new Vector3,this.b=void 0!==e?e:new Vector3,this.c=void 0!==n?n:new Vector3}function Face3(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new Vector3,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Color,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function MeshBasicMaterial(t){Material.call(this),this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function BufferAttribute(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=It.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Int8BufferAttribute(t,e){BufferAttribute.call(this,new Int8Array(t),e)}function Uint8BufferAttribute(t,e){BufferAttribute.call(this,new Uint8Array(t),e)}function Uint8ClampedBufferAttribute(t,e){BufferAttribute.call(this,new Uint8ClampedArray(t),e)}function Int16BufferAttribute(t,e){BufferAttribute.call(this,new Int16Array(t),e)}function Uint16BufferAttribute(t,e){BufferAttribute.call(this,new Uint16Array(t),e)}function Int32BufferAttribute(t,e){BufferAttribute.call(this,new Int32Array(t),e)}function Uint32BufferAttribute(t,e){BufferAttribute.call(this,new Uint32Array(t),e)}function Float32BufferAttribute(t,e){BufferAttribute.call(this,new Float32Array(t),e)}function Float64BufferAttribute(t,e){BufferAttribute.call(this,new Float64Array(t),e)}function U(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function G(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}function GeometryIdCount(){return Zn++}function Geometry(){Object.defineProperty(this,"id",{value:GeometryIdCount()}),this.uuid=It.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function BufferGeometry(){Object.defineProperty(this,"id",{value:GeometryIdCount()}),this.uuid=It.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Mesh(t,e){Object3D.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new BufferGeometry,this.material=void 0!==e?e:new MeshBasicMaterial({color:16777215*Math.random()}),this.drawMode=TrianglesDrawMode,this.updateMorphTargets()}function BoxGeometry(t,e,n,r,i,o){Geometry.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new BoxBufferGeometry(t,e,n,r,i,o)),this.mergeVertices()}function BoxBufferGeometry(t,e,n,r,i,o){function a(t,e,n,r,i,o,a,p,m,v,g){var y=o/m,b=a/v,x=o/2,_=a/2,w=p/2,E=m+1,M=v+1,S=0,T=0,A,C,O=new Vector3;for(C=0;C<M;C++){var P=C*b-_;for(A=0;A<E;A++){var L=A*y-x;O[t]=L*r,O[e]=P*i,O[n]=w,c.push(O.x,O.y,O.z),O[t]=0,O[e]=0,O[n]=p>0?1:-1,l.push(O.x,O.y,O.z),h.push(A/m),h.push(1-C/v),S+=1}}for(C=0;C<v;C++)for(A=0;A<m;A++){var R=f+A+E*C,k=f+A+E*(C+1),N=f+(A+1)+E*(C+1),I=f+(A+1)+E*C;u.push(R,k,I),u.push(k,N,I),T+=6}s.addGroup(d,T,g),d+=T,f+=S}BufferGeometry.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var s=this;r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var u=[],c=[],l=[],h=[],f=0,d=0;a("z","y","x",-1,-1,n,e,t,o,i,0),a("z","y","x",1,-1,n,e,-t,o,i,1),a("x","z","y",1,1,t,n,e,r,o,2),a("x","z","y",1,-1,t,n,-e,r,o,3),a("x","y","z",1,-1,t,e,n,r,i,4),a("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(u),this.addAttribute("position",new Float32BufferAttribute(c,3)),this.addAttribute("normal",new Float32BufferAttribute(l,3)),this.addAttribute("uv",new Float32BufferAttribute(h,2))}function PlaneGeometry(t,e,n,r){Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new PlaneBufferGeometry(t,e,n,r)),this.mergeVertices()}function PlaneBufferGeometry(t,e,n,r){BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i=t/2,o=e/2,a=Math.floor(n)||1,s=Math.floor(r)||1,u=a+1,c=s+1,l=t/a,h=e/s,f,d,p=[],m=[],v=[],g=[];for(d=0;d<c;d++){var y=d*h-o;for(f=0;f<u;f++){var b=f*l-i;m.push(b,-y,0),v.push(0,0,1),g.push(f/a),g.push(1-d/s)}}for(d=0;d<s;d++)for(f=0;f<a;f++){var x=f+u*d,_=f+u*(d+1),w=f+1+u*(d+1),E=f+1+u*d;p.push(x,_,E),p.push(_,w,E)}this.setIndex(p),this.addAttribute("position",new Float32BufferAttribute(m,3)),this.addAttribute("normal",new Float32BufferAttribute(v,3)),this.addAttribute("uv",new Float32BufferAttribute(g,2))}function Camera(){Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4}function PerspectiveCamera(t,e,n,r){Camera.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function OrthographicCamera(t,e,n,r,i,o){Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function z(t){function e(e,n){var r=e.array,i=e.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW,o=t.createBuffer();t.bindBuffer(n,o),t.bufferData(n,r,i),e.onUploadCallback();var a=t.FLOAT;return r instanceof Float32Array?a=t.FLOAT:r instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):r instanceof Uint16Array?a=t.UNSIGNED_SHORT:r instanceof Int16Array?a=t.SHORT:r instanceof Uint32Array?a=t.UNSIGNED_INT:r instanceof Int32Array?a=t.INT:r instanceof Int8Array?a=t.BYTE:r instanceof Uint8Array&&(a=t.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}function n(e,n,r){var i=n.array,o=n.updateRange;t.bindBuffer(r,e),!1===n.dynamic?t.bufferData(r,i,t.STATIC_DRAW):-1===o.count?t.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=0)}function r(t){return t.isInterleavedBufferAttribute&&(t=t.data),a[t.uuid]}function i(e){var n=a[e.uuid];n&&(t.deleteBuffer(n.buffer),delete a[e.uuid])}function o(t,r){t.isInterleavedBufferAttribute&&(t=t.data);var i=a[t.uuid];void 0===i?a[t.uuid]=e(t,r):i.version<t.version&&(n(i.buffer,t,r),i.version=t.version)}var a={};return{get:r,remove:i,update:o}}function V(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function H(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function W(){function t(){o=-1,s=-1}function e(t,e,n,r,u){var c,l;n.transparent?(c=a,l=++s):(c=i,l=++o);var h=c[l];h?(h.id=t.id,h.object=t,h.geometry=e,h.material=n,h.program=n.program,h.renderOrder=t.renderOrder,h.z=r,h.group=u):(h={id:t.id,object:t,geometry:e,material:n,program:n.program,renderOrder:t.renderOrder,z:r,group:u},c.push(h))}function n(){i.length=o+1,a.length=s+1}function r(){i.sort(V),a.sort(H)}var i=[],o=-1,a=[],s=-1;return{opaque:i,transparent:a,init:t,push:e,finish:n,sort:r}}function q(){function t(t,e){var r=t.id+","+e.id,i=n[r];return void 0===i&&(i=new W,n[r]=i),i}function e(){n={}}var n={};return{get:t,dispose:e}}function X(t,e,n){function r(t){s=t}function i(n){n.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(u=t.UNSIGNED_INT,c=4):n.array instanceof Uint16Array?(u=t.UNSIGNED_SHORT,c=2):(u=t.UNSIGNED_BYTE,c=1)}function o(e,r){t.drawElements(s,r,u,e*c),n.calls++,n.vertices+=r,s===t.TRIANGLES&&(n.faces+=r/3)}function a(r,i,o){var a=e.get("ANGLE_instanced_arrays");if(null===a)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");a.drawElementsInstancedANGLE(s,o,u,i*c,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,s===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)}var s,u,c;this.setMode=r,this.setIndex=i,this.render=o,this.renderInstances=a}function Y(t,e,n){function r(t){a=t}function i(e,r){t.drawArrays(a,e,r),n.calls++,n.vertices+=r,a===t.TRIANGLES&&(n.faces+=r/3)}function o(r,i,o){var s=e.get("ANGLE_instanced_arrays");if(null===s)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var u=r.attributes.position;u.isInterleavedBufferAttribute?(o=u.data.count,s.drawArraysInstancedANGLE(a,0,o,r.maxInstancedCount)):s.drawArraysInstancedANGLE(a,i,o,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,a===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)}var a;this.setMode=r,this.render=i,this.renderInstances=o}function K(t,e,n){function r(t){var i=t.target,o=s[i.id];null!==o.index&&e.remove(o.index);for(var a in o.attributes)e.remove(o.attributes[a]);i.removeEventListener("dispose",r),delete s[i.id];var c=u[i.id];c&&(e.remove(c),delete u[i.id]),c=u[o.id],c&&(e.remove(c),delete u[o.id]),n.geometries--}function i(t,e){var i=s[e.id];return i||(e.addEventListener("dispose",r),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new BufferGeometry).setFromObject(t)),i=e._bufferGeometry),s[e.id]=i,n.geometries++,i)}function o(n){var r=n.index,i=n.attributes;null!==r&&e.update(r,t.ELEMENT_ARRAY_BUFFER);for(var o in i)e.update(i[o],t.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],u=0,c=s.length;u<c;u++)e.update(s[u],t.ARRAY_BUFFER)}function a(n){var r=u[n.id];if(r)return r;var i=[],o=n.index,a=n.attributes;if(null!==o)for(var s=o.array,c=0,l=s.length;c<l;c+=3){var h=s[c+0],f=s[c+1],d=s[c+2];i.push(h,f,f,d,d,h)}else for(var s=a.position.array,c=0,l=s.length/3-1;c<l;c+=3){var h=c+0,f=c+1,d=c+2;i.push(h,f,f,d,d,h)}return r=new(G(i)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(i,1),e.update(r,t.ELEMENT_ARRAY_BUFFER),u[n.id]=r,r}var s={},u={};return{get:i,update:o,getWireframeAttribute:a}}function Z(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new Vector3,color:new Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":n={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":n={position:new Vector3,color:new Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"HemisphereLight":n={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":n={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3}}return t[e.id]=n,n}}}function Q(t,e,n){function r(t){var r=n.frame,i=t.geometry,a=e.get(t,i);return o[a.id]!==r&&(i.isGeometry&&a.updateFromObject(t),e.update(a),o[a.id]=r),a}function i(){o={}}var o={};return{update:r,clear:i}}function J(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function $(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),J(n)),r}function tt(t){switch(t){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];case RGBEEncoding:return["RGBE","( value )"];case RGBM7Encoding:return["RGBM","( value, 7.0 )"];case RGBM16Encoding:return["RGBM","( value, 16.0 )"];case RGBDEncoding:return["RGBD","( value, 256.0 )"];case GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function et(t,e){var n=tt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function nt(t,e){var n=tt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function rt(t,e){var n;switch(e){case LinearToneMapping:n="Linear";break;case ReinhardToneMapping:n="Reinhard";break;case Uncharted2ToneMapping:n="Uncharted2";break;case CineonToneMapping:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function it(t,e,n){return t=t||{},[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(st).join("\n")}function ot(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}function at(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o),s=a.name;r[s]=t.getAttribLocation(e,s)}return r}function st(t){return""!==t}function ut(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function ct(t){function e(t,e){var n=ShaderChunk[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return ct(n)}var n=/^[ \t]*#include +<([\w\d.]+)>/gm;return t.replace(n,e)}function lt(t){function e(t,e,n,r){for(var i="",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return t.replace(n,e)}function ht(t,e,n,r){var i=t.context,o=n.extensions,a=n.defines,s=n.__webglShader.vertexShader,u=n.__webglShader.fragmentShader,c="SHADOWMAP_TYPE_BASIC";r.shadowMapType===PCFShadowMap?c="SHADOWMAP_TYPE_PCF":r.shadowMapType===PCFSoftShadowMap&&(c="SHADOWMAP_TYPE_PCF_SOFT");var l="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(n.envMap.mapping){case CubeReflectionMapping:case CubeRefractionMapping:l="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:case CubeUVRefractionMapping:l="ENVMAP_TYPE_CUBE_UV";break;case EquirectangularReflectionMapping:case EquirectangularRefractionMapping:l="ENVMAP_TYPE_EQUIREC";break;case SphericalReflectionMapping:l="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case CubeRefractionMapping:case EquirectangularRefractionMapping:h="ENVMAP_MODE_REFRACTION"}switch(n.combine){case MultiplyOperation:f="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:f="ENVMAP_BLENDING_MIX";break;case AddOperation:f="ENVMAP_BLENDING_ADD"}}var d=t.gammaFactor>0?t.gammaFactor:1,p=it(o,r,t.extensions),m=ot(a),v=i.createProgram(),g,y;n.isRawShaderMaterial?(g=[m,"\n"].filter(st).join("\n"),y=[p,m,"\n"].filter(st).join("\n")):(g=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,m,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(st).join("\n"),y=[p,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,m,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+d,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+l:"",r.envMap?"#define "+h:"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",r.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",r.toneMapping!==NoToneMapping?rt("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?ShaderChunk.encodings_pars_fragment:"",r.mapEncoding?et("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?et("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?et("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?nt("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(st).join("\n")),s=ct(s,r),s=ut(s,r),u=ct(u,r),u=ut(u,r),n.isShaderMaterial||(s=lt(s),u=lt(u));var b=g+s,x=y+u,_=$(i,i.VERTEX_SHADER,b),w=$(i,i.FRAGMENT_SHADER,x);i.attachShader(v,_),i.attachShader(v,w),void 0!==n.index0AttributeName?i.bindAttribLocation(v,0,n.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);var E=i.getProgramInfoLog(v),M=i.getShaderInfoLog(_),S=i.getShaderInfoLog(w),T=!0,A=!0;!1===i.getProgramParameter(v,i.LINK_STATUS)?(T=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(v,i.VALIDATE_STATUS),"gl.getProgramInfoLog",E,M,S)):""!==E?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",E):""!==M&&""!==S||(A=!1),A&&(this.diagnostics={runnable:T,material:n,programLog:E,vertexShader:{log:M,prefix:g},fragmentShader:{log:S,prefix:y}}),i.deleteShader(_),i.deleteShader(w);var C;this.getUniforms=function(){return void 0===C&&(C=new j(i,v,t)),C};var O;return this.getAttributes=function(){return void 0===O&&(O=at(i,v)),O},this.destroy=function(){i.deleteProgram(v),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Qn++,this.code=e,this.usedTimes=1,this.program=v,this.vertexShader=_,this.fragmentShader=w,this}function ft(t,e){function n(t){var n=t.skeleton,r=n.bones;if(e.floatVertexTextures)return 1024;var i=e.maxVertexUniforms,o=Math.floor((i-20)/4),a=Math.min(o,r.length);return a<r.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+r.length+" bones. This GPU supports "+a+"."),0):a}function r(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=LinearEncoding,n===LinearEncoding&&e&&(n=GammaEncoding),n}var i=[],o={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(i,a,s,u,c,l){var h=o[i.type],f=l.isSkinnedMesh?n(l):0,d=t.getPrecision();null!==i.precision&&(d=e.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead.");var p=t.getRenderTarget();return{shaderID:h,precision:d,supportsVertexTextures:e.vertexTextures,outputEncoding:r(p?p.texture:null,t.gammaOutput),map:!!i.map,mapEncoding:r(i.map,t.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:r(i.envMap,t.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===CubeUVReflectionMapping||i.envMap.mapping===CubeUVRefractionMapping),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:r(i.emissiveMap,t.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!s,useFog:i.fog,fogExp:s&&s.isFogExp2,flatShading:i.shading===FlatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:i.skinning&&f>0,maxBones:f,useVertexTexture:e.floatVertexTextures,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numClippingPlanes:u,numClipIntersection:c,dithering:i.dithering,shadowMapEnabled:t.shadowMap.enabled&&l.receiveShadow&&a.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===DoubleSide,flipSided:i.side===BackSide,depthPacking:void 0!==i.depthPacking&&i.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var i=0;i<a.length;i++)n.push(e[a[i]]);return n.join()},this.acquireProgram=function(e,n,r){for(var o,a=0,s=i.length;a<s;a++){var u=i[a];if(u.code===r){o=u,++o.usedTimes;break}}return void 0===o&&(o=new ht(t,r,e,n),i.push(o)),o},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function dt(t,e,n,r,i,o,a){function s(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n);return r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height,t),r}return t}function u(t){return It.isPowerOfTwo(t.width)&&It.isPowerOfTwo(t.height)}function c(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=It.nearestPowerOfTwo(t.width),e.height=It.nearestPowerOfTwo(t.height);return e.getContext("2d").drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}function l(t){return t.wrapS!==ClampToEdgeWrapping||t.wrapT!==ClampToEdgeWrapping||t.minFilter!==NearestFilter&&t.minFilter!==LinearFilter}function h(e){return e===NearestFilter||e===NearestMipMapNearestFilter||e===NearestMipMapLinearFilter?t.NEAREST:t.LINEAR}function f(t){var e=t.target;e.removeEventListener("dispose",f),p(e),a.textures--}function d(t){var e=t.target;e.removeEventListener("dispose",d),m(e),a.textures--}function p(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.remove(e)}function m(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}function v(e,i){var o=r.get(e);if(e.version>0&&o.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==a.complete)return void x(o,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function g(e,c){var l=r.get(e);if(6===e.image.length)if(e.version>0&&l.__version!==e.version){l.__image__webglTextureCube||(e.addEventListener("dispose",f),l.__image__webglTextureCube=t.createTexture(),a.textures++),n.activeTexture(t.TEXTURE0+c),n.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var h=e&&e.isCompressedTexture,d=e.image[0]&&e.image[0].isDataTexture,p=[],m=0;m<6;m++)p[m]=h||d?d?e.image[m].image:e.image[m]:s(e.image[m],i.maxCubemapSize);var v=p[0],g=u(v),y=o(e.format),x=o(e.type);b(t.TEXTURE_CUBE_MAP,e,g);for(var m=0;m<6;m++)if(h)for(var _,w=p[m].mipmaps,E=0,M=w.length;E<M;E++)_=w[E],e.format!==RGBAFormat&&e.format!==RGBFormat?n.getCompressedTextureFormats().indexOf(y)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,E,y,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,E,y,_.width,_.height,0,y,x,_.data);else d?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,p[m].width,p[m].height,0,y,x,p[m].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,y,x,p[m]);e.generateMipmaps&&g&&t.generateMipmap(t.TEXTURE_CUBE_MAP),l.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+c),n.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)}function y(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)}function b(n,a,s){var u;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,o(a.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o(a.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o(a.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===ClampToEdgeWrapping&&a.wrapT===ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),t.texParameteri(n,t.TEXTURE_MAG_FILTER,h(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,h(a.minFilter)),a.minFilter!==NearestFilter&&a.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),u=e.get("EXT_texture_filter_anisotropic")){if(a.type===FloatType&&null===e.get("OES_texture_float_linear"))return;if(a.type===HalfFloatType&&null===e.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(t.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function x(e,r,h){void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener("dispose",f),e.__webglTexture=t.createTexture(),a.textures++),n.activeTexture(t.TEXTURE0+h),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var d=s(r.image,i.maxTextureSize);l(r)&&!1===u(d)&&(d=c(d));var p=u(d),m=o(r.format),v=o(r.type);b(t.TEXTURE_2D,r,p);var g,y=r.mipmaps;if(r.isDepthTexture){var x=t.DEPTH_COMPONENT;if(r.type===FloatType){if(!A)throw new Error("Float Depth Texture only supported in WebGL2.0");x=t.DEPTH_COMPONENT32F}else A&&(x=t.DEPTH_COMPONENT16);r.format===DepthFormat&&x===t.DEPTH_COMPONENT&&r.type!==UnsignedShortType&&r.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=UnsignedShortType,v=o(r.type)),r.format===DepthStencilFormat&&(x=t.DEPTH_STENCIL,r.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=UnsignedInt248Type,v=o(r.type))),n.texImage2D(t.TEXTURE_2D,0,x,d.width,d.height,0,m,v,null)}else if(r.isDataTexture)if(y.length>0&&p){for(var _=0,w=y.length;_<w;_++)g=y[_],n.texImage2D(t.TEXTURE_2D,_,m,g.width,g.height,0,m,v,g.data);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,m,d.width,d.height,0,m,v,d.data);else if(r.isCompressedTexture)for(var _=0,w=y.length;_<w;_++)g=y[_],r.format!==RGBAFormat&&r.format!==RGBFormat?n.getCompressedTextureFormats().indexOf(m)>-1?n.compressedTexImage2D(t.TEXTURE_2D,_,m,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,_,m,g.width,g.height,0,m,v,g.data);else if(y.length>0&&p){for(var _=0,w=y.length;_<w;_++)g=y[_],n.texImage2D(t.TEXTURE_2D,_,m,m,v,g);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,m,m,v,d);r.generateMipmaps&&p&&t.generateMipmap(t.TEXTURE_2D),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function _(e,i,a,s){var u=o(i.texture.format),c=o(i.texture.type);n.texImage2D(s,0,u,i.width,i.height,0,u,c,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function w(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function E(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===DepthFormat)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==DepthStencilFormat)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}function M(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");E(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),w(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),w(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function S(e){var i=r.get(e),o=r.get(e.texture);e.addEventListener("dispose",d),o.__webglTexture=t.createTexture(),a.textures++;var s=!0===e.isWebGLRenderTargetCube,c=u(e);if(s){i.__webglFramebuffer=[];for(var l=0;l<6;l++)i.__webglFramebuffer[l]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(s){n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),b(t.TEXTURE_CUBE_MAP,e.texture,c);for(var l=0;l<6;l++)_(i.__webglFramebuffer[l],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+l);e.texture.generateMipmaps&&c&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),b(t.TEXTURE_2D,e.texture,c),_(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&c&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&M(e)}function T(e){var i=e.texture;if(i.generateMipmaps&&u(e)&&i.minFilter!==NearestFilter&&i.minFilter!==LinearFilter){var o=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),t.generateMipmap(o),n.bindTexture(o,null)}}var A="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=v,this.setTextureCube=g,this.setTextureCubeDynamic=y,this.setupRenderTarget=S,this.updateRenderTargetMipmap=T}function pt(){function t(t){var e=t.uuid,n=r[e];return void 0===n&&(n={},r[e]=n),n}function e(t){delete r[t.uuid]}function n(){r={}}var r={};return{get:t,remove:e,clear:n}}function mt(t,e,n){function r(){var e=!1,n=new Vector4,r=null,i=new Vector4;return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,a,s){!0===s&&(e*=a,r*=a,o*=a),n.set(e,r,o,a),!1===i.equals(n)&&(t.clearColor(e,r,o,a),i.copy(n))},reset:function(){e=!1,r=null,i.set(0,0,0,1)}}}function i(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?f(t.DEPTH_TEST):d(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case NeverDepth:t.depthFunc(t.NEVER);break;case AlwaysDepth:t.depthFunc(t.ALWAYS);break;case LessDepth:t.depthFunc(t.LESS);break;case LessEqualDepth:t.depthFunc(t.LEQUAL);break;case EqualDepth:t.depthFunc(t.EQUAL);break;case GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case GreaterDepth:t.depthFunc(t.GREATER);break;case NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}}function o(){var e=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null;return{setTest:function(e){e?f(t.STENCIL_TEST):d(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&u===r||(t.stencilOp(e,n,r),a=e,s=n,u=r)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null}}}function a(e,n,r){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<r;a++)t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}function s(){P.setClear(0,0,0,1),L.setClear(1),R.setClear(0),f(t.DEPTH_TEST),L.setFunc(LessEqualDepth),g(!1),y(CullFaceBack),f(t.CULL_FACE),f(t.BLEND),m(NormalBlending)}function u(){for(var t=0,e=N.length;t<e;t++)N[t]=0}function c(n){if(N[n]=1,0===I[n]&&(t.enableVertexAttribArray(n),I[n]=1),0!==j[n]){e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),j[n]=0}}function l(n,r){if(N[n]=1,0===I[n]&&(t.enableVertexAttribArray(n),I[n]=1),j[n]!==r){e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,r),j[n]=r}}function h(){for(var e=0,n=I.length;e!==n;++e)I[e]!==N[e]&&(t.disableVertexAttribArray(e),I[e]=0)}function f(e){!0!==D[e]&&(t.enable(e),D[e]=!0)}function d(e){!1!==D[e]&&(t.disable(e),D[e]=!1)}function p(){if(null===B&&(B=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)B.push(n[r]);return B}function m(e,r,i,o,a,s,u,c){e!==NoBlending?f(t.BLEND):d(t.BLEND),e===F&&c===q||(e===AdditiveBlending?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===SubtractiveBlending?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===MultiplyBlending?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),F=e,q=c),e===CustomBlending?(a=a||r,s=s||i,u=u||o,r===U&&a===V||(t.blendEquationSeparate(n(r),n(a)),U=r,V=a),i===G&&o===z&&s===H&&u===W||(t.blendFuncSeparate(n(i),n(o),n(s),n(u)),G=i,z=o,H=s,W=u)):(U=null,G=null,z=null,V=null,H=null,W=null)}function v(e){e.side===DoubleSide?d(t.CULL_FACE):f(t.CULL_FACE),g(e.side===BackSide),!0===e.transparent?m(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):m(NoBlending),L.setFunc(e.depthFunc),L.setTest(e.depthTest),L.setMask(e.depthWrite),P.setMask(e.colorWrite),x(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function g(e){X!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),X=e)}function y(e){e!==CullFaceNone?(f(t.CULL_FACE),e!==Y&&(e===CullFaceBack?t.cullFace(t.BACK):e===CullFaceFront?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):d(t.CULL_FACE),Y=e}function b(e){e!==K&&(et&&t.lineWidth(e),K=e)}function x(e,n,r){e?(f(t.POLYGON_OFFSET_FILL),Z===n&&Q===r||(t.polygonOffset(n,r),Z=n,Q=r)):d(t.POLYGON_OFFSET_FILL)}function _(){return J}function w(e){J=e,e?f(t.SCISSOR_TEST):d(t.SCISSOR_TEST)}function E(e){void 0===e&&(e=t.TEXTURE0+$-1),nt!==e&&(t.activeTexture(e),nt=e)}function M(e,n){null===nt&&E();var r=rt[nt];void 0===r&&(r={type:void 0,texture:void 0},rt[nt]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||at[e]),r.type=e,r.texture=n)}function S(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}}function T(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}}function A(e){!1===it.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),it.copy(e))}function C(e){!1===ot.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),ot.copy(e))}function O(){for(var e=0;e<I.length;e++)1===I[e]&&(t.disableVertexAttribArray(e),I[e]=0);D={},B=null,nt=null,rt={},F=null,X=null,Y=null,P.reset(),L.reset(),R.reset()}var P=new r,L=new i,R=new o,k=t.getParameter(t.MAX_VERTEX_ATTRIBS),N=new Uint8Array(k),I=new Uint8Array(k),j=new Uint8Array(k),D={},B=null,F=null,U=null,G=null,z=null,V=null,H=null,W=null,q=!1,X=null,Y=null,K=null,Z=null,Q=null,J=null,$=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),tt=parseFloat(/^WebGL\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),et=parseFloat(tt)>=1,nt=null,rt={},it=new Vector4,ot=new Vector4,at={};return at[t.TEXTURE_2D]=a(t.TEXTURE_2D,t.TEXTURE_2D,1),at[t.TEXTURE_CUBE_MAP]=a(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:P,depth:L,stencil:R},init:s,initAttributes:u,enableAttribute:c,enableAttributeAndDivisor:l,disableUnusedAttributes:h,enable:f,disable:d,getCompressedTextureFormats:p,setBlending:m,setMaterial:v,setFlipSided:g,setCullFace:y,setLineWidth:b,setPolygonOffset:x,getScissorTest:_,setScissorTest:w,activeTexture:E,bindTexture:M,compressedTexImage2D:S,texImage2D:T,scissor:A,viewport:C,reset:O}}function vt(t,e,n){function r(){if(void 0!==o)return o;var n=e.get("EXT_texture_filter_anisotropic");return o=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=!0===n.logarithmicDepthBuffer&&!!e.get("EXT_frag_depth"),c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),f=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=l>0,y=!!e.get("OES_texture_float");return{getMaxAnisotropy:r,getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:h,maxCubemapSize:f,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y}}function gt(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=t.getExtension("WEBGL_compressed_texture_etc1");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}function yt(){function t(){c.value!==r&&(c.value=r,c.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function e(t,e,r,i){var o=null!==t?t.length:0,a=null;if(0!==o){if(a=c.value,!0!==i||null===a){var l=r+4*o,h=e.matrixWorldInverse;u.getNormalMatrix(h),(null===a||a.length<l)&&(a=new Float32Array(l));for(var f=0,d=r;f!==o;++f,d+=4)s.copy(t[f]).applyMatrix4(h,u),s.normal.toArray(a,d),a[d+3]=s.constant}c.value=a,c.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new Plane,u=new Matrix3,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var s=0!==t.length||n||0!==i||o;return o=n,r=e(t,a,0),i=t.length,s},this.beginShadows=function(){a=!0,e(null)},this.endShadows=function(){a=!1,t()},this.setState=function(n,s,u,l,h,f){if(!o||null===n||0===n.length||a&&!u)a?e(null):t();else{var d=a?0:i,p=4*d,m=h.clippingState||null;c.value=m,m=e(n,l,p,f);for(var v=0;v!==p;++v)m[v]=r[v];h.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=d}}}function WebGLRenderer(t){function e(){return null===it?Mt:1}function n(){Ht.init(),Ht.scissor(ct.copy(St).multiplyScalar(Mt)),Ht.viewport(ht.copy(At).multiplyScalar(Mt)),Ht.buffers.color.setClear(xt.r,xt.g,xt.b,_t,V)}function r(){rt=null,ut=null,st="",at=-1,Ht.reset()}function i(t){t.preventDefault(),r(),n(),Wt.clear(),Kt.clear()}function o(t){var e=t.target;e.removeEventListener("dispose",o),a(e)}function a(t){s(t),Wt.remove(t)}function s(t){var e=Wt.get(t).program;t.program=void 0,void 0!==e&&Zt.releaseProgram(e)}function u(t,e,n){t.render(function(t){nt.renderBufferImmediate(t,e,n)})}function c(t,e){return Math.abs(e[0])-Math.abs(t[0])}function l(t,e,n,r){if(n&&n.isInstancedBufferGeometry&&null===zt.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),Ht.initAttributes();var i=n.attributes,o=e.getAttributes(),a=t.defaultAttributeValues;for(var s in o){var u=o[s];if(u>=0){var c=i[s];if(void 0!==c){var l=c.normalized,h=c.itemSize,f=Xt.get(c),d=f.buffer,p=f.type,m=f.bytesPerElement;if(c.isInterleavedBufferAttribute){var v=c.data,g=v.stride,y=c.offset;v&&v.isInstancedInterleavedBuffer?(Ht.enableAttributeAndDivisor(u,v.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=v.meshPerAttribute*v.count)):Ht.enableAttribute(u),Ut.bindBuffer(Ut.ARRAY_BUFFER,d),Ut.vertexAttribPointer(u,h,p,l,g*m,(r*g+y)*m)}else c.isInstancedBufferAttribute?(Ht.enableAttributeAndDivisor(u,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):Ht.enableAttribute(u),Ut.bindBuffer(Ut.ARRAY_BUFFER,d),Ut.vertexAttribPointer(u,h,p,l,0,r*h*m)}else if(void 0!==a){var b=a[s];if(void 0!==b)switch(b.length){case 2:Ut.vertexAttrib2fv(u,b);break;case 3:Ut.vertexAttrib3fv(u,b);break;case 4:Ut.vertexAttrib4fv(u,b);break;default:Ut.vertexAttrib1fv(u,b)}}}}Ht.disableUnusedAttributes()}function h(t,e,n){if(t.visible){if(t.layers.test(e.layers))if(t.isLight)W.push(t);else if(t.isSprite)t.frustumCulled&&!Ct.intersectsSprite(t)||tt.push(t);else if(t.isLensFlare)et.push(t);else if(t.isImmediateRenderObject)n&&kt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Rt),J.push(t,null,t.material,kt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||Ct.intersectsObject(t))){n&&kt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Rt);var r=Kt.update(t),i=t.material;if(Array.isArray(i))for(var o=r.groups,a=0,s=o.length;a<s;a++){var u=o[a],c=i[u.materialIndex];c&&c.visible&&J.push(t,r,c,kt.z,u)}else i.visible&&J.push(t,r,i,kt.z,null)}for(var l=t.children,a=0,s=l.length;a<s;a++)h(l[a],e,n)}}function f(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,u=a.geometry,c=void 0===r?a.material:r,l=a.group;if(s.onBeforeRender(nt,e,n,u,c,l),n.isArrayCamera&&n.enabled)for(var h=n.cameras,f=0,p=h.length;f<p;f++){var m=h[f],v=m.bounds;nt.setViewport(v.x*wt*Mt,v.y*Et*Mt,v.z*wt*Mt,v.w*Et*Mt),nt.setScissor(v.x*wt*Mt,v.y*Et*Mt,v.z*wt*Mt,v.w*Et*Mt),nt.setScissorTest(!0),d(s,e,m,u,c,l)}else d(s,e,n,u,c,l);s.onAfterRender(nt,e,n,u,c,l)}}function d(t,e,n,r,i,o){if(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){Ht.setMaterial(i);var a=m(n,e.fog,i,t);st="",u(t,a,i)}else nt.renderBufferDirect(n,e.fog,r,i,t,o)}function p(t,e,n){var r=Wt.get(t),i=Zt.getParameters(t,Dt,e,Ot.numPlanes,Ot.numIntersection,n),a=Zt.getProgramCode(t,i),u=r.program,c=!0;if(void 0===u)t.addEventListener("dispose",o);else if(u.code!==a)s(t);else{if(void 0!==i.shaderID)return;c=!1}if(c){if(i.shaderID){var l=ShaderLib[i.shaderID];r.__webglShader={name:t.type,uniforms:UniformsUtils.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,u=Zt.acquireProgram(t,i,a),r.program=u,t.program=u}var h=u.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var f=0;f<nt.maxMorphTargets;f++)h["morphTarget"+f]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var f=0;f<nt.maxMorphNormals;f++)h["morphNormal"+f]>=0&&t.numSupportedMorphNormals++}var d=r.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=Ot.numPlanes,r.numIntersection=Ot.numIntersection,d.clippingPlanes=Ot.uniform),r.fog=e,r.lightsHash=Dt.hash,t.lights&&(d.ambientLightColor.value=Dt.ambient,d.directionalLights.value=Dt.directional,d.spotLights.value=Dt.spot,d.rectAreaLights.value=Dt.rectArea,d.pointLights.value=Dt.point,d.hemisphereLights.value=Dt.hemi,d.directionalShadowMap.value=Dt.directionalShadowMap,d.directionalShadowMatrix.value=Dt.directionalShadowMatrix,d.spotShadowMap.value=Dt.spotShadowMap,d.spotShadowMatrix.value=Dt.spotShadowMatrix,d.pointShadowMap.value=Dt.pointShadowMap,d.pointShadowMatrix.value=Dt.pointShadowMatrix);var p=r.program.getUniforms(),m=j.seqWithValue(p.seq,d);r.uniformsList=m}function m(t,e,n,r){bt=0;var i=Wt.get(n);if(Pt&&(Lt||t!==ut)){var o=t===ut&&n.id===at;Ot.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:n.lights&&i.lightsHash!==Dt.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===Ot.numPlanes&&i.numIntersection===Ot.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(p(n,e,r),n.needsUpdate=!1);var a=!1,s=!1,u=!1,c=i.program,l=c.getUniforms(),h=i.__webglShader.uniforms;if(c.id!==rt&&(Ut.useProgram(c.program),rt=c.id,a=!0,s=!0,u=!0),n.id!==at&&(at=n.id,s=!0),a||t!==ut){if(l.setValue(Ut,"projectionMatrix",t.projectionMatrix),Vt.logarithmicDepthBuffer&&l.setValue(Ut,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==ut&&(ut=t,s=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var f=l.map.cameraPosition;void 0!==f&&f.setValue(Ut,kt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&l.setValue(Ut,"viewMatrix",t.matrixWorldInverse),l.setValue(Ut,"toneMappingExposure",nt.toneMappingExposure),l.setValue(Ut,"toneMappingWhitePoint",nt.toneMappingWhitePoint)}if(n.skinning){l.setOptional(Ut,r,"bindMatrix"),l.setOptional(Ut,r,"bindMatrixInverse");var d=r.skeleton;if(d){var m=d.bones;if(Vt.floatVertexTextures){if(void 0===d.boneTexture){var C=Math.sqrt(4*m.length);C=It.nextPowerOfTwo(Math.ceil(C)),C=Math.max(C,4);var O=new Float32Array(C*C*4);O.set(d.boneMatrices);var P=new DataTexture(O,C,C,RGBAFormat,FloatType);d.boneMatrices=O,d.boneTexture=P,d.boneTextureSize=C}l.setValue(Ut,"boneTexture",d.boneTexture),l.setValue(Ut,"boneTextureSize",d.boneTextureSize)}else l.setOptional(Ut,d,"boneMatrices")}}return s&&(n.lights&&A(h,u),e&&n.fog&&x(h,e),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&v(h,n),n.isLineBasicMaterial?g(h,n):n.isLineDashedMaterial?(g(h,n),y(h,n)):n.isPointsMaterial?b(h,n):n.isMeshLambertMaterial?_(h,n):n.isMeshToonMaterial?E(h,n):n.isMeshPhongMaterial?w(h,n):n.isMeshPhysicalMaterial?S(h,n):n.isMeshStandardMaterial?M(h,n):n.isMeshDepthMaterial?n.displacementMap&&(h.displacementMap.value=n.displacementMap,h.displacementScale.value=n.displacementScale,h.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&T(h,n),void 0!==h.ltcMat&&(h.ltcMat.value=UniformsLib.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=UniformsLib.LTC_MAG_TEXTURE),j.upload(Ut,i.uniformsList,h,nt)),l.setValue(Ut,"modelViewMatrix",r.modelViewMatrix),l.setValue(Ut,"normalMatrix",r.normalMatrix),l.setValue(Ut,"modelMatrix",r.matrixWorld),c}function v(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;if(e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function g(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function y(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function b(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*Mt,t.scale.value=.5*Et,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function x(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function _(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function w(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function E(t,e){w(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function M(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function S(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,M(t,e)}function T(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function A(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function C(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(Dt.shadows[e]=i,e++)}Dt.shadows.length=e}function O(t,e){var n,r,i,o,a=0,s=0,u=0,c,l,h,f,d=e.matrixWorldInverse,p=0,m=0,v=0,g=0,y=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],c=i.color,l=i.intensity,h=i.distance,f=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)a+=c.r*l,s+=c.g*l,u+=c.b*l;else if(i.isDirectionalLight){var b=Qt.get(i);b.color.copy(i.color).multiplyScalar(i.intensity),b.direction.setFromMatrixPosition(i.matrixWorld),kt.setFromMatrixPosition(i.target.matrixWorld),b.direction.sub(kt),b.direction.transformDirection(d),b.shadow=i.castShadow,i.castShadow&&(o=i.shadow,b.shadowBias=o.bias,b.shadowRadius=o.radius,b.shadowMapSize=o.mapSize),Dt.directionalShadowMap[p]=f,Dt.directionalShadowMatrix[p]=i.shadow.matrix,Dt.directional[p]=b,p++}else if(i.isSpotLight){var b=Qt.get(i);b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),b.color.copy(c).multiplyScalar(l),b.distance=h,b.direction.setFromMatrixPosition(i.matrixWorld),kt.setFromMatrixPosition(i.target.matrixWorld),b.direction.sub(kt),b.direction.transformDirection(d),b.coneCos=Math.cos(i.angle),b.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),b.decay=0===i.distance?0:i.decay,b.shadow=i.castShadow,i.castShadow&&(o=i.shadow,b.shadowBias=o.bias,b.shadowRadius=o.radius,b.shadowMapSize=o.mapSize),Dt.spotShadowMap[v]=f,Dt.spotShadowMatrix[v]=i.shadow.matrix,Dt.spot[v]=b,v++}else if(i.isRectAreaLight){var b=Qt.get(i);b.color.copy(c).multiplyScalar(l/(i.width*i.height)),b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),jt.identity(),Nt.copy(i.matrixWorld),Nt.premultiply(d),jt.extractRotation(Nt),b.halfWidth.set(.5*i.width,0,0),b.halfHeight.set(0,.5*i.height,0),b.halfWidth.applyMatrix4(jt),b.halfHeight.applyMatrix4(jt),Dt.rectArea[g]=b,g++}else if(i.isPointLight){var b=Qt.get(i);b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),b.color.copy(i.color).multiplyScalar(i.intensity),b.distance=i.distance,b.decay=0===i.distance?0:i.decay,b.shadow=i.castShadow,i.castShadow&&(o=i.shadow,b.shadowBias=o.bias,b.shadowRadius=o.radius,b.shadowMapSize=o.mapSize),Dt.pointShadowMap[m]=f,Dt.pointShadowMatrix[m]=i.shadow.matrix,Dt.point[m]=b,m++}else if(i.isHemisphereLight){var b=Qt.get(i);b.direction.setFromMatrixPosition(i.matrixWorld),b.direction.transformDirection(d),b.direction.normalize(),b.skyColor.copy(i.color).multiplyScalar(l),b.groundColor.copy(i.groundColor).multiplyScalar(l),Dt.hemi[y]=b,y++}Dt.ambient[0]=a,Dt.ambient[1]=s,Dt.ambient[2]=u,Dt.directional.length=p,Dt.spot.length=v,Dt.rectArea.length=g,Dt.point.length=m,Dt.hemi.length=y,Dt.hash=p+","+m+","+v+","+g+","+y+","+Dt.shadows.length}function P(){var t=bt;return t>=Vt.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+Vt.maxTextures),bt+=1,t}function L(t){var e;if(t===RepeatWrapping)return Ut.REPEAT;if(t===ClampToEdgeWrapping)return Ut.CLAMP_TO_EDGE;if(t===MirroredRepeatWrapping)return Ut.MIRRORED_REPEAT;if(t===NearestFilter)return Ut.NEAREST;if(t===NearestMipMapNearestFilter)return Ut.NEAREST_MIPMAP_NEAREST;if(t===NearestMipMapLinearFilter)return Ut.NEAREST_MIPMAP_LINEAR;if(t===LinearFilter)return Ut.LINEAR;if(t===LinearMipMapNearestFilter)return Ut.LINEAR_MIPMAP_NEAREST;if(t===LinearMipMapLinearFilter)return Ut.LINEAR_MIPMAP_LINEAR;if(t===UnsignedByteType)return Ut.UNSIGNED_BYTE;if(t===UnsignedShort4444Type)return Ut.UNSIGNED_SHORT_4_4_4_4;if(t===UnsignedShort5551Type)return Ut.UNSIGNED_SHORT_5_5_5_1;if(t===UnsignedShort565Type)return Ut.UNSIGNED_SHORT_5_6_5;if(t===ByteType)return Ut.BYTE;if(t===ShortType)return Ut.SHORT;if(t===UnsignedShortType)return Ut.UNSIGNED_SHORT;if(t===IntType)return Ut.INT;if(t===UnsignedIntType)return Ut.UNSIGNED_INT;if(t===FloatType)return Ut.FLOAT;if(t===HalfFloatType&&null!==(e=zt.get("OES_texture_half_float")))return e.HALF_FLOAT_OES;if(t===AlphaFormat)return Ut.ALPHA;if(t===RGBFormat)return Ut.RGB;if(t===RGBAFormat)return Ut.RGBA;if(t===LuminanceFormat)return Ut.LUMINANCE;if(t===LuminanceAlphaFormat)return Ut.LUMINANCE_ALPHA;if(t===DepthFormat)return Ut.DEPTH_COMPONENT;if(t===DepthStencilFormat)return Ut.DEPTH_STENCIL;if(t===AddEquation)return Ut.FUNC_ADD;if(t===SubtractEquation)return Ut.FUNC_SUBTRACT;if(t===ReverseSubtractEquation)return Ut.FUNC_REVERSE_SUBTRACT;if(t===ZeroFactor)return Ut.ZERO;if(t===OneFactor)return Ut.ONE;if(t===SrcColorFactor)return Ut.SRC_COLOR;if(t===OneMinusSrcColorFactor)return Ut.ONE_MINUS_SRC_COLOR;if(t===SrcAlphaFactor)return Ut.SRC_ALPHA;if(t===OneMinusSrcAlphaFactor)return Ut.ONE_MINUS_SRC_ALPHA;if(t===DstAlphaFactor)return Ut.DST_ALPHA;if(t===OneMinusDstAlphaFactor)return Ut.ONE_MINUS_DST_ALPHA;if(t===DstColorFactor)return Ut.DST_COLOR;if(t===OneMinusDstColorFactor)return Ut.ONE_MINUS_DST_COLOR;if(t===SrcAlphaSaturateFactor)return Ut.SRC_ALPHA_SATURATE;if((t===RGB_S3TC_DXT1_Format||t===RGBA_S3TC_DXT1_Format||t===RGBA_S3TC_DXT3_Format||t===RGBA_S3TC_DXT5_Format)&&null!==(e=zt.get("WEBGL_compressed_texture_s3tc"))){if(t===RGB_S3TC_DXT1_Format)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===RGBA_S3TC_DXT1_Format)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===RGBA_S3TC_DXT3_Format)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===RGBA_S3TC_DXT5_Format)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===RGB_PVRTC_4BPPV1_Format||t===RGB_PVRTC_2BPPV1_Format||t===RGBA_PVRTC_4BPPV1_Format||t===RGBA_PVRTC_2BPPV1_Format)&&null!==(e=zt.get("WEBGL_compressed_texture_pvrtc"))){if(t===RGB_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===RGB_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===RGBA_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===RGBA_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===RGB_ETC1_Format&&null!==(e=zt.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===MinEquation||t===MaxEquation)&&null!==(e=zt.get("EXT_blend_minmax"))){if(t===MinEquation)return e.MIN_EXT;if(t===MaxEquation)return e.MAX_EXT}return t===UnsignedInt248Type&&null!==(e=zt.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer",REVISION),t=t||{};var R=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),k=void 0!==t.context?t.context:null,N=void 0!==t.alpha&&t.alpha,I=void 0===t.depth||t.depth,U=void 0===t.stencil||t.stencil,G=void 0!==t.antialias&&t.antialias,V=void 0===t.premultipliedAlpha||t.premultipliedAlpha,H=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,W=[],J=null,$=new Float32Array(8),tt=[],et=[];this.domElement=R,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=LinearToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var nt=this,rt=null,it=null,ot=null,at=-1,st="",ut=null,ct=new Vector4,lt=null,ht=new Vector4,bt=0,xt=new Color(0),_t=0,wt=R.width,Et=R.height,Mt=1,St=new Vector4(0,0,wt,Et),Tt=!1,At=new Vector4(0,0,wt,Et),Ct=new Frustum,Ot=new yt,Pt=!1,Lt=!1,Rt=new Matrix4,kt=new Vector3,Nt=new Matrix4,jt=new Matrix4,Dt={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Bt={geometries:0,textures:0},Ft={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:Ft,memory:Bt,programs:null};var Ut;try{var Gt={alpha:N,depth:I,stencil:U,antialias:G,premultipliedAlpha:V,preserveDrawingBuffer:H};if(null===(Ut=k||R.getContext("webgl",Gt)||R.getContext("experimental-webgl",Gt)))throw null!==R.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Ut.getShaderPrecisionFormat&&(Ut.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),R.addEventListener("webglcontextlost",i,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var zt=new gt(Ut);zt.get("WEBGL_depth_texture"),zt.get("OES_texture_float"),zt.get("OES_texture_float_linear"),zt.get("OES_texture_half_float"),zt.get("OES_texture_half_float_linear"),zt.get("OES_standard_derivatives"),zt.get("ANGLE_instanced_arrays"),zt.get("OES_element_index_uint")&&(BufferGeometry.MaxIndex=4294967296);var Vt=new vt(Ut,zt,t),Ht=new mt(Ut,zt,L),Wt=new pt,qt=new dt(Ut,zt,Ht,Wt,Vt,L,Bt),Xt=new z(Ut),Yt=new K(Ut,Xt,Bt),Kt=new Q(Ut,Yt,Ft),Zt=new ft(this,Vt),Qt=new Z,Jt=new q;this.info.programs=Zt.programs;var $t=new Y(Ut,zt,Ft),te=new X(Ut,zt,Ft),ee,ne,re,ie;n(),this.context=Ut,this.capabilities=Vt,this.extensions=zt,this.properties=Wt,this.state=Ht;var oe=new F(this,Dt,Kt,Vt);this.shadowMap=oe;var ae=new B(this,tt),se=new D(this,et);this.getContext=function(){return Ut},this.getContextAttributes=function(){return Ut.getContextAttributes()},this.forceContextLoss=function(){var t=zt.get("WEBGL_lose_context");t&&t.loseContext()},this.getMaxAnisotropy=function(){return Vt.getMaxAnisotropy()},this.getPrecision=function(){return Vt.precision},this.getPixelRatio=function(){return Mt},this.setPixelRatio=function(t){void 0!==t&&(Mt=t,this.setSize(At.z,At.w,!1))},this.getSize=function(){return{width:wt,height:Et}},this.setSize=function(t,e,n){wt=t,Et=e,R.width=t*Mt,R.height=e*Mt,!1!==n&&(R.style.width=t+"px",R.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,r){Ht.viewport(At.set(t,e,n,r))},this.setScissor=function(t,e,n,r){Ht.scissor(St.set(t,e,n,r))},this.setScissorTest=function(t){Ht.setScissorTest(Tt=t)},this.getClearColor=function(){return xt},this.setClearColor=function(t,e){xt.set(t),_t=void 0!==e?e:1,Ht.buffers.color.setClear(xt.r,xt.g,xt.b,_t,V)},this.getClearAlpha=function(){return _t},this.setClearAlpha=function(t){_t=t,Ht.buffers.color.setClear(xt.r,xt.g,xt.b,_t,V)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=Ut.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=Ut.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Ut.STENCIL_BUFFER_BIT),Ut.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=r,this.dispose=function(){R.removeEventListener("webglcontextlost",i,!1),Jt.dispose()},this.renderBufferImmediate=function(t,e,n){Ht.initAttributes();var r=Wt.get(t);t.hasPositions&&!r.position&&(r.position=Ut.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=Ut.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=Ut.createBuffer()),t.hasColors&&!r.color&&(r.color=Ut.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(Ut.bindBuffer(Ut.ARRAY_BUFFER,r.position),Ut.bufferData(Ut.ARRAY_BUFFER,t.positionArray,Ut.DYNAMIC_DRAW),Ht.enableAttribute(i.position),Ut.vertexAttribPointer(i.position,3,Ut.FLOAT,!1,0,0)),t.hasNormals){if(Ut.bindBuffer(Ut.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===FlatShading)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,u=(s[o+0]+s[o+3]+s[o+6])/3,c=(s[o+1]+s[o+4]+s[o+7])/3,l=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=u,s[o+1]=c,s[o+2]=l,s[o+3]=u,s[o+4]=c,s[o+5]=l,s[o+6]=u,s[o+7]=c,s[o+8]=l}Ut.bufferData(Ut.ARRAY_BUFFER,t.normalArray,Ut.DYNAMIC_DRAW),Ht.enableAttribute(i.normal),Ut.vertexAttribPointer(i.normal,3,Ut.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(Ut.bindBuffer(Ut.ARRAY_BUFFER,r.uv),Ut.bufferData(Ut.ARRAY_BUFFER,t.uvArray,Ut.DYNAMIC_DRAW),Ht.enableAttribute(i.uv),Ut.vertexAttribPointer(Xt.uv,2,Ut.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==NoColors&&(Ut.bindBuffer(Ut.ARRAY_BUFFER,r.color),Ut.bufferData(Ut.ARRAY_BUFFER,t.colorArray,Ut.DYNAMIC_DRAW),Ht.enableAttribute(i.color),Ut.vertexAttribPointer(i.color,3,Ut.FLOAT,!1,0,0)),Ht.disableUnusedAttributes(),Ut.drawArrays(Ut.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,r,i,o,a){Ht.setMaterial(i);var s=m(t,n,i,o),u=r.id+"_"+s.id+"_"+(!0===i.wireframe),h=!1;u!==st&&(st=u,h=!0);var f=o.morphTargetInfluences;if(void 0!==f){for(var d=[],p=0,v=f.length;p<v;p++){var g=f[p];d.push([g,p])}d.sort(c),d.length>8&&(d.length=8);for(var y=r.morphAttributes,p=0,v=d.length;p<v;p++){var g=d[p];if($[p]=g[0],0!==g[0]){var b=g[1];!0===i.morphTargets&&y.position&&r.addAttribute("morphTarget"+p,y.position[b]),!0===i.morphNormals&&y.normal&&r.addAttribute("morphNormal"+p,y.normal[b])}else!0===i.morphTargets&&r.removeAttribute("morphTarget"+p),!0===i.morphNormals&&r.removeAttribute("morphNormal"+p)}for(var p=d.length,x=$.length;p<x;p++)$[p]=0;s.getUniforms().setValue(Ut,"morphTargetInfluences",$),h=!0}var b=r.index,_=r.attributes.position,w=1;!0===i.wireframe&&(b=Yt.getWireframeAttribute(r),w=2);var E=$t;null!==b&&(E=te,E.setIndex(b)),h&&(l(i,s,r),null!==b&&Ut.bindBuffer(Ut.ELEMENT_ARRAY_BUFFER,Xt.get(b).buffer));var M=0;null!==b?M=b.count:void 0!==_&&(M=_.count);var S=r.drawRange.start*w,T=r.drawRange.count*w,A=null!==a?a.start*w:0,C=null!==a?a.count*w:1/0,O=Math.max(S,A),P=Math.min(M,S+T,A+C)-1,L=Math.max(0,P-O+1);if(0!==L){if(o.isMesh)if(!0===i.wireframe)Ht.setLineWidth(i.wireframeLinewidth*e()),E.setMode(Ut.LINES);else switch(o.drawMode){case TrianglesDrawMode:E.setMode(Ut.TRIANGLES);break;case TriangleStripDrawMode:E.setMode(Ut.TRIANGLE_STRIP);break;case TriangleFanDrawMode:E.setMode(Ut.TRIANGLE_FAN)}else if(o.isLine){var R=i.linewidth;void 0===R&&(R=1),Ht.setLineWidth(R*e()),o.isLineSegments?E.setMode(Ut.LINES):o.isLineLoop?E.setMode(Ut.LINE_LOOP):E.setMode(Ut.LINE_STRIP)}else o.isPoints&&E.setMode(Ut.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&E.renderInstances(r,O,L):E.render(O,L)}},this.compile=function(t,e){W=[],t.traverse(function(t){t.isLight&&W.push(t)}),O(W,e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)p(e.material[n],t.fog,e);else p(e.material,t.fog,e)})},this.render=function(t,e,n,r){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");st="",at=-1,ut=null,!0===t.autoUpdate&&t.updateMatrixWorld(),e.onBeforeRender(nt),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),Rt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Ct.setFromMatrix(Rt),W.length=0,tt.length=0,et.length=0,Lt=this.localClippingEnabled,Pt=Ot.init(this.clippingPlanes,Lt,e),J=Jt.get(t,e),J.init(),h(t,e,nt.sortObjects),J.finish(),!0===nt.sortObjects&&J.sort(),Pt&&Ot.beginShadows(),C(W),oe.render(t,e),O(W,e),Pt&&Ot.endShadows(),Ft.frame++,Ft.calls=0,Ft.vertices=0,Ft.faces=0,Ft.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var i=t.background;null===i?Ht.buffers.color.setClear(xt.r,xt.g,xt.b,_t,V):i&&i.isColor&&(Ht.buffers.color.setClear(i.r,i.g,i.b,1,V),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(void 0===re&&(re=new PerspectiveCamera,ie=new Mesh(new BoxBufferGeometry(5,5,5),new ShaderMaterial({uniforms:ShaderLib.cube.uniforms,vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1}))),re.projectionMatrix.copy(e.projectionMatrix),re.matrixWorld.extractRotation(e.matrixWorld),re.matrixWorldInverse.getInverse(re.matrixWorld),ie.material.uniforms.tCube.value=i,ie.modelViewMatrix.multiplyMatrices(re.matrixWorldInverse,ie.matrixWorld),Kt.update(ie),nt.renderBufferDirect(re,null,ie.geometry,ie.material,ie,null)):i&&i.isTexture&&(void 0===ee&&(ee=new OrthographicCamera(-1,1,1,-1,0,1),ne=new Mesh(new PlaneBufferGeometry(2,2),new MeshBasicMaterial({depthTest:!1,depthWrite:!1,fog:!1}))),ne.material.map=i,Kt.update(ne),nt.renderBufferDirect(ee,null,ne.geometry,ne.material,ne,null));var o=J.opaque,a=J.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;o.length&&f(o,t,e,s),a.length&&f(a,t,e,s)}else o.length&&f(o,t,e),a.length&&f(a,t,e);ae.render(t,e),se.render(t,e,ht),n&&qt.updateRenderTargetMipmap(n),Ht.buffers.depth.setTest(!0),Ht.buffers.depth.setMask(!0),Ht.buffers.color.setMask(!0),e.isArrayCamera&&e.enabled&&nt.setScissorTest(!1),e.onAfterRender(nt)},this.setFaceCulling=function(t,e){Ht.setCullFace(t),Ht.setFlipSided(e===FrontFaceDirectionCW)},this.allocTextureUnit=P,this.setTexture2D=function(){var t=!1;return function e(n,r){n&&n.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),n=n.texture),qt.setTexture2D(n,r)}}(),this.setTexture=function(){var t=!1;return function e(n,r){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),qt.setTexture2D(n,r)}}(),this.setTextureCube=function(){var t=!1;return function e(n,r){n&&n.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),n=n.texture),n&&n.isCubeTexture||Array.isArray(n.image)&&6===n.image.length?qt.setTextureCube(n,r):qt.setTextureCubeDynamic(n,r)}}(),this.getRenderTarget=function(){return it},this.setRenderTarget=function(t){it=t,t&&void 0===Wt.get(t).__webglFramebuffer&&qt.setupRenderTarget(t);var e=t&&t.isWebGLRenderTargetCube,n;if(t){var r=Wt.get(t);n=e?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,ct.copy(t.scissor),lt=t.scissorTest,ht.copy(t.viewport)}else n=null,ct.copy(St).multiplyScalar(Mt),lt=Tt,ht.copy(At).multiplyScalar(Mt);if(ot!==n&&(Ut.bindFramebuffer(Ut.FRAMEBUFFER,n),ot=n),Ht.scissor(ct),Ht.setScissorTest(lt),Ht.viewport(ht),e){var i=Wt.get(t.texture);Ut.framebufferTexture2D(Ut.FRAMEBUFFER,Ut.COLOR_ATTACHMENT0,Ut.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if(!1===(t&&t.isWebGLRenderTarget))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=Wt.get(t).__webglFramebuffer;if(a){var s=!1;a!==ot&&(Ut.bindFramebuffer(Ut.FRAMEBUFFER,a),s=!0);try{var u=t.texture,c=u.format,l=u.type;if(c!==RGBAFormat&&L(c)!==Ut.getParameter(Ut.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(l!==UnsignedByteType&&L(l)!==Ut.getParameter(Ut.IMPLEMENTATION_COLOR_READ_TYPE)&&(l!==FloatType||!zt.get("OES_texture_float")&&!zt.get("WEBGL_color_buffer_float"))&&(l!==HalfFloatType||!zt.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ut.checkFramebufferStatus(Ut.FRAMEBUFFER)===Ut.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&Ut.readPixels(e,n,r,i,L(c),L(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Ut.bindFramebuffer(Ut.FRAMEBUFFER,ot)}}}}function FogExp2(t,e){this.name="",this.color=new Color(t),this.density=void 0!==e?e:25e-5}function Fog(t,e,n){this.name="",this.color=new Color(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Scene(){Object3D.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function LensFlare(t,e,n,r,i){Object3D.call(this),this.lensFlares=[],this.positionScreen=new Vector3,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)}function SpriteMaterial(t){Material.call(this),this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Sprite(t){Object3D.call(this),this.type="Sprite",this.material=void 0!==t?t:new SpriteMaterial}function LOD(){Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Skeleton(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Matrix4)}}function Bone(){Object3D.call(this),this.type="Bone"}function SkinnedMesh(t,e){Mesh.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4;var n=this.initBones(),r=new Skeleton(n);this.bind(r,this.matrixWorld),this.normalizeSkinWeights()}function LineBasicMaterial(t){Material.call(this),this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Line(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new LineSegments(t,e);Object3D.call(this),this.type="Line",this.geometry=void 0!==t?t:new BufferGeometry,this.material=void 0!==e?e:new LineBasicMaterial({color:16777215*Math.random()})}function LineSegments(t,e){Line.call(this,t,e),this.type="LineSegments"}function LineLoop(t,e){Line.call(this,t,e),this.type="LineLoop"}function PointsMaterial(t){Material.call(this),this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Points(t,e){Object3D.call(this),this.type="Points",this.geometry=void 0!==t?t:new BufferGeometry,this.material=void 0!==e?e:new PointsMaterial({color:16777215*Math.random()})}function Group(){Object3D.call(this),this.type="Group"}function VideoTexture(t,e,n,r,i,o,a,s,u){function c(){requestAnimationFrame(c),t.readyState>=t.HAVE_CURRENT_DATA&&(l.needsUpdate=!0)}Texture.call(this,t,e,n,r,i,o,a,s,u),this.generateMipmaps=!1;var l=this;c()}function CompressedTexture(t,e,n,r,i,o,a,s,u,c,l,h){Texture.call(this,null,o,a,s,u,c,r,i,l,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function CanvasTexture(t,e,n,r,i,o,a,s,u){Texture.call(this,t,e,n,r,i,o,a,s,u),this.needsUpdate=!0}function DepthTexture(t,e,n,r,i,o,a,s,u,c){if((c=void 0!==c?c:DepthFormat)!==DepthFormat&&c!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===DepthFormat&&(n=UnsignedShortType),void 0===n&&c===DepthStencilFormat&&(n=UnsignedInt248Type),Texture.call(this,null,r,i,o,a,s,c,n,u),this.image={width:t,height:e},this.magFilter=void 0!==a?a:NearestFilter,this.minFilter=void 0!==s?s:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}function WireframeGeometry(t){BufferGeometry.call(this),this.type="WireframeGeometry";var e=[],n,r,i,o,a,s=[0,0],u={},c,l,h,f,d=["a","b","c"],p;if(t&&t.isGeometry){var m=t.faces;for(n=0,i=m.length;n<i;n++){var v=m[n];for(r=0;r<3;r++)l=v[d[r]],h=v[d[(r+1)%3]],s[0]=Math.min(l,h),s[1]=Math.max(l,h),f=s[0]+","+s[1],void 0===u[f]&&(u[f]={index1:s[0],index2:s[1]})}for(f in u)c=u[f],p=t.vertices[c.index1],e.push(p.x,p.y,p.z),p=t.vertices[c.index2],e.push(p.x,p.y,p.z)}else if(t&&t.isBufferGeometry){var g,y,b,x,_,w,E,M;if(p=new Vector3,null!==t.index){for(g=t.attributes.position,y=t.index,b=t.groups,0===b.length&&(b=[{start:0,count:y.count,materialIndex:0}]),o=0,a=b.length;o<a;++o)for(x=b[o],_=x.start,w=x.count,n=_,i=_+w;n<i;n+=3)for(r=0;r<3;r++)l=y.getX(n+r),h=y.getX(n+(r+1)%3),s[0]=Math.min(l,h),s[1]=Math.max(l,h),f=s[0]+","+s[1],void 0===u[f]&&(u[f]={index1:s[0],index2:s[1]});for(f in u)c=u[f],p.fromBufferAttribute(g,c.index1),e.push(p.x,p.y,p.z),p.fromBufferAttribute(g,c.index2),e.push(p.x,p.y,p.z)}else for(g=t.attributes.position,n=0,i=g.count/3;n<i;n++)for(r=0;r<3;r++)E=3*n+r,p.fromBufferAttribute(g,E),e.push(p.x,p.y,p.z),M=3*n+(r+1)%3,p.fromBufferAttribute(g,M),e.push(p.x,p.y,p.z)}this.addAttribute("position",new Float32BufferAttribute(e,3))}function ParametricGeometry(t,e,n){Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new ParametricBufferGeometry(t,e,n)),this.mergeVertices()}function ParametricBufferGeometry(t,e,n){BufferGeometry.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r=[],i=[],o=[],a=[],s=1e-5,u=new Vector3,c=new Vector3,l=new Vector3,h=new Vector3,f=new Vector3,d,p,m=e+1;for(d=0;d<=n;d++){var v=d/n;for(p=0;p<=e;p++){var g=p/e;c=t(g,v,c),i.push(c.x,c.y,c.z),g-s>=0?(l=t(g-s,v,l),h.subVectors(c,l)):(l=t(g+s,v,l),h.subVectors(l,c)),v-s>=0?(l=t(g,v-s,l),f.subVectors(c,l)):(l=t(g,v+s,l),f.subVectors(l,c)),u.crossVectors(h,f).normalize(),o.push(u.x,u.y,u.z),a.push(g,v)}}for(d=0;d<n;d++)for(p=0;p<e;p++){var y=d*m+p,b=d*m+p+1,x=(d+1)*m+p+1,_=(d+1)*m+p;r.push(y,b,_),r.push(b,x,_)}this.setIndex(r),this.addAttribute("position",new Float32BufferAttribute(i,3)),this.addAttribute("normal",new Float32BufferAttribute(o,3)),this.addAttribute("uv",new Float32BufferAttribute(a,2))}function PolyhedronGeometry(t,e,n,r){Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new PolyhedronBufferGeometry(t,e,n,r)),this.mergeVertices()}function PolyhedronBufferGeometry(t,e,n,r){function i(t){for(var n=new Vector3,r=new Vector3,i=new Vector3,a=0;a<e.length;a+=3)l(e[a+0],n),l(e[a+1],r),l(e[a+2],i),o(n,r,i,t)}function o(t,e,n,r){var i=Math.pow(2,r),o=[],a,s;for(a=0;a<=i;a++){o[a]=[];var u=t.clone().lerp(n,a/i),l=e.clone().lerp(n,a/i),h=i-a;for(s=0;s<=h;s++)o[a][s]=0===s&&a===i?u:u.clone().lerp(l,s/h)}for(a=0;a<i;a++)for(s=0;s<2*(i-a)-1;s++){var f=Math.floor(s/2);s%2===0?(c(o[a][f+1]),c(o[a+1][f]),c(o[a][f])):(c(o[a][f+1]),c(o[a+1][f+1]),c(o[a+1][f]))}}function a(t){for(var e=new Vector3,n=0;n<m.length;n+=3)e.x=m[n+0],e.y=m[n+1],e.z=m[n+2],e.normalize().multiplyScalar(t),m[n+0]=e.x,m[n+1]=e.y,m[n+2]=e.z}function s(){for(var t=new Vector3,e=0;e<m.length;e+=3){t.x=m[e+0],t.y=m[e+1],t.z=m[e+2];var n=d(t)/2/Math.PI+.5,r=p(t)/Math.PI+.5;v.push(n,1-r)}h(),u()}function u(){for(var t=0;t<v.length;t+=6){var e=v[t+0],n=v[t+2],r=v[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);i>.9&&o<.1&&(e<.2&&(v[t+0]+=1),n<.2&&(v[t+2]+=1),r<.2&&(v[t+4]+=1))}}function c(t){m.push(t.x,t.y,t.z)}function l(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function h(){for(var t=new Vector3,e=new Vector3,n=new Vector3,r=new Vector3,i=new Vector2,o=new Vector2,a=new Vector2,s=0,u=0;s<m.length;s+=9,u+=6){t.set(m[s+0],m[s+1],m[s+2]),e.set(m[s+3],m[s+4],m[s+5]),n.set(m[s+6],m[s+7],m[s+8]),i.set(v[u+0],v[u+1]),o.set(v[u+2],v[u+3]),a.set(v[u+4],v[u+5]),r.copy(t).add(e).add(n).divideScalar(3);var c=d(r);f(i,u+0,t,c),f(o,u+2,e,c),f(a,u+4,n,c)}}function f(t,e,n,r){r<0&&1===t.x&&(v[e]=t.x-1),0===n.x&&0===n.z&&(v[e]=r/2/Math.PI+.5)}function d(t){return Math.atan2(t.z,-t.x)}function p(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}BufferGeometry.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1,r=r||0;var m=[],v=[];i(r),a(n),s(),this.addAttribute("position",new Float32BufferAttribute(m,3)),this.addAttribute("normal",new Float32BufferAttribute(m.slice(),3)),this.addAttribute("uv",new Float32BufferAttribute(v,2)),this.normalizeNormals()}function TetrahedronGeometry(t,e){Geometry.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new TetrahedronBufferGeometry(t,e)),this.mergeVertices()}function TetrahedronBufferGeometry(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];PolyhedronBufferGeometry.call(this,n,r,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function OctahedronGeometry(t,e){Geometry.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new OctahedronBufferGeometry(t,e)),this.mergeVertices()}function OctahedronBufferGeometry(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];PolyhedronBufferGeometry.call(this,n,r,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function IcosahedronGeometry(t,e){Geometry.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new IcosahedronBufferGeometry(t,e)),this.mergeVertices()}function IcosahedronBufferGeometry(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];PolyhedronBufferGeometry.call(this,r,i,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function DodecahedronGeometry(t,e){Geometry.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new DodecahedronBufferGeometry(t,e)),this.mergeVertices()}function DodecahedronBufferGeometry(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];PolyhedronBufferGeometry.call(this,i,o,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function TubeGeometry(t,e,n,r,i,o){Geometry.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new TubeBufferGeometry(t,e,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function TubeBufferGeometry(t,e,n,r,i){function o(){for(d=0;d<e;d++)a(d);a(!1===i?e:0),u(),s()}function a(i){var o=t.getPointAt(i/e),a=c.normals[i],s=c.binormals[i];for(p=0;p<=r;p++){var u=p/r*Math.PI*2,f=Math.sin(u),d=-Math.cos(u);h.x=d*a.x+f*s.x,h.y=d*a.y+f*s.y,h.z=d*a.z+f*s.z,h.normalize(),v.push(h.x,h.y,h.z),l.x=o.x+n*h.x,l.y=o.y+n*h.y,l.z=o.z+n*h.z,m.push(l.x,l.y,l.z)}}function s(){for(p=1;p<=e;p++)for(d=1;d<=r;d++){var t=(r+1)*(p-1)+(d-1),n=(r+1)*p+(d-1),i=(r+1)*p+d,o=(r+1)*(p-1)+d;y.push(t,n,o),y.push(n,i,o)}}function u(){for(d=0;d<=e;d++)for(p=0;p<=r;p++)f.x=d/e,f.y=p/r,g.push(f.x,f.y)}BufferGeometry.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},e=e||64,n=n||1,r=r||8,i=i||!1;var c=t.computeFrenetFrames(e,i);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;var l=new Vector3,h=new Vector3,f=new Vector2,d,p,m=[],v=[],g=[],y=[];o(),this.setIndex(y),this.addAttribute("position",new Float32BufferAttribute(m,3)),this.addAttribute("normal",new Float32BufferAttribute(v,3)),this.addAttribute("uv",new Float32BufferAttribute(g,2))}function TorusKnotGeometry(t,e,n,r,i,o,a){Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new TorusKnotBufferGeometry(t,e,n,r,i,o)),this.mergeVertices()}function TorusKnotBufferGeometry(t,e,n,r,i,o){function a(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},t=t||100,e=e||40,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var s=[],u=[],c=[],l=[],h,f,d=new Vector3,p=new Vector3,m=new Vector3,v=new Vector3,g=new Vector3,y=new Vector3,b=new Vector3;for(h=0;h<=n;++h){var x=h/n*i*Math.PI*2;for(a(x,i,o,t,m),a(x+.01,i,o,t,v),y.subVectors(v,m),b.addVectors(v,m),g.crossVectors(y,b),b.crossVectors(g,y),g.normalize(),b.normalize(),f=0;f<=r;++f){var _=f/r*Math.PI*2,w=-e*Math.cos(_),E=e*Math.sin(_);d.x=m.x+(w*b.x+E*g.x),d.y=m.y+(w*b.y+E*g.y),d.z=m.z+(w*b.z+E*g.z),u.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),l.push(h/n),l.push(f/r)}}for(f=1;f<=n;f++)for(h=1;h<=r;h++){var M=(r+1)*(f-1)+(h-1),S=(r+1)*f+(h-1),T=(r+1)*f+h,A=(r+1)*(f-1)+h;s.push(M,S,A),s.push(S,T,A)}this.setIndex(s),this.addAttribute("position",new Float32BufferAttribute(u,3)),this.addAttribute("normal",new Float32BufferAttribute(c,3)),this.addAttribute("uv",new Float32BufferAttribute(l,2))}function TorusGeometry(t,e,n,r,i){Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new TorusBufferGeometry(t,e,n,r,i)),this.mergeVertices()}function TorusBufferGeometry(t,e,n,r,i){BufferGeometry.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o=[],a=[],s=[],u=[],c=new Vector3,l=new Vector3,h=new Vector3,f,d;for(f=0;f<=n;f++)for(d=0;d<=r;d++){var p=d/r*i,m=f/n*Math.PI*2;l.x=(t+e*Math.cos(m))*Math.cos(p),l.y=(t+e*Math.cos(m))*Math.sin(p),l.z=e*Math.sin(m),a.push(l.x,l.y,l.z),c.x=t*Math.cos(p),c.y=t*Math.sin(p),h.subVectors(l,c).normalize(),s.push(h.x,h.y,h.z),u.push(d/r),u.push(f/n)}for(f=1;f<=n;f++)for(d=1;d<=r;d++){var v=(r+1)*f+d-1,g=(r+1)*(f-1)+d-1,y=(r+1)*(f-1)+d,b=(r+1)*f+d;o.push(v,g,b),o.push(g,y,b)}this.setIndex(o),this.addAttribute("position",new Float32BufferAttribute(a,3)),this.addAttribute("normal",new Float32BufferAttribute(s,3)),this.addAttribute("uv",new Float32BufferAttribute(u,2))}function ExtrudeGeometry(t,e){Geometry.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new ExtrudeBufferGeometry(t,e)),this.mergeVertices()}function ExtrudeBufferGeometry(t,e){if("undefined"===typeof t)return void(t=[]);BufferGeometry.call(this),this.type="ExtrudeBufferGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeVertexNormals()}function TextGeometry(t,e){Geometry.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new TextBufferGeometry(t,e)),this.mergeVertices()}function TextBufferGeometry(t,e){e=e||{};var n=e.font;if(!1===(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Geometry;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),ExtrudeBufferGeometry.call(this,r,e),this.type="TextBufferGeometry"}function SphereGeometry(t,e,n,r,i,o,a){Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new SphereBufferGeometry(t,e,n,r,i,o,a)),this.mergeVertices()}function SphereBufferGeometry(t,e,n,r,i,o,a){BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s=o+a,u,c,l=0,h=[],f=new Vector3,d=new Vector3,p=[],m=[],v=[],g=[];for(c=0;c<=n;c++){var y=[],b=c/n;for(u=0;u<=e;u++){var x=u/e;f.x=-t*Math.cos(r+x*i)*Math.sin(o+b*a),f.y=t*Math.cos(o+b*a),f.z=t*Math.sin(r+x*i)*Math.sin(o+b*a),m.push(f.x,f.y,f.z),d.set(f.x,f.y,f.z).normalize(),v.push(d.x,d.y,d.z),g.push(x,1-b),y.push(l++)}h.push(y)}for(c=0;c<n;c++)for(u=0;u<e;u++){var _=h[c][u+1],w=h[c][u],E=h[c+1][u],M=h[c+1][u+1];(0!==c||o>0)&&p.push(_,w,M),(c!==n-1||s<Math.PI)&&p.push(w,E,M)}this.setIndex(p),this.addAttribute("position",new Float32BufferAttribute(m,3)),this.addAttribute("normal",new Float32BufferAttribute(v,3)),this.addAttribute("uv",new Float32BufferAttribute(g,2))}function RingGeometry(t,e,n,r,i,o){Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new RingBufferGeometry(t,e,n,r,i,o)),this.mergeVertices()}function RingBufferGeometry(t,e,n,r,i,o){BufferGeometry.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},t=t||20,e=e||50,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var a=[],s=[],u=[],c=[],l,h=t,f=(e-t)/r,d=new Vector3,p=new Vector2,m,v;for(m=0;m<=r;m++){for(v=0;v<=n;v++)l=i+v/n*o,d.x=h*Math.cos(l),d.y=h*Math.sin(l),s.push(d.x,d.y,d.z),u.push(0,0,1),p.x=(d.x/e+1)/2,p.y=(d.y/e+1)/2,c.push(p.x,p.y);h+=f}for(m=0;m<r;m++){var g=m*(n+1);for(v=0;v<n;v++){l=v+g;var y=l,b=l+n+1,x=l+n+2,_=l+1;a.push(y,b,_),a.push(b,x,_)}}this.setIndex(a),this.addAttribute("position",new Float32BufferAttribute(s,3)),this.addAttribute("normal",new Float32BufferAttribute(u,3)),this.addAttribute("uv",new Float32BufferAttribute(c,2))}function LatheGeometry(t,e,n,r){Geometry.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new LatheBufferGeometry(t,e,n,r)),this.mergeVertices()}function LatheBufferGeometry(t,e,n,r){BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=It.clamp(r,0,2*Math.PI);var i=[],o=[],a=[],s,u=1/e,c=new Vector3,l=new Vector2,h,f;for(h=0;h<=e;h++){var d=n+h*u*r,p=Math.sin(d),m=Math.cos(d);for(f=0;f<=t.length-1;f++)c.x=t[f].x*p,c.y=t[f].y,c.z=t[f].x*m,o.push(c.x,c.y,c.z),l.x=h/e,l.y=f/(t.length-1),a.push(l.x,l.y)}for(h=0;h<e;h++)for(f=0;f<t.length-1;f++){s=f+h*t.length;var v=s,g=s+t.length,y=s+t.length+1,b=s+1;i.push(v,g,b),i.push(g,y,b)}if(this.setIndex(i),this.addAttribute("position",new Float32BufferAttribute(o,3)),this.addAttribute("uv",new Float32BufferAttribute(a,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,_=new Vector3,w=new Vector3,E=new Vector3;for(s=e*t.length*3,h=0,f=0;h<t.length;h++,f+=3)_.x=x[f+0],_.y=x[f+1],_.z=x[f+2],w.x=x[s+f+0],w.y=x[s+f+1],w.z=x[s+f+2],E.addVectors(_,w).normalize(),x[f+0]=x[s+f+0]=E.x,x[f+1]=x[s+f+1]=E.y,x[f+2]=x[s+f+2]=E.z}}function ShapeGeometry(t,e){Geometry.call(this),this.type="ShapeGeometry","object"===typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new ShapeBufferGeometry(t,e)),this.mergeVertices()}function ShapeBufferGeometry(t,e){function n(t){var n,s,c,l=i.length/3,h=t.extractPoints(e),f=h.shape,d=h.holes;if(!1===ShapeUtils.isClockWise(f))for(f=f.reverse(),n=0,s=d.length;n<s;n++)c=d[n],!0===ShapeUtils.isClockWise(c)&&(d[n]=c.reverse());var p=ShapeUtils.triangulateShape(f,d);for(n=0,s=d.length;n<s;n++)c=d[n],f=f.concat(c);for(n=0,s=f.length;n<s;n++){var m=f[n];i.push(m.x,m.y,0),o.push(0,0,1),a.push(m.x,m.y)}for(n=0,s=p.length;n<s;n++){var v=p[n],g=v[0]+l,y=v[1]+l,b=v[2]+l;r.push(g,y,b),u+=3}}BufferGeometry.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],i=[],o=[],a=[],s=0,u=0;if(!1===Array.isArray(t))n(t);else for(var c=0;c<t.length;c++)n(t[c]),this.addGroup(s,u,c),s+=u,u=0;this.setIndex(r),this.addAttribute("position",new Float32BufferAttribute(i,3)),this.addAttribute("normal",new Float32BufferAttribute(o,3)),this.addAttribute("uv",new Float32BufferAttribute(a,2))}function EdgesGeometry(t,e){BufferGeometry.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n=[],r=Math.cos(It.DEG2RAD*e),i=[0,0],o={},a,s,u,c=["a","b","c"],l;t.isBufferGeometry?(l=new Geometry,l.fromBufferGeometry(t)):l=t.clone(),l.mergeVertices(),l.computeFaceNormals();for(var h=l.vertices,f=l.faces,d=0,p=f.length;d<p;d++)for(var m=f[d],v=0;v<3;v++)a=m[c[v]],s=m[c[(v+1)%3]],i[0]=Math.min(a,s),i[1]=Math.max(a,s),u=i[0]+","+i[1],void 0===o[u]?o[u]={index1:i[0],index2:i[1],face1:d,face2:void 0}:o[u].face2=d;for(u in o){var g=o[u];if(void 0===g.face2||f[g.face1].normal.dot(f[g.face2].normal)<=r){var y=h[g.index1];n.push(y.x,y.y,y.z),y=h[g.index2],n.push(y.x,y.y,y.z)}}this.addAttribute("position",new Float32BufferAttribute(n,3))}function CylinderGeometry(t,e,n,r,i,o,a,s){Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new CylinderBufferGeometry(t,e,n,r,i,o,a,s)),this.mergeVertices()}function CylinderBufferGeometry(t,e,n,r,i,o,a,s){function u(){var o,u,c=new Vector3,b=new Vector3,x=0,_=(e-t)/n;for(u=0;u<=i;u++){var w=[],E=u/i,M=E*(e-t)+t;for(o=0;o<=r;o++){var S=o/r,T=S*s+a,A=Math.sin(T),C=Math.cos(T);b.x=M*A,b.y=-E*n+g,b.z=M*C,f.push(b.x,b.y,b.z),c.set(A,_,C).normalize(),d.push(c.x,c.y,c.z),p.push(S,1-E),w.push(m++)}v.push(w)}for(o=0;o<r;o++)for(u=0;u<i;u++){var O=v[u][o],P=v[u+1][o],L=v[u+1][o+1],R=v[u][o+1];h.push(O,P,R),h.push(P,L,R),x+=6}l.addGroup(y,x,0),y+=x}function c(n){var i,o,u,c=new Vector2,v=new Vector3,b=0,x=!0===n?t:e,_=!0===n?1:-1;for(o=m,i=1;i<=r;i++)f.push(0,g*_,0),d.push(0,_,0),p.push(.5,.5),m++;for(u=m,i=0;i<=r;i++){var w=i/r,E=w*s+a,M=Math.cos(E),S=Math.sin(E);v.x=x*S,v.y=g*_,v.z=x*M,f.push(v.x,v.y,v.z),d.push(0,_,0),c.x=.5*M+.5,c.y=.5*S*_+.5,p.push(c.x,c.y),m++}for(i=0;i<r;i++){var T=o+i,A=u+i;!0===n?h.push(A,A+1,T):h.push(A+1,A,T),b+=3}l.addGroup(y,b,!0===n?1:2),y+=b}BufferGeometry.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var l=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var h=[],f=[],d=[],p=[],m=0,v=[],g=n/2,y=0;u(),!1===o&&(t>0&&c(!0),e>0&&c(!1)),this.setIndex(h),this.addAttribute("position",new Float32BufferAttribute(f,3)),this.addAttribute("normal",new Float32BufferAttribute(d,3)),this.addAttribute("uv",new Float32BufferAttribute(p,2))}function ConeGeometry(t,e,n,r,i,o,a){CylinderGeometry.call(this,0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function ConeBufferGeometry(t,e,n,r,i,o,a){CylinderBufferGeometry.call(this,0,t,e,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function CircleGeometry(t,e,n,r){Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new CircleBufferGeometry(t,e,n,r)),this.mergeVertices()}function CircleBufferGeometry(t,e,n,r){BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i=[],o=[],a=[],s=[],u,c,l=new Vector3,h=new Vector2;for(o.push(0,0,0),a.push(0,0,1),s.push(.5,.5),c=0,u=3;c<=e;c++,u+=3){var f=n+c/e*r;l.x=t*Math.cos(f),l.y=t*Math.sin(f),o.push(l.x,l.y,l.z),a.push(0,0,1),h.x=(o[u]/t+1)/2,h.y=(o[u+1]/t+1)/2,s.push(h.x,h.y)}for(u=1;u<=e;u++)i.push(u,u+1,0);this.setIndex(i),this.addAttribute("position",new Float32BufferAttribute(o,3)),this.addAttribute("normal",new Float32BufferAttribute(a,3)),this.addAttribute("uv",new Float32BufferAttribute(s,2))}function ShadowMaterial(t){ShaderMaterial.call(this,{uniforms:UniformsUtils.merge([UniformsLib.lights,{opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}}),this.setValues(t)}function RawShaderMaterial(t){ShaderMaterial.call(this,t),this.type="RawShaderMaterial"}function MeshStandardMaterial(t){Material.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function MeshPhysicalMaterial(t){MeshStandardMaterial.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function MeshPhongMaterial(t){Material.call(this),this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function MeshToonMaterial(t){MeshPhongMaterial.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function MeshNormalMaterial(t){Material.call(this,t),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function MeshLambertMaterial(t){Material.call(this),this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function LineDashedMaterial(t){Material.call(this),this.type="LineDashedMaterial",this.color=new Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function LoadingManager(t,e,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}}function FileLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function CompressedTextureLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager,this._parser=null}function DataTextureLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager,this._parser=null}function ImageLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function CubeTextureLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function TextureLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function Light(t,e){Object3D.call(this),this.type="Light",this.color=new Color(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function HemisphereLight(t,e,n){Light.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color(e)}function LightShadow(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new Vector2(512,512),this.map=null,this.matrix=new Matrix4}function SpotLightShadow(){LightShadow.call(this,new PerspectiveCamera(50,1,.5,500))}function SpotLight(t,e,n,r,i,o){Light.call(this,t,e),this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new SpotLightShadow}function PointLight(t,e,n,r){Light.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new LightShadow(new PerspectiveCamera(90,1,.5,500))}function DirectionalLightShadow(){LightShadow.call(this,new OrthographicCamera(-5,5,5,-5,.5,500))}function DirectionalLight(t,e){Light.call(this,t,e),this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}function AmbientLight(t,e){Light.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function RectAreaLight(t,e,n,r){Light.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Interpolant(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function CubicInterpolant(t,e,n,r){Interpolant.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function LinearInterpolant(t,e,n,r){Interpolant.call(this,t,e,n,r)}function DiscreteInterpolant(t,e,n,r){Interpolant.call(this,t,e,n,r)}function bt(t,e,n,r){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=AnimationUtils.convertArray(e,this.TimeBufferType),this.values=AnimationUtils.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function VectorKeyframeTrack(t,e,n,r){bt.call(this,t,e,n,r)}function QuaternionLinearInterpolant(t,e,n,r){Interpolant.call(this,t,e,n,r)}function QuaternionKeyframeTrack(t,e,n,r){bt.call(this,t,e,n,r)}function NumberKeyframeTrack(t,e,n,r){bt.call(this,t,e,n,r)}function StringKeyframeTrack(t,e,n,r){bt.call(this,t,e,n,r)}function BooleanKeyframeTrack(t,e,n){bt.call(this,t,e,n)}function ColorKeyframeTrack(t,e,n,r){bt.call(this,t,e,n,r)}function KeyframeTrack(t,e,n,r){bt.apply(this,arguments)}function AnimationClip(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=It.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function MaterialLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager,this.textures={}}function BufferGeometryLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function Loader(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function JSONLoader(t){"boolean"===typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:DefaultLoadingManager,this.withCredentials=!1}function ObjectLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager,this.texturePath=""}function xt(t,e,n,r,i){var o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function _t(t,e){var n=1-t;return n*n*e}function wt(t,e){return 2*(1-t)*t*e}function Et(t,e){return t*t*e}function Mt(t,e,n,r){return _t(t,e)+wt(t,n)+Et(t,r)}function St(t,e){var n=1-t;return n*n*n*e}function Tt(t,e){var n=1-t;return 3*n*n*t*e}function At(t,e){return 3*(1-t)*t*t*e}function Ct(t,e){return t*t*t*e}function Ot(t,e,n,r,i){return St(t,e)+Tt(t,n)+At(t,r)+Ct(t,i)}function Curve(){this.arcLengthDivisions=200}function LineCurve(t,e){Curve.call(this),this.v1=t,this.v2=e}function CurvePath(){Curve.call(this),this.curves=[],this.autoClose=!1}function EllipseCurve(t,e,n,r,i,o,a,s){Curve.call(this),this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function SplineCurve(t){Curve.call(this),this.points=void 0===t?[]:t}function CubicBezierCurve(t,e,n,r){Curve.call(this),this.v0=t,this.v1=e,this.v2=n,this.v3=r}function QuadraticBezierCurve(t,e,n){Curve.call(this),this.v0=t,this.v1=e,this.v2=n}function Path(t){CurvePath.call(this),this.currentPoint=new Vector2,t&&this.fromPoints(t)}function Shape(){Path.apply(this,arguments),this.holes=[]}function ShapePath(){this.subPaths=[],this.currentPath=null}function Font(t){this.data=t}function FontLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function AudioLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function StereoCamera(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function CubeCamera(t,e,n){Object3D.call(this),this.type="CubeCamera";var r=90,i=1,o=new PerspectiveCamera(90,1,t,e);o.up.set(0,-1,0),o.lookAt(new Vector3(1,0,0)),this.add(o);var a=new PerspectiveCamera(90,1,t,e);a.up.set(0,-1,0),a.lookAt(new Vector3(-1,0,0)),this.add(a);var s=new PerspectiveCamera(90,1,t,e);s.up.set(0,0,1),s.lookAt(new Vector3(0,1,0)),this.add(s);var u=new PerspectiveCamera(90,1,t,e);u.up.set(0,0,-1),u.lookAt(new Vector3(0,-1,0)),this.add(u);var c=new PerspectiveCamera(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new Vector3(0,0,1)),this.add(c);var l=new PerspectiveCamera(90,1,t,e);l.up.set(0,-1,0),l.lookAt(new Vector3(0,0,-1)),this.add(l);var h={format:RGBFormat,magFilter:LinearFilter,minFilter:LinearFilter};this.renderTarget=new WebGLRenderTargetCube(n,n,h),this.renderTarget.texture.name="CubeCamera",this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,o,n),n.activeCubeFace=1,t.render(e,a,n),n.activeCubeFace=2,t.render(e,s,n),n.activeCubeFace=3,t.render(e,u,n),n.activeCubeFace=4,t.render(e,c,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,t.render(e,l,n),t.setRenderTarget(null)}}function ArrayCamera(t){PerspectiveCamera.call(this),this.enabled=!1,this.cameras=t||[]}function AudioListener(){Object3D.call(this),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Audio(t){Object3D.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function PositionalAudio(t){Audio.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function AudioAnalyser(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function PropertyMixer(t,e,n){this.binding=t,this.valueSize=n;var r=Float64Array,i;switch(e){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Pt(t,e,n){var r=n||PropertyBinding.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function PropertyBinding(t,e,n){this.path=e,this.parsedPath=n||PropertyBinding.parseTrackName(e),this.node=PropertyBinding.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function AnimationObjectGroup(t){this.uuid=It.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Lt(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),a={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding},s=0;s!==i;++s){var u=r[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function AnimationMixer(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Uniform(t){"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function InstancedBufferGeometry(){BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function InterleavedBufferAttribute(t,e,n,r){this.uuid=It.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function InterleavedBuffer(t,e){this.uuid=It.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function InstancedInterleavedBuffer(t,e,n){InterleavedBuffer.call(this,t,e),this.meshPerAttribute=n||1}function InstancedBufferAttribute(t,e,n){BufferAttribute.call(this,t,e),this.meshPerAttribute=n||1}function Raycaster(t,e,n,r){this.ray=new Ray(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Rt(t,e){return t.distance-e.distance}function kt(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,o=0,a=i.length;o<a;o++)kt(i[o],e,n,!0)}function Clock(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Spherical(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function Cylindrical(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function MorphBlendMesh(t,e){Mesh.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r="__default",i=0,o=n-1,a=n/1;this.createAnimation(r,0,o,a),this.setAnimationWeight(r,1)}function ImmediateRenderObject(t){Object3D.call(this),this.material=t,this.render=function(t){}}function VertexNormalsHelper(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new BufferGeometry,c=new Float32BufferAttribute(2*a*3,3);u.addAttribute("position",c),LineSegments.call(this,u,new LineBasicMaterial({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function SpotLightHelper(t){Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new BufferGeometry,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1,o=32;r<o;r++,i++){var a=r/o*Math.PI*2,s=i/o*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}e.addAttribute("position",new Float32BufferAttribute(n,3));var u=new LineBasicMaterial({fog:!1});this.cone=new LineSegments(e,u),this.add(this.cone),this.update()}function SkeletonHelper(t){this.bones=this.getBoneList(t);for(var e=new BufferGeometry,n=[],r=[],i=new Color(0,0,1),o=new Color(0,1,0),a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(o.r,o.g,o.b))}e.addAttribute("position",new Float32BufferAttribute(n,3)),e.addAttribute("color",new Float32BufferAttribute(r,3));var u=new LineBasicMaterial({vertexColors:VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});LineSegments.call(this,e,u),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function PointLightHelper(t,e){this.light=t,this.light.updateMatrixWorld();var n=new SphereBufferGeometry(e,4,2),r=new MeshBasicMaterial({wireframe:!0,fog:!1});r.color.copy(this.light.color),Mesh.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function RectAreaLightHelper(t){Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var e=new LineBasicMaterial({color:t.color}),n=new BufferGeometry;n.addAttribute("position",new BufferAttribute(new Float32Array(15),3)),this.add(new Line(n,e)),this.update()}function HemisphereLightHelper(t,e){Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new OctahedronBufferGeometry(e);n.rotateY(.5*Math.PI);var r=new MeshBasicMaterial({vertexColors:VertexColors,wireframe:!0}),i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new BufferAttribute(o,3)),this.add(new Mesh(n,r)),this.update()}function GridHelper(t,e,n,r){t=t||10,e=e||10,n=new Color(void 0!==n?n:4473924),r=new Color(void 0!==r?r:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],u=[],c=0,l=0,h=-a;c<=e;c++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var f=c===i?n:r;f.toArray(u,l),l+=3,f.toArray(u,l),l+=3,f.toArray(u,l),l+=3,f.toArray(u,l),l+=3}var d=new BufferGeometry;d.addAttribute("position",new Float32BufferAttribute(s,3)),d.addAttribute("color",new Float32BufferAttribute(u,3));var p=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,d,p)}function PolarGridHelper(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new Color(void 0!==i?i:4473924),o=new Color(void 0!==o?o:8947848);var a=[],s=[],u,c,l,h,f,d,p;for(h=0;h<=e;h++)l=h/e*(2*Math.PI),u=Math.sin(l)*t,c=Math.cos(l)*t,a.push(0,0,0),a.push(u,0,c),p=1&h?i:o,s.push(p.r,p.g,p.b),s.push(p.r,p.g,p.b);for(h=0;h<=n;h++)for(p=1&h?i:o,d=t-t/n*h,f=0;f<r;f++)l=f/r*(2*Math.PI),u=Math.sin(l)*d,c=Math.cos(l)*d,a.push(u,0,c),s.push(p.r,p.g,p.b),l=(f+1)/r*(2*Math.PI),u=Math.sin(l)*d,c=Math.cos(l)*d,a.push(u,0,c),s.push(p.r,p.g,p.b);var m=new BufferGeometry;m.addAttribute("position",new Float32BufferAttribute(a,3)),m.addAttribute("color",new Float32BufferAttribute(s,3));var v=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,m,v)}function FaceNormalsHelper(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new BufferGeometry,c=new Float32BufferAttribute(2*a*3,3);u.addAttribute("position",c),LineSegments.call(this,u,new LineBasicMaterial({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function DirectionalLightHelper(t,e){Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new BufferGeometry;n.addAttribute("position",new Float32BufferAttribute([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new LineBasicMaterial({fog:!1});this.add(new Line(n,r)),n=new BufferGeometry,n.addAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.add(new Line(n,r)),this.update()}function CameraHelper(t){function e(t,e,r){n(t,r),n(e,r)}function n(t,e){o.push(0,0,0),a.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(o.length/3-1)}var r=new BufferGeometry,i=new LineBasicMaterial({color:16777215,vertexColors:FaceColors}),o=[],a=[],s={},u=new Color(16755200),c=new Color(16711680),l=new Color(43775),h=new Color(16777215),f=new Color(3355443);e("n1","n2",u),e("n2","n4",u),e("n4","n3",u),e("n3","n1",u),e("f1","f2",u),e("f2","f4",u),e("f4","f3",u),e("f3","f1",u),e("n1","f1",u),e("n2","f2",u),e("n3","f3",u),e("n4","f4",u),e("p","n1",c),e("p","n2",c),e("p","n3",c),e("p","n4",c),e("u1","u2",l),e("u2","u3",l),e("u3","u1",l),e("c","t",h),e("p","c",f),e("cn1","cn2",f),e("cn3","cn4",f),e("cf1","cf2",f),e("cf3","cf4",f),r.addAttribute("position",new Float32BufferAttribute(o,3)),r.addAttribute("color",new Float32BufferAttribute(a,3)),LineSegments.call(this,r,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function BoxHelper(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new BufferGeometry;i.setIndex(new BufferAttribute(n,1)),i.addAttribute("position",new BufferAttribute(r,3)),LineSegments.call(this,i,new LineBasicMaterial({color:e})),this.matrixAutoUpdate=!1,this.update()}function ArrowHelper(t,e,n,r,i,o){Object3D.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===sr&&(sr=new BufferGeometry,sr.addAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),ur=new CylinderBufferGeometry(0,.5,1,5,1),ur.translate(0,-.5,0)),this.position.copy(e),this.line=new Line(sr,new LineBasicMaterial({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(ur,new MeshBasicMaterial({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function AxisHelper(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new BufferGeometry;r.addAttribute("position",new Float32BufferAttribute(e,3)),r.addAttribute("color",new Float32BufferAttribute(n,3));var i=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,r,i)}function Nt(){function t(t,o,a,s){e=t,n=a,r=-3*t+3*o-2*a-s,i=2*t-2*o+a+s}var e=0,n=0,r=0,i=0;return{initCatmullRom:function(e,n,r,i,o){t(n,r,o*(r-e),o*(i-n))},initNonuniformCatmullRom:function(e,n,r,i,o,a,s){var u=(n-e)/o-(r-e)/(o+a)+(r-n)/a,c=(r-n)/a-(i-n)/(a+s)+(i-r)/s;u*=a,c*=a,t(n,r,u,c)},calc:function(t){var o=t*t;return e+n*t+r*o+i*(o*t)}}}function CatmullRomCurve3(t){Curve.call(this),this.points=t||[],this.closed=!1}function CubicBezierCurve3(t,e,n,r){Curve.call(this),this.v0=t,this.v1=e,this.v2=n,this.v3=r}function QuadraticBezierCurve3(t,e,n){Curve.call(this),this.v0=t,this.v1=e,this.v2=n}function LineCurve3(t,e){Curve.call(this),this.v1=t,this.v2=e}function ArcCurve(t,e,n,r,i,o){EllipseCurve.call(this,t,e,n,n,r,i,o)}function Face4(t,e,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Face3(t,e,n,i,o,a)}function MeshFaceMaterial(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function MultiMaterial(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function PointCloud(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Points(t,e)}function Particle(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Sprite(t)}function ParticleSystem(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Points(t,e)}function PointCloudMaterial(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(t)}function ParticleBasicMaterial(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(t)}function ParticleSystemMaterial(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(t)}function Vertex(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Vector3(t,e,n)}function DynamicBufferAttribute(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new BufferAttribute(t,e).setDynamic(!0)}function Int8Attribute(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Int8BufferAttribute(t,e)}function Uint8Attribute(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Uint8BufferAttribute(t,e)}function Uint8ClampedAttribute(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Uint8ClampedBufferAttribute(t,e)}function Int16Attribute(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Int16BufferAttribute(t,e)}function Uint16Attribute(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Uint16BufferAttribute(t,e)}function Int32Attribute(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Int32BufferAttribute(t,e)}function Uint32Attribute(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Uint32BufferAttribute(t,e)}function Float32Attribute(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Float32BufferAttribute(t,e)}function Float64Attribute(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Float64BufferAttribute(t,e)}function ClosedSplineCurve3(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,t),this.type="catmullrom",this.closed=!0}function SplineCurve3(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,t),this.type="catmullrom"}function Spline(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,t),this.type="catmullrom"}function BoundingBoxHelper(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new BoxHelper(t,e)}function EdgesHelper(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new LineSegments(new EdgesGeometry(t.geometry),new LineBasicMaterial({color:void 0!==e?e:16777215}))}function WireframeHelper(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new LineSegments(new WireframeGeometry(t.geometry),new LineBasicMaterial({color:void 0!==e?e:16777215}))}function XHRLoader(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new FileLoader(t)}function BinaryTextureLoader(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new DataTextureLoader(t)}function Projector(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function CanvasRenderer(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"WebGLRenderTargetCube",function(){return WebGLRenderTargetCube}),n.d(e,"WebGLRenderTarget",function(){return WebGLRenderTarget}),n.d(e,"WebGLRenderer",function(){return WebGLRenderer}),n.d(e,"ShaderLib",function(){return ShaderLib}),n.d(e,"UniformsLib",function(){return UniformsLib}),n.d(e,"UniformsUtils",function(){return UniformsUtils}),n.d(e,"ShaderChunk",function(){return ShaderChunk}),n.d(e,"FogExp2",function(){return FogExp2}),n.d(e,"Fog",function(){return Fog}),n.d(e,"Scene",function(){return Scene}),n.d(e,"LensFlare",function(){return LensFlare}),n.d(e,"Sprite",function(){return Sprite}),n.d(e,"LOD",function(){return LOD}),n.d(e,"SkinnedMesh",function(){return SkinnedMesh}),n.d(e,"Skeleton",function(){return Skeleton}),n.d(e,"Bone",function(){return Bone}),n.d(e,"Mesh",function(){return Mesh}),n.d(e,"LineSegments",function(){return LineSegments}),n.d(e,"LineLoop",function(){return LineLoop}),n.d(e,"Line",function(){return Line}),n.d(e,"Points",function(){return Points}),n.d(e,"Group",function(){return Group}),n.d(e,"VideoTexture",function(){return VideoTexture}),n.d(e,"DataTexture",function(){return DataTexture}),n.d(e,"CompressedTexture",function(){return CompressedTexture}),n.d(e,"CubeTexture",function(){return CubeTexture}),n.d(e,"CanvasTexture",function(){return CanvasTexture}),n.d(e,"DepthTexture",function(){return DepthTexture}),n.d(e,"Texture",function(){return Texture}),n.d(e,"CompressedTextureLoader",function(){return CompressedTextureLoader}),n.d(e,"DataTextureLoader",function(){return DataTextureLoader}),n.d(e,"CubeTextureLoader",function(){return CubeTextureLoader}),n.d(e,"TextureLoader",function(){return TextureLoader}),n.d(e,"ObjectLoader",function(){return ObjectLoader}),n.d(e,"MaterialLoader",function(){return MaterialLoader}),n.d(e,"BufferGeometryLoader",function(){return BufferGeometryLoader}),n.d(e,"DefaultLoadingManager",function(){return DefaultLoadingManager}),n.d(e,"LoadingManager",function(){return LoadingManager}),n.d(e,"JSONLoader",function(){return JSONLoader}),n.d(e,"ImageLoader",function(){return ImageLoader}),n.d(e,"FontLoader",function(){return FontLoader}),n.d(e,"FileLoader",function(){return FileLoader}),n.d(e,"Loader",function(){return Loader}),n.d(e,"Cache",function(){return Cache}),n.d(e,"AudioLoader",function(){return AudioLoader}),n.d(e,"SpotLightShadow",function(){return SpotLightShadow}),n.d(e,"SpotLight",function(){return SpotLight}),n.d(e,"PointLight",function(){return PointLight}),n.d(e,"RectAreaLight",function(){return RectAreaLight}),n.d(e,"HemisphereLight",function(){return HemisphereLight}),n.d(e,"DirectionalLightShadow",function(){return DirectionalLightShadow}),n.d(e,"DirectionalLight",function(){return DirectionalLight}),n.d(e,"AmbientLight",function(){return AmbientLight}),n.d(e,"LightShadow",function(){return LightShadow}),n.d(e,"Light",function(){return Light}),n.d(e,"StereoCamera",function(){return StereoCamera}),n.d(e,"PerspectiveCamera",function(){return PerspectiveCamera}),n.d(e,"OrthographicCamera",function(){return OrthographicCamera}),n.d(e,"CubeCamera",function(){return CubeCamera}),n.d(e,"ArrayCamera",function(){return ArrayCamera}),n.d(e,"Camera",function(){return Camera}),n.d(e,"AudioListener",function(){return AudioListener}),n.d(e,"PositionalAudio",function(){return PositionalAudio}),n.d(e,"AudioContext",function(){return AudioContext}),n.d(e,"AudioAnalyser",function(){return AudioAnalyser}),n.d(e,"Audio",function(){return Audio}),n.d(e,"VectorKeyframeTrack",function(){return VectorKeyframeTrack}),n.d(e,"StringKeyframeTrack",function(){return StringKeyframeTrack}),n.d(e,"QuaternionKeyframeTrack",function(){return QuaternionKeyframeTrack}),n.d(e,"NumberKeyframeTrack",function(){return NumberKeyframeTrack}),n.d(e,"ColorKeyframeTrack",function(){return ColorKeyframeTrack}),n.d(e,"BooleanKeyframeTrack",function(){return BooleanKeyframeTrack}),n.d(e,"PropertyMixer",function(){return PropertyMixer}),n.d(e,"PropertyBinding",function(){return PropertyBinding}),n.d(e,"KeyframeTrack",function(){return KeyframeTrack}),n.d(e,"AnimationUtils",function(){return AnimationUtils}),n.d(e,"AnimationObjectGroup",function(){return AnimationObjectGroup}),n.d(e,"AnimationMixer",function(){return AnimationMixer}),n.d(e,"AnimationClip",function(){return AnimationClip}),n.d(e,"Uniform",function(){return Uniform}),n.d(e,"InstancedBufferGeometry",function(){return InstancedBufferGeometry}),n.d(e,"BufferGeometry",function(){return BufferGeometry}),n.d(e,"GeometryIdCount",function(){return GeometryIdCount}),n.d(e,"Geometry",function(){return Geometry}),n.d(e,"InterleavedBufferAttribute",function(){return InterleavedBufferAttribute}),n.d(e,"InstancedInterleavedBuffer",function(){return InstancedInterleavedBuffer}),n.d(e,"InterleavedBuffer",function(){return InterleavedBuffer}),n.d(e,"InstancedBufferAttribute",function(){return InstancedBufferAttribute}),n.d(e,"Face3",function(){return Face3}),n.d(e,"Object3D",function(){return Object3D}),n.d(e,"Raycaster",function(){return Raycaster}),n.d(e,"Layers",function(){return Layers}),n.d(e,"EventDispatcher",function(){return EventDispatcher}),n.d(e,"Clock",function(){return Clock}),n.d(e,"QuaternionLinearInterpolant",function(){return QuaternionLinearInterpolant}),n.d(e,"LinearInterpolant",function(){return LinearInterpolant}),n.d(e,"DiscreteInterpolant",function(){return DiscreteInterpolant}),n.d(e,"CubicInterpolant",function(){return CubicInterpolant}),n.d(e,"Interpolant",function(){return Interpolant}),n.d(e,"Triangle",function(){return Triangle}),n.d(e,"Math",function(){return It}),n.d(e,"Spherical",function(){return Spherical}),n.d(e,"Cylindrical",function(){return Cylindrical}),n.d(e,"Plane",function(){return Plane}),n.d(e,"Frustum",function(){return Frustum}),n.d(e,"Sphere",function(){return Sphere}),n.d(e,"Ray",function(){return Ray}),n.d(e,"Matrix4",function(){return Matrix4}),n.d(e,"Matrix3",function(){return Matrix3}),n.d(e,"Box3",function(){return Box3}),n.d(e,"Box2",function(){return Box2}),n.d(e,"Line3",function(){return Line3}),n.d(e,"Euler",function(){return Euler}),n.d(e,"Vector4",function(){return Vector4}),n.d(e,"Vector3",function(){return Vector3}),n.d(e,"Vector2",function(){return Vector2}),n.d(e,"Quaternion",function(){return Quaternion}),n.d(e,"Color",function(){return Color}),n.d(e,"MorphBlendMesh",function(){return MorphBlendMesh}),n.d(e,"ImmediateRenderObject",function(){return ImmediateRenderObject}),n.d(e,"VertexNormalsHelper",function(){return VertexNormalsHelper}),n.d(e,"SpotLightHelper",function(){return SpotLightHelper}),n.d(e,"SkeletonHelper",function(){return SkeletonHelper}),n.d(e,"PointLightHelper",function(){return PointLightHelper}),n.d(e,"RectAreaLightHelper",function(){return RectAreaLightHelper}),n.d(e,"HemisphereLightHelper",function(){return HemisphereLightHelper}),n.d(e,"GridHelper",function(){return GridHelper}),n.d(e,"PolarGridHelper",function(){return PolarGridHelper}),n.d(e,"FaceNormalsHelper",function(){return FaceNormalsHelper}),n.d(e,"DirectionalLightHelper",function(){return DirectionalLightHelper}),n.d(e,"CameraHelper",function(){return CameraHelper}),n.d(e,"BoxHelper",function(){return BoxHelper}),n.d(e,"ArrowHelper",function(){return ArrowHelper}),n.d(e,"AxisHelper",function(){return AxisHelper}),n.d(e,"CatmullRomCurve3",function(){return CatmullRomCurve3}),n.d(e,"CubicBezierCurve3",function(){return CubicBezierCurve3}),n.d(e,"QuadraticBezierCurve3",function(){return QuadraticBezierCurve3}),n.d(e,"LineCurve3",function(){return LineCurve3}),n.d(e,"ArcCurve",function(){return ArcCurve}),n.d(e,"EllipseCurve",function(){return EllipseCurve}),n.d(e,"SplineCurve",function(){return SplineCurve}),n.d(e,"CubicBezierCurve",function(){return CubicBezierCurve}),n.d(e,"QuadraticBezierCurve",function(){return QuadraticBezierCurve}),n.d(e,"LineCurve",function(){return LineCurve}),n.d(e,"Shape",function(){return Shape}),n.d(e,"Path",function(){return Path}),n.d(e,"ShapePath",function(){return ShapePath}),n.d(e,"Font",function(){return Font}),n.d(e,"CurvePath",function(){return CurvePath}),n.d(e,"Curve",function(){return Curve}),n.d(e,"ShapeUtils",function(){return ShapeUtils}),n.d(e,"SceneUtils",function(){return SceneUtils}),n.d(e,"WireframeGeometry",function(){return WireframeGeometry}),n.d(e,"ParametricGeometry",function(){return ParametricGeometry}),n.d(e,"ParametricBufferGeometry",function(){return ParametricBufferGeometry}),n.d(e,"TetrahedronGeometry",function(){return TetrahedronGeometry}),n.d(e,"TetrahedronBufferGeometry",function(){return TetrahedronBufferGeometry}),n.d(e,"OctahedronGeometry",function(){return OctahedronGeometry}),n.d(e,"OctahedronBufferGeometry",function(){return OctahedronBufferGeometry}),n.d(e,"IcosahedronGeometry",function(){return IcosahedronGeometry}),n.d(e,"IcosahedronBufferGeometry",function(){return IcosahedronBufferGeometry}),n.d(e,"DodecahedronGeometry",function(){return DodecahedronGeometry}),n.d(e,"DodecahedronBufferGeometry",function(){return DodecahedronBufferGeometry}),n.d(e,"PolyhedronGeometry",function(){return PolyhedronGeometry}),n.d(e,"PolyhedronBufferGeometry",function(){return PolyhedronBufferGeometry}),n.d(e,"TubeGeometry",function(){return TubeGeometry}),n.d(e,"TubeBufferGeometry",function(){return TubeBufferGeometry}),n.d(e,"TorusKnotGeometry",function(){return TorusKnotGeometry}),n.d(e,"TorusKnotBufferGeometry",function(){return TorusKnotBufferGeometry}),n.d(e,"TorusGeometry",function(){return TorusGeometry}),n.d(e,"TorusBufferGeometry",function(){return TorusBufferGeometry}),n.d(e,"TextGeometry",function(){return TextGeometry}),n.d(e,"TextBufferGeometry",function(){return TextBufferGeometry}),n.d(e,"SphereGeometry",function(){return SphereGeometry}),n.d(e,"SphereBufferGeometry",function(){return SphereBufferGeometry}),n.d(e,"RingGeometry",function(){return RingGeometry}),n.d(e,"RingBufferGeometry",function(){return RingBufferGeometry}),n.d(e,"PlaneGeometry",function(){return PlaneGeometry}),n.d(e,"PlaneBufferGeometry",function(){return PlaneBufferGeometry}),n.d(e,"LatheGeometry",function(){return LatheGeometry}),n.d(e,"LatheBufferGeometry",function(){return LatheBufferGeometry}),n.d(e,"ShapeGeometry",function(){return ShapeGeometry}),n.d(e,"ShapeBufferGeometry",function(){return ShapeBufferGeometry}),n.d(e,"ExtrudeGeometry",function(){return ExtrudeGeometry}),n.d(e,"ExtrudeBufferGeometry",function(){return ExtrudeBufferGeometry}),n.d(e,"EdgesGeometry",function(){return EdgesGeometry}),n.d(e,"ConeGeometry",function(){return ConeGeometry}),n.d(e,"ConeBufferGeometry",function(){return ConeBufferGeometry}),n.d(e,"CylinderGeometry",function(){return CylinderGeometry}),n.d(e,"CylinderBufferGeometry",function(){return CylinderBufferGeometry}),n.d(e,"CircleGeometry",function(){return CircleGeometry}),n.d(e,"CircleBufferGeometry",function(){return CircleBufferGeometry}),n.d(e,"BoxGeometry",function(){return BoxGeometry}),n.d(e,"BoxBufferGeometry",function(){return BoxBufferGeometry}),n.d(e,"ShadowMaterial",function(){return ShadowMaterial}),n.d(e,"SpriteMaterial",function(){return SpriteMaterial}),n.d(e,"RawShaderMaterial",function(){return RawShaderMaterial}),n.d(e,"ShaderMaterial",function(){return ShaderMaterial}),n.d(e,"PointsMaterial",function(){return PointsMaterial});n.d(e,"MeshPhysicalMaterial",function(){return MeshPhysicalMaterial}),n.d(e,"MeshStandardMaterial",function(){return MeshStandardMaterial}),n.d(e,"MeshPhongMaterial",function(){return MeshPhongMaterial}),n.d(e,"MeshToonMaterial",function(){return MeshToonMaterial}),n.d(e,"MeshNormalMaterial",function(){return MeshNormalMaterial}),n.d(e,"MeshLambertMaterial",function(){return MeshLambertMaterial}),n.d(e,"MeshDepthMaterial",function(){return MeshDepthMaterial}),n.d(e,"MeshBasicMaterial",function(){return MeshBasicMaterial}),n.d(e,"LineDashedMaterial",function(){return LineDashedMaterial}),n.d(e,"LineBasicMaterial",function(){return LineBasicMaterial}),n.d(e,"Material",function(){return Material}),n.d(e,"Float64BufferAttribute",function(){return Float64BufferAttribute}),n.d(e,"Float32BufferAttribute",function(){return Float32BufferAttribute}),n.d(e,"Uint32BufferAttribute",function(){return Uint32BufferAttribute}),n.d(e,"Int32BufferAttribute",function(){return Int32BufferAttribute}),n.d(e,"Uint16BufferAttribute",function(){return Uint16BufferAttribute}),n.d(e,"Int16BufferAttribute",function(){return Int16BufferAttribute}),n.d(e,"Uint8ClampedBufferAttribute",function(){return Uint8ClampedBufferAttribute}),n.d(e,"Uint8BufferAttribute",function(){return Uint8BufferAttribute}),n.d(e,"Int8BufferAttribute",function(){return Int8BufferAttribute}),n.d(e,"BufferAttribute",function(){return BufferAttribute}),n.d(e,"REVISION",function(){return REVISION}),n.d(e,"MOUSE",function(){return MOUSE}),n.d(e,"CullFaceNone",function(){return CullFaceNone}),n.d(e,"CullFaceBack",function(){return CullFaceBack}),n.d(e,"CullFaceFront",function(){return CullFaceFront}),n.d(e,"CullFaceFrontBack",function(){return CullFaceFrontBack}),n.d(e,"FrontFaceDirectionCW",function(){return FrontFaceDirectionCW}),n.d(e,"FrontFaceDirectionCCW",function(){return FrontFaceDirectionCCW}),n.d(e,"BasicShadowMap",function(){return BasicShadowMap}),n.d(e,"PCFShadowMap",function(){return PCFShadowMap}),n.d(e,"PCFSoftShadowMap",function(){return PCFSoftShadowMap}),n.d(e,"FrontSide",function(){return FrontSide}),n.d(e,"BackSide",function(){return BackSide}),n.d(e,"DoubleSide",function(){return DoubleSide}),n.d(e,"FlatShading",function(){return FlatShading}),n.d(e,"SmoothShading",function(){return SmoothShading}),n.d(e,"NoColors",function(){return NoColors}),n.d(e,"FaceColors",function(){return FaceColors}),n.d(e,"VertexColors",function(){return VertexColors}),n.d(e,"NoBlending",function(){return NoBlending}),n.d(e,"NormalBlending",function(){return NormalBlending}),n.d(e,"AdditiveBlending",function(){return AdditiveBlending}),n.d(e,"SubtractiveBlending",function(){return SubtractiveBlending}),n.d(e,"MultiplyBlending",function(){return MultiplyBlending}),n.d(e,"CustomBlending",function(){return CustomBlending}),n.d(e,"AddEquation",function(){return AddEquation}),n.d(e,"SubtractEquation",function(){return SubtractEquation}),n.d(e,"ReverseSubtractEquation",function(){return ReverseSubtractEquation}),n.d(e,"MinEquation",function(){return MinEquation}),n.d(e,"MaxEquation",function(){return MaxEquation}),n.d(e,"ZeroFactor",function(){return ZeroFactor}),n.d(e,"OneFactor",function(){return OneFactor}),n.d(e,"SrcColorFactor",function(){return SrcColorFactor}),n.d(e,"OneMinusSrcColorFactor",function(){return OneMinusSrcColorFactor}),n.d(e,"SrcAlphaFactor",function(){return SrcAlphaFactor}),n.d(e,"OneMinusSrcAlphaFactor",function(){return OneMinusSrcAlphaFactor}),n.d(e,"DstAlphaFactor",function(){return DstAlphaFactor}),n.d(e,"OneMinusDstAlphaFactor",function(){return OneMinusDstAlphaFactor}),n.d(e,"DstColorFactor",function(){return DstColorFactor}),n.d(e,"OneMinusDstColorFactor",function(){return OneMinusDstColorFactor}),n.d(e,"SrcAlphaSaturateFactor",function(){return SrcAlphaSaturateFactor}),n.d(e,"NeverDepth",function(){return NeverDepth}),n.d(e,"AlwaysDepth",function(){return AlwaysDepth}),n.d(e,"LessDepth",function(){return LessDepth}),n.d(e,"LessEqualDepth",function(){return LessEqualDepth}),n.d(e,"EqualDepth",function(){return EqualDepth}),n.d(e,"GreaterEqualDepth",function(){return GreaterEqualDepth}),n.d(e,"GreaterDepth",function(){return GreaterDepth}),n.d(e,"NotEqualDepth",function(){return NotEqualDepth}),n.d(e,"MultiplyOperation",function(){return MultiplyOperation}),n.d(e,"MixOperation",function(){return MixOperation}),n.d(e,"AddOperation",function(){return AddOperation}),n.d(e,"NoToneMapping",function(){return NoToneMapping}),n.d(e,"LinearToneMapping",function(){return LinearToneMapping}),n.d(e,"ReinhardToneMapping",function(){return ReinhardToneMapping}),n.d(e,"Uncharted2ToneMapping",function(){return Uncharted2ToneMapping}),n.d(e,"CineonToneMapping",function(){return CineonToneMapping}),n.d(e,"UVMapping",function(){return UVMapping}),n.d(e,"CubeReflectionMapping",function(){return CubeReflectionMapping}),n.d(e,"CubeRefractionMapping",function(){return CubeRefractionMapping}),n.d(e,"EquirectangularReflectionMapping",function(){return EquirectangularReflectionMapping}),n.d(e,"EquirectangularRefractionMapping",function(){return EquirectangularRefractionMapping}),n.d(e,"SphericalReflectionMapping",function(){return SphericalReflectionMapping}),n.d(e,"CubeUVReflectionMapping",function(){return CubeUVReflectionMapping}),n.d(e,"CubeUVRefractionMapping",function(){return CubeUVRefractionMapping}),n.d(e,"RepeatWrapping",function(){return RepeatWrapping}),n.d(e,"ClampToEdgeWrapping",function(){return ClampToEdgeWrapping}),n.d(e,"MirroredRepeatWrapping",function(){return MirroredRepeatWrapping}),n.d(e,"NearestFilter",function(){return NearestFilter}),n.d(e,"NearestMipMapNearestFilter",function(){return NearestMipMapNearestFilter}),n.d(e,"NearestMipMapLinearFilter",function(){return NearestMipMapLinearFilter}),n.d(e,"LinearFilter",function(){return LinearFilter}),n.d(e,"LinearMipMapNearestFilter",function(){return LinearMipMapNearestFilter}),n.d(e,"LinearMipMapLinearFilter",function(){return LinearMipMapLinearFilter}),n.d(e,"UnsignedByteType",function(){return UnsignedByteType}),n.d(e,"ByteType",function(){return ByteType}),n.d(e,"ShortType",function(){return ShortType}),n.d(e,"UnsignedShortType",function(){return UnsignedShortType}),n.d(e,"IntType",function(){return IntType}),n.d(e,"UnsignedIntType",function(){return UnsignedIntType}),n.d(e,"FloatType",function(){return FloatType}),n.d(e,"HalfFloatType",function(){return HalfFloatType}),n.d(e,"UnsignedShort4444Type",function(){return UnsignedShort4444Type}),n.d(e,"UnsignedShort5551Type",function(){return UnsignedShort5551Type}),n.d(e,"UnsignedShort565Type",function(){return UnsignedShort565Type}),n.d(e,"UnsignedInt248Type",function(){return UnsignedInt248Type}),n.d(e,"AlphaFormat",function(){return AlphaFormat}),n.d(e,"RGBFormat",function(){return RGBFormat}),n.d(e,"RGBAFormat",function(){return RGBAFormat}),n.d(e,"LuminanceFormat",function(){return LuminanceFormat}),n.d(e,"LuminanceAlphaFormat",function(){return LuminanceAlphaFormat}),n.d(e,"RGBEFormat",function(){return RGBEFormat}),n.d(e,"DepthFormat",function(){return DepthFormat}),n.d(e,"DepthStencilFormat",function(){return DepthStencilFormat}),n.d(e,"RGB_S3TC_DXT1_Format",function(){return RGB_S3TC_DXT1_Format}),n.d(e,"RGBA_S3TC_DXT1_Format",function(){return RGBA_S3TC_DXT1_Format}),n.d(e,"RGBA_S3TC_DXT3_Format",function(){return RGBA_S3TC_DXT3_Format}),n.d(e,"RGBA_S3TC_DXT5_Format",function(){return RGBA_S3TC_DXT5_Format}),n.d(e,"RGB_PVRTC_4BPPV1_Format",function(){return RGB_PVRTC_4BPPV1_Format}),n.d(e,"RGB_PVRTC_2BPPV1_Format",function(){return RGB_PVRTC_2BPPV1_Format}),n.d(e,"RGBA_PVRTC_4BPPV1_Format",function(){return RGBA_PVRTC_4BPPV1_Format}),n.d(e,"RGBA_PVRTC_2BPPV1_Format",function(){return RGBA_PVRTC_2BPPV1_Format}),n.d(e,"RGB_ETC1_Format",function(){return RGB_ETC1_Format}),n.d(e,"LoopOnce",function(){return LoopOnce}),n.d(e,"LoopRepeat",function(){return LoopRepeat}),n.d(e,"LoopPingPong",function(){return LoopPingPong}),n.d(e,"InterpolateDiscrete",function(){return InterpolateDiscrete}),n.d(e,"InterpolateLinear",function(){return InterpolateLinear}),n.d(e,"InterpolateSmooth",function(){return InterpolateSmooth}),n.d(e,"ZeroCurvatureEnding",function(){return ZeroCurvatureEnding}),n.d(e,"ZeroSlopeEnding",function(){return ZeroSlopeEnding}),n.d(e,"WrapAroundEnding",function(){return WrapAroundEnding}),n.d(e,"TrianglesDrawMode",function(){return TrianglesDrawMode}),n.d(e,"TriangleStripDrawMode",function(){return TriangleStripDrawMode}),n.d(e,"TriangleFanDrawMode",function(){return TriangleFanDrawMode}),n.d(e,"LinearEncoding",function(){return LinearEncoding}),n.d(e,"sRGBEncoding",function(){return sRGBEncoding}),n.d(e,"GammaEncoding",function(){return GammaEncoding}),n.d(e,"RGBEEncoding",function(){return RGBEEncoding}),n.d(e,"LogLuvEncoding",function(){return LogLuvEncoding}),n.d(e,"RGBM7Encoding",function(){return RGBM7Encoding}),n.d(e,"RGBM16Encoding",function(){return RGBM16Encoding}),n.d(e,"RGBDEncoding",function(){return RGBDEncoding}),n.d(e,"BasicDepthPacking",function(){return BasicDepthPacking}),n.d(e,"RGBADepthPacking",function(){return RGBADepthPacking}),n.d(e,"CubeGeometry",function(){return BoxGeometry}),n.d(e,"Face4",function(){return Face4}),n.d(e,"LineStrip",function(){return LineStrip}),n.d(e,"LinePieces",function(){return LinePieces}),n.d(e,"MeshFaceMaterial",function(){return MeshFaceMaterial}),n.d(e,"MultiMaterial",function(){return MultiMaterial}),n.d(e,"PointCloud",function(){return PointCloud}),n.d(e,"Particle",function(){return Particle}),n.d(e,"ParticleSystem",function(){return ParticleSystem}),n.d(e,"PointCloudMaterial",function(){return PointCloudMaterial}),n.d(e,"ParticleBasicMaterial",function(){return ParticleBasicMaterial}),n.d(e,"ParticleSystemMaterial",function(){return ParticleSystemMaterial}),n.d(e,"Vertex",function(){return Vertex}),n.d(e,"DynamicBufferAttribute",function(){return DynamicBufferAttribute}),n.d(e,"Int8Attribute",function(){return Int8Attribute}),n.d(e,"Uint8Attribute",function(){return Uint8Attribute}),n.d(e,"Uint8ClampedAttribute",function(){return Uint8ClampedAttribute}),n.d(e,"Int16Attribute",function(){return Int16Attribute}),n.d(e,"Uint16Attribute",function(){return Uint16Attribute}),n.d(e,"Int32Attribute",function(){return Int32Attribute}),n.d(e,"Uint32Attribute",function(){return Uint32Attribute}),n.d(e,"Float32Attribute",function(){return Float32Attribute}),n.d(e,"Float64Attribute",function(){return Float64Attribute}),n.d(e,"ClosedSplineCurve3",function(){return ClosedSplineCurve3}),n.d(e,"SplineCurve3",function(){return SplineCurve3}),n.d(e,"Spline",function(){return Spline}),n.d(e,"BoundingBoxHelper",function(){return BoundingBoxHelper}),n.d(e,"EdgesHelper",function(){return EdgesHelper}),n.d(e,"WireframeHelper",function(){return WireframeHelper}),n.d(e,"XHRLoader",function(){return XHRLoader}),n.d(e,"BinaryTextureLoader",function(){return BinaryTextureLoader}),n.d(e,"GeometryUtils",function(){return GeometryUtils}),n.d(e,"ImageUtils",function(){return ImageUtils}),n.d(e,"Projector",function(){return Projector}),n.d(e,"CanvasRenderer",function(){return CanvasRenderer}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}}(),Object.assign(EventDispatcher.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,r=n[t];if(void 0!==r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;var r=[],i=0,o=n.length;for(i=0;i<o;i++)r[i]=n[i];for(i=0;i<o;i++)r[i].call(this,t)}}}});var REVISION="85",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,FrontFaceDirectionCW=0,FrontFaceDirectionCCW=1,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,FrontSide=0,BackSide=1,DoubleSide=2,FlatShading=1,SmoothShading=2,NoColors=0,FaceColors=1,VertexColors=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,Uncharted2ToneMapping=3,CineonToneMapping=4,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,SphericalReflectionMapping=305,CubeUVReflectionMapping=306,CubeUVRefractionMapping=307,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipMapNearestFilter=1004,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipMapNearestFilter=1007,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedShort565Type=1019,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,RGBEFormat=RGBAFormat,DepthFormat=1026,DepthStencilFormat=1027,RGB_S3TC_DXT1_Format=2001,RGBA_S3TC_DXT1_Format=2002,RGBA_S3TC_DXT3_Format=2003,RGBA_S3TC_DXT5_Format=2004,RGB_PVRTC_4BPPV1_Format=2100,RGB_PVRTC_2BPPV1_Format=2101,RGBA_PVRTC_4BPPV1_Format=2102,RGBA_PVRTC_2BPPV1_Format=2103,RGB_ETC1_Format=2151,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,GammaEncoding=3007,RGBEEncoding=3002,LogLuvEncoding=3003,RGBM7Encoding=3004,RGBM16Encoding=3005,RGBDEncoding=3006,BasicDepthPacking=3200,RGBADepthPacking=3201,It={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=new Array(36),n=0,r;return function i(){for(var o=0;o<36;o++)8===o||13===o||18===o||23===o?e[o]="-":14===o?e[o]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),r=15&n,n>>=4,e[o]=t[19===o?3&r|8:r]);return e.join("")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*It.DEG2RAD},radToDeg:function(t){return t*It.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};Object.defineProperties(Vector2.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(Vector2.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new Vector2,e=new Vector2;return function n(r,i){return t.set(r,r),e.set(i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}});var jt=0;Texture.DEFAULT_IMAGE=void 0,Texture.DEFAULT_MAPPING=UVMapping,Object.defineProperty(Texture.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Texture.prototype,EventDispatcher.prototype,{constructor:Texture,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){function e(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;void 0===r.uuid&&(r.uuid=It.generateUUID()),void 0===t.images[r.uuid]&&(t.images[r.uuid]={uuid:r.uuid,url:e(r)}),n.image=r.uuid}return t.textures[this.uuid]=n,n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===UVMapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case RepeatWrapping:t.x=t.x-Math.floor(t.x);break;case ClampToEdgeWrapping:t.x=t.x<0?0:1;break;case MirroredRepeatWrapping:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case RepeatWrapping:t.y=t.y-Math.floor(t.y);break;case ClampToEdgeWrapping:t.y=t.y<0?0:1;break;case MirroredRepeatWrapping:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.assign(Vector4.prototype,{isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=.01,a=.1,s=t.elements,u=s[0],c=s[4],l=s[8],h=s[1],f=s[5],d=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(c-h)<.01&&Math.abs(l-p)<.01&&Math.abs(d-m)<.01){if(Math.abs(c+h)<.1&&Math.abs(l+p)<.1&&Math.abs(d+m)<.1&&Math.abs(u+f+v-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var g=(u+1)/2,y=(f+1)/2,b=(v+1)/2,x=(c+h)/4,_=(l+p)/4,w=(d+m)/4;return g>y&&g>b?g<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(g),r=x/n,i=_/n):y>b?y<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(y),n=x/r,i=w/r):b<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(b),n=_/i,r=w/i),this.set(n,r,i,e),this}var E=Math.sqrt((m-d)*(m-d)+(l-p)*(l-p)+(h-c)*(h-c));return Math.abs(E)<.001&&(E=1),this.x=(m-d)/E,this.y=(l-p)/E,this.z=(h-c)/E,this.w=Math.acos((u+f+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t=new Vector4,e=new Vector4;return function n(r,i){return t.set(r,r,r,r),e.set(i,i,i,i),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),Object.assign(WebGLRenderTarget.prototype,EventDispatcher.prototype,{isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),WebGLRenderTargetCube.prototype=Object.create(WebGLRenderTarget.prototype),WebGLRenderTargetCube.prototype.constructor=WebGLRenderTargetCube,WebGLRenderTargetCube.prototype.isWebGLRenderTargetCube=!0,Object.assign(Quaternion,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,a){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],h=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(l!==p||s!==h||u!==f||c!==d){var m=1-a,v=s*h+u*f+c*d+l*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,v*g);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var _=a*g;if(s=s*m+h*_,u=u*m+f*_,c=c*m+d*_,l=l*m+p*_,m===1-a){var w=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=w,u*=w,c*=w,l*=w}}t[e]=s,t[e+1]=u,t[e+2]=c,t[e+3]=l}}),Object.defineProperties(Quaternion.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(Quaternion.prototype,{set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,r=t._y,i=t._z,o=t.order,a=Math.cos,s=Math.sin,u=a(n/2),c=a(r/2),l=a(i/2),h=s(n/2),f=s(r/2),d=s(i/2);return"XYZ"===o?(this._x=h*c*l+u*f*d,this._y=u*f*l-h*c*d,this._z=u*c*d+h*f*l,this._w=u*c*l-h*f*d):"YXZ"===o?(this._x=h*c*l+u*f*d,this._y=u*f*l-h*c*d,this._z=u*c*d-h*f*l,this._w=u*c*l+h*f*d):"ZXY"===o?(this._x=h*c*l-u*f*d,this._y=u*f*l+h*c*d,this._z=u*c*d+h*f*l,this._w=u*c*l-h*f*d):"ZYX"===o?(this._x=h*c*l-u*f*d,this._y=u*f*l+h*c*d,this._z=u*c*d-h*f*l,this._w=u*c*l+h*f*d):"YZX"===o?(this._x=h*c*l+u*f*d,this._y=u*f*l+h*c*d,this._z=u*c*d-h*f*l,this._w=u*c*l-h*f*d):"XZY"===o&&(this._x=h*c*l-u*f*d,this._y=u*f*l-h*c*d,this._z=u*c*d+h*f*l,this._w=u*c*l+h*f*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e=t.elements,n=e[0],r=e[4],i=e[8],o=e[1],a=e[5],s=e[9],u=e[2],c=e[6],l=e[10],h=n+a+l,f;return h>0?(f=.5/Math.sqrt(h+1),this._w=.25/f,this._x=(c-s)*f,this._y=(i-u)*f,this._z=(o-r)*f):n>a&&n>l?(f=2*Math.sqrt(1+n-a-l),this._w=(c-s)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(i+u)/f):a>l?(f=2*Math.sqrt(1+a-n-l),this._w=(i-u)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(s+c)/f):(f=2*Math.sqrt(1+l-n-a),this._w=(o-r)/f,this._x=(i+u)/f,this._y=(s+c)/f,this._z=.25*f),this.onChangeCallback(),this},setFromUnitVectors:function(){var t=new Vector3,e;return function n(r,i){return void 0===t&&(t=new Vector3),e=r.dot(i)+1,e<1e-6?(e=0,Math.abs(r.x)>Math.abs(r.z)?t.set(-r.y,r.x,0):t.set(0,-r.z,r.y)):t.crossVectors(r,i),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,u=e._z,c=e._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(s,a),c=Math.sin((1-e)*u)/s,l=Math.sin(e*u)/s;return this._w=o*c+this._w*l,this._x=n*c+this._x*l,this._y=r*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Vector3.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new Quaternion;return function e(n){return!1===(n&&n.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(n))}}(),applyAxisAngle:function(){var t=new Quaternion;return function e(n,r){return this.applyQuaternion(t.setFromAxisAngle(n,r))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14];var o=i[3]*e+i[7]*n+i[11]*r+i[15];return this.divideScalar(o)},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,u=s*e+o*r-a*n,c=s*n+a*e-i*r,l=s*r+i*n-o*e,h=-i*e-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var t=new Matrix4;return function e(n){return t.multiplyMatrices(n.projectionMatrix,t.getInverse(n.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new Matrix4;return function e(n){return t.multiplyMatrices(n.matrixWorld,t.getInverse(n.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new Vector3,e=new Vector3;return function n(r,i){return t.set(r,r,r),e.set(i,i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new Vector3;return function e(n){return t.copy(this).projectOnVector(n),this.sub(t)}}(),reflect:function(){var t=new Vector3;return function e(n){return this.sub(t.copy(n).multiplyScalar(2*this.dot(n)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(It.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(Matrix4.prototype,{isMatrix4:!0,set:function(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=u,v[6]=c,v[10]=l,v[14]=h,v[3]=f,v[7]=d,v[11]=p,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Matrix4).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new Vector3;return function e(n){var r=this.elements,i=n.elements,o=1/t.setFromMatrixColumn(n,0).length(),a=1/t.setFromMatrixColumn(n,1).length(),s=1/t.setFromMatrixColumn(n,2).length();return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r[4]=i[4]*a,r[5]=i[5]*a,r[6]=i[6]*a,r[8]=i[8]*s,r[9]=i[9]*s,r[10]=i[10]*s,this}}(),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===t.order){var h=o*c,f=o*l,d=a*c,p=a*l;e[0]=s*c,e[4]=-s*l,e[8]=u,e[1]=f+d*u,e[5]=h-p*u,e[9]=-a*s,e[2]=p-h*u,e[6]=d+f*u,e[10]=o*s}else if("YXZ"===t.order){var m=s*c,v=s*l,g=u*c,y=u*l;e[0]=m+y*a,e[4]=g*a-v,e[8]=o*u,e[1]=o*l,e[5]=o*c,e[9]=-a,e[2]=v*a-g,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order){var m=s*c,v=s*l,g=u*c,y=u*l;e[0]=m-y*a,e[4]=-o*l,e[8]=g+v*a,e[1]=v+g*a,e[5]=o*c,e[9]=y-m*a,e[2]=-o*u,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){var h=o*c,f=o*l,d=a*c,p=a*l;e[0]=s*c,e[4]=d*u-f,e[8]=h*u+p,e[1]=s*l,e[5]=p*u+h,e[9]=f*u-d,e[2]=-u,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var b=o*s,x=o*u,_=a*s,w=a*u;e[0]=s*c,e[4]=w-b*l,e[8]=_*l+x,e[1]=l,e[5]=o*c,e[9]=-a*c,e[2]=-u*c,e[6]=x*l+_,e[10]=b-w*l}else if("XZY"===t.order){var b=o*s,x=o*u,_=a*s,w=a*u;e[0]=s*c,e[4]=-l,e[8]=u*c,e[1]=b*l+w,e[5]=o*c,e[9]=x*l-_,e[2]=_*l-x,e[6]=a*c,e[10]=w*l+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t._x,r=t._y,i=t._z,o=t._w,a=n+n,s=r+r,u=i+i,c=n*a,l=n*s,h=n*u,f=r*s,d=r*u,p=i*u,m=o*a,v=o*s,g=o*u;return e[0]=1-(f+p),e[4]=l-g,e[8]=h+v,e[1]=l+g,e[5]=1-(c+p),e[9]=d-m,e[2]=h-v,e[6]=d+m,e[10]=1-(c+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(i,o,a){var s=this.elements;return n.subVectors(i,o),0===n.lengthSq()&&(n.z=1),n.normalize(),t.crossVectors(a,n),0===t.lengthSq()&&(n.z+=1e-4,t.crossVectors(a,n)),t.normalize(),e.crossVectors(n,t),s[0]=t.x,s[4]=e.x,s[8]=n.x,s[1]=t.y,s[5]=e.y,s[9]=n.y,s[2]=t.z,s[6]=e.z,s[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],f=n[13],d=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],E=r[8],M=r[12],S=r[1],T=r[5],A=r[9],C=r[13],O=r[2],P=r[6],L=r[10],R=r[14],k=r[3],N=r[7],I=r[11],j=r[15];return i[0]=o*_+a*S+s*O+u*k,i[4]=o*w+a*T+s*P+u*N,i[8]=o*E+a*A+s*L+u*I,i[12]=o*M+a*C+s*R+u*j,i[1]=c*_+l*S+h*O+f*k,i[5]=c*w+l*T+h*P+f*N,i[9]=c*E+l*A+h*L+f*I,i[13]=c*M+l*C+h*R+f*j,i[2]=d*_+p*S+m*O+v*k,i[6]=d*w+p*T+m*P+v*N,i[10]=d*E+p*A+m*L+v*I,i[14]=d*M+p*C+m*R+v*j,i[3]=g*_+y*S+b*O+x*k,i[7]=g*w+y*T+b*P+x*N,i[11]=g*E+y*A+b*L+x*I,i[15]=g*M+y*C+b*R+x*j,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new Vector3;return function e(n){for(var r=0,i=n.count;r<i;r++)t.x=n.getX(r),t.y=n.getY(r),t.z=n.getZ(r),t.applyMatrix4(this),n.setXYZ(r,t.x,t.y,t.z);return n}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],u=t[13],c=t[2],l=t[6],h=t[10],f=t[14];return t[3]*(+i*s*l-r*u*l-i*a*h+n*u*h+r*a*f-n*s*f)+t[7]*(+e*s*f-e*u*h+i*o*h-r*o*f+r*u*c-i*s*c)+t[11]*(+e*u*l-e*a*f-i*o*l+n*o*f+i*a*c-n*u*c)+t[15]*(-r*a*c-e*s*l+e*a*h+r*o*l-n*o*h+n*s*c)},transpose:function(){var t=this.elements,e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=r[7],f=r[8],d=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15],x=d*y*h-g*p*h+g*l*m-c*y*m-d*l*b+c*p*b,_=v*p*h-f*y*h-v*l*m+u*y*m+f*l*b-u*p*b,w=f*g*h-v*d*h+v*c*m-u*g*m-f*c*b+u*d*b,E=v*d*l-f*g*l-v*c*p+u*g*p+f*c*y-u*d*y,M=i*x+o*_+a*w+s*E;if(0===M){var S="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(S);return console.warn(S),this.identity()}var T=1/M;return n[0]=x*T,n[1]=(g*p*s-d*y*s-g*a*m+o*y*m+d*a*b-o*p*b)*T,n[2]=(c*y*s-g*l*s+g*a*h-o*y*h-c*a*b+o*l*b)*T,n[3]=(d*l*s-c*p*s-d*a*h+o*p*h+c*a*m-o*l*m)*T,n[4]=_*T,n[5]=(f*y*s-v*p*s+v*a*m-i*y*m-f*a*b+i*p*b)*T,n[6]=(v*l*s-u*y*s-v*a*h+i*y*h+u*a*b-i*l*b)*T,n[7]=(u*p*s-f*l*s+f*a*h-i*p*h-u*a*m+i*l*m)*T,n[8]=w*T,n[9]=(v*d*s-f*g*s-v*o*m+i*g*m+f*o*b-i*d*b)*T,n[10]=(u*g*s-v*c*s+v*o*h-i*g*h-u*o*b+i*c*b)*T,n[11]=(f*c*s-u*d*s-f*o*h+i*d*h+u*o*m-i*c*m)*T,n[12]=E*T,n[13]=(f*g*a-v*d*a+v*o*p-i*g*p-f*o*y+i*d*y)*T,n[14]=(v*c*a-u*g*a-v*o*l+i*g*l+u*o*y-i*c*y)*T,n[15]=(u*d*a-f*c*a+f*o*l-i*d*l-u*o*p+i*c*p)*T,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t=new Vector3,e=new Matrix4;return function n(r,i,o){var a=this.elements,s=t.set(a[0],a[1],a[2]).length(),u=t.set(a[4],a[5],a[6]).length(),c=t.set(a[8],a[9],a[10]).length();this.determinant()<0&&(s=-s),r.x=a[12],r.y=a[13],r.z=a[14],e.copy(this);var l=1/s,h=1/u,f=1/c;return e.elements[0]*=l,e.elements[1]*=l,e.elements[2]*=l,e.elements[4]*=h,e.elements[5]*=h,e.elements[6]*=h,e.elements[8]*=f,e.elements[9]*=f,e.elements[10]*=f,i.setFromRotationMatrix(e),o.x=s,o.y=u,o.z=c,this}}(),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(e-t),u=2*i/(n-r),c=(e+t)/(e-t),l=(n+r)/(n-r),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=1/(e-t),u=1/(n-r),c=1/(o-i),l=(e+t)*s,h=(n+r)*u,f=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),DataTexture.prototype=Object.create(Texture.prototype),DataTexture.prototype.constructor=DataTexture,DataTexture.prototype.isDataTexture=!0,CubeTexture.prototype=Object.create(Texture.prototype),CubeTexture.prototype.constructor=CubeTexture,CubeTexture.prototype.isCubeTexture=!0,Object.defineProperty(CubeTexture.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var Dt=new Texture,Bt=new CubeTexture,Ft=[],Ut=[],Gt=new Float32Array(16),zt=new Float32Array(9);k.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(t,e[o.id])}};var Vt=/([\w\d_]+)(\])?(\[|\.)?/g;j.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},j.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},j.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},j.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n};var Ht={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(Color.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function e(n,r,i){if(n=It.euclideanModulo(n,1),r=It.clamp(r,0,1),i=It.clamp(i,0,1),0===r)this.r=this.g=this.b=i;else{var o=i<=.5?i*(1+r):i+r-i*r,a=2*i-o;this.r=t(a,o,n+1/3),this.g=t(a,o,n),this.b=t(a,o,n-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c=n[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(t&&t.length>0){var c=Ht[t];void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e=t||{h:0,s:0,l:0},n=this.r,r=this.g,i=this.b,o=Math.max(n,r,i),a=Math.min(n,r,i),s,u,c=(a+o)/2;if(a===o)s=0,u=0;else{var l=o-a;switch(u=c<=.5?l/(o+a):l/(2-o-a),o){case n:s=(r-i)/l+(r<i?6:0);break;case r:s=(i-n)/l+2;break;case i:s=(n-r)/l+4}s/=6}return e.h=s,e.s=u,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var UniformsLib={common:{diffuse:{value:new Color(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new Vector4(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Color(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new Vector4(0,0,1,1)}}},UniformsUtils={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var r in t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}},Wt="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",qt="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",Xt="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",Yt="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",Kt="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",Zt="\nvec3 transformed = vec3( position );\n",Qt="\nvec3 objectNormal = vec3( normal );\n",Jt="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",$t="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",te="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",ee="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",ne="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",re="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",ie="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",oe="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",ae="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",se="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",ue="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",ce="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",le="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",he="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",fe="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",de="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",pe="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",me="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",ve="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",ge="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",ye="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",be="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",xe="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",_e="\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",we="#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",Ee="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",Me="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",Se="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",Te="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",Ae="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Ce="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",Oe="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",Pe="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",Le="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",Re="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",ke="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",Ne="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",Ie="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",je="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",De="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",Be="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",Fe="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",Ue="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",Ge="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",ze="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",Ve="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",He="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",We="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",qe="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",Xe="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",Ye="#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",Ke="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",Ze="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",Qe="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",Je="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",$e="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",tn="#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",en="#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",nn="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",rn="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",on="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",an="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",sn="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",un="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",cn="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",ln="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",hn="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",fn="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",dn="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",pn="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",mn="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",vn="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",gn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",yn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",bn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",xn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",_n="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",wn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",En="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",Mn="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",Sn="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",Tn="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",An="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Cn="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",On="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",Pn="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",Ln="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",Rn="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",kn="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",Nn="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",In="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",jn="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",Dn="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Bn="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",Fn="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Un="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",Gn="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",zn="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",Vn="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",Hn="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Wn="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",qn="uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",Xn="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",ShaderChunk={alphamap_fragment:Wt,alphamap_pars_fragment:qt,alphatest_fragment:Xt,aomap_fragment:Yt,aomap_pars_fragment:Kt,begin_vertex:Zt,beginnormal_vertex:Qt,bsdfs:Jt,bumpmap_pars_fragment:$t,clipping_planes_fragment:te,clipping_planes_pars_fragment:ee,clipping_planes_pars_vertex:ne,clipping_planes_vertex:re,color_fragment:ie,color_pars_fragment:oe,color_pars_vertex:ae,color_vertex:se,common:ue,cube_uv_reflection_fragment:ce,defaultnormal_vertex:le,displacementmap_pars_vertex:he,displacementmap_vertex:fe,emissivemap_fragment:de,emissivemap_pars_fragment:pe,encodings_fragment:me,encodings_pars_fragment:ve,envmap_fragment:ge,envmap_pars_fragment:ye,envmap_pars_vertex:be,envmap_vertex:xe,fog_vertex:_e,fog_pars_vertex:we,fog_fragment:Ee,fog_pars_fragment:Me,gradientmap_pars_fragment:Se,lightmap_fragment:Te,lightmap_pars_fragment:Ae,lights_lambert_vertex:Ce,lights_pars:Oe,lights_phong_fragment:Pe,lights_phong_pars_fragment:Le,lights_physical_fragment:Re,lights_physical_pars_fragment:ke,lights_template:Ne,logdepthbuf_fragment:Ie,logdepthbuf_pars_fragment:je,logdepthbuf_pars_vertex:De,logdepthbuf_vertex:Be,map_fragment:Fe,map_pars_fragment:Ue,map_particle_fragment:Ge,map_particle_pars_fragment:ze,metalnessmap_fragment:Ve,metalnessmap_pars_fragment:He,morphnormal_vertex:We,morphtarget_pars_vertex:qe,morphtarget_vertex:Xe,normal_flip:Ye,normal_fragment:Ke,normalmap_pars_fragment:Ze,packing:Qe,premultiplied_alpha_fragment:Je,project_vertex:$e,dithering_fragment:tn,dithering_pars_fragment:en,roughnessmap_fragment:nn,roughnessmap_pars_fragment:rn,shadowmap_pars_fragment:on,shadowmap_pars_vertex:an,shadowmap_vertex:sn,shadowmask_pars_fragment:un,skinbase_vertex:cn,skinning_pars_vertex:ln,skinning_vertex:hn,skinnormal_vertex:fn,specularmap_fragment:dn,specularmap_pars_fragment:pn,tonemapping_fragment:mn,tonemapping_pars_fragment:vn,uv_pars_fragment:gn,uv_pars_vertex:yn,uv_vertex:bn,uv2_pars_fragment:xn,uv2_pars_vertex:_n,uv2_vertex:wn,worldpos_vertex:En,cube_frag:Mn,cube_vert:Sn,depth_frag:Tn,depth_vert:An,distanceRGBA_frag:Cn,distanceRGBA_vert:On,equirect_frag:Pn,equirect_vert:Ln,linedashed_frag:Rn,linedashed_vert:kn,meshbasic_frag:Nn,meshbasic_vert:In,meshlambert_frag:jn,meshlambert_vert:Dn,meshphong_frag:Bn,meshphong_vert:Fn,meshphysical_frag:Un,meshphysical_vert:Gn,normal_frag:zn,normal_vert:Vn,points_frag:Hn,points_vert:Wn,shadow_frag:qn,shadow_vert:Xn},ShaderLib={basic:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},points:{uniforms:UniformsUtils.merge([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.normal_vert,fragmentShader:ShaderChunk.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new Vector3}},vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag}};ShaderLib.physical={uniforms:UniformsUtils.merge([ShaderLib.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},Object.assign(Box2.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Vector2;return function e(n,r){var i=t.copy(r).multiplyScalar(.5);return this.min.copy(n).sub(i),this.max.copy(n).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new Vector2;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new Vector2;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new Vector2).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new Vector2).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Vector2;return function e(n){return t.copy(n).clamp(this.min,this.max).sub(n).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var Yn=0;Object.assign(Material.prototype,EventDispatcher.prototype,{isMaterial:!0,setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t;n&&(t={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(r.blending=this.blending),this.shading!==SmoothShading&&(r.shading=this.shading),this.side!==FrontSide&&(r.side=this.side),this.vertexColors!==NoColors&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),r.skinning=this.skinning,r.morphTargets=this.morphTargets,r.dithering=this.dithering,n){var i=e(t.textures),o=e(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ShaderMaterial.prototype=Object.create(Material.prototype),ShaderMaterial.prototype.constructor=ShaderMaterial,ShaderMaterial.prototype.isShaderMaterial=!0,ShaderMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=UniformsUtils.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},ShaderMaterial.prototype.toJSON=function(t){var e=Material.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},MeshDepthMaterial.prototype=Object.create(Material.prototype),MeshDepthMaterial.prototype.constructor=MeshDepthMaterial,MeshDepthMaterial.prototype.isMeshDepthMaterial=!0,MeshDepthMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Object.assign(Box3.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=t.length;s<u;s+=3){var c=t[s],l=t[s+1],h=t[s+2];c<e&&(e=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=t.count;s<u;s++){var c=t.getX(s),l=t.getY(s),h=t.getZ(s);c<e&&(e=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Vector3;return function e(n,r){var i=t.copy(r).multiplyScalar(.5);return this.min.copy(n).sub(i),this.max.copy(n).add(i),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new Vector3;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new Vector3;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t=new Vector3;return function e(n){var r=this;return n.updateMatrixWorld(!0),n.traverse(function(e){var n,i,o=e.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(n=0,i=a.length;n<i;n++)t.copy(a[n]),t.applyMatrix4(e.matrixWorld),r.expandByPoint(t)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(n=0,i=s.count;n<i;n++)t.fromBufferAttribute(s,n).applyMatrix4(e.matrixWorld),r.expandByPoint(t)}}),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new Vector3).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new Vector3;return function e(n){return this.clampPoint(n.center,t),t.distanceToSquared(n.center)<=n.radius*n.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new Vector3).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Vector3;return function e(n){return t.copy(n).clamp(this.min,this.max).sub(n).length()}}(),getBoundingSphere:function(){var t=new Vector3;return function e(n){var r=n||new Sphere;return this.getCenter(r.center),r.radius=.5*this.getSize(t).length(),r}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3];return function e(n){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(n),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(n),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(n),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(n),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(n),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(n),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(n),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(n),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(Sphere.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new Box3;return function e(n,r){var i=this.center;void 0!==r?i.copy(r):t.setFromPoints(n).getCenter(i);for(var o=0,a=0,s=n.length;a<s;a++)o=Math.max(o,i.distanceToSquared(n[a]));return this.radius=Math.sqrt(o),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new Vector3;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new Box3;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(Matrix3.prototype,{isMatrix3:!0,set:function(t,e,n,r,i,o,a,s,u){var c=this.elements;return c[0]=t,c[1]=r,c[2]=a,c[3]=e,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new Vector3;return function e(n){for(var r=0,i=n.count;r<i;r++)t.x=n.getX(r),t.y=n.getY(r),t.z=n.getZ(r),t.applyMatrix3(this),n.setXYZ(r,t.x,t.y,t.z);return n}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[3],s=n[6],u=n[1],c=n[4],l=n[7],h=n[2],f=n[5],d=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return i[0]=o*p+a*g+s*x,i[3]=o*m+a*y+s*_,i[6]=o*v+a*b+s*w,i[1]=u*p+c*g+l*x,i[4]=u*m+c*y+l*_,i[7]=u*v+c*b+l*w,i[2]=h*p+f*g+d*x,i[5]=h*m+f*y+d*_,i[8]=h*v+f*b+d*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*o*c-e*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],h=n[7],f=n[8],d=f*u-c*h,p=c*l-f*s,m=h*s-u*l,v=i*d+o*p+a*m;if(0===v){var g="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=d*y,r[1]=(a*h-f*o)*y,r[2]=(c*o-a*u)*y,r[3]=p*y,r[4]=(f*i-a*l)*y,r[5]=(a*s-c*i)*y,r[6]=m*y,r[7]=(o*l-h*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}),Object.assign(Plane.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new Vector3,e=new Vector3;return function n(r,i,o){var a=t.subVectors(o,i).cross(e.subVectors(r,i)).normalize();return this.setFromNormalAndCoplanarPoint(a,r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new Vector3).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new Vector3;return function e(n,r){var i=r||new Vector3,o=n.delta(t),a=this.normal.dot(o);if(0!==a){var s=-(n.start.dot(this.normal)+this.constant)/a;if(!(s<0||s>1))return i.copy(o).multiplyScalar(s).add(n.start)}else if(0===this.distanceToPoint(n.start))return i.copy(n.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new Vector3,e=new Matrix3;return function n(r,i){var o=this.coplanarPoint(t).applyMatrix4(r),a=i||e.getNormalMatrix(r),s=this.normal.applyMatrix3(a).normalize();return this.constant=-o.dot(s),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(Frustum.prototype,{set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return e[0].setComponents(a-r,l-s,p-h,y-m).normalize(),e[1].setComponents(a+r,l+s,p+h,y+m).normalize(),e[2].setComponents(a+i,l+u,p+f,y+v).normalize(),e[3].setComponents(a-i,l-u,p-f,y-v).normalize(),e[4].setComponents(a-o,l-c,p-d,y-g).normalize(),e[5].setComponents(a+o,l+c,p+d,y+g).normalize(),this},intersectsObject:function(){var t=new Sphere;return function e(n){var r=n.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),t.copy(r.boundingSphere).applyMatrix4(n.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new Sphere;return function e(n){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(n.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var t=new Vector3,e=new Vector3;return function n(r){for(var i=this.planes,o=0;o<6;o++){var a=i[o];t.x=a.normal.x>0?r.min.x:r.max.x,e.x=a.normal.x>0?r.max.x:r.min.x,t.y=a.normal.y>0?r.min.y:r.max.y,e.y=a.normal.y>0?r.max.y:r.min.y,t.z=a.normal.z>0?r.min.z:r.max.z,e.z=a.normal.z>0?r.max.z:r.min.z;var s=a.distanceToPoint(t),u=a.distanceToPoint(e);if(s<0&&u<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}),Object.assign(Ray.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new Vector3).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new Vector3;return function e(n){return this.origin.copy(this.at(n,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new Vector3;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new Vector3;return function e(n){var r=t.subVectors(n,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(n):(t.copy(this.direction).multiplyScalar(r).add(this.origin),t.distanceToSquared(n))}}(),distanceSqToSegment:function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(i,o,a,s){t.copy(i).add(o).multiplyScalar(.5),e.copy(o).sub(i).normalize(),n.copy(this.origin).sub(t);var u=.5*i.distanceTo(o),c=-this.direction.dot(e),l=n.dot(this.direction),h=-n.dot(e),f=n.lengthSq(),d=Math.abs(1-c*c),p,m,v,g;if(d>0)if(p=c*h-l,m=c*l-h,g=u*d,p>=0)if(m>=-g)if(m<=g){var y=1/d;p*=y,m*=y,v=p*(p+c*m+2*l)+m*(c*p+m+2*h)+f}else m=u,p=Math.max(0,-(c*m+l)),v=-p*p+m*(m+2*h)+f;else m=-u,p=Math.max(0,-(c*m+l)),v=-p*p+m*(m+2*h)+f;else m<=-g?(p=Math.max(0,-(-c*u+l)),m=p>0?-u:Math.min(Math.max(-u,-h),u),v=-p*p+m*(m+2*h)+f):m<=g?(p=0,m=Math.min(Math.max(-u,-h),u),v=m*(m+2*h)+f):(p=Math.max(0,-(c*u+l)),m=p>0?u:Math.min(Math.max(-u,-h),u),v=-p*p+m*(m+2*h)+f);else m=c>0?-u:u,p=Math.max(0,-(c*m+l)),v=-p*p+m*(m+2*h)+f;return a&&a.copy(this.direction).multiplyScalar(p).add(this.origin),s&&s.copy(e).multiplyScalar(m).add(t),v}}(),intersectSphere:function(){var t=new Vector3;return function e(n,r){t.subVectors(n.center,this.origin);var i=t.dot(this.direction),o=t.dot(t)-i*i,a=n.radius*n.radius;if(o>a)return null;var s=Math.sqrt(a-o),u=i-s,c=i+s;return u<0&&c<0?null:u<0?this.at(c,r):this.at(u,r)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(n=(t.min.x-h.x)*u,r=(t.max.x-h.x)*u):(n=(t.max.x-h.x)*u,r=(t.min.x-h.x)*u),c>=0?(i=(t.min.y-h.y)*c,o=(t.max.y-h.y)*c):(i=(t.max.y-h.y)*c,o=(t.min.y-h.y)*c),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(a=(t.min.z-h.z)*l,s=(t.max.z-h.z)*l):(a=(t.max.z-h.z)*l,s=(t.min.z-h.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(){var t=new Vector3;return function e(n){return null!==this.intersectBox(n,t)}}(),intersectTriangle:function(){var t=new Vector3,e=new Vector3,n=new Vector3,r=new Vector3;return function i(o,a,s,u,c){e.subVectors(a,o),n.subVectors(s,o),r.crossVectors(e,n);var l=this.direction.dot(r),h;if(l>0){if(u)return null;h=1}else{if(!(l<0))return null;h=-1,l=-l}t.subVectors(this.origin,o);var f=h*this.direction.dot(n.crossVectors(t,n));if(f<0)return null;var d=h*this.direction.dot(e.cross(t));if(d<0)return null;if(f+d>l)return null;var p=-h*t.dot(r);return p<0?null:this.at(p/l,c)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Euler.DefaultOrder="XYZ",Object.defineProperties(Euler.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(Euler.prototype,{isEuler:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=It.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],h=i[2],f=i[6],d=i[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===e?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,d),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Matrix4;return function e(n,r,i){return t.makeRotationFromQuaternion(n),this.setFromRotationMatrix(t,r,i)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new Quaternion;return function e(n){return t.setFromEuler(this),this.setFromQuaternion(t,n)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Vector3(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Layers.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!==(this.mask&t.mask)}});var Kn=0;Object3D.DefaultUp=new Vector3(0,1,0),Object3D.DefaultMatrixAutoUpdate=!0,Object.assign(Object3D.prototype,EventDispatcher.prototype,{isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new Quaternion;return function e(n,r){return t.setFromAxisAngle(n,r),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new Vector3(1,0,0);return function e(n){return this.rotateOnAxis(t,n)}}(),rotateY:function(){var t=new Vector3(0,1,0);return function e(n){return this.rotateOnAxis(t,n)}}(),rotateZ:function(){var t=new Vector3(0,0,1);return function e(n){return this.rotateOnAxis(t,n)}}(),translateOnAxis:function(){var t=new Vector3;return function e(n,r){return t.copy(n).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(r)),this}}(),translateX:function(){var t=new Vector3(1,0,0);return function e(n){return this.translateOnAxis(t,n)}}(),translateY:function(){var t=new Vector3(0,1,0);return function e(n){return this.translateOnAxis(t,n)}}(),translateZ:function(){var t=new Vector3(0,0,1);return function e(n){return this.translateOnAxis(t,n)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new Matrix4;return function e(n){return n.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new Matrix4;return function e(n){this.isCamera?t.lookAt(this.position,n,this.up):t.lookAt(n,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){var e=t||new Vector3;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new Vector3,e=new Vector3;return function n(r){var i=r||new Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,i,e),i}}(),getWorldRotation:function(){var t=new Quaternion;return function e(n){var r=n||new Euler;return this.getWorldQuaternion(t),r.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new Vector3,e=new Quaternion;return function n(r){var i=r||new Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(){var t=new Quaternion;return function e(n){var r=n||new Vector3;return this.getWorldQuaternion(t),r.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}function n(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var r=void 0===t||""===t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),o.matrix=this.matrix.toArray(),void 0!==this.geometry&&(o.geometry=e(t.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var a=[],s=0,u=this.material.length;s<u;s++)a.push(e(t.materials,this.material[s]));o.material=a}else o.material=e(t.materials,this.material);if(this.children.length>0){o.children=[];for(var s=0;s<this.children.length;s++)o.children.push(this.children[s].toJSON(t).object)}if(r){var c=n(t.geometries),l=n(t.materials),h=n(t.textures),f=n(t.images);c.length>0&&(i.geometries=c),l.length>0&&(i.materials=l),h.length>0&&(i.textures=h),f.length>0&&(i.images=f)}return i.object=o,i},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}}),Object.assign(Line3.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new Vector3;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new Vector3,e=new Vector3;return function n(r,i){t.subVectors(r,this.start),e.subVectors(this.end,this.start);var o=e.dot(e),a=e.dot(t),s=a/o;return i&&(s=It.clamp(s,0,1)),s}}(),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new Vector3;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Object.assign(Triangle,{normal:function(){var t=new Vector3;return function e(n,r,i,o){var a=o||new Vector3;a.subVectors(i,r),t.subVectors(n,r),a.cross(t);var s=a.lengthSq();return s>0?a.multiplyScalar(1/Math.sqrt(s)):a.set(0,0,0)}}(),barycoordFromPoint:function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(i,o,a,s,u){t.subVectors(s,o),e.subVectors(a,o),n.subVectors(i,o);var c=t.dot(t),l=t.dot(e),h=t.dot(n),f=e.dot(e),d=e.dot(n),p=c*f-l*l,m=u||new Vector3;if(0===p)return m.set(-2,-1,-1);var v=1/p,g=(f*h-l*d)*v,y=(c*d-l*h)*v;return m.set(1-g-y,y,g)}}(),containsPoint:function(){var t=new Vector3;return function e(n,r,i,o){var a=Triangle.barycoordFromPoint(n,r,i,o,t);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}()}),Object.assign(Triangle.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new Vector3,e=new Vector3;return function n(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return Triangle.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return Triangle.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return Triangle.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t=new Plane,e=[new Line3,new Line3,new Line3],n=new Vector3,r=new Vector3;return function i(o,a){var s=a||new Vector3,u=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(o,n),!0===this.containsPoint(n))s.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var c=0;c<e.length;c++){e[c].closestPointToPoint(n,!0,r);var l=n.distanceToSquared(r);l<u&&(u=l,s.copy(r))}}return s}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Object.assign(Face3.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),MeshBasicMaterial.prototype=Object.create(Material.prototype),MeshBasicMaterial.prototype.constructor=MeshBasicMaterial,MeshBasicMaterial.prototype.isMeshBasicMaterial=!0,MeshBasicMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Object.defineProperty(BufferAttribute.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(BufferAttribute.prototype,{isBufferAttribute:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Color),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Vector2),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Vector3),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Vector4),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),Int8BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int8BufferAttribute.prototype.constructor=Int8BufferAttribute,Uint8BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint8BufferAttribute.prototype.constructor=Uint8BufferAttribute,Uint8ClampedBufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint8ClampedBufferAttribute.prototype.constructor=Uint8ClampedBufferAttribute,Int16BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int16BufferAttribute.prototype.constructor=Int16BufferAttribute,Uint16BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint16BufferAttribute.prototype.constructor=Uint16BufferAttribute,Int32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int32BufferAttribute.prototype.constructor=Int32BufferAttribute,Uint32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint32BufferAttribute.prototype.constructor=Uint32BufferAttribute,Float32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Float32BufferAttribute.prototype.constructor=Float32BufferAttribute,Float64BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Float64BufferAttribute.prototype.constructor=Float64BufferAttribute,Object.assign(U.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e=t.faces,n=t.vertices,r=t.faceVertexUvs,i=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,a=t.morphTargets,s=a.length,u;if(s>0){u=[];for(var c=0;c<s;c++)u[c]=[];this.morphTargets.position=u}var l=t.morphNormals,h=l.length,f;if(h>0){f=[];for(var c=0;c<h;c++)f[c]=[];this.morphTargets.normal=f}for(var d=t.skinIndices,p=t.skinWeights,m=d.length===n.length,v=p.length===n.length,c=0;c<e.length;c++){var g=e[c];this.vertices.push(n[g.a],n[g.b],n[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=g.normal;this.normals.push(b,b,b)}var x=g.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var _=g.color;this.colors.push(_,_,_)}if(!0===i){var w=r[0][c];void 0!==w?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new Vector2,new Vector2,new Vector2))}if(!0===o){var w=r[1][c];void 0!==w?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new Vector2,new Vector2,new Vector2))}for(var E=0;E<s;E++){var M=a[E].vertices;u[E].push(M[g.a],M[g.b],M[g.c])}for(var E=0;E<h;E++){var S=l[E].vertexNormals[c];f[E].push(S.a,S.b,S.c)}m&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),v&&this.skinWeights.push(p[g.a],p[g.b],p[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Zn=0;Object.assign(Geometry.prototype,EventDispatcher.prototype,{isGeometry:!0,applyMatrix:function(t){for(var e=(new Matrix3).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(var n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Matrix4;return function e(n){return t.makeRotationX(n),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Matrix4;return function e(n){return t.makeRotationY(n),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Matrix4;return function e(n){return t.makeRotationZ(n),this.applyMatrix(t),this}}(),translate:function(){var t=new Matrix4;return function e(n,r,i){return t.makeTranslation(n,r,i),this.applyMatrix(t),this}}(),scale:function(){var t=new Matrix4;return function e(n,r,i){return t.makeScale(n,r,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Object3D;return function e(n){t.lookAt(n),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,r,i){var o=void 0!==a?[l[t].clone(),l[e].clone(),l[r].clone()]:[],d=void 0!==s?[n.colors[t].clone(),n.colors[e].clone(),n.colors[r].clone()]:[],p=new Face3(t,e,r,o,d,i);n.faces.push(p),void 0!==u&&n.faceVertexUvs[0].push([h[t].clone(),h[e].clone(),h[r].clone()]),void 0!==c&&n.faceVertexUvs[1].push([f[t].clone(),f[e].clone(),f[r].clone()])}var n=this,r=null!==t.index?t.index.array:void 0,i=t.attributes,o=i.position.array,a=void 0!==i.normal?i.normal.array:void 0,s=void 0!==i.color?i.color.array:void 0,u=void 0!==i.uv?i.uv.array:void 0,c=void 0!==i.uv2?i.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var l=[],h=[],f=[],d=0,p=0;d<o.length;d+=3,p+=2)n.vertices.push(new Vector3(o[d],o[d+1],o[d+2])),void 0!==a&&l.push(new Vector3(a[d],a[d+1],a[d+2])),void 0!==s&&n.colors.push(new Color(s[d],s[d+1],s[d+2])),void 0!==u&&h.push(new Vector2(u[p],u[p+1])),void 0!==c&&f.push(new Vector2(c[p],c[p+1]));var m=t.groups;if(m.length>0)for(var d=0;d<m.length;d++)for(var v=m[d],g=v.start,y=v.count,p=g,b=g+y;p<b;p+=3)void 0!==r?e(r[p],r[p+1],r[p+2],v.materialIndex):e(p,p+1,p+2,v.materialIndex);else if(void 0!==r)for(var d=0;d<r.length;d+=3)e(r[d],r[d+1],r[d+2]);else for(var d=0;d<o.length/3;d+=3)e(d,d+1,d+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new Matrix4;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new Vector3,e=new Vector3,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,r,i,o,a;for(a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new Vector3;if(t){var s,u,c,l=new Vector3,h=new Vector3;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],l.subVectors(c,u),h.subVectors(s,u),l.cross(h),a[o.a].add(l),a[o.b].add(l),a[o.c].add(l)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var f=o.vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new Geometry;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals,u,c;for(n=0,r=this.faces.length;n<r;n++)u=new Vector3,c={a:new Vector3,b:new Vector3,c:new Vector3},a.push(u),s.push(c)}var l=this.morphNormals[t];o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals();var u,c;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],u=l.faceNormals[n],c=l.vertexNormals[n],u.copy(i.normal),c.a.copy(i.vertexNormals[0]),c.b.copy(i.vertexNormals[1]),c.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!1===(t&&t.isGeometry))return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var r,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,u=t.faces,c=this.faceVertexUvs[0],l=t.faceVertexUvs[0],h=this.colors,f=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new Matrix3).getNormalMatrix(e));for(var d=0,p=a.length;d<p;d++){var m=a[d],v=m.clone();void 0!==e&&v.applyMatrix4(e),o.push(v)}for(var d=0,p=f.length;d<p;d++)h.push(f[d].clone());for(d=0,p=u.length;d<p;d++){var g=u[d],y,b,x,_=g.vertexNormals,w=g.vertexColors;y=new Face3(g.a+i,g.b+i,g.c+i),y.normal.copy(g.normal),void 0!==r&&y.normal.applyMatrix3(r).normalize();for(var E=0,M=_.length;E<M;E++)b=_[E].clone(),void 0!==r&&b.applyMatrix3(r).normalize(),y.vertexNormals.push(b);y.color.copy(g.color);for(var E=0,M=w.length;E<M;E++)x=w[E],y.vertexColors.push(x.clone());y.materialIndex=g.materialIndex+n,s.push(y)}for(d=0,p=l.length;d<p;d++){var S=l[d],T=[];if(void 0!==S){for(var E=0,M=S.length;E<M;E++)T.push(S[E].clone());c.push(T)}}},mergeMesh:function(t){if(!1===(t&&t.isMesh))return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(){var t={},e=[],n=[],r,i,o=4,a=Math.pow(10,4),s,u,c,l,h,f;for(s=0,u=this.vertices.length;s<u;s++)r=this.vertices[s],i=Math.round(r.x*a)+"_"+Math.round(r.y*a)+"_"+Math.round(r.z*a),void 0===t[i]?(t[i]=s,e.push(this.vertices[s]),n[s]=e.length-1):n[s]=n[t[i]];var d=[];for(s=0,u=this.faces.length;s<u;s++){c=this.faces[s],c.a=n[c.a],c.b=n[c.b],c.c=n[c.c],l=[c.a,c.b,c.c];for(var p=0;p<3;p++)if(l[p]===l[(p+1)%3]){d.push(s);break}}for(s=d.length-1;s>=0;s--){var m=d[s];for(this.faces.splice(m,1),h=0,f=this.faceVertexUvs.length;h<f;h++)this.faceVertexUvs[h].splice(m,1)}var v=this.vertices.length-e.length;return this.vertices=e,v},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,r=0;r<n;r++)e[r]._id=r;e.sort(t);var i=this.faceVertexUvs[0],o=this.faceVertexUvs[1],a,s;i&&i.length===n&&(a=[]),o&&o.length===n&&(s=[]);for(var r=0;r<n;r++){var u=e[r]._id;a&&a.push(i[u]),s&&s.push(o[u])}a&&(this.faceVertexUvs[0]=a),s&&(this.faceVertexUvs[1]=s)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==f[e]?f[e]:(f[e]=h.length/3,h.push(t.x,t.y,t.z),f[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==p[e]?p[e]:(p[e]=d.length,d.push(t.getHex()),p[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==v[e]?v[e]:(v[e]=m.length/2,m.push(t.x,t.y),v[e])}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var c=this.vertices[u];s.push(c.x,c.y,c.z)}for(var l=[],h=[],f={},d=[],p={},m=[],v={},u=0;u<this.faces.length;u++){var g=this.faces[u],y=!0,b=!1,x=void 0!==this.faceVertexUvs[0][u],_=g.normal.length()>0,w=g.vertexNormals.length>0,E=1!==g.color.r||1!==g.color.g||1!==g.color.b,M=g.vertexColors.length>0,S=0;if(S=t(S,0,0),S=t(S,1,!0),S=t(S,2,!1),S=t(S,3,x),S=t(S,4,_),S=t(S,5,w),S=t(S,6,E),S=t(S,7,M),l.push(S),l.push(g.a,g.b,g.c),l.push(g.materialIndex),x){var T=this.faceVertexUvs[0][u];l.push(r(T[0]),r(T[1]),r(T[2]))}if(_&&l.push(e(g.normal)),w){var A=g.vertexNormals;l.push(e(A[0]),e(A[1]),e(A[2]))}if(E&&l.push(n(g.color)),M){var C=g.vertexColors;l.push(n(C[0]),n(C[1]),n(C[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,d.length>0&&(i.data.colors=d),m.length>0&&(i.data.uvs=[m]),i.data.faces=l,i},clone:function(){return(new Geometry).copy(this)},copy:function(t){var e,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,n=u.length;e<n;e++)this.colors.push(u[e].clone());var c=t.faces;for(e=0,n=c.length;e<n;e++)this.faces.push(c[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var l=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=l.length;r<i;r++){var h=l[r],f=[];for(o=0,a=h.length;o<a;o++){var d=h[o];f.push(d.clone())}this.faceVertexUvs[e].push(f)}}var p=t.morphTargets;for(e=0,n=p.length;e<n;e++){var m={};if(m.name=p[e].name,void 0!==p[e].vertices)for(m.vertices=[],r=0,i=p[e].vertices.length;r<i;r++)m.vertices.push(p[e].vertices[r].clone());if(void 0!==p[e].normals)for(m.normals=[],r=0,i=p[e].normals.length;r<i;r++)m.normals.push(p[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,n=v.length;e<n;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,i=v[e].vertexNormals.length;r<i;r++){var y=v[e].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),g.vertexNormals.push(b)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,i=v[e].faceNormals.length;r<i;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var x=t.skinWeights;for(e=0,n=x.length;e<n;e++)this.skinWeights.push(x[e].clone());var _=t.skinIndices;for(e=0,n=_.length;e<n;e++)this.skinIndices.push(_[e].clone());var w=t.lineDistances;for(e=0,n=w.length;e<n;e++)this.lineDistances.push(w[e]);var E=t.boundingBox;null!==E&&(this.boundingBox=E.clone());var M=t.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),BufferGeometry.MaxIndex=65535,Object.assign(BufferGeometry.prototype,EventDispatcher.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(G(t)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(t,1):this.index=t},addAttribute:function(t,e){return!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new BufferAttribute(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new Matrix3).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Matrix4;return function e(n){return t.makeRotationX(n),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Matrix4;return function e(n){return t.makeRotationY(n),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Matrix4;return function e(n){return t.makeRotationZ(n),this.applyMatrix(t),this}}(),translate:function(){var t=new Matrix4;return function e(n,r,i){return t.makeTranslation(n,r,i),this.applyMatrix(t),this}}(),scale:function(){var t=new Matrix4;return function e(n,r,i){return t.makeScale(n,r,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Object3D;return function e(n){t.lookAt(n),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new Float32BufferAttribute(3*e.vertices.length,3),r=new Float32BufferAttribute(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Float32BufferAttribute(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var r;return!0===e.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(e.vertices),r.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(e.colors),r.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(e.uvs),r.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(e.lineDistances),r.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new U).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new BufferAttribute(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new BufferAttribute(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new BufferAttribute(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new BufferAttribute(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new BufferAttribute(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=G(t.indices)>65535?Uint32Array:Uint16Array,s=new a(3*t.indices.length);this.setIndex(new BufferAttribute(s,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var u in t.morphTargets){for(var c=[],l=t.morphTargets[u],h=0,f=l.length;h<f;h++){var d=l[h],p=new Float32BufferAttribute(3*d.length,3);c.push(p.copyVector3sArray(d))}this.morphAttributes[u]=c}if(t.skinIndices.length>0){var m=new Float32BufferAttribute(4*t.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var v=new Float32BufferAttribute(4*t.skinWeights.length,4);this.addAttribute("skinWeight",v.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Box3);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new Box3,e=new Vector3;return function n(){null===this.boundingSphere&&(this.boundingSphere=new Sphere);var r=this.attributes.position;if(r){var i=this.boundingSphere.center;t.setFromBufferAttribute(r),t.getCenter(i);for(var o=0,a=0,s=r.count;a<s;a++)e.x=r.getX(a),e.y=r.getY(a),e.z=r.getZ(a),o=Math.max(o,i.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new BufferAttribute(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s=e.normal.array,u,c,l,h=new Vector3,f=new Vector3,d=new Vector3,p=new Vector3,m=new Vector3;if(t){var v=t.array;0===n.length&&this.addGroup(0,v.length);for(var g=0,y=n.length;g<y;++g)for(var b=n[g],x=b.start,_=b.count,o=x,a=x+_;o<a;o+=3)u=3*v[o+0],c=3*v[o+1],l=3*v[o+2],h.fromArray(r,u),f.fromArray(r,c),d.fromArray(r,l),p.subVectors(d,f),m.subVectors(h,f),p.cross(m),s[u]+=p.x,s[u+1]+=p.y,s[u+2]+=p.z,s[c]+=p.x,s[c+1]+=p.y,s[c+2]+=p.z,s[l]+=p.x,s[l+1]+=p.y,s[l+2]+=p.z}else for(var o=0,a=r.length;o<a;o+=9)h.fromArray(r,o),f.fromArray(r,o+3),d.fromArray(r,o+6),p.subVectors(d,f),m.subVectors(h,f),p.cross(m),s[o]=p.x,s[o+1]=p.y,s[o+2]=p.z,s[o+3]=p.x,s[o+4]=p.y,s[o+5]=p.z,s[o+6]=p.x,s[o+7]=p.y,s[o+8]=p.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1===(t&&t.isBufferGeometry))return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r],o=i.array,a=t.attributes[r],s=a.array,u=a.itemSize,c=0,l=u*e;c<s.length;c++,l++)o[l]=s[c];return this},normalizeNormals:function(){for(var t=this.attributes.normal,e,n,r,i,o=0,a=t.count;o<a;o++)e=t.getX(o),n=t.getY(o),r=t.getZ(o),i=1/Math.sqrt(e*e+n*n+r*r),t.setXYZ(o,e*i,n*i,r*i)},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new BufferGeometry,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),u=0,c=0,l=0,h=e.length;l<h;l++){u=e[l]*a;for(var f=0;f<a;f++)s[c++]=o[u++]}t.addAttribute(r,new BufferAttribute(s,a))}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t},clone:function(){return(new BufferGeometry).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var u=[],c=s[e];for(n=0,r=c.length;n<r;n++)u.push(c[n].clone());this.morphAttributes[e]=u}var l=t.groups;for(n=0,r=l.length;n<r;n++){var h=l[n];this.addGroup(h.start,h.count,h.materialIndex)}var f=t.boundingBox;null!==f&&(this.boundingBox=f.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Mesh.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Mesh,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return Object3D.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,n,r,i,o,a){return Triangle.barycoordFromPoint(t,e,n,r,m),i.multiplyScalar(m.x),o.multiplyScalar(m.y),a.multiplyScalar(m.z),i.add(o).add(a),i.clone()}function e(t,e,n,r,i,o,a){var s,u=t.material;if(null===(s=u.side===BackSide?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,u.side!==DoubleSide,a)))return null;g.copy(a),g.applyMatrix4(t.matrixWorld);var c=e.ray.origin.distanceTo(g);return c<e.near||c>e.far?null:{distance:c,point:g.clone(),object:t}}function n(n,r,i,o,c,l,h,m){a.fromBufferAttribute(o,l),s.fromBufferAttribute(o,h),u.fromBufferAttribute(o,m);var g=e(n,r,i,a,s,u,v);return g&&(c&&(f.fromBufferAttribute(c,l),d.fromBufferAttribute(c,h),p.fromBufferAttribute(c,m),g.uv=t(v,a,s,u,f,d,p)),g.face=new Face3(l,h,m,Triangle.normal(a,s,u)),g.faceIndex=l),g}var r=new Matrix4,i=new Ray,o=new Sphere,a=new Vector3,s=new Vector3,u=new Vector3,c=new Vector3,l=new Vector3,h=new Vector3,f=new Vector2,d=new Vector2,p=new Vector2,m=new Vector3,v=new Vector3,g=new Vector3;return function m(g,y){var b=this.geometry,x=this.material,_=this.matrixWorld;if(void 0!==x&&(null===b.boundingSphere&&b.computeBoundingSphere(),o.copy(b.boundingSphere),o.applyMatrix4(_),!1!==g.ray.intersectsSphere(o)&&(r.getInverse(_),i.copy(g.ray).applyMatrix4(r),null===b.boundingBox||!1!==i.intersectsBox(b.boundingBox)))){var w;if(b.isBufferGeometry){var E,M,S,T=b.index,A=b.attributes.position,C=b.attributes.uv,O,P;if(null!==T)for(O=0,P=T.count;O<P;O+=3)E=T.getX(O),M=T.getX(O+1),S=T.getX(O+2),(w=n(this,g,i,A,C,E,M,S))&&(w.faceIndex=Math.floor(O/3),y.push(w));else for(O=0,P=A.count;O<P;O+=3)E=O,M=O+1,S=O+2,(w=n(this,g,i,A,C,E,M,S))&&(w.index=E,y.push(w))}else if(b.isGeometry){var L,R,k,N=Array.isArray(x),I=b.vertices,j=b.faces,D,B=b.faceVertexUvs[0];B.length>0&&(D=B);for(var F=0,U=j.length;F<U;F++){var G=j[F],z=N?x[G.materialIndex]:x;if(void 0!==z){if(L=I[G.a],R=I[G.b],k=I[G.c],!0===z.morphTargets){var V=b.morphTargets,H=this.morphTargetInfluences;a.set(0,0,0),s.set(0,0,0),u.set(0,0,0);for(var W=0,q=V.length;W<q;W++){var X=H[W];if(0!==X){var Y=V[W].vertices;a.addScaledVector(c.subVectors(Y[G.a],L),X),s.addScaledVector(l.subVectors(Y[G.b],R),X),u.addScaledVector(h.subVectors(Y[G.c],k),X)}}a.add(L),s.add(R),u.add(k),L=a,R=s,k=u}if(w=e(this,g,i,L,R,k,v)){if(D&&D[F]){var K=D[F];f.copy(K[0]),d.copy(K[1]),p.copy(K[2]),w.uv=t(v,L,R,k,f,d,p)}w.face=G,w.faceIndex=F,y.push(w)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),BoxGeometry.prototype=Object.create(Geometry.prototype),BoxGeometry.prototype.constructor=BoxGeometry,BoxBufferGeometry.prototype=Object.create(BufferGeometry.prototype),BoxBufferGeometry.prototype.constructor=BoxBufferGeometry,PlaneGeometry.prototype=Object.create(Geometry.prototype),PlaneGeometry.prototype.constructor=PlaneGeometry,PlaneBufferGeometry.prototype=Object.create(BufferGeometry.prototype),PlaneBufferGeometry.prototype.constructor=PlaneBufferGeometry,Camera.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Camera,isCamera:!0,copy:function(t){return Object3D.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:function(){var t=new Quaternion;return function e(n){var r=n||new Vector3;return this.getWorldQuaternion(t),r.set(0,0,-1).applyQuaternion(t)}}(),clone:function(){return(new this.constructor).copy(this)}}),PerspectiveCamera.prototype=Object.assign(Object.create(Camera.prototype),{constructor:PerspectiveCamera,isPerspectiveCamera:!0,copy:function(t){return Camera.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*It.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*It.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*It.RAD2DEG*Math.atan(Math.tan(.5*It.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*It.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),OrthographicCamera.prototype=Object.assign(Object.create(Camera.prototype),{constructor:OrthographicCamera,isOrthographicCamera:!0,copy:function(t){return Camera.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;i+=l*(this.view.offsetX/u),o=i+l*(this.view.width/u),a-=h*(this.view.offsetY/c),s=a-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Qn=0;FogExp2.prototype.isFogExp2=!0,FogExp2.prototype.clone=function(){return new FogExp2(this.color.getHex(),this.density)},FogExp2.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Fog.prototype.isFog=!0,Fog.prototype.clone=function(){return new Fog(this.color.getHex(),this.near,this.far)},Fog.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Scene.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Scene,copy:function(t,e){return Object3D.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),LensFlare.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:LensFlare,isLensFlare:!0,copy:function(t){Object3D.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new Color(16777215)),void 0===r&&(r=NormalBlending),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var t,e=this.lensFlares.length,n,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<e;t++)n=this.lensFlares[t],n.x=this.positionScreen.x+r*n.distance,n.y=this.positionScreen.y+i*n.distance,n.wantedRotation=n.x*Math.PI*.25,n.rotation+=.25*(n.wantedRotation-n.rotation)}}),SpriteMaterial.prototype=Object.create(Material.prototype),SpriteMaterial.prototype.constructor=SpriteMaterial,SpriteMaterial.prototype.isSpriteMaterial=!0,SpriteMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},Sprite.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Sprite,isSprite:!0,raycast:function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(i,o){e.setFromMatrixPosition(this.matrixWorld),i.ray.closestPointToPoint(e,t),n.setFromMatrixScale(this.matrixWorld);var a=n.x*n.y/4;if(!(e.distanceToSquared(t)>a)){var s=i.ray.origin.distanceTo(t);s<i.near||s>i.far||o.push({distance:s,point:t.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),LOD.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:LOD,copy:function(t){Object3D.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new Vector3;return function e(n,r){t.setFromMatrixPosition(this.matrixWorld);var i=n.ray.origin.distanceTo(t);this.getObjectForDistance(i).raycast(n,r)}}(),update:function(){var t=new Vector3,e=new Vector3;return function n(r){var i=this.levels;if(i.length>1){t.setFromMatrixPosition(r.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var o=t.distanceTo(e);i[0].object.visible=!0;for(var a=1,s=i.length;a<s&&o>=i[a].distance;a++)i[a-1].object.visible=!1,i[a].object.visible=!0;for(;a<s;a++)i[a].object.visible=!1}}}(),toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new Matrix4;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new Matrix4,e=new Matrix4;return function n(){for(var r=this.bones,i=this.boneInverses,o=this.boneMatrices,a=this.boneTexture,s=0,u=r.length;s<u;s++){var c=r[s]?r[s].matrixWorld:e;t.multiplyMatrices(c,i[s]),t.toArray(o,16*s)}void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new Skeleton(this.bones,this.boneInverses)}}),Bone.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Bone,isBone:!0}),SkinnedMesh.prototype=Object.assign(Object.create(Mesh.prototype),{constructor:SkinnedMesh,isSkinnedMesh:!0,initBones:function(){var t=[],e,n,r,i;if(this.geometry&&void 0!==this.geometry.bones){for(r=0,i=this.geometry.bones.length;r<i;r++)n=this.geometry.bones[r],e=new Bone,t.push(e),e.name=n.name,e.position.fromArray(n.pos),e.quaternion.fromArray(n.rotq),void 0!==n.scl&&e.scale.fromArray(n.scl);for(r=0,i=this.geometry.bones.length;r<i;r++)n=this.geometry.bones[r],-1!==n.parent&&null!==n.parent&&void 0!==t[n.parent]?t[n.parent].add(t[r]):this.add(t[r])}return this.updateMatrixWorld(!0),t},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var n=this.geometry.skinWeights[e];t=1/n.lengthManhattan(),t!==1/0?n.multiplyScalar(t):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new Vector4,i=this.geometry.attributes.skinWeight;for(e=0;e<i.count;e++)r.x=i.getX(e),r.y=i.getY(e),r.z=i.getZ(e),r.w=i.getW(e),t=1/r.lengthManhattan(),t!==1/0?r.multiplyScalar(t):r.set(1,0,0,0),i.setXYZW(e,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(t){Mesh.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),LineBasicMaterial.prototype=Object.create(Material.prototype),LineBasicMaterial.prototype.constructor=LineBasicMaterial,LineBasicMaterial.prototype.isLineBasicMaterial=!0,LineBasicMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Line.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Line,isLine:!0,raycast:function(){var t=new Matrix4,e=new Ray,n=new Sphere;return function r(i,o){var a=i.linePrecision,s=a*a,u=this.geometry,c=this.matrixWorld;if(null===u.boundingSphere&&u.computeBoundingSphere(),n.copy(u.boundingSphere),n.applyMatrix4(c),!1!==i.ray.intersectsSphere(n)){t.getInverse(c),e.copy(i.ray).applyMatrix4(t);var l=new Vector3,h=new Vector3,f=new Vector3,d=new Vector3,p=this&&this.isLineSegments?2:1;if(u.isBufferGeometry){var m=u.index,v=u.attributes,g=v.position.array;if(null!==m)for(var y=m.array,b=0,x=y.length-1;b<x;b+=p){var _=y[b],w=y[b+1];l.fromArray(g,3*_),h.fromArray(g,3*w);var E=e.distanceSqToSegment(l,h,d,f);if(!(E>s)){d.applyMatrix4(this.matrixWorld);var M=i.ray.origin.distanceTo(d);M<i.near||M>i.far||o.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(var b=0,x=g.length/3-1;b<x;b+=p){l.fromArray(g,3*b),h.fromArray(g,3*b+3);var E=e.distanceSqToSegment(l,h,d,f);if(!(E>s)){d.applyMatrix4(this.matrixWorld);var M=i.ray.origin.distanceTo(d);M<i.near||M>i.far||o.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else if(u.isGeometry)for(var S=u.vertices,T=S.length,b=0;b<T-1;b+=p){var E=e.distanceSqToSegment(S[b],S[b+1],d,f);if(!(E>s)){d.applyMatrix4(this.matrixWorld);var M=i.ray.origin.distanceTo(d);M<i.near||M>i.far||o.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),LineSegments.prototype=Object.assign(Object.create(Line.prototype),{constructor:LineSegments,isLineSegments:!0}),LineLoop.prototype=Object.assign(Object.create(Line.prototype),{constructor:LineLoop,isLineLoop:!0}),PointsMaterial.prototype=Object.create(Material.prototype),PointsMaterial.prototype.constructor=PointsMaterial,PointsMaterial.prototype.isPointsMaterial=!0,PointsMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Points.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Points,isPoints:!0,raycast:function(){var t=new Matrix4,e=new Ray,n=new Sphere;return function r(i,o){function a(t,n){var r=e.distanceSqToPoint(t);if(r<f){var a=e.closestPointToPoint(t);a.applyMatrix4(c);var u=i.ray.origin.distanceTo(a);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(r),point:a.clone(),index:n,face:null,object:s})}}var s=this,u=this.geometry,c=this.matrixWorld,l=i.params.Points.threshold;if(null===u.boundingSphere&&u.computeBoundingSphere(),n.copy(u.boundingSphere),n.applyMatrix4(c),n.radius+=l,!1!==i.ray.intersectsSphere(n)){t.getInverse(c),e.copy(i.ray).applyMatrix4(t);var h=l/((this.scale.x+this.scale.y+this.scale.z)/3),f=h*h,d=new Vector3;if(u.isBufferGeometry){var p=u.index,m=u.attributes,v=m.position.array;if(null!==p)for(var g=p.array,y=0,b=g.length;y<b;y++){var x=g[y];d.fromArray(v,3*x),a(d,x)}else for(var y=0,_=v.length/3;y<_;y++)d.fromArray(v,3*y),a(d,y)}else for(var w=u.vertices,y=0,_=w.length;y<_;y++)a(w[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Group.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Group}),VideoTexture.prototype=Object.create(Texture.prototype),VideoTexture.prototype.constructor=VideoTexture,CompressedTexture.prototype=Object.create(Texture.prototype),CompressedTexture.prototype.constructor=CompressedTexture,CompressedTexture.prototype.isCompressedTexture=!0,CanvasTexture.prototype=Object.create(Texture.prototype),CanvasTexture.prototype.constructor=CanvasTexture,DepthTexture.prototype=Object.create(Texture.prototype),DepthTexture.prototype.constructor=DepthTexture,DepthTexture.prototype.isDepthTexture=!0,WireframeGeometry.prototype=Object.create(BufferGeometry.prototype),WireframeGeometry.prototype.constructor=WireframeGeometry,ParametricGeometry.prototype=Object.create(Geometry.prototype),ParametricGeometry.prototype.constructor=ParametricGeometry,ParametricBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ParametricBufferGeometry.prototype.constructor=ParametricBufferGeometry,PolyhedronGeometry.prototype=Object.create(Geometry.prototype),PolyhedronGeometry.prototype.constructor=PolyhedronGeometry,PolyhedronBufferGeometry.prototype=Object.create(BufferGeometry.prototype),PolyhedronBufferGeometry.prototype.constructor=PolyhedronBufferGeometry,TetrahedronGeometry.prototype=Object.create(Geometry.prototype),TetrahedronGeometry.prototype.constructor=TetrahedronGeometry,TetrahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),TetrahedronBufferGeometry.prototype.constructor=TetrahedronBufferGeometry,OctahedronGeometry.prototype=Object.create(Geometry.prototype),OctahedronGeometry.prototype.constructor=OctahedronGeometry,OctahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),OctahedronBufferGeometry.prototype.constructor=OctahedronBufferGeometry,IcosahedronGeometry.prototype=Object.create(Geometry.prototype),IcosahedronGeometry.prototype.constructor=IcosahedronGeometry,IcosahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),IcosahedronBufferGeometry.prototype.constructor=IcosahedronBufferGeometry,DodecahedronGeometry.prototype=Object.create(Geometry.prototype),DodecahedronGeometry.prototype.constructor=DodecahedronGeometry,DodecahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),DodecahedronBufferGeometry.prototype.constructor=DodecahedronBufferGeometry,TubeGeometry.prototype=Object.create(Geometry.prototype),TubeGeometry.prototype.constructor=TubeGeometry,TubeBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TubeBufferGeometry.prototype.constructor=TubeBufferGeometry,TorusKnotGeometry.prototype=Object.create(Geometry.prototype),TorusKnotGeometry.prototype.constructor=TorusKnotGeometry,TorusKnotBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TorusKnotBufferGeometry.prototype.constructor=TorusKnotBufferGeometry,TorusGeometry.prototype=Object.create(Geometry.prototype),TorusGeometry.prototype.constructor=TorusGeometry,TorusBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TorusBufferGeometry.prototype.constructor=TorusBufferGeometry;var ShapeUtils={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,o){var a,s,u,c,l,h,f,d,p;if(s=t[o[e]].x,u=t[o[e]].y,c=t[o[n]].x,l=t[o[n]].y,h=t[o[r]].x,f=t[o[r]].y,(c-s)*(f-u)-(l-u)*(h-s)<=0)return!1;var m,v,g,y,b,x,_,w,E,M,S,T,A,C,O;for(m=h-c,v=f-l,g=s-h,y=u-f,b=c-s,x=l-u,a=0;a<i;a++)if(d=t[o[a]].x,p=t[o[a]].y,!(d===s&&p===u||d===c&&p===l||d===h&&p===f)&&(_=d-s,w=p-u,E=d-c,M=p-l,S=d-h,T=p-f,O=m*M-v*E,A=b*w-x*_,C=g*T-y*S,O>=-Number.EPSILON&&C>=-Number.EPSILON&&A>=-Number.EPSILON))return!1;return!0}return function e(n,r){var i=n.length;if(i<3)return null;var o=[],a=[],s=[],u,c,l;if(ShapeUtils.area(n)>0)for(c=0;c<i;c++)a[c]=c;else for(c=0;c<i;c++)a[c]=i-1-c;var h=i,f=2*h;for(c=h-1;h>2;){if(f--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),r?s:o;if(u=c,h<=u&&(u=0),c=u+1,h<=c&&(c=0),l=c+1,h<=l&&(l=0),t(n,u,c,l,h,a)){var d,p,m,v,g;for(d=a[u],p=a[c],m=a[l],o.push([n[d],n[p],n[m]]),s.push([a[u],a[c],a[l]]),v=c,g=c+1;g<h;v++,g++)a[v]=a[g];h--,f=2*h}}return r?s:o}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function r(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function i(t,e,n,i,o){var a=e.x-t.x,s=e.y-t.y,u=i.x-n.x,c=i.y-n.y,l=t.x-n.x,h=t.y-n.y,f=s*u-a*c,d=s*l-a*h;if(Math.abs(f)>Number.EPSILON){var p;if(f>0){if(d<0||d>f)return[];if((p=c*l-u*h)<0||p>f)return[]}else{if(d>0||d<f)return[];if((p=c*l-u*h)>0||p<f)return[]}if(0===p)return!o||0!==d&&d!==f?[t]:[];if(p===f)return!o||0!==d&&d!==f?[e]:[];if(0===d)return[n];if(d===f)return[i];var m=p/f;return[{x:t.x+m*a,y:t.y+m*s}]}if(0!==d||c*l!==u*h)return[];var v=0===a&&0===s,g=0===u&&0===c;if(v&&g)return t.x!==n.x||t.y!==n.y?[]:[t];if(v)return r(n,i,t)?[t]:[];if(g)return r(t,e,n)?[n]:[];var y,b,x,_,w,E,M,S;return 0!==a?(t.x<e.x?(y=t,x=t.x,b=e,_=e.x):(y=e,x=e.x,b=t,_=t.x),n.x<i.x?(w=n,M=n.x,E=i,S=i.x):(w=i,M=i.x,E=n,S=n.x)):(t.y<e.y?(y=t,x=t.y,b=e,_=e.y):(y=e,x=e.y,b=t,_=t.y),n.y<i.y?(w=n,M=n.y,E=i,S=i.y):(w=i,M=i.y,E=n,S=n.y)),x<=M?_<M?[]:_===M?o?[]:[w]:_<=S?[w,b]:[w,E]:x>S?[]:x===S?o?[]:[y]:_<=S?[y,b]:[y,E]}function o(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=n.x-t.x,s=n.y-t.y,u=r.x-t.x,c=r.y-t.y,l=i*s-o*a,h=i*c-o*u;if(Math.abs(l)>Number.EPSILON){var f=u*s-c*a;return l>0?h>=0&&f>=0:h>=0||f>=0}return h>0}function a(t,e){function n(t,e){var n=s.length-1,r=t-1;r<0&&(r=n);var i=t+1;i>n&&(i=0);var a=o(s[t],s[r],s[i],u[e]);if(!a)return!1;var c=u.length-1,l=e-1;l<0&&(l=c);var h=e+1;return h>c&&(h=0),!!(a=o(u[e],u[l],u[h],s[t]))}function r(t,e){var n,r,o;for(n=0;n<s.length;n++)if(r=n+1,r%=s.length,o=i(t,e,s[n],s[r],!0),o.length>0)return!0;return!1}function a(t,n){var r,o,a,s,u;for(r=0;r<c.length;r++)for(o=e[c[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=i(t,n,o[a],o[s],!0),u.length>0)return!0;return!1}for(var s=t.concat(),u,c=[],l,h,f,d,p,m,v=[],g,y,b,x,_=0,w=e.length;_<w;_++)c.push(_);for(var E=0,M=2*c.length;c.length>0;){if(--M<0){console.log("Infinite Loop! Holes left:"+c.length+", Probably Hole outside Shape!");break}for(h=E;h<s.length;h++){f=s[h],l=-1;for(var _=0;_<c.length;_++)if(p=c[_],m=f.x+":"+f.y+":"+p,void 0===v[m]){u=e[p];for(var S=0;S<u.length;S++)if(d=u[S],n(h,S)&&!r(f,d)&&!a(f,d)){l=S,c.splice(_,1),g=s.slice(0,h+1),y=s.slice(h),b=u.slice(l),x=u.slice(0,l+1),s=g.concat(b).concat(x).concat(y),E=h;break}if(l>=0)break;v[m]=!0}if(l>=0)break}}return s}n(t),e.forEach(n);for(var s,u,c,l,h,f,d={},p=t.concat(),m=0,v=e.length;m<v;m++)Array.prototype.push.apply(p,e[m]);for(s=0,u=p.length;s<u;s++)h=p[s].x+":"+p[s].y,void 0!==d[h]&&console.warn("THREE.ShapeUtils: Duplicate point",h,s),d[h]=s;var g=a(t,e),y=ShapeUtils.triangulate(g,!1);for(s=0,u=y.length;s<u;s++)for(l=y[s],c=0;c<3;c++)h=l[c].x+":"+l[c].y,void 0!==(f=d[h])&&(l[c]=f);return y.concat()},isClockWise:function(t){return ShapeUtils.area(t)<0}};ExtrudeGeometry.prototype=Object.create(Geometry.prototype),ExtrudeGeometry.prototype.constructor=ExtrudeGeometry,ExtrudeBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ExtrudeBufferGeometry.prototype.constructor=ExtrudeBufferGeometry,ExtrudeBufferGeometry.prototype.getArrays=function(){var t=this.getAttribute("position"),e=t?Array.prototype.slice.call(t.array):[],n=this.getAttribute("uv"),r=n?Array.prototype.slice.call(n.array):[],i=this.index;return{position:e,uv:r,index:i?Array.prototype.slice.call(i.array):[]}},ExtrudeBufferGeometry.prototype.addShapeList=function(t,e){var n=t.length;e.arrays=this.getArrays();for(var r=0;r<n;r++){var i=t[r];this.addShape(i,e)}this.setIndex(e.arrays.index),this.addAttribute("position",new Float32BufferAttribute(e.arrays.position,3)),this.addAttribute("uv",new Float32BufferAttribute(e.arrays.uv,2))},ExtrudeBufferGeometry.prototype.addShape=function(t,e){function n(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function r(t,e,n){var r,i,o=1,a=t.x-e.x,s=t.y-e.y,u=n.x-t.x,c=n.y-t.y,l=a*a+s*s,h=a*c-s*u;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(l),d=Math.sqrt(u*u+c*c),p=e.x-s/f,m=e.y+a/f,v=n.x-c/d,g=n.y+u/d,y=((v-p)*c-(g-m)*u)/(a*c-s*u);r=p+a*y-t.x,i=m+s*y-t.y;var b=r*r+i*i;if(b<=2)return new Vector2(r,i);o=Math.sqrt(b/2)}else{var x=!1;a>Number.EPSILON?u>Number.EPSILON&&(x=!0):a<-Number.EPSILON?u<-Number.EPSILON&&(x=!0):Math.sign(s)===Math.sign(c)&&(x=!0),x?(r=-s,i=a,o=Math.sqrt(l)):(r=a,i=s,o=Math.sqrt(l/2))}return new Vector2(r/o,i/o)}function i(){var t=d.length/3;if(_){var n=0,r=X*n;for(Q=0;Q<K;Q++)Y=U[Q],u(Y[2]+r,Y[1]+r,Y[0]+r);for(n=E+2*x,r=X*n,Q=0;Q<K;Q++)Y=U[Q],u(Y[0]+r,Y[1]+r,Y[2]+r)}else{for(Q=0;Q<K;Q++)Y=U[Q],u(Y[2],Y[1],Y[0]);for(Q=0;Q<K;Q++)Y=U[Q],u(Y[0]+X*E,Y[1]+X*E,Y[2]+X*E)}I.addGroup(t,d.length/3-t,void 0!==e.material?e.material:0)}function o(){var t=d.length/3,n=0;for(a(G,n),n+=G.length,k=0,N=B.length;k<N;k++)R=B[k],a(R,n),n+=R.length;I.addGroup(t,d.length/3-t,void 0!==e.extrudeMaterial?e.extrudeMaterial:1)}function a(t,e){var n,r;for(Q=t.length;--Q>=0;){n=Q,r=Q-1,r<0&&(r=t.length-1);var i=0,o=E+2*x;for(i=0;i<o;i++){var a=X*i,s=X*(i+1);c(e+n+a,e+r+a,e+r+s,e+n+s,t,i,o,n,r)}}}function s(t,e,n){v.push(t),v.push(e),v.push(n)}function u(t,e,n){l(t),l(e),l(n);var r=d.length/3,i=A.generateTopUV(I,d,r-3,r-2,r-1);h(i[0]),h(i[1]),h(i[2])}function c(t,e,n,r,i,o,a,s,u){l(t),l(e),l(r),l(e),l(n),l(r);var c=d.length/3,f=A.generateSideWallUV(I,d,c-6,c-3,c-2,c-1);h(f[0]),h(f[1]),h(f[3]),h(f[1]),h(f[2]),h(f[3])}function l(t){p.push(d.length/3),d.push(v[3*t+0]),d.push(v[3*t+1]),d.push(v[3*t+2])}function h(t){m.push(t.x),m.push(t.y)}var f=e.arrays?e.arrays:this.getArrays(),d=f.position,p=f.index,m=f.uv,v=[],g=void 0!==e.amount?e.amount:100,y=void 0!==e.bevelThickness?e.bevelThickness:6,b=void 0!==e.bevelSize?e.bevelSize:y-2,x=void 0!==e.bevelSegments?e.bevelSegments:3,_=void 0===e.bevelEnabled||e.bevelEnabled,w=void 0!==e.curveSegments?e.curveSegments:12,E=void 0!==e.steps?e.steps:1,M=e.extrudePath,S,T=!1,A=void 0!==e.UVGenerator?e.UVGenerator:ExtrudeGeometry.WorldUVGenerator,C,O,P,L;M&&(S=M.getSpacedPoints(E),T=!0,_=!1,C=void 0!==e.frames?e.frames:M.computeFrenetFrames(E,!1),O=new Vector3,P=new Vector3,L=new Vector3),_||(x=0,y=0,b=0);var R,k,N,I=this,j=t.extractPoints(w),D=j.shape,B=j.holes,F=!ShapeUtils.isClockWise(D);if(F){for(D=D.reverse(),k=0,N=B.length;k<N;k++)R=B[k],ShapeUtils.isClockWise(R)&&(B[k]=R.reverse());F=!1}var U=ShapeUtils.triangulateShape(D,B),G=D;for(k=0,N=B.length;k<N;k++)R=B[k],D=D.concat(R);for(var z,V,H,W,q,X=D.length,Y,K=U.length,Z=[],Q=0,J=G.length,$=J-1,tt=Q+1;Q<J;Q++,$++,tt++)$===J&&($=0),tt===J&&(tt=0),Z[Q]=r(G[Q],G[$],G[tt]);var et=[],nt,rt=Z.concat();for(k=0,N=B.length;k<N;k++){for(R=B[k],nt=[],Q=0,J=R.length,$=J-1,tt=Q+1;Q<J;Q++,$++,tt++)$===J&&($=0),tt===J&&(tt=0),nt[Q]=r(R[Q],R[$],R[tt]);et.push(nt),rt=rt.concat(nt)}for(z=0;z<x;z++){for(H=z/x,W=y*Math.cos(H*Math.PI/2),V=b*Math.sin(H*Math.PI/2),Q=0,J=G.length;Q<J;Q++)q=n(G[Q],Z[Q],V),s(q.x,q.y,-W);for(k=0,N=B.length;k<N;k++)for(R=B[k],nt=et[k],Q=0,J=R.length;Q<J;Q++)q=n(R[Q],nt[Q],V),s(q.x,q.y,-W)}for(V=b,Q=0;Q<X;Q++)q=_?n(D[Q],rt[Q],V):D[Q],T?(P.copy(C.normals[0]).multiplyScalar(q.x),O.copy(C.binormals[0]).multiplyScalar(q.y),L.copy(S[0]).add(P).add(O),s(L.x,L.y,L.z)):s(q.x,q.y,0);var it;for(it=1;it<=E;it++)for(Q=0;Q<X;Q++)q=_?n(D[Q],rt[Q],V):D[Q],T?(P.copy(C.normals[it]).multiplyScalar(q.x),O.copy(C.binormals[it]).multiplyScalar(q.y),L.copy(S[it]).add(P).add(O),s(L.x,L.y,L.z)):s(q.x,q.y,g/E*it);for(z=x-1;z>=0;z--){for(H=z/x,W=y*Math.cos(H*Math.PI/2),V=b*Math.sin(H*Math.PI/2),Q=0,J=G.length;Q<J;Q++)q=n(G[Q],Z[Q],V),s(q.x,q.y,g+W);for(k=0,N=B.length;k<N;k++)for(R=B[k],nt=et[k],Q=0,J=R.length;Q<J;Q++)q=n(R[Q],nt[Q],V),T?s(q.x,q.y+S[E-1].y,S[E-1].x+W):s(q.x,q.y,g+W)}i(),o(),e.arrays||(this.setIndex(p),this.addAttribute("position",new Float32BufferAttribute(d,3)),this.addAttribute("uv",new Float32BufferAttribute(e.arrays.uv,2)))},ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(t,e,n,r,i){var o=e[3*n],a=e[3*n+1],s=e[3*r],u=e[3*r+1],c=e[3*i],l=e[3*i+1];return[new Vector2(o,a),new Vector2(s,u),new Vector2(c,l)]},generateSideWallUV:function(t,e,n,r,i,o){var a=e[3*n],s=e[3*n+1],u=e[3*n+2],c=e[3*r],l=e[3*r+1],h=e[3*r+2],f=e[3*i],d=e[3*i+1],p=e[3*i+2],m=e[3*o],v=e[3*o+1],g=e[3*o+2];return Math.abs(s-l)<.01?[new Vector2(a,1-u),new Vector2(c,1-h),new Vector2(f,1-p),new Vector2(m,1-g)]:[new Vector2(s,1-u),new Vector2(l,1-h),new Vector2(d,1-p),new Vector2(v,1-g)]}},TextGeometry.prototype=Object.create(Geometry.prototype),TextGeometry.prototype.constructor=TextGeometry,TextBufferGeometry.prototype=Object.create(ExtrudeBufferGeometry.prototype),TextBufferGeometry.prototype.constructor=TextBufferGeometry,SphereGeometry.prototype=Object.create(Geometry.prototype),SphereGeometry.prototype.constructor=SphereGeometry,SphereBufferGeometry.prototype=Object.create(BufferGeometry.prototype),SphereBufferGeometry.prototype.constructor=SphereBufferGeometry,RingGeometry.prototype=Object.create(Geometry.prototype),RingGeometry.prototype.constructor=RingGeometry,RingBufferGeometry.prototype=Object.create(BufferGeometry.prototype),RingBufferGeometry.prototype.constructor=RingBufferGeometry,LatheGeometry.prototype=Object.create(Geometry.prototype),LatheGeometry.prototype.constructor=LatheGeometry,LatheBufferGeometry.prototype=Object.create(BufferGeometry.prototype),LatheBufferGeometry.prototype.constructor=LatheBufferGeometry,ShapeGeometry.prototype=Object.create(Geometry.prototype),ShapeGeometry.prototype.constructor=ShapeGeometry,ShapeBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ShapeBufferGeometry.prototype.constructor=ShapeBufferGeometry,EdgesGeometry.prototype=Object.create(BufferGeometry.prototype),EdgesGeometry.prototype.constructor=EdgesGeometry,CylinderGeometry.prototype=Object.create(Geometry.prototype),CylinderGeometry.prototype.constructor=CylinderGeometry,CylinderBufferGeometry.prototype=Object.create(BufferGeometry.prototype),CylinderBufferGeometry.prototype.constructor=CylinderBufferGeometry,ConeGeometry.prototype=Object.create(CylinderGeometry.prototype),ConeGeometry.prototype.constructor=ConeGeometry,ConeBufferGeometry.prototype=Object.create(CylinderBufferGeometry.prototype),ConeBufferGeometry.prototype.constructor=ConeBufferGeometry,CircleGeometry.prototype=Object.create(Geometry.prototype),CircleGeometry.prototype.constructor=CircleGeometry,CircleBufferGeometry.prototype=Object.create(BufferGeometry.prototype),CircleBufferGeometry.prototype.constructor=CircleBufferGeometry;var Jn=Object.freeze({WireframeGeometry:WireframeGeometry,ParametricGeometry:ParametricGeometry,ParametricBufferGeometry:ParametricBufferGeometry,TetrahedronGeometry:TetrahedronGeometry,TetrahedronBufferGeometry:TetrahedronBufferGeometry,OctahedronGeometry:OctahedronGeometry,OctahedronBufferGeometry:OctahedronBufferGeometry,IcosahedronGeometry:IcosahedronGeometry,IcosahedronBufferGeometry:IcosahedronBufferGeometry,DodecahedronGeometry:DodecahedronGeometry,DodecahedronBufferGeometry:DodecahedronBufferGeometry,PolyhedronGeometry:PolyhedronGeometry,PolyhedronBufferGeometry:PolyhedronBufferGeometry,TubeGeometry:TubeGeometry,TubeBufferGeometry:TubeBufferGeometry,TorusKnotGeometry:TorusKnotGeometry,TorusKnotBufferGeometry:TorusKnotBufferGeometry,TorusGeometry:TorusGeometry,TorusBufferGeometry:TorusBufferGeometry,TextGeometry:TextGeometry,TextBufferGeometry:TextBufferGeometry,SphereGeometry:SphereGeometry,SphereBufferGeometry:SphereBufferGeometry,RingGeometry:RingGeometry,RingBufferGeometry:RingBufferGeometry,PlaneGeometry:PlaneGeometry,PlaneBufferGeometry:PlaneBufferGeometry,LatheGeometry:LatheGeometry,LatheBufferGeometry:LatheBufferGeometry,ShapeGeometry:ShapeGeometry,ShapeBufferGeometry:ShapeBufferGeometry,ExtrudeGeometry:ExtrudeGeometry,ExtrudeBufferGeometry:ExtrudeBufferGeometry,EdgesGeometry:EdgesGeometry,ConeGeometry:ConeGeometry,ConeBufferGeometry:ConeBufferGeometry,CylinderGeometry:CylinderGeometry,CylinderBufferGeometry:CylinderBufferGeometry,CircleGeometry:CircleGeometry,CircleBufferGeometry:CircleBufferGeometry,BoxGeometry:BoxGeometry,BoxBufferGeometry:BoxBufferGeometry});ShadowMaterial.prototype=Object.create(ShaderMaterial.prototype),ShadowMaterial.prototype.constructor=ShadowMaterial,ShadowMaterial.prototype.isShadowMaterial=!0,RawShaderMaterial.prototype=Object.create(ShaderMaterial.prototype),RawShaderMaterial.prototype.constructor=RawShaderMaterial,RawShaderMaterial.prototype.isRawShaderMaterial=!0,MeshStandardMaterial.prototype=Object.create(Material.prototype),MeshStandardMaterial.prototype.constructor=MeshStandardMaterial,MeshStandardMaterial.prototype.isMeshStandardMaterial=!0,MeshStandardMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},MeshPhysicalMaterial.prototype=Object.create(MeshStandardMaterial.prototype),MeshPhysicalMaterial.prototype.constructor=MeshPhysicalMaterial,MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial=!0,MeshPhysicalMaterial.prototype.copy=function(t){return MeshStandardMaterial.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},MeshPhongMaterial.prototype=Object.create(Material.prototype),MeshPhongMaterial.prototype.constructor=MeshPhongMaterial,MeshPhongMaterial.prototype.isMeshPhongMaterial=!0,MeshPhongMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},MeshToonMaterial.prototype=Object.create(MeshPhongMaterial.prototype),MeshToonMaterial.prototype.constructor=MeshToonMaterial,MeshToonMaterial.prototype.isMeshToonMaterial=!0,MeshToonMaterial.prototype.copy=function(t){return MeshPhongMaterial.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},MeshNormalMaterial.prototype=Object.create(Material.prototype),MeshNormalMaterial.prototype.constructor=MeshNormalMaterial,MeshNormalMaterial.prototype.isMeshNormalMaterial=!0,MeshNormalMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},MeshLambertMaterial.prototype=Object.create(Material.prototype),MeshLambertMaterial.prototype.constructor=MeshLambertMaterial,MeshLambertMaterial.prototype.isMeshLambertMaterial=!0,MeshLambertMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},LineDashedMaterial.prototype=Object.create(Material.prototype),LineDashedMaterial.prototype.constructor=LineDashedMaterial,LineDashedMaterial.prototype.isLineDashedMaterial=!0,LineDashedMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var $n=Object.freeze({ShadowMaterial:ShadowMaterial,SpriteMaterial:SpriteMaterial,RawShaderMaterial:RawShaderMaterial,ShaderMaterial:ShaderMaterial,PointsMaterial:PointsMaterial,MeshPhysicalMaterial:MeshPhysicalMaterial,MeshStandardMaterial:MeshStandardMaterial,MeshPhongMaterial:MeshPhongMaterial,MeshToonMaterial:MeshToonMaterial,MeshNormalMaterial:MeshNormalMaterial,MeshLambertMaterial:MeshLambertMaterial,MeshDepthMaterial:MeshDepthMaterial,MeshBasicMaterial:MeshBasicMaterial,LineDashedMaterial:LineDashedMaterial,LineBasicMaterial:LineBasicMaterial,Material:Material}),Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},DefaultLoadingManager=new LoadingManager;Object.assign(FileLoader.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=Cache.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(a);if(s){var u=s[1],c=!!s[2],l=s[3];l=window.decodeURIComponent(l),c&&(l=window.atob(l));try{var h,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":h=new ArrayBuffer(l.length);for(var d=new Uint8Array(h),p=0;p<l.length;p++)d[p]=l.charCodeAt(p);"blob"===f&&(h=new Blob([h],{type:u}));break;case"document":var m=new DOMParser;h=m.parseFromString(l,u);break;case"json":h=JSON.parse(l);break;default:h=l}window.setTimeout(function(){e&&e(h),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},0)}}else{var v=new XMLHttpRequest;v.open("GET",t,!0),v.addEventListener("load",function(n){var o=n.target.response;Cache.add(t,o),200===this.status?(e&&e(o),i.manager.itemEnd(t)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),e&&e(o),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemEnd(t),i.manager.itemError(t))},!1),void 0!==n&&v.addEventListener("progress",function(t){n(t)},!1),v.addEventListener("error",function(e){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var g in this.requestHeader)v.setRequestHeader(g,this.requestHeader[g]);v.send(null)}return i.manager.itemStart(t),v},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(CompressedTextureLoader.prototype,{load:function(t,e,n,r){function i(i){u.load(t[i],function(t){var n=o._parser(t,!0);a[i]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(s.minFilter=LinearFilter),s.format=n.format,s.needsUpdate=!0,e&&e(s))},n,r)}var o=this,a=[],s=new CompressedTexture;s.image=a;var u=new FileLoader(this.manager);if(u.setPath(this.path),u.setResponseType("arraybuffer"),Array.isArray(t))for(var c=0,l=0,h=t.length;l<h;++l)i(l);else u.load(t,function(t){var n=o._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,i=0;i<r;i++){a[i]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[i].mipmaps.push(n.mipmaps[i*n.mipmapCount+u]),a[i].format=n.format,a[i].width=n.width,a[i].height=n.height}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=LinearFilter),s.format=n.format,s.needsUpdate=!0,e&&e(s)},n,r);return s},setPath:function(t){return this.path=t,this}}),Object.assign(DataTextureLoader.prototype,{load:function(t,e,n,r){var i=this,o=new DataTexture,a=new FileLoader(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var n=i._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:ClampToEdgeWrapping,o.wrapT=void 0!==n.wrapT?n.wrapT:ClampToEdgeWrapping,o.magFilter=void 0!==n.magFilter?n.magFilter:LinearFilter,o.minFilter=void 0!==n.minFilter?n.minFilter:LinearMipMapLinearFilter,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=LinearFilter),o.needsUpdate=!0,e&&e(o,n))},n,r),o}}),Object.assign(ImageLoader.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=Cache.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");return a.addEventListener("load",function(){Cache.add(t,this),e&&e(this),i.manager.itemEnd(t)},!1),a.addEventListener("error",function(e){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(CubeTextureLoader.prototype,{load:function(t,e,n,r){function i(n){a.load(t[n],function(t){o.images[n]=t,6===++s&&(o.needsUpdate=!0,e&&e(o))},void 0,r)}var o=new CubeTexture,a=new ImageLoader(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);for(var s=0,u=0;u<t.length;++u)i(u);return o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(TextureLoader.prototype,{load:function(t,e,n,r){var i=new ImageLoader(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);var o=new Texture;return o.image=i.load(t,function(){var n=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);o.format=n?RGBFormat:RGBAFormat,o.needsUpdate=!0,void 0!==e&&e(o)},n,r),o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Light.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Light,isLight:!0,copy:function(t){return Object3D.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),HemisphereLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:HemisphereLight,isHemisphereLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(LightShadow.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),SpotLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:SpotLightShadow,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*It.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix())}}),SpotLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:SpotLight,isSpotLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),PointLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:PointLight,isPointLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),DirectionalLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:DirectionalLightShadow}),DirectionalLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:DirectionalLight,isDirectionalLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),AmbientLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:AmbientLight,isAmbientLight:!0}),RectAreaLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:RectAreaLight,isRectAreaLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=Light.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});var AnimationUtils={arraySlice:function(t,e,n){return AnimationUtils.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*e,u=0;u!==e;++u)i[a++]=t[s+u];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)}}};Object.assign(Interpolant.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}{if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(var a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){var u=n+o>>>1;t<e[u]?o=u:n=u+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(t,e,n,r){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}}),Object.assign(Interpolant.prototype,{beforeStart_:Interpolant.prototype.copySampleValue_,afterEnd_:Interpolant.prototype.copySampleValue_}),CubicInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:CubicInterpolant,DefaultSettings_:{endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:i=t,a=2*e-n;break;case WrapAroundEnding:i=r.length-2,a=e+r[i]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:o=t,s=2*n-e;break;case WrapAroundEnding:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}var u=.5*(n-e),c=this.valueSize;this._weightPrev=u/(e-a),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,c=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-e)/(r-e),p=d*d,m=p*d,v=-h*m+2*h*p-h*d,g=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*m+(1.5+f)*p+.5*d,b=f*m-f*p,x=0;x!==a;++x)i[x]=v*o[c+x]+g*o[u+x]+y*o[s+x]+b*o[l+x];return i}}),LinearInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:LinearInterpolant,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,c=(n-e)/(r-e),l=1-c,h=0;h!==a;++h)i[h]=o[u+h]*l+o[s+h]*c;return i}}),DiscreteInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:DiscreteInterpolant,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}});var tr;tr={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:InterpolateLinear,InterpolantFactoryMethodDiscrete:function(t){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new LinearInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new CubicInterpolant(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case InterpolateDiscrete:e=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:e=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(n)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=AnimationUtils.arraySlice(n,i,o),this.values=AnimationUtils.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("invalid value size in track",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("track is empty",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("out of order keys",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&AnimationUtils.isTypedArray(r))for(var a=0,u=r.length;a!==u;++a){var c=r[a];if(isNaN(c)){console.error("value is not a valid number",this,a,c),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=this.getInterpolation()===InterpolateSmooth,i=1,o=t.length-1,a=1;a<o;++a){var s=!1,u=t[a];if(u!==t[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var c=a*n,l=c-n,h=c+n,f=0;f!==n;++f){var d=e[c+f];if(d!==e[l+f]||d!==e[h+f]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];for(var p=a*n,m=i*n,f=0;f!==n;++f)e[m+f]=e[p+f]}++i}}if(o>0){t[i]=t[o];for(var p=o*n,m=i*n,f=0;f!==n;++f)e[m+f]=e[p+f];++i}return i!==t.length&&(this.times=AnimationUtils.arraySlice(t,0,i),this.values=AnimationUtils.arraySlice(e,0,i*n)),this}},VectorKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:VectorKeyframeTrack,ValueTypeName:"vector"}),QuaternionLinearInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:QuaternionLinearInterpolant,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=(n-e)/(r-e),c=s+a;s!==c;s+=4)Quaternion.slerpFlat(i,0,o,s-a,o,s,u);return i}}),QuaternionKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:InterpolateLinear,InterpolantFactoryMethodLinear:function(t){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),NumberKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:NumberKeyframeTrack,ValueTypeName:"number"}),StringKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),BooleanKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ColorKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:ColorKeyframeTrack,ValueTypeName:"color"}),KeyframeTrack.prototype=tr,tr.constructor=KeyframeTrack,Object.assign(KeyframeTrack,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=KeyframeTrack._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];AnimationUtils.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e=t.constructor,n;if(void 0!==e.toJSON)n=e.toJSON(t);else{n={name:t.name,times:AnimationUtils.convertArray(t.times,Array),values:AnimationUtils.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(n.interpolation=r)}return n.type=t.ValueTypeName,n},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("Unsupported typeName: "+t)}}),Object.assign(AnimationClip,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(KeyframeTrack.parse(n[i]).scale(r));return new AnimationClip(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,o=n.length;i!==o;++i)e.push(KeyframeTrack.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=AnimationUtils.getKeyframeOrder(s);s=AnimationUtils.sortedArray(s,1,c),u=AnimationUtils.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new NumberKeyframeTrack(".morphTargetInfluences["+e[a].name+"]",s,u).scale(1/n))}return new AnimationClip(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],u=s.name.match(i);if(u&&u.length>1){var c=u[1],l=r[c];l||(r[c]=l=[]),l.push(s)}}var h=[];for(var c in r)h.push(AnimationClip.CreateFromMorphTargetSequence(c,r[c],e,n));return h},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var o=[],a=[];AnimationUtils.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var c=s[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var l={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var f=0;f<c[h].morphTargets.length;f++)l[c[h].morphTargets[f]]=-1;for(var d in l){for(var p=[],m=[],f=0;f!==c[h].morphTargets.length;++f){var v=c[h];p.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new NumberKeyframeTrack(".morphTargetInfluence["+d+"]",p,m))}o=l.length*(a||1)}else{var g=".bones["+e[u].name+"]";n(VectorKeyframeTrack,g+".position",c,"pos",r),n(QuaternionKeyframeTrack,g+".quaternion",c,"rot",r),n(VectorKeyframeTrack,g+".scale",c,"scl",r)}}return 0===r.length?null:new AnimationClip(i,o,r)}}),Object.assign(AnimationClip.prototype,{resetDuration:function(){for(var t=this.tracks,e=0,n=0,r=t.length;n!==r;++n){var i=this.tracks[n];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(MaterialLoader.prototype,{load:function(t,e,n,r){var i=this,o=new FileLoader(i.manager);o.setResponseType("json"),o.load(t,function(t){e(i.parse(t))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,r=new $n[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var i=t.normalScale;!1===Array.isArray(i)&&(i=[i,i]),r.normalScale=(new Vector2).fromArray(i)}return void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=e(t.gradientMap)),r}}),Object.assign(BufferGeometryLoader.prototype,{load:function(t,e,n,r){var i=this,o=new FileLoader(i.manager);o.setResponseType("json"),o.load(t,function(t){e(i.parse(t))},n,r)},parse:function(t){var e=new BufferGeometry,n=t.data.index;if(void 0!==n){var r=new er[n.type](n.array);e.setIndex(new BufferAttribute(r,1))}var i=t.data.attributes;for(var o in i){var a=i[o],r=new er[a.type](a.array);e.addAttribute(o,new BufferAttribute(r,a.itemSize,a.normalized))}var s=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==s)for(var u=0,c=s.length;u!==c;++u){var l=s[u];e.addGroup(l.start,l.count,l.materialIndex)}var h=t.data.boundingSphere;if(void 0!==h){var f=new Vector3;void 0!==h.center&&f.fromArray(h.center),e.boundingSphere=new Sphere(f,h.radius)}return e}});var er={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};Loader.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],o=e[n+1];if(i.test(t))return o}return null}},Object.assign(Loader.prototype,{crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(){var t={NoBlending:NoBlending,NormalBlending:NormalBlending,AdditiveBlending:AdditiveBlending,SubtractiveBlending:SubtractiveBlending,MultiplyBlending:MultiplyBlending,CustomBlending:CustomBlending},e=new Color,n=new TextureLoader,r=new MaterialLoader;return function i(o,a,s){function u(t,e,r,i,o){var u=a+t,l=Loader.Handlers.get(u),h;null!==l?h=l.load(u):(n.setCrossOrigin(s),h=n.load(u)),void 0!==e&&(h.repeat.fromArray(e),1!==e[0]&&(h.wrapS=RepeatWrapping),1!==e[1]&&(h.wrapT=RepeatWrapping)),void 0!==r&&h.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(h.wrapS=RepeatWrapping),"mirror"===i[0]&&(h.wrapS=MirroredRepeatWrapping),"repeat"===i[1]&&(h.wrapT=RepeatWrapping),"mirror"===i[1]&&(h.wrapT=MirroredRepeatWrapping)),void 0!==o&&(h.anisotropy=o);var f=It.generateUUID();return c[f]=h,f}var c={},l={uuid:It.generateUUID(),type:"MeshLambertMaterial"};for(var h in o){var f=o[h];switch(h){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":l.name=f;break;case"blending":l.blending=t[f];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",h,"is no longer supported.");break;case"colorDiffuse":l.color=e.fromArray(f).getHex();break;case"colorSpecular":l.specular=e.fromArray(f).getHex();break;case"colorEmissive":l.emissive=e.fromArray(f).getHex();break;case"specularCoef":l.shininess=f;break;case"shading":"basic"===f.toLowerCase()&&(l.type="MeshBasicMaterial"),"phong"===f.toLowerCase()&&(l.type="MeshPhongMaterial"),"standard"===f.toLowerCase()&&(l.type="MeshStandardMaterial");break;case"mapDiffuse":l.map=u(f,o.mapDiffuseRepeat,o.mapDiffuseOffset,o.mapDiffuseWrap,o.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":l.emissiveMap=u(f,o.mapEmissiveRepeat,o.mapEmissiveOffset,o.mapEmissiveWrap,o.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":l.lightMap=u(f,o.mapLightRepeat,o.mapLightOffset,o.mapLightWrap,o.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":l.aoMap=u(f,o.mapAORepeat,o.mapAOOffset,o.mapAOWrap,o.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":l.bumpMap=u(f,o.mapBumpRepeat,o.mapBumpOffset,o.mapBumpWrap,o.mapBumpAnisotropy);break;case"mapBumpScale":l.bumpScale=f;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":l.normalMap=u(f,o.mapNormalRepeat,o.mapNormalOffset,o.mapNormalWrap,o.mapNormalAnisotropy);break;case"mapNormalFactor":l.normalScale=[f,f];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":l.specularMap=u(f,o.mapSpecularRepeat,o.mapSpecularOffset,o.mapSpecularWrap,o.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":l.metalnessMap=u(f,o.mapMetalnessRepeat,o.mapMetalnessOffset,o.mapMetalnessWrap,o.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":l.roughnessMap=u(f,o.mapRoughnessRepeat,o.mapRoughnessOffset,o.mapRoughnessWrap,o.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":l.alphaMap=u(f,o.mapAlphaRepeat,o.mapAlphaOffset,o.mapAlphaWrap,o.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":l.side=BackSide;break;case"doubleSided":l.side=DoubleSide;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),l.opacity=f;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":l[h]=f;break;case"vertexColors":!0===f&&(l.vertexColors=VertexColors),"face"===f&&(l.vertexColors=FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",h,f)}}return"MeshBasicMaterial"===l.type&&delete l.emissive,"MeshPhongMaterial"!==l.type&&delete l.specular,l.opacity<1&&(l.transparent=!0),r.setTextures(c),r.parse(l)}}()}),Object.assign(JSONLoader.prototype,{load:function(t,e,n,r){var i=this,o=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:Loader.prototype.extractUrlBase(t),a=new FileLoader(this.manager);a.setResponseType("json"),a.setWithCredentials(this.withCredentials),a.load(t,function(n){var r=n.metadata;if(void 0!==r){var a=r.type;if(void 0!==a){if("object"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var s=i.parse(n,o);e(s.geometry,s.materials)},n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(){function t(t,e){function n(t,e){return t&1<<e}var r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,b,x,_,w,E,M,S,T,A,C,O,P=t.faces,L=t.vertices,R=t.normals,k=t.colors,N=t.scale,I=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&I++;for(r=0;r<I;r++)e.faceVertexUvs[r]=[]}for(a=0,s=L.length;a<s;)x=new Vector3,x.x=L[a++]*N,x.y=L[a++]*N,x.z=L[a++]*N,e.vertices.push(x);for(a=0,s=P.length;a<s;)if(f=P[a++],d=n(f,0),p=n(f,1),m=n(f,3),v=n(f,4),g=n(f,5),y=n(f,6),b=n(f,7),d){if(w=new Face3,w.a=P[a],w.b=P[a+1],w.c=P[a+3],E=new Face3,E.a=P[a+1],E.b=P[a+2],E.c=P[a+3],a+=4,p&&(h=P[a++],w.materialIndex=h,E.materialIndex=h),o=e.faces.length,m)for(r=0;r<I;r++)for(T=t.uvs[r],e.faceVertexUvs[r][o]=[],e.faceVertexUvs[r][o+1]=[],i=0;i<4;i++)l=P[a++],C=T[2*l],O=T[2*l+1],A=new Vector2(C,O),2!==i&&e.faceVertexUvs[r][o].push(A),0!==i&&e.faceVertexUvs[r][o+1].push(A);if(v&&(c=3*P[a++],w.normal.set(R[c++],R[c++],R[c]),E.normal.copy(w.normal)),g)for(r=0;r<4;r++)c=3*P[a++],S=new Vector3(R[c++],R[c++],R[c]),2!==r&&w.vertexNormals.push(S),0!==r&&E.vertexNormals.push(S);if(y&&(u=P[a++],M=k[u],w.color.setHex(M),E.color.setHex(M)),b)for(r=0;r<4;r++)u=P[a++],M=k[u],2!==r&&w.vertexColors.push(new Color(M)),0!==r&&E.vertexColors.push(new Color(M));e.faces.push(w),e.faces.push(E)}else{if(_=new Face3,_.a=P[a++],_.b=P[a++],_.c=P[a++],p&&(h=P[a++],_.materialIndex=h),o=e.faces.length,m)for(r=0;r<I;r++)for(T=t.uvs[r],e.faceVertexUvs[r][o]=[],i=0;i<3;i++)l=P[a++],C=T[2*l],O=T[2*l+1],A=new Vector2(C,O),e.faceVertexUvs[r][o].push(A);if(v&&(c=3*P[a++],_.normal.set(R[c++],R[c++],R[c])),g)for(r=0;r<3;r++)c=3*P[a++],S=new Vector3(R[c++],R[c++],R[c]),_.vertexNormals.push(S);if(y&&(u=P[a++],_.color.setHex(k[u])),b)for(r=0;r<3;r++)u=P[a++],_.vertexColors.push(new Color(k[u]));e.faces.push(_)}}function e(t,e){var n=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,i=t.skinWeights.length;r<i;r+=n){var o=t.skinWeights[r],a=n>1?t.skinWeights[r+1]:0,s=n>2?t.skinWeights[r+2]:0,u=n>3?t.skinWeights[r+3]:0;e.skinWeights.push(new Vector4(o,a,s,u))}if(t.skinIndices)for(var r=0,i=t.skinIndices.length;r<i;r+=n){var c=t.skinIndices[r],l=n>1?t.skinIndices[r+1]:0,h=n>2?t.skinIndices[r+2]:0,f=n>3?t.skinIndices[r+3]:0;e.skinIndices.push(new Vector4(c,l,h,f))}e.bones=t.bones,e.bones&&e.bones.length>0&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")}function n(t,e){var n=t.scale;if(void 0!==t.morphTargets)for(var r=0,i=t.morphTargets.length;r<i;r++){e.morphTargets[r]={},e.morphTargets[r].name=t.morphTargets[r].name,e.morphTargets[r].vertices=[];for(var o=e.morphTargets[r].vertices,a=t.morphTargets[r].vertices,s=0,u=a.length;s<u;s+=3){var c=new Vector3;c.x=a[s]*n,c.y=a[s+1]*n,c.z=a[s+2]*n,o.push(c)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var l=e.faces,h=t.morphColors[0].colors,r=0,i=l.length;r<i;r++)l[r].color.fromArray(h,3*r)}}function r(t,e){var n=[],r=[];void 0!==t.animation&&r.push(t.animation),void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var i=0;i<r.length;i++){var o=AnimationClip.parseAnimation(r[i],e.bones);o&&n.push(o)}if(e.morphTargets){var a=AnimationClip.CreateClipsFromMorphTargetSequences(e.morphTargets,10);n=n.concat(a)}n.length>0&&(e.animations=n)}return function(i,o){void 0!==i.data&&(i=i.data),void 0!==i.scale?i.scale=1/i.scale:i.scale=1;var a=new Geometry;return t(i,a),e(i,a),n(i,a),r(i,a),a.computeFaceNormals(),a.computeBoundingSphere(),void 0===i.materials||0===i.materials.length?{geometry:a}:{geometry:a,materials:Loader.prototype.initMaterials(i.materials,o,this.crossOrigin)}}}()}),Object.assign(ObjectLoader.prototype,{load:function(t,e,n,r){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new FileLoader(i.manager).load(t,function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.");i.parse(o,e)},n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,function(){void 0!==e&&e(a)}),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,n,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new JSONLoader,r=new BufferGeometryLoader,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Jn[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Jn[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Jn[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Jn[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Jn[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Jn[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new Jn[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Jn[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Jn[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Jn[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Jn[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new MaterialLoader;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=t[i];if("MultiMaterial"===a.type){for(var s=[],u=0;u<a.materials.length;u++)s.push(r.parse(a.materials[u]));n[a.uuid]=s}else n[a.uuid]=r.parse(a)}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=AnimationClip.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){function n(t){return r.manager.itemStart(t),a.load(t,function(){r.manager.itemEnd(t)},void 0,function(){r.manager.itemEnd(t),r.manager.itemError(t)})}var r=this,i={};if(void 0!==t&&t.length>0){var o=new LoadingManager(e),a=new ImageLoader(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,u=t.length;s<u;s++){var c=t[s],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:r.texturePath+c.url;i[c.uuid]=n(l)}}return i},parseTextures:function(t,e){function n(t,e){return"number"===typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var i=0,o=t.length;i<o;i++){var a=t[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===e[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=new Texture(e[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,nr)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],rr),s.wrapT=n(a.wrap[1],rr)),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,ir)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,ir)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),r[a.uuid]=s}return r},parseObject:function(){var t=new Matrix4;return function e(n,r,i){function o(t){return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),r[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];void 0===i[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),e.push(i[o])}return e}return void 0===i[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),i[t]}}var s;switch(n.type){case"Scene":s=new Scene,void 0!==n.background&&Number.isInteger(n.background)&&(s.background=new Color(n.background)),void 0!==n.fog&&("Fog"===n.fog.type?s.fog=new Fog(n.fog.color,n.fog.near,n.fog.far):"FogExp2"===n.fog.type&&(s.fog=new FogExp2(n.fog.color,n.fog.density)));break;case"PerspectiveCamera":s=new PerspectiveCamera(n.fov,n.aspect,n.near,n.far),void 0!==n.focus&&(s.focus=n.focus),void 0!==n.zoom&&(s.zoom=n.zoom),void 0!==n.filmGauge&&(s.filmGauge=n.filmGauge),void 0!==n.filmOffset&&(s.filmOffset=n.filmOffset),void 0!==n.view&&(s.view=Object.assign({},n.view));break;case"OrthographicCamera":s=new OrthographicCamera(n.left,n.right,n.top,n.bottom,n.near,n.far);break;case"AmbientLight":s=new AmbientLight(n.color,n.intensity);break;case"DirectionalLight":s=new DirectionalLight(n.color,n.intensity);break;case"PointLight":s=new PointLight(n.color,n.intensity,n.distance,n.decay);break;case"RectAreaLight":s=new RectAreaLight(n.color,n.intensity,n.width,n.height);break;case"SpotLight":s=new SpotLight(n.color,n.intensity,n.distance,n.angle,n.penumbra,n.decay);break;case"HemisphereLight":s=new HemisphereLight(n.color,n.groundColor,n.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var u=o(n.geometry),c=a(n.material);s=u.bones&&u.bones.length>0?new SkinnedMesh(u,c):new Mesh(u,c);break;case"LOD":s=new LOD;break;case"Line":s=new Line(o(n.geometry),a(n.material),n.mode);break;case"LineLoop":s=new LineLoop(o(n.geometry),a(n.material));break;case"LineSegments":s=new LineSegments(o(n.geometry),a(n.material));break;case"PointCloud":case"Points":s=new Points(o(n.geometry),a(n.material));break;case"Sprite":s=new Sprite(a(n.material));break;case"Group":s=new Group;break;default:s=new Object3D}if(s.uuid=n.uuid,void 0!==n.name&&(s.name=n.name),void 0!==n.matrix?(t.fromArray(n.matrix),t.decompose(s.position,s.quaternion,s.scale)):(void 0!==n.position&&s.position.fromArray(n.position),void 0!==n.rotation&&s.rotation.fromArray(n.rotation),void 0!==n.quaternion&&s.quaternion.fromArray(n.quaternion),void 0!==n.scale&&s.scale.fromArray(n.scale)),void 0!==n.castShadow&&(s.castShadow=n.castShadow),void 0!==n.receiveShadow&&(s.receiveShadow=n.receiveShadow),n.shadow&&(void 0!==n.shadow.bias&&(s.shadow.bias=n.shadow.bias),void 0!==n.shadow.radius&&(s.shadow.radius=n.shadow.radius),void 0!==n.shadow.mapSize&&s.shadow.mapSize.fromArray(n.shadow.mapSize),void 0!==n.shadow.camera&&(s.shadow.camera=this.parseObject(n.shadow.camera))),void 0!==n.visible&&(s.visible=n.visible),void 0!==n.userData&&(s.userData=n.userData),void 0!==n.children)for(var l in n.children)s.add(this.parseObject(n.children[l],r,i));if("LOD"===n.type)for(var h=n.levels,f=0;f<h.length;f++){var d=h[f],l=s.getObjectByProperty("uuid",d.object);void 0!==l&&s.addLevel(l,d.distance)}return s}}()});var nr={UVMapping:UVMapping,CubeReflectionMapping:CubeReflectionMapping,CubeRefractionMapping:CubeRefractionMapping,EquirectangularReflectionMapping:EquirectangularReflectionMapping,EquirectangularRefractionMapping:EquirectangularRefractionMapping,SphericalReflectionMapping:SphericalReflectionMapping,CubeUVReflectionMapping:CubeUVReflectionMapping,CubeUVRefractionMapping:CubeUVRefractionMapping},rr={RepeatWrapping:RepeatWrapping,ClampToEdgeWrapping:ClampToEdgeWrapping,MirroredRepeatWrapping:MirroredRepeatWrapping},ir={NearestFilter:NearestFilter,NearestMipMapNearestFilter:NearestMipMapNearestFilter,NearestMipMapLinearFilter:NearestMipMapLinearFilter,LinearFilter:LinearFilter,LinearMipMapNearestFilter:LinearMipMapNearestFilter,LinearMipMapLinearFilter:LinearMipMapLinearFilter};Object.assign(Curve.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e=[],n,r=this.getPoint(0),i,o=0;for(e.push(0),i=1;i<=t;i++)n=this.getPoint(i/t),o+=n.distanceTo(r),e.push(o),r=n;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n=this.getLengths(),r=0,i=n.length,o;o=e||t*n[i-1];for(var a=0,s=i-1,u;a<=s;)if(r=Math.floor(a+(s-a)/2),(u=n[r]-o)<0)a=r+1;else{if(!(u>0)){s=r;break}s=r-1}if(r=s,n[r]===o)return r/(i-1);var c=n[r];return(r+(o-c)/(n[r+1]-c))/(i-1)},getTangent:function(t){var e=1e-4,n=t-1e-4,r=t+1e-4;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n);return this.getPoint(r).clone().sub(i).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n=new Vector3,r=[],i=[],o=[],a=new Vector3,s=new Matrix4,u,c,l;for(u=0;u<=t;u++)c=u/t,r[u]=this.getTangentAt(c),r[u].normalize();i[0]=new Vector3,o[0]=new Vector3;var h=Number.MAX_VALUE,f=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);for(f<=h&&(h=f,n.set(1,0,0)),d<=h&&(h=d,n.set(0,1,0)),p<=h&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]),u=1;u<=t;u++)i[u]=i[u-1].clone(),o[u]=o[u-1].clone(),a.crossVectors(r[u-1],r[u]),a.length()>Number.EPSILON&&(a.normalize(),l=Math.acos(It.clamp(r[u-1].dot(r[u]),-1,1)),i[u].applyMatrix4(s.makeRotationAxis(a,l))),o[u].crossVectors(r[u],i[u]);if(!0===e)for(l=Math.acos(It.clamp(i[0].dot(i[t]),-1,1)),l/=t,r[0].dot(a.crossVectors(i[0],i[t]))>0&&(l=-l),u=1;u<=t;u++)i[u].applyMatrix4(s.makeRotationAxis(r[u],l*u)),o[u].crossVectors(r[u],i[u]);return{tangents:r,normals:i,binormals:o}}}),LineCurve.prototype=Object.create(Curve.prototype),LineCurve.prototype.constructor=LineCurve,LineCurve.prototype.isLineCurve=!0,LineCurve.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},LineCurve.prototype.getPointAt=function(t){return this.getPoint(t)},LineCurve.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},CurvePath.prototype=Object.assign(Object.create(Curve.prototype),{constructor:CurvePath,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new LineCurve(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e=[],n,r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),u=0;u<s.length;u++){var c=s[u];n&&n.equals(c)||(e.push(c),n=c)}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Geometry,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new Vector3(i.x,i.y,i.z||0))}return e}}),EllipseCurve.prototype=Object.create(Curve.prototype),EllipseCurve.prototype.constructor=EllipseCurve,EllipseCurve.prototype.isEllipseCurve=!0,EllipseCurve.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=r?0:e),!0!==this.aClockwise||r||(n===e?n=-e:n-=e);var i=this.aStartAngle+t*n,o=this.aX+this.xRadius*Math.cos(i),a=this.aY+this.yRadius*Math.sin(i);if(0!==this.aRotation){var s=Math.cos(this.aRotation),u=Math.sin(this.aRotation),c=o-this.aX,l=a-this.aY;o=c*s-l*u+this.aX,a=c*u+l*s+this.aY}return new Vector2(o,a)},SplineCurve.prototype=Object.create(Curve.prototype),SplineCurve.prototype.constructor=SplineCurve,SplineCurve.prototype.isSplineCurve=!0,SplineCurve.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),i=n-r,o=e[0===r?r:r-1],a=e[r],s=e[r>e.length-2?e.length-1:r+1],u=e[r>e.length-3?e.length-1:r+2];return new Vector2(xt(i,o.x,a.x,s.x,u.x),xt(i,o.y,a.y,s.y,u.y))},CubicBezierCurve.prototype=Object.create(Curve.prototype),CubicBezierCurve.prototype.constructor=CubicBezierCurve,CubicBezierCurve.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new Vector2(Ot(t,e.x,n.x,r.x,i.x),Ot(t,e.y,n.y,r.y,i.y))},QuadraticBezierCurve.prototype=Object.create(Curve.prototype),QuadraticBezierCurve.prototype.constructor=QuadraticBezierCurve,QuadraticBezierCurve.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new Vector2(Mt(t,e.x,n.x,r.x),Mt(t,e.y,n.y,r.y))};var or=Object.assign(Object.create(CurvePath.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new LineCurve(this.currentPoint.clone(),new Vector2(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var i=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(t,e),new Vector2(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,i,o){var a=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(t,e),new Vector2(n,r),new Vector2(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new SplineCurve(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,a,s){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(t+u,e+c,n,r,i,o,a,s)},absellipse:function(t,e,n,r,i,o,a,s){var u=new EllipseCurve(t,e,n,r,i,o,a,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)}});Path.prototype=or,or.constructor=Path,Shape.prototype=Object.assign(Object.create(or),{constructor:Shape,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),Object.assign(ShapePath.prototype,{moveTo:function(t,e){this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,o){this.currentPath.bezierCurveTo(t,e,n,r,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new Shape;o.curves=i.curves,e.push(o)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=e[i],s=e[o],u=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=e[o],u=-u,s=e[i],c=-c),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var l=c*(t.x-a.x)-u*(t.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r}var i=ShapeUtils.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);var a,s,u,c=[];if(1===o.length)return s=o[0],u=new Shape,u.curves=s.curves,c.push(u),c;var l=!i(o[0].getPoints());l=t?!l:l;var h=[],f=[],d=[],p=0,m;f[p]=void 0,d[p]=[];for(var v=0,g=o.length;v<g;v++)s=o[v],m=s.getPoints(),a=i(m),a=t?!a:a,a?(!l&&f[p]&&p++,f[p]={s:new Shape,p:m},f[p].s.curves=s.curves,l&&p++,d[p]=[]):d[p].push({h:s,p:m[0]});if(!f[0])return n(o);if(f.length>1){for(var y=!1,b=[],x=0,_=f.length;x<_;x++)h[x]=[];for(var x=0,_=f.length;x<_;x++)for(var w=d[x],E=0;E<w.length;E++){for(var M=w[E],S=!0,T=0;T<f.length;T++)r(M.p,f[T].p)&&(x!==T&&b.push({froms:x,tos:T,hole:E}),S?(S=!1,h[T].push(M)):y=!0);S&&h[x].push(M)}b.length>0&&(y||(d=h))}for(var A,v=0,C=f.length;v<C;v++){u=f[v].s,c.push(u),A=d[v];for(var O=0,P=A.length;O<P;O++)u.holes.push(A[O].h)}return c}}),Object.assign(Font.prototype,{isFont:!0,generateShapes:function(t,e,n){function r(t){for(var n=String(t).split(""),r=e/o.resolution,a=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*r,s=0,u=0,c=[],l=0;l<n.length;l++){var h=n[l];if("\n"===h)s=0,u-=a;else{var f=i(h,r,s,u);s+=f.offsetX,c.push(f.path)}}return c}function i(t,e,r,i){var a=o.glyphs[t]||o.glyphs["?"];if(a){var s=new ShapePath,u=[],c,l,h,f,d,p,m,v,g,y,b;if(a.o)for(var x=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),_=0,w=x.length;_<w;){var E=x[_++];switch(E){case"m":c=x[_++]*e+r,l=x[_++]*e+i,s.moveTo(c,l);break;case"l":c=x[_++]*e+r,l=x[_++]*e+i,s.lineTo(c,l);break;case"q":if(h=x[_++]*e+r,f=x[_++]*e+i,m=x[_++]*e+r,v=x[_++]*e+i,s.quadraticCurveTo(m,v,h,f),b=u[u.length-1]){d=b.x,p=b.y;for(var M=1;M<=n;M++){var S=M/n;Mt(S,d,m,h),Mt(S,p,v,f)}}break;case"b":if(h=x[_++]*e+r,f=x[_++]*e+i,m=x[_++]*e+r,v=x[_++]*e+i,g=x[_++]*e+r,y=x[_++]*e+i,s.bezierCurveTo(m,v,g,y,h,f),b=u[u.length-1]){d=b.x,p=b.y;for(var M=1;M<=n;M++){var S=M/n;Ot(S,d,m,g,h),Ot(S,p,v,y,f)}}}}return{offsetX:a.ha*e,path:s}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var o=this.data,a=r(t),s=[],u=0,c=a.length;u<c;u++)Array.prototype.push.apply(s,a[u].toShapes());return s}}),Object.assign(FontLoader.prototype,{load:function(t,e,n,r){var i=this;new FileLoader(this.manager).load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)},n,r)},parse:function(t){return new Font(t)}});var ar,AudioContext={getContext:function(){return void 0===ar&&(ar=new(window.AudioContext||window.webkitAudioContext)),ar},setContext:function(t){ar=t}};Object.assign(AudioLoader.prototype,{load:function(t,e,n,r){var i=new FileLoader(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){AudioContext.getContext().decodeAudioData(t,function(t){e(t)})},n,r)}}),Object.assign(StereoCamera.prototype,{update:function(){var t,e,n,r,i,o,a,s,u=new Matrix4,c=new Matrix4;return function l(h){if(t!==this||e!==h.focus||n!==h.fov||r!==h.aspect*this.aspect||i!==h.near||o!==h.far||a!==h.zoom||s!==this.eyeSep){t=this,e=h.focus,n=h.fov,r=h.aspect*this.aspect,i=h.near,o=h.far,a=h.zoom;var f=h.projectionMatrix.clone();s=this.eyeSep/2;var d=s*i/e,p=i*Math.tan(It.DEG2RAD*n*.5)/a,m,v;c.elements[12]=-s,u.elements[12]=s,m=-p*r+d,v=p*r+d,f.elements[0]=2*i/(v-m),f.elements[8]=(v+m)/(v-m),this.cameraL.projectionMatrix.copy(f),m=-p*r-d,v=p*r-d,f.elements[0]=2*i/(v-m),f.elements[8]=(v+m)/(v-m),this.cameraR.projectionMatrix.copy(f)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(u)}}()}),CubeCamera.prototype=Object.create(Object3D.prototype),CubeCamera.prototype.constructor=CubeCamera,ArrayCamera.prototype=Object.assign(Object.create(PerspectiveCamera.prototype),{constructor:ArrayCamera,isArrayCamera:!0}),AudioListener.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new Vector3,e=new Quaternion,n=new Vector3,r=new Vector3;return function i(o){Object3D.prototype.updateMatrixWorld.call(this,o);var a=this.context.listener,s=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),a.positionX?(a.positionX.setValueAtTime(t.x,this.context.currentTime),a.positionY.setValueAtTime(t.y,this.context.currentTime),a.positionZ.setValueAtTime(t.z,this.context.currentTime),a.forwardX.setValueAtTime(r.x,this.context.currentTime),a.forwardY.setValueAtTime(r.y,this.context.currentTime),a.forwardZ.setValueAtTime(r.z,this.context.currentTime),a.upX.setValueAtTime(s.x,this.context.currentTime),a.upY.setValueAtTime(s.y,this.context.currentTime),a.upZ.setValueAtTime(s.z,this.context.currentTime)):(a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z))}}()}),Audio.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Audio,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),PositionalAudio.prototype=Object.assign(Object.create(Audio.prototype),{constructor:PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new Vector3;return function e(n){Object3D.prototype.updateMatrixWorld.call(this,n),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(AudioAnalyser.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(PropertyMixer.prototype,{accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=e}else{o+=e;var s=e/o;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(n,r,a,1-i,e)}for(var s=e,u=e+e;s!==u;++s)if(n[s]!==n[s+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,o=r;i!==o;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r){Quaternion.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*r}}}),Object.assign(Pt.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(PropertyBinding,{Composite:Pt,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new PropertyBinding.Composite(t,e,n):new PropertyBinding(t,e,n)},parseTrackName:function(){var t=/((?:[\w-]+[\/:])*)/,e=/([\w-\.]+)?/,n=/(?:\.([\w-]+)(?:\[(.+)\])?)?/,r=/\.([\w-]+)(?:\[(.+)\])?/,i=new RegExp("^"+t.source+e.source+n.source+r.source+"$"),o=["material","materials","bones"];return function(t){var e=i.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var a=n.nodeName.substring(r+1);-1!==o.indexOf(a)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}}(),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null},r=n(t.skeleton);if(r)return r}if(t.children){var i=function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.name===e||r.uuid===e)return r;var o=i(r.children);if(o)return o}return null},o=i(t.children);if(o)return o}return null}}),Object.assign(PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function t(e,n){e[n]=this.node[this.propertyName]},function t(e,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)e[n++]=r[i]},function t(e,n){e[n]=this.resolvedProperty[this.propertyIndex]},function t(e,n){this.resolvedProperty.toArray(e,n)}],SetterByBindingTypeAndVersioning:[[function t(e,n){this.node[this.propertyName]=e[n]},function t(e,n){this.node[this.propertyName]=e[n],this.targetObject.needsUpdate=!0},function t(e,n){this.node[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function t(e,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=e[n++]},function t(e,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0},function t(e,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function t(e,n){this.resolvedProperty[this.propertyIndex]=e[n]},function t(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0},function t(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function t(e,n){this.resolvedProperty.fromArray(e,n)},function t(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0},function t(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function t(e,n){this.bind(),this.getValue(e,n)},setValue:function t(e,n){this.bind(),this.setValue(e,n)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=PropertyBinding.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("  trying to update node for track: "+this.path+" but it wasn't found.");if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("  can not bind to objectName of node, undefined",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[o]}}var s=t[r];if(void 0===s){var u=e.nodeName;return void console.error("  trying to update property for track: "+u+"."+r+" but it wasn't found.",t)}var c=this.Versioning.None;void 0!==t.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(PropertyBinding.prototype,{_getValue_unbound:PropertyBinding.prototype.getValue,_setValue_unbound:PropertyBinding.prototype.setValue}),Object.assign(AnimationObjectGroup.prototype,{isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,u=s.length,c=0,l=arguments.length;c!==l;++c){var h=arguments[c],f=h.uuid,d=i[f],p=void 0;if(void 0===d){d=n++,i[f]=d,e.push(h);for(var m=0,v=u;m!==v;++m)s[m].push(new PropertyBinding(h,o[m],a[m]))}else if(d<r){p=e[d];var g=--r,y=e[g];i[y.uuid]=d,e[d]=y,i[f]=g,e[g]=h;for(var m=0,v=u;m!==v;++m){var b=s[m],x=b[g],_=b[d];b[d]=x,void 0===_&&(_=new PropertyBinding(h,o[m],a[m])),b[g]=_}}else e[d]!==p&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],c=u.uuid,l=r[c];if(void 0!==l&&l>=n){var h=n++,f=e[h];r[f.uuid]=l,e[l]=f,r[c]=h,e[h]=u;for(var d=0,p=o;d!==p;++d){var m=i[d],v=m[h],g=m[l];m[l]=v,m[h]=g}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,u=arguments.length;s!==u;++s){var c=arguments[s],l=c.uuid,h=i[l];if(void 0!==h)if(delete i[l],h<r){var f=--r,d=e[f],p=--n,m=e[p];i[d.uuid]=h,e[h]=d,i[m.uuid]=f,e[f]=m,e.pop();for(var v=0,g=a;v!==g;++v){var y=o[v],b=y[f],x=y[p];y[h]=b,y[f]=x,y.pop()}}else{var p=--n,m=e[p];i[m.uuid]=h,e[h]=m,e.pop();for(var v=0,g=a;v!==g;++v){var y=o[v];y[h]=y[p],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);r=i.length,n[t]=r,o.push(t),a.push(e),i.push(l);for(var h=c,f=s.length;h!==f;++h){var d=s[h];l[h]=new PropertyBinding(d,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(Lt.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=i/r,a=r/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=t/a,u[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){if(!this.enabled)return void this._updateWeight(t);var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,h=u.length;l!==h;++l)u[l].evaluate(a),c[l].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(r===LoopOnce){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=r===LoopPingPong;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var u=t<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1===(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=ZeroSlopeEnding,r.endingEnd=ZeroSlopeEnding):(r.endingStart=t?this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:WrapAroundEnding,r.endingEnd=e?this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:WrapAroundEnding)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}}),Object.assign(AnimationMixer.prototype,EventDispatcher.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==i;++l){var h=r[l],f=h.name,d=c[f];if(void 0!==d)o[l]=d;else{if(void 0!==(d=o[l])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,f));continue}var p=e&&e._propertyBindings[l].binding.parsedPath;d=new PropertyMixer(PropertyBinding.create(n,f,p),h.ValueTypeName,h.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,s,f),o[l]=d}a[l].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=t._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete a[i];t:{for(var c in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"===typeof t?AnimationClip.findByName(n,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new Lt(this,i,e);return this._bindAction(c,s),this._addInactiveAction(c,o,r),c},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"===typeof t?AnimationClip.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[r]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){e[a]._update(r,t,i,o)}for(var s=this._bindings,u=this._nActiveBindings,a=0;a!==u;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,l=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,e[c]=l,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[e];if(void 0!==s)for(var u in s){var c=s[u];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Uniform.prototype.clone=function(){return new Uniform(void 0===this.value.clone?this.value:this.value.clone())},InstancedBufferGeometry.prototype=Object.assign(Object.create(BufferGeometry.prototype),{constructor:InstancedBufferGeometry,isInstancedBufferGeometry:!0,addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this}}),Object.defineProperties(InterleavedBufferAttribute.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(InterleavedBufferAttribute.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}}),Object.defineProperty(InterleavedBuffer.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(InterleavedBuffer.prototype,{isInterleavedBuffer:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),InstancedInterleavedBuffer.prototype=Object.assign(Object.create(InterleavedBuffer.prototype),{constructor:InstancedInterleavedBuffer,isInstancedInterleavedBuffer:!0,copy:function(t){return InterleavedBuffer.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),InstancedBufferAttribute.prototype=Object.assign(Object.create(BufferAttribute.prototype),{constructor:InstancedBufferAttribute,isInstancedBufferAttribute:!0,copy:function(t){return BufferAttribute.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Raycaster.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return kt(t,this,n,e),n.sort(Rt),n},intersectObjects:function(t,e){var n=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=t.length;r<i;r++)kt(t[r],this,n,e);return n.sort(Rt),n}}),Object.assign(Clock.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"===typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(Spherical.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(It.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(Cylindrical.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),MorphBlendMesh.prototype=Object.create(Mesh.prototype),MorphBlendMesh.prototype.constructor=MorphBlendMesh,MorphBlendMesh.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},MorphBlendMesh.prototype.autoCreateAnimations=function(t){for(var e=/([a-z]+)_?(\d+)/i,n,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o],u=s.name.match(e);if(u&&u.length>1){var c=u[1];r[c]||(r[c]={start:1/0,end:-1/0});var l=r[c];o<l.start&&(l.start=o),o>l.end&&(l.end=o),n||(n=c)}}for(var c in r){var l=r[c];this.createAnimation(c,l.start,l.end,t)}this.firstAnimation=n},MorphBlendMesh.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},MorphBlendMesh.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},MorphBlendMesh.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},MorphBlendMesh.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},MorphBlendMesh.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},MorphBlendMesh.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},MorphBlendMesh.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},MorphBlendMesh.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},MorphBlendMesh.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},MorphBlendMesh.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},MorphBlendMesh.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+It.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},ImmediateRenderObject.prototype=Object.create(Object3D.prototype),ImmediateRenderObject.prototype.constructor=ImmediateRenderObject,ImmediateRenderObject.prototype.isImmediateRenderObject=!0,VertexNormalsHelper.prototype=Object.create(LineSegments.prototype),VertexNormalsHelper.prototype.constructor=VertexNormalsHelper,VertexNormalsHelper.prototype.update=function(){var t=new Vector3,e=new Vector3,n=new Matrix3;return function r(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var o=this.object.matrixWorld,a=this.geometry.attributes.position,s=this.object.geometry;if(s&&s.isGeometry)for(var u=s.vertices,c=s.faces,l=0,h=0,f=c.length;h<f;h++)for(var d=c[h],p=0,m=d.vertexNormals.length;p<m;p++){var v=u[d[i[p]]],g=d.vertexNormals[p];t.copy(v).applyMatrix4(o),e.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}else if(s&&s.isBufferGeometry)for(var y=s.attributes.position,b=s.attributes.normal,l=0,p=0,m=y.count;p<m;p++)t.set(y.getX(p),y.getY(p),y.getZ(p)).applyMatrix4(o),e.set(b.getX(p),b.getY(p),b.getZ(p)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1;a.needsUpdate=!0}}(),SpotLightHelper.prototype=Object.create(Object3D.prototype),SpotLightHelper.prototype.constructor=SpotLightHelper,SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},SpotLightHelper.prototype.update=function(){var t=new Vector3,e=new Vector3;return function n(){var r=this.light.distance?this.light.distance:1e3,i=r*Math.tan(this.light.angle);this.cone.scale.set(i,i,r),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color)}}(),SkeletonHelper.prototype=Object.create(LineSegments.prototype),SkeletonHelper.prototype.constructor=SkeletonHelper,SkeletonHelper.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},SkeletonHelper.prototype.update=function(){var t=new Vector3,e=new Matrix4,n=new Matrix4;return function r(){var i=this.geometry,o=i.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a=0,s=0;a<this.bones.length;a++){var u=this.bones[a];u.parent&&u.parent.isBone&&(e.multiplyMatrices(n,u.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(s,t.x,t.y,t.z),e.multiplyMatrices(n,u.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(s+1,t.x,t.y,t.z),s+=2)}i.getAttribute("position").needsUpdate=!0}}(),PointLightHelper.prototype=Object.create(Mesh.prototype),PointLightHelper.prototype.constructor=PointLightHelper,PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color)},RectAreaLightHelper.prototype=Object.create(Object3D.prototype),RectAreaLightHelper.prototype.constructor=RectAreaLightHelper,RectAreaLightHelper.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},RectAreaLightHelper.prototype.update=function(){var t=this.children[0];t.material.color.copy(this.light.color);var e=.5*this.light.width,n=.5*this.light.height,r=t.geometry.attributes.position,i=r.array;i[0]=e,i[1]=-n,i[2]=0,i[3]=e,i[4]=n,i[5]=0,i[6]=-e,i[7]=n,i[8]=0,i[9]=-e,i[10]=-n,i[11]=0,i[12]=e,i[13]=-n,i[14]=0,r.needsUpdate=!0},HemisphereLightHelper.prototype=Object.create(Object3D.prototype),HemisphereLightHelper.prototype.constructor=HemisphereLightHelper,HemisphereLightHelper.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},HemisphereLightHelper.prototype.update=function(){var t=new Vector3,e=new Color,n=new Color;return function r(){var i=this.children[0],o=i.geometry.getAttribute("color");e.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,s=o.count;a<s;a++){var u=a<s/2?e:n;o.setXYZ(a,u.r,u.g,u.b)}i.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),o.needsUpdate=!0}}(),GridHelper.prototype=Object.create(LineSegments.prototype),GridHelper.prototype.constructor=GridHelper,PolarGridHelper.prototype=Object.create(LineSegments.prototype),PolarGridHelper.prototype.constructor=PolarGridHelper,FaceNormalsHelper.prototype=Object.create(LineSegments.prototype),FaceNormalsHelper.prototype.constructor=FaceNormalsHelper,FaceNormalsHelper.prototype.update=function(){var t=new Vector3,e=new Vector3,n=new Matrix3;return function r(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry,s=a.vertices,u=a.faces,c=0,l=0,h=u.length;l<h;l++){var f=u[l],d=f.normal;t.copy(s[f.a]).add(s[f.b]).add(s[f.c]).divideScalar(3).applyMatrix4(i),e.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(c,t.x,t.y,t.z),c+=1,o.setXYZ(c,e.x,e.y,e.z),c+=1}o.needsUpdate=!0}}(),DirectionalLightHelper.prototype=Object.create(Object3D.prototype),DirectionalLightHelper.prototype.constructor=DirectionalLightHelper,DirectionalLightHelper.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},DirectionalLightHelper.prototype.update=function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var i=this.children[0],o=this.children[1];i.lookAt(n),i.material.color.copy(this.light.color),o.lookAt(n),o.scale.z=n.length()}}(),CameraHelper.prototype=Object.create(LineSegments.prototype),CameraHelper.prototype.constructor=CameraHelper,CameraHelper.prototype.update=function(){function t(t,o,a,s){r.set(o,a,s).unproject(i);var u=n[t];if(void 0!==u)for(var c=e.getAttribute("position"),l=0,h=u.length;l<h;l++)c.setXYZ(u[l],r.x,r.y,r.z)}var e,n,r=new Vector3,i=new Camera;return function r(){e=this.geometry,n=this.pointMap;var o=1,a=1;i.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),BoxHelper.prototype=Object.create(LineSegments.prototype),BoxHelper.prototype.constructor=BoxHelper,BoxHelper.prototype.update=function(){var t=new Box3;return function e(n){if(void 0!==n&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var r=t.min,i=t.max,o=this.geometry.attributes.position,a=o.array;a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=r.x,a[4]=i.y,a[5]=i.z,a[6]=r.x,a[7]=r.y,a[8]=i.z,a[9]=i.x,a[10]=r.y,a[11]=i.z,a[12]=i.x,a[13]=i.y,a[14]=r.z,a[15]=r.x,a[16]=i.y,a[17]=r.z,a[18]=r.x,a[19]=r.y,a[20]=r.z,a[21]=i.x,a[22]=r.y,a[23]=r.z,o.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),BoxHelper.prototype.setFromObject=function(t){return this.object=t,this.update(),this};var sr,ur;ArrowHelper.prototype=Object.create(Object3D.prototype),ArrowHelper.prototype.constructor=ArrowHelper,ArrowHelper.prototype.setDirection=function(){var t=new Vector3,e;return function n(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(r.z,0,-r.x).normalize(),e=Math.acos(r.y),this.quaternion.setFromAxisAngle(t,e))}}(),ArrowHelper.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},ArrowHelper.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},AxisHelper.prototype=Object.create(LineSegments.prototype),AxisHelper.prototype.constructor=AxisHelper;var cr=new Vector3,lr=new Nt,hr=new Nt,fr=new Nt;CatmullRomCurve3.prototype=Object.create(Curve.prototype),CatmullRomCurve3.prototype.constructor=CatmullRomCurve3,CatmullRomCurve3.prototype.getPoint=function(t){var e=this.points,n=e.length;n<2&&console.log("duh, you need at least 2 points");var r=(n-(this.closed?0:1))*t,i=Math.floor(r),o=r-i;this.closed?i+=i>0?0:(Math.floor(Math.abs(i)/e.length)+1)*e.length:0===o&&i===n-1&&(i=n-2,o=1);var a,s,u,c;if(this.closed||i>0?a=e[(i-1)%n]:(cr.subVectors(e[0],e[1]).add(e[0]),a=cr),s=e[i%n],u=e[(i+1)%n],this.closed||i+2<n?c=e[(i+2)%n]:(cr.subVectors(e[n-1],e[n-2]).add(e[n-1]),c=cr),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var l="chordal"===this.type?.5:.25,h=Math.pow(a.distanceToSquared(s),l),f=Math.pow(s.distanceToSquared(u),l),d=Math.pow(u.distanceToSquared(c),l);f<1e-4&&(f=1),h<1e-4&&(h=f),d<1e-4&&(d=f),lr.initNonuniformCatmullRom(a.x,s.x,u.x,c.x,h,f,d),hr.initNonuniformCatmullRom(a.y,s.y,u.y,c.y,h,f,d),fr.initNonuniformCatmullRom(a.z,s.z,u.z,c.z,h,f,d)}else if("catmullrom"===this.type){var p=void 0!==this.tension?this.tension:.5;lr.initCatmullRom(a.x,s.x,u.x,c.x,p),hr.initCatmullRom(a.y,s.y,u.y,c.y,p),fr.initCatmullRom(a.z,s.z,u.z,c.z,p)}return new Vector3(lr.calc(o),hr.calc(o),fr.calc(o))},CubicBezierCurve3.prototype=Object.create(Curve.prototype),CubicBezierCurve3.prototype.constructor=CubicBezierCurve3,CubicBezierCurve3.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new Vector3(Ot(t,e.x,n.x,r.x,i.x),Ot(t,e.y,n.y,r.y,i.y),Ot(t,e.z,n.z,r.z,i.z))},QuadraticBezierCurve3.prototype=Object.create(Curve.prototype),QuadraticBezierCurve3.prototype.constructor=QuadraticBezierCurve3,QuadraticBezierCurve3.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new Vector3(Mt(t,e.x,n.x,r.x),Mt(t,e.y,n.y,r.y),Mt(t,e.z,n.z,r.z))},LineCurve3.prototype=Object.create(Curve.prototype),LineCurve3.prototype.constructor=LineCurve3,LineCurve3.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new Vector3;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},ArcCurve.prototype=Object.create(EllipseCurve.prototype),ArcCurve.prototype.constructor=ArcCurve;var SceneUtils={createMultiMaterialObject:function(t,e){for(var n=new Group,r=0,i=e.length;r<i;r++)n.add(new Mesh(t,e[r]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var r=new Matrix4;r.getInverse(n.matrixWorld),t.applyMatrix(r),e.remove(t),n.add(t)}},LineStrip=0,LinePieces=1;Curve.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Curve.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},ClosedSplineCurve3.prototype=Object.create(CatmullRomCurve3.prototype),SplineCurve3.prototype=Object.create(CatmullRomCurve3.prototype),Spline.prototype=Object.create(CatmullRomCurve3.prototype),Object.assign(Spline.prototype,{initFromArray:function(t){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(t){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(t){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(Box2.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Box3.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Line3.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},It.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(Matrix3.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Matrix4.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function e(){return void 0===t&&(t=new Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)}}),Plane.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Quaternion.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Ray.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Shape.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ExtrudeGeometry(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ShapeGeometry(this,t)}}),Object.assign(Vector2.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(Vector4.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Geometry.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(Object3D.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(LOD.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Skeleton.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Curve.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),PerspectiveCamera.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(BufferGeometry.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Uniform.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Material.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Color}}}),Object.defineProperties(MeshPhongMaterial.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(WebGLRenderer.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(F.prototype,{cullFace:{get:function(){return this.renderReverseSided?CullFaceFront:CullFaceBack},set:function(t){var e=t!==CullFaceBack;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Audio.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new AudioLoader).load(t,function(t){e.setBuffer(t)}),this},AudioAnalyser.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};var GeometryUtils={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},ImageUtils={crossOrigin:void 0,loadTexture:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new TextureLoader;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new CubeTextureLoader;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}}},function(t,e){function n(t){return null==t}t.exports=n},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){"use strict";var r=n(172);n.d(e,"a",function(){return r.a})},function(t,e,n){var r=n(345),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){"use strict";var r=n(665),i=n(334),o=n(670);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return o.a})},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(356),o=n(159),a=n(35);t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?s(t)?o(t[0],t[1]):i(t):u(t)}var i=n(752),o=n(765),a=n(53),s=n(17),u=n(767);t.exports=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(679);n.d(e,"a",function(){return r.a});var i=n(685),o=n(339);n.d(e,"b",function(){return o.a});var a=n(686),s=n(688),u=n(690),c=n(692);n.d(e,"c",function(){return c.a});var l=n(340);n.d(e,"d",function(){return l.a});var h=n(218),f=n(694),d=n(696),p=n(698),m=n(699),v=n(700)},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(71),o=n(225);t.exports=r},function(t,e,n){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=r},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"f",function(){return a}),n.d(e,"i",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"d",function(){return h}),n.d(e,"e",function(){return f}),n.d(e,"a",function(){return d}),n.d(e,"h",function(){return p});var r=n(16),i=r.a===r.c?window.publicUrl:"",o=void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_BUILD_ENV:"OMEKA"}).REACT_APP_API_URL?Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_BUILD_ENV:"OMEKA"}).REACT_APP_API_URL:"",a=window.rootUrl+"api/threejs_viewers/",s=o+"/api",u=s+"/views/",c=s+"/file/",l=s+"/users/",h=l+"login",f=l+"logout",d=l+"authenticate",p=l+"verify/"},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";function r(t,e){if(t instanceof v)return t;var n=m.getType(e);if(m.isNumber(t))return n!==Array?new v(new n([t]),[1]):new v([t],[1]);var r=m.getShape(t);return r.length>1&&(t=m.flatten(t,!0)),t instanceof n||(t=new n(t)),new v(t,r)}function i(t,e){e=e||0;var n=0|t[e];if(n<=0)return[];var r=new Array(n),o;if(e===t.length-1)for(o=0;o<n;++o)r[o]=0;else for(o=0;o<n;++o)r[o]=i(t,e+1);return r}function o(t){var e=i(t.shape,0);return x(t,e),e}function a(t){return String(Number((t||0).toFixed(d.nFloatingValues)))}var s=n(97),u=n(51),c=n(85),l=n(646),h=n(322),f=n(323),d=n(326),p=n(136),m=n(98),v=function t(){if(1===arguments.length)this.selection=arguments[0];else{if(0===arguments.length)throw new p.ValueError("Required argument 'data' not found");this.selection=s.apply(null,arguments)}Object.defineProperty(this,"size",{get:function(){return this.selection.size}.bind(this)}),Object.defineProperty(this,"shape",{get:function(){return this.selection.shape}.bind(this)}),Object.defineProperty(this,"ndim",{get:function(){return this.selection.shape.length}.bind(this)}),Object.defineProperty(this,"dtype",{get:function(){return this.selection.dtype}.bind(this),set:function(t){var e=m.getType(t);e!==m.getType(this.dtype)&&(this.selection=s(new e(this.selection.data),this.selection.shape,this.selection.stride,this.selection.offset))}.bind(this)}),Object.defineProperty(this,"T",{get:function(){return this.transpose()}.bind(this)})};v.prototype.get=function(){for(var t=arguments.length,e=0;e<t;e++)arguments[e]<0&&(arguments[e]+=this.shape[e]);return this.selection.get.apply(this.selection,arguments)},v.prototype.set=function(){return this.selection.set.apply(this.selection,arguments)},v.prototype.slice=function(){for(var t=this.ndim,e=new Array(t),n=new Array(t),r=new Array(t),i=this.shape,o=0;o<t;o++){var a=arguments[o];if("undefined"===typeof a)break;if(null!==a)if(m.isNumber(a))n[o]=a<0?a+i[o]:a,e[o]=null,r[o]=1;else if(4===a.length&&null===a[1]&&null===a[2]){var s=a[0]<0?a[0]+i[o]:a[0];n[o]=s,e[o]=null,r[o]=a[3]||1}else{var u=a[0]<0?a[0]+i[o]:a[0],c=a[1]<0?a[1]+i[o]:a[1];n[o]=c?u:0,e[o]=c?c-u:u,r[o]=a[2]||1}}var l=this.selection.lo.apply(this.selection,n),h=l.hi.apply(l,e),f=h.step.apply(h,r);return new v(f)},v.prototype.pick=function(t){return new v(this.selection.pick.apply(this.selection,arguments))},v.prototype.lo=function(){return new v(this.selection.lo.apply(this.selection,arguments))},v.prototype.hi=function(){return new v(this.selection.hi.apply(this.selection,arguments))},v.prototype.step=function(){return new v(this.selection.step.apply(this.selection,arguments))},v.prototype.flatten=function(){if(1===this.ndim)return new v(this.selection);var t=m.getType(this.dtype),e=m.flatten(this.tolist(),!0);return e instanceof t||(e=new t(e)),new v(e,[this.size])},v.prototype.reshape=function(t){if(0===arguments.length)throw new p.ValueError("function takes at least one argument (0 given)");if(1===arguments.length&&m.isNumber(t)&&-1===t&&(t=[m.shapeSize(this.shape)]),1===arguments.length&&m.isNumber(t)&&(t=[t]),arguments.length>1&&(t=[].slice.call(arguments)),t.filter(function(t){return-1===t}).length>1)throw new p.ValueError("can only specify one unknown dimension");var e=m.shapeSize(t);if(t=t.map(function(t){return-1===t?-1*this.size/e:t}.bind(this)),this.size!==m.shapeSize(t))throw new p.ValueError("total size of new array must be unchanged");var n=this.selection.shape,r=this.selection.offset,i=this.selection.stride,o=n.length,a=t.length,s,u,c,l;if(o===a){var h=!0;for(c=0;c<a;++c)if(n[c]!==t[c]){h=!1;break}if(h)return new v(this.selection.data,n,i,r)}else if(1===o){for(s=new Array(a),c=a-1,l=1;c>=0;--c)s[c]=l,l*=t[c];for(u=r,c=0;c<a;++c)s[c]<0&&(u-=(t[c]-1)*s[c]);return new v(this.selection.data,t,s,u)}var f=Math.min(o,a),d=!0;for(c=0;c<f;c++)if(n[c]!==t[c]){d=!1;break}if(d){for(s=new Array(a),c=0;c<a;c++)s[c]=i[c]||1;return u=r,new v(this.selection.data,t,s,u)}return this.flatten().reshape(t)},v.prototype.transpose=function(t){if(0===arguments.length){var e=this.ndim;t=new Array(e);for(var n=0;n<e;n++)t[n]=e-n-1}else arguments.length>1&&(t=arguments);return new v(this.selection.transpose.apply(this.selection,t))},v.prototype.dot=function(t){t=t instanceof v?t:r(t,this.dtype);var e=this.shape,n=t.shape;if(2===e.length&&2===n.length&&e[1]===n[0]){var i=m.getType(this.dtype),o=new v(new i(e[0]*n[1]),[e[0],n[1]]);return l(o.selection,this.selection,t.selection),o}if(1===e.length&&2===n.length&&e[0]===n[0])return this.reshape([e[0],1]).T.dot(t).reshape(n[1]);if(2===e.length&&1===n.length&&e[1]===n[0])return this.dot(t.reshape([n[0],1])).reshape(e[0]);if(1===e.length&&1===n.length&&e[0]===n[0])return this.reshape([e[0],1]).T.dot(t.reshape([n[0],1])).reshape([1]);throw new p.ValueError("cannot compute the matrix product of given arrays")},v.prototype.assign=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return m.isNumber(t)?(c.assigns(n.selection,t),n):(t=r(t,this.dtype),c.assign(n.selection,t.selection),n)},v.prototype.add=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return m.isNumber(t)?(c.addseq(n.selection,t),n):(t=r(t,this.dtype),c.addeq(n.selection,t.selection),n)},v.prototype.subtract=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return m.isNumber(t)?(c.subseq(n.selection,t),n):(t=r(t,this.dtype),c.subeq(n.selection,t.selection),n)},v.prototype.multiply=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return m.isNumber(t)?(c.mulseq(n.selection,t),n):(t=r(t,this.dtype),c.muleq(n.selection,t.selection),n)},v.prototype.divide=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return m.isNumber(t)?(c.divseq(n.selection,t),n):(t=r(t,this.dtype),c.diveq(n.selection,t.selection),n)},v.prototype.pow=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return m.isNumber(t)?(c.powseq(n.selection,t),n):(t=r(t,this.dtype),c.poweq(n.selection,t.selection),n)},v.prototype.exp=function(t){0===arguments.length&&(t=!0);var e=t?this.clone():this;return c.expeq(e.selection),e},v.prototype.log=function(t){0===arguments.length&&(t=!0);var e=t?this.clone():this;return c.logeq(e.selection),e},v.prototype.sqrt=function(t){0===arguments.length&&(t=!0);var e=t?this.clone():this;return c.sqrteq(e.selection),e},v.prototype.max=function(){return 0===this.selection.size?null:c.sup(this.selection)},v.prototype.min=function(){return 0===this.selection.size?null:c.inf(this.selection)},v.prototype.sum=function(){return c.sum(this.selection)},v.prototype.std=function(t){t=m.defaults(t,{ddof:0});var e=this.clone();c.powseq(e.selection,2);var n=this.mean(),r=m.shapeSize(this.shape),i=c.sum(e.selection)/(r-t.ddof)-n*n*r/(r-t.ddof);return i>0?Math.sqrt(Math.abs(i)):0},v.prototype.mean=function(){return c.sum(this.selection)/m.shapeSize(this.shape)},v.prototype.mod=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return m.isNumber(t)?(c.modseq(n.selection,t),n):(t=r(t,this.dtype),c.modeq(n.selection,t.selection),n)},v.prototype.tolist=function(){return o(this.selection)},v.prototype.valueOf=function(){return this.tolist()},v.prototype.toString=function(){function t(n,r){if(m.isString(r))return r;if(m.isNumber(r)){var i=a(r);return new Array(Math.max(0,e-i.length+2)).join(" ")+i}n=n||0;var o,s=d.printThreshold,u=s/2|0;return o=r.length>s?[].concat(r.slice(0,u),[" ..."],r.slice(r.length-u)):r,new Array(n+1).join(" ")+"["+o.map(function(e,r){return t(0===r&&0===n?1:n+1,e)}).join(",")+"]"}var e=a(this.max()).length,n=/\]\,(\s*)\[/g,r="],\n$1      [",i=/\]\,(\s+)...\,(\s+)\[/g,o="],\n$2       ...\n$2      [",s=/\[\s+\[/g,u="[[",c=JSON.stringify(this.tolist(),t).replace(n,r).replace(s,"[[").replace(s,"[[").replace(i,o).slice(2,-1);switch(this.dtype){case"array":return"array(["+c+")";default:return"array(["+c+", dtype="+this.dtype+")"}},v.prototype.inspect=v.prototype.toString,v.prototype.toJSON=function(){return JSON.stringify(this.tolist())},v.prototype.clone=function(){var t=this.selection;return new v("undefined"===typeof t.data.slice?s([].slice.apply(t.data),t.shape,t.stride,t.offset):s(t.data.slice(),t.shape,t.stride,t.offset))},v.prototype.equal=function(t){if(t=r(t),this.size!==t.size||this.ndim!==t.ndim)return!1;for(var e=this.ndim,n=0;n<e;n++)if(this.shape[n]!==t.shape[n])return!1;return c.all(c.eqeq(this.selection,t.selection))},v.prototype.round=function(t){0===arguments.length&&(t=!0);var e=t?this.clone():this;return c.roundeq(e.selection),e},v.prototype.negative=function(){var t=this.clone();return c.neg(t.selection,this.selection),t},v.prototype.diag=function(){var t=this.ndim;if(1===t){var e=m.getType(this.dtype),n=[this.shape[0],this.shape[0]],r=new v(new e(m.shapeSize(n)),n);"array"===r.dtype&&c.assigns(r.selection,0);for(var i=0;i<this.shape[0];i++)r.set(i,i,this.get(i));return r}for(var o=this.shape,a=this.selection.stride,s=1<<30,u=0,i=0;i<t;++i)s=0|Math.min(s,o[i]),u+=a[i];return new v(this.selection.data,[s],[u],this.selection.offset)},v.prototype.iteraxis=function(t,e){var n=this.shape;if(-1===t&&(t=n.length-1),t<0||t>n.length-1)throw new p.ValueError("invalid axis");for(var i=0;i<n[t];i++){for(var a=new Array(t+1),s=0;s<t+1;s++)a[s]=s===t?i:null;e(r(o(this.selection.pick.apply(this.selection,a)),this.dtype),i)}};var g=u({args:["array","array","array","array"],body:function(t,e,n,r){var i=n,o=r,a=t,s=e,u=a*(i+o);t=u-o*(a+s),e=u+i*(s-a)}}),y=u({args:["array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],body:function(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y){t=h*l+f*c+d*u+p*s+e*a+m*o+v*i+g*r+y*n}}),b=u({args:["index","array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-2,-2],array:1},{offset:[-2,-1],array:1},{offset:[-2,0],array:1},{offset:[-2,1],array:1},{offset:[-2,2],array:1},{offset:[-1,-2],array:1},{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[-1,2],array:1},{offset:[0,-2],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[0,2],array:1},{offset:[1,-2],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1},{offset:[1,2],array:1},{offset:[2,-2],array:1},{offset:[2,-1],array:1},{offset:[2,0],array:1},{offset:[2,1],array:1},{offset:[2,2],array:1}],body:function(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,b,x,_,w,E,M,S,T,A,C,O,P,L,R,k,N,I,j,D,B,F,U,G,z,V,H,W,q,X,Y,K,Z,Q){e=t[0]<2||t[1]<2?0:C*A+O*T+P*S+L*M+R*E+k*w+N*_+I*x+j*b+D*y+B*g+F*v+n*m+U*p+G*d+z*f+V*h+H*l+W*c+q*u+X*s+Y*a+K*o+Z*i+Q*r}});v.prototype.convolve=function(t){t=v.new(t);var e=this.ndim;if(e!==t.ndim)throw new p.ValueError("arrays must have the same dimensions");for(var n=new Array(e),r=new Array(e),i=this.selection,o=this.shape,a=t.selection,s=t.shape,u=0;u<e;u++){var c=o[u]-s[u]+1;if(c<0)throw new p.ValueError("filter cannot be greater than the array");n[u]=c,r[u]=-1}if(2===e&&3===s[0]&&3===s[1]){var l=new v(new Float32Array(m.shapeSize(o)),o);return y(l.selection,i,a.get(0,0),a.get(0,1),a.get(0,2),a.get(1,0),a.get(1,1),a.get(1,2),a.get(2,0),a.get(2,1),a.get(2,2)),l.lo(1,1).hi(n[0],n[1])}if(3===e&&1===s[2]&&1===o[2]&&3===s[0]&&3===s[1]){var h=new v(new Float32Array(m.shapeSize(o)),o);return y(h.selection.pick(null,null,0),i.pick(null,null,0),a.get(0,0,0),a.get(0,1,0),a.get(0,2,0),a.get(1,0,0),a.get(1,1,0),a.get(1,2,0),a.get(2,0,0),a.get(2,1,0),a.get(2,2,0)),h.lo(1,1).hi(n[0],n[1])}if(2===e&&5===s[0]&&5===s[1]){var f=new v(new Float32Array(m.shapeSize(o)),o);return b(f.selection,i,a.get(0,0),a.get(0,1),a.get(0,2),a.get(0,3),a.get(0,4),a.get(1,0),a.get(1,1),a.get(1,2),a.get(1,3),a.get(1,4),a.get(2,0),a.get(2,1),a.get(2,2),a.get(2,3),a.get(2,4),a.get(3,0),a.get(3,1),a.get(3,2),a.get(3,3),a.get(3,4),a.get(4,0),a.get(4,1),a.get(4,2),a.get(4,3),a.get(4,4)),f.lo(2,2).hi(n[0],n[1])}if(3===e&&1===s[2]&&1===o[2]&&5===s[0]&&5===s[1]){var d=new v(new Float32Array(m.shapeSize(o)),o);return b(d.selection,i,a.get(0,0,0),a.get(0,1,0),a.get(0,2,0),a.get(0,3,0),a.get(0,4,0),a.get(1,0,0),a.get(1,1,0),a.get(1,2,0),a.get(1,3,0),a.get(1,4,0),a.get(2,0,0),a.get(2,1,0),a.get(2,2,0),a.get(2,3,0),a.get(2,4,0),a.get(3,0,0),a.get(3,1,0),a.get(3,2,0),a.get(3,3,0),a.get(3,4,0),a.get(4,0,0),a.get(4,1,0),a.get(4,2,0),a.get(4,3,0),a.get(4,4,0)),d.lo(2,2).hi(n[0],n[1])}return this.fftconvolve(t)},v.prototype.fftconvolve=function(t){if(t=v.new(t),this.ndim!==t.ndim)throw new p.ValueError("arrays must have the same dimensions");var e=this.selection,n=t.selection,r=this.ndim,i=1,o=new Array(r),a=new Array(r),u=new Array(r),l;for(l=r-1;l>=0;--l)a[l]=e.shape[l],o[l]=i,i*=a[l],u[l]=e.shape[l]-n.shape[l]+1;var d=m.getType(e.dtype),y=new v(new d(m.shapeSize(u)),u),b=y.selection,x=f.mallocDouble(i),_=s(x,a,o,0);c.assigns(_,0),c.assign(_.hi.apply(_,e.shape),e);var w=f.mallocDouble(i),E=s(w,a,o,0);c.assigns(E,0),h(1,_,E);var M=f.mallocDouble(i),S=s(M,a,o,0);c.assigns(S,0),c.assign(S.hi.apply(S,n.shape),n);var T=f.mallocDouble(i),A=s(T,a,o,0);c.assigns(A,0),h(1,S,A),g(_,E,S,A),h(-1,_,E);var C=new Array(r),O=new Array(r),P=!1;for(l=0;l<r;++l)b.shape[l]>a[l]&&(P=!0),O[l]=n.shape[l]-1,C[l]=Math.min(b.shape[l],a[l]-O[l]);var L;return P&&c.assign(b,0),L=_.lo.apply(_,O),L=L.hi.apply(L,C),c.assign(b.hi.apply(b,C),L),f.freeDouble(x),f.freeDouble(w),f.freeDouble(M),f.freeDouble(T),y},v.new=r,t.exports=v;var x=u({args:["array","scalar","index"],body:function t(e,n,r){var i=n,o;for(o=0;o<r.length-1;++o)i=i[r[o]];i[r[r.length-1]]=e}})},function(t,e,n){function r(t){return null==t?void 0===t?u:s:c&&c in Object(t)?o(t):a(t)}var i=n(69),o=n(708),a=n(709),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=r},function(t,e){t.exports={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.red=void 0;var i=n(234),o=r(i),a=n(1085),s=r(a);e.default={simpleCheckForValidColor:function t(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return(0,o.default)(n,function(t){if(e[t]&&(r+=1,isNaN(e[t])||(i+=1),"s"===t||"l"===t)){/^\d+%$/.test(e[t])&&(i+=1)}}),r===i&&e},toState:function t(e,n){var r=e.hex?(0,s.default)(e.hex):(0,s.default)(e),i=r.toHsl(),o=r.toHsv(),a=r.toRgb(),u=r.toHex();return 0===i.s&&(i.h=n||0,o.h=n||0),{hsl:i,hex:"000000"===u&&0===a.a?"transparent":"#"+u,rgb:a,hsv:o,oldHue:e.h||n||i.h,source:e.source}},isValidHex:function t(e){var n="#"===String(e).charAt(0)?1:0;return e.length!==4+n&&e.length<7+n&&(0,s.default)(e).isValid()},getContrastingColor:function t(e){if(!e)return"#fff";var n=this.toState(e);return"transparent"===n.hex?"rgba(0,0,0,0.4)":(299*n.rgb.r+587*n.rgb.g+114*n.rgb.b)/1e3>=128?"#000":"#fff"}};var u=e.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(t,e,n){"use strict";n.d(e,"k",function(){return r}),n.d(e,"B",function(){return i}),n.d(e,"C",function(){return o}),n.d(e,"n",function(){return a}),n.d(e,"E",function(){return s}),n.d(e,"u",function(){return u}),n.d(e,"t",function(){return c}),n.d(e,"F",function(){return l}),n.d(e,"A",function(){return h}),n.d(e,"z",function(){return f}),n.d(e,"o",function(){return d}),n.d(e,"c",function(){return p}),n.d(e,"d",function(){return m}),n.d(e,"r",function(){return v}),n.d(e,"s",function(){return g}),n.d(e,"K",function(){return y}),n.d(e,"L",function(){return b}),n.d(e,"a",function(){return x}),n.d(e,"H",function(){return _}),n.d(e,"N",function(){return w}),n.d(e,"M",function(){return E}),n.d(e,"h",function(){return M}),n.d(e,"J",function(){return S}),n.d(e,"q",function(){return C}),n.d(e,"v",function(){return O}),n.d(e,"I",function(){return P}),n.d(e,"m",function(){return L}),n.d(e,"l",function(){return R}),n.d(e,"j",function(){return k}),n.d(e,"b",function(){return N}),n.d(e,"i",function(){return I}),n.d(e,"G",function(){return j}),n.d(e,"P",function(){return D}),n.d(e,"O",function(){return B}),n.d(e,"Q",function(){return F}),n.d(e,"x",function(){return U}),n.d(e,"p",function(){return G}),n.d(e,"y",function(){return z}),n.d(e,"g",function(){return V}),n.d(e,"D",function(){return H}),n.d(e,"e",function(){return W}),n.d(e,"f",function(){return q}),n.d(e,"w",function(){return X});var r="GET_THREE_ASSET",i="THREE_ASSET_LOADED",o="THREE_METADATA_LOADED",a="LOAD_MESH",s="UPDATE_MESH_LOAD_PROGRESS",u="MESH_LOAD_ERROR",c="MESH_LOADED",l="UPDATE_TEXTURE_LOAD_PROGRESS",h="TEXTURE_LOAD_ERROR",f="TEXTURE_LOADED",d="LOAD_TEXTURE",p="AUTHENTICATE",m="AUTHENTICATE_ATTEMPTED",v="LOGIN_USER",g="LOGOUT_USER",y="USER_LOGGED_IN",b="USER_LOGGED_OUT",x="ADD_USER",_="USER_ADDED",w="VERIFY_USER",E="USER_VERIFIED",M="DELETE_USER",S="USER_DELETED",T="UPDATE_USER",A="USER_UPDATED",C="LOGIN_ERROR",O="REMOVE_LOGIN_ERROR",P="USER_AUTHENTICATED",L="GET_VIEWS",R="GET_VIEW",k="GET_THREEFILE",N="ADD_VIEW",I="DELETE_VIEW",j="UPDATE_VIEW",D="VIEW_ADDED",B="VIEWS_LOADED",F="VIEW_LOADED",U="SAVE_VIEWER_SETTINGS",G="LOAD_VIEWER_SETTINGS",z="START_CONVERSION",V="CONVERSION_STARTED",H="UPDATE_CONVERSION_PROGRESS",W="CONVERSION_COMPLETE",q="CONVERSION_ERROR",X="RESTART_CONVERTER"},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e,n){if(!e(t))throw d("error","uncaught at check",n),new Error(n)}function o(t,e){return R.notUndef(t)&&L.call(t,e)}function a(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=v({},t),n=new Promise(function(t,n){e.resolve=t,e.reject=n});return e.promise=n,e}function u(t){for(var e=[],n=0;n<t;n++)e.push(s());return e}function c(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0,r=new Promise(function(r){n=setTimeout(function(){return r(e)},t)});return r[w]=function(){return clearTimeout(n)},r}function l(){var t,e=!0,n=void 0,i=void 0;return t={},r(t,b,!0),r(t,"isRunning",function t(){return e}),r(t,"result",function t(){return n}),r(t,"error",function t(){return i}),r(t,"setRunning",function t(n){return e=n}),r(t,"setResult",function t(e){return n=e}),r(t,"setError",function t(e){return i=e}),t}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return++t}}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments[3],i={name:n,next:t,throw:e,return:j};return r&&(i[x]=!0),"undefined"!==typeof Symbol&&(i[Symbol.iterator]=function(){return i}),i}function d(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"undefined"===typeof window?console.log("redux-saga "+t+": "+e+"\n"+(n&&n.stack||n)):console[t](e,n)}function p(t,e){return function(){return P&&d("warn",e),t.apply(void 0,arguments)}}function m(t){return function e(n){var r=Object.defineProperty(n,E,{value:!0});return t(r)}}n.d(e,"u",function(){return y}),n.d(e,"e",function(){return b}),n.d(e,"b",function(){return _}),n.d(e,"a",function(){return w}),n.d(e,"c",function(){return E}),n.d(e,"d",function(){return M}),n.d(e,"o",function(){return T}),n.d(e,"r",function(){return C}),n.d(e,"k",function(){return O}),n.d(e,"n",function(){return P}),e.f=i,n.d(e,"m",function(){return R}),n.d(e,"s",function(){return k}),e.t=a,e.h=s,e.i=c,n.d(e,"v",function(){return N}),e.q=f,e.p=d,e.j=p,n.d(e,"l",function(){return D}),n.d(e,"g",function(){return B}),e.w=m;var v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y=function t(e){return"@@redux-saga/"+e},b=y("TASK"),x=y("HELPER"),_=y("MATCH"),w=y("cancelPromise"),E=y("SAGA_ACTION"),M=y("SELF_CANCELLATION"),S=function t(e){return function(){return e}},T=S(!0),A=S(!1),C=function t(){},O=function t(e){return e},P=!1,L=Object.prototype.hasOwnProperty,R={undef:function t(e){return null===e||void 0===e},notUndef:function t(e){return null!==e&&void 0!==e},func:function t(e){return"function"===typeof e},number:function t(e){return"number"===typeof e},string:function t(e){return"string"===typeof e},array:Array.isArray,object:function t(e){return e&&!R.array(e)&&"object"===("undefined"===typeof e?"undefined":g(e))},promise:function t(e){return e&&R.func(e.then)},iterator:function t(e){return e&&R.func(e.next)&&R.func(e.throw)},iterable:function t(e){return e&&R.func(Symbol)?R.func(e[Symbol.iterator]):R.array(e)},task:function t(e){return e&&e[b]},observable:function t(e){return e&&R.func(e.subscribe)},buffer:function t(e){return e&&R.func(e.isEmpty)&&R.func(e.take)&&R.func(e.put)},pattern:function t(e){return e&&(R.string(e)||"symbol"===("undefined"===typeof e?"undefined":g(e))||R.func(e)||R.array(e))},channel:function t(e){return e&&R.func(e.take)&&R.func(e.close)},helper:function t(e){return e&&e[x]},stringableFunc:function t(e){return R.func(e)&&o(e,"toString")}},k={assign:function t(e,n){for(var r in n)o(n,r)&&(e[r]=n[r])}},N=h(),I=function t(e){throw e},j=function t(e){return{value:e,done:!0}},D=function t(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},B=function t(e,n){return(e?e+".":"")+"setContext(props): argument "+n+" is not a plain object"}},function(t,e,n){"use strict";(function(t){function r(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=a.prototype):(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return s(this,t,e,n)}function s(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,n,r):"string"===typeof e?h(t,e,n):p(t,e)}function u(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return u(e),e<=0?o(t,e):void 0!==n?"string"===typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}function l(t,e){if(u(e),t=o(t,e<0?0:0|m(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n);t=o(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function f(t,e){var n=e.length<0?0:0|m(e.length);t=o(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),a.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=a.prototype):t=f(t,e),t}function p(t,e){if(a.isBuffer(e)){var n=0|m(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||Z(e.length)?o(t,0):f(t,e);if("Buffer"===e.type&&$(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function v(t){return+t!=t&&(t=0),a.alloc(+t)}function g(t,e){if(a.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return W(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return L(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function x(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,i);if("number"===typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<s;c++)if(o(t,c)===o(e,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===u)return l*a}else-1!==l&&(c-=c-l),l=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var h=!0,f=0;f<u;f++)if(o(t,c+f)!==o(e,f)){h=!1;break}if(h)return c}return-1}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function E(t,e,n,r){return K(W(e,t.length-n),t,n,r)}function M(t,e,n,r){return K(q(e),t,n,r)}function S(t,e,n,r){return M(t,e,n,r)}function T(t,e,n,r){return K(Y(e),t,n,r)}function A(t,e,n,r){return K(X(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,c,l,h;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],128===(192&u)&&(h=(31&o)<<6|63&u)>127&&(a=h);break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(h=(15&o)<<12|(63&u)<<6|63&c)>2047&&(h<55296||h>57343)&&(a=h);break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(h=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&h<1114112&&(a=h)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return P(r)}function P(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function L(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function k(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=H(t[o]);return i}function N(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,n,r,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function B(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function F(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,i){return i||F(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,r,23,4),n+4}function G(t,e,n,r,i){return i||F(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,r,52,8),n+8}function z(t){if(t=V(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function V(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function W(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function X(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function Y(t){return Q.toByteArray(z(t))}function K(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Z(t){return t!==t}var Q=n(642),J=n(643),$=n(324);e.Buffer=a,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),e.kMaxLength=i(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return s(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return c(null,t,e,n)},a.allocUnsafe=function(t){return l(null,t)},a.allocUnsafeSlow=function(t){return l(null,t)},a.isBuffer=function t(e){return!(null==e||!e._isBuffer)},a.compare=function t(e,n){if(!a.isBuffer(e)||!a.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,s=Math.min(r,i);o<s;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},a.isEncoding=function t(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function t(e,n){if(!$(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=a.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},a.byteLength=g,a.prototype._isBuffer=!0,a.prototype.swap16=function t(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)b(this,n,n+1);return this},a.prototype.swap32=function t(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)b(this,n,n+3),b(this,n+1,n+2);return this},a.prototype.swap64=function t(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)b(this,n,n+7),b(this,n+1,n+6),b(this,n+2,n+5),b(this,n+3,n+4);return this},a.prototype.toString=function t(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):y.apply(this,arguments)},a.prototype.equals=function t(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function t(){var n="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(n=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(n+=" ... ")),"<Buffer "+n+">"},a.prototype.compare=function t(e,n,r,i,o){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var s=o-i,u=r-n,c=Math.min(s,u),l=this.slice(i,o),h=e.slice(n,r),f=0;f<c;++f)if(l[f]!==h[f]){s=l[f],u=h[f];break}return s<u?-1:u<s?1:0},a.prototype.includes=function t(e,n,r){return-1!==this.indexOf(e,n,r)},a.prototype.indexOf=function t(e,n,r){return x(this,e,n,r,!0)},a.prototype.lastIndexOf=function t(e,n,r){return x(this,e,n,r,!1)},a.prototype.write=function t(e,n,r,i){if(void 0===n)i="utf8",r=this.length,n=0;else if(void 0===r&&"string"===typeof n)i=n,r=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var o=this.length-n;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return w(this,e,n,r);case"utf8":case"utf-8":return E(this,e,n,r);case"ascii":return M(this,e,n,r);case"latin1":case"binary":return S(this,e,n,r);case"base64":return T(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n,r);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},a.prototype.toJSON=function t(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;a.prototype.slice=function t(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),n<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<e&&(n=e);var i;if(a.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=a.prototype;else{var o=n-e;i=new a(o,void 0);for(var s=0;s<o;++s)i[s]=this[s+e]}return i},a.prototype.readUIntLE=function t(e,n,r){e|=0,n|=0,r||I(e,n,this.length);for(var i=this[e],o=1,a=0;++a<n&&(o*=256);)i+=this[e+a]*o;return i},a.prototype.readUIntBE=function t(e,n,r){e|=0,n|=0,r||I(e,n,this.length);for(var i=this[e+--n],o=1;n>0&&(o*=256);)i+=this[e+--n]*o;return i},a.prototype.readUInt8=function t(e,n){return n||I(e,1,this.length),this[e]},a.prototype.readUInt16LE=function t(e,n){return n||I(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function t(e,n){return n||I(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function t(e,n){return n||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function t(e,n){return n||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function t(e,n,r){e|=0,n|=0,r||I(e,n,this.length);for(var i=this[e],o=1,a=0;++a<n&&(o*=256);)i+=this[e+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*n)),i},a.prototype.readIntBE=function t(e,n,r){e|=0,n|=0,r||I(e,n,this.length);for(var i=n,o=1,a=this[e+--i];i>0&&(o*=256);)a+=this[e+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*n)),a},a.prototype.readInt8=function t(e,n){return n||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function t(e,n){n||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function t(e,n){n||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function t(e,n){return n||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function t(e,n){return n||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function t(e,n){return n||I(e,4,this.length),J.read(this,e,!0,23,4)},a.prototype.readFloatBE=function t(e,n){return n||I(e,4,this.length),J.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function t(e,n){return n||I(e,8,this.length),J.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function t(e,n){return n||I(e,8,this.length),J.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function t(e,n,r,i){if(e=+e,n|=0,r|=0,!i){j(this,e,n,r,Math.pow(2,8*r)-1,0)}var o=1,a=0;for(this[n]=255&e;++a<r&&(o*=256);)this[n+a]=e/o&255;return n+r},a.prototype.writeUIntBE=function t(e,n,r,i){if(e=+e,n|=0,r|=0,!i){j(this,e,n,r,Math.pow(2,8*r)-1,0)}var o=r-1,a=1;for(this[n+o]=255&e;--o>=0&&(a*=256);)this[n+o]=e/a&255;return n+r},a.prototype.writeUInt8=function t(e,n,r){return e=+e,n|=0,r||j(this,e,n,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},a.prototype.writeUInt16LE=function t(e,n,r){return e=+e,n|=0,r||j(this,e,n,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):D(this,e,n,!0),n+2},a.prototype.writeUInt16BE=function t(e,n,r){return e=+e,n|=0,r||j(this,e,n,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):D(this,e,n,!1),n+2},a.prototype.writeUInt32LE=function t(e,n,r){return e=+e,n|=0,r||j(this,e,n,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):B(this,e,n,!0),n+4},a.prototype.writeUInt32BE=function t(e,n,r){return e=+e,n|=0,r||j(this,e,n,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):B(this,e,n,!1),n+4},a.prototype.writeIntLE=function t(e,n,r,i){if(e=+e,n|=0,!i){var o=Math.pow(2,8*r-1);j(this,e,n,r,o-1,-o)}var a=0,s=1,u=0;for(this[n]=255&e;++a<r&&(s*=256);)e<0&&0===u&&0!==this[n+a-1]&&(u=1),this[n+a]=(e/s>>0)-u&255;return n+r},a.prototype.writeIntBE=function t(e,n,r,i){if(e=+e,n|=0,!i){var o=Math.pow(2,8*r-1);j(this,e,n,r,o-1,-o)}var a=r-1,s=1,u=0;for(this[n+a]=255&e;--a>=0&&(s*=256);)e<0&&0===u&&0!==this[n+a+1]&&(u=1),this[n+a]=(e/s>>0)-u&255;return n+r},a.prototype.writeInt8=function t(e,n,r){return e=+e,n|=0,r||j(this,e,n,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},a.prototype.writeInt16LE=function t(e,n,r){return e=+e,n|=0,r||j(this,e,n,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):D(this,e,n,!0),n+2},a.prototype.writeInt16BE=function t(e,n,r){return e=+e,n|=0,r||j(this,e,n,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):D(this,e,n,!1),n+2},a.prototype.writeInt32LE=function t(e,n,r){return e=+e,n|=0,r||j(this,e,n,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):B(this,e,n,!0),n+4},a.prototype.writeInt32BE=function t(e,n,r){return e=+e,n|=0,r||j(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):B(this,e,n,!1),n+4},a.prototype.writeFloatLE=function t(e,n,r){return U(this,e,n,!0,r)},a.prototype.writeFloatBE=function t(e,n,r){return U(this,e,n,!1,r)},a.prototype.writeDoubleLE=function t(e,n,r){return G(this,e,n,!0,r)},a.prototype.writeDoubleBE=function t(e,n,r){return G(this,e,n,!1,r)},a.prototype.copy=function t(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o=i-r,s;if(this===e&&r<n&&n<i)for(s=o-1;s>=0;--s)e[s+n]=this[s+r];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)e[s+n]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),n);return o},a.prototype.fill=function t(e,n,r,i){if("string"===typeof e){if("string"===typeof n?(i=n,n=0,r=this.length):"string"===typeof r&&(i=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!a.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof e&&(e&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var s;if("number"===typeof e)for(s=n;s<r;++s)this[s]=e;else{var u=a.isBuffer(e)?e:W(new a(e,i).toString()),c=u.length;for(s=0;s<r-n;++s)this[s+n]=u[s%c]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,n(33))},function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error(e.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};t.exports=r},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(144);t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}var i=n(147);t.exports=r},function(t,e,n){function r(t){return i(t)||o(t)||a()}var i=n(785),o=n(786),a=n(787);t.exports=r},function(t,e,n){var r=n(202)("wks"),i=n(132),o=n(57).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";function r(t){for(var e in t)a.indexOf(e)<0&&s.indexOf(e)<0&&console.warn("cwise: Unknown argument '"+e+"' passed to expression compiler");for(var n=0;n<a.length;++n)if(!t[a[n]])throw new Error("cwise: Missing argument: "+a[n]);return o({args:t.args,pre:i(t.pre||function(){}),body:i(t.body),post:i(t.post||function(){}),debug:!!t.printCode,funcName:t.funcName||t.body.name||"cwise",blockSize:t.blockSize||64})}var i=n(638),o=n(321),a=["args","body"],s=["pre","post","printCode","funcName","blockSize"];t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){var e=i(t),n=e%1;return e===e?n?e-n:e:0}var i=n(230);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.control,u=t.disabled,l=t.error,f=t.inline,p=t.label,m=t.required,_=t.type,w=t.width,E=d()(Object(y.y)(u,"disabled"),Object(y.y)(l,"error"),Object(y.y)(f,"inline"),Object(y.y)(m,"required"),Object(y.E)(w,"wide"),"field",n),M=Object(y.q)(r,t),S=Object(y.p)(r,t);if(h()(a))return h()(p)?g.a.createElement(S,s()({},M,{className:E}),y.c.isNil(e)?i:e):g.a.createElement(S,s()({},M,{className:E}),Object(y.h)(p,{autoGenerateKey:!1}));var T=o()({},M,{content:i,children:e,disabled:u,required:m,type:_});return"input"!==a||"checkbox"!==_&&"radio"!==_?a===b.a||a===x.a?g.a.createElement(S,{className:E},Object(v.createElement)(a,o()({},T,{label:p}))):g.a.createElement(S,{className:E},Object(y.h)(p,{defaultProps:{htmlFor:c()(T,"id")},autoGenerateKey:!1}),Object(v.createElement)(a,T)):g.a.createElement(S,{className:E},g.a.createElement("label",null,Object(v.createElement)(a,T)," ",p))}var i=n(19),o=n.n(i),a=n(3),s=n.n(a),u=n(48),c=n.n(u),l=n(25),h=n.n(l),f=n(4),d=n.n(f),p=n(1),m=n.n(p),v=n(0),g=n.n(v),y=n(2),b=n(174),x=n(251);r.handledProps=["as","children","className","content","control","disabled","error","inline","label","required","type","width"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var i="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),i);for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(i)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";var r=!1,i=function(){},o;t.exports=i},function(t,e,n){function r(t,e){return a(o(t,e,i),t+"")}var i=n(53),o=n(349),a=n(226);t.exports=r},function(t,e,n){var r=n(762),i=n(224),o=n(763),a=n(366),s=n(367),u=n(40),c=n(348),l="[object Map]",h="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",m=c(r),v=c(i),g=c(o),y=c(a),b=c(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=l||o&&x(o.resolve())!=h||a&&x(new a)!=f||s&&x(new s)!=d)&&(x=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case v:return l;case g:return h;case y:return f;case b:return d}return e}),t.exports=x},function(t,e,n){function r(t,e,n,r){t=o(t)?t:u(t),n=n&&!r?s(n):0;var l=t.length;return n<0&&(n=c(l+n,0)),a(t)?n<=l&&t.indexOf(e,n)>-1:!!l&&i(t,e,n)>-1}var i=n(151),o=n(35),a=n(114),s=n(54),u=n(115),c=Math.max;t.exports=r},function(t,e,n){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array,e.nodebuffer="undefined"!==typeof t,e.uint8array="undefined"!==typeof Uint8Array,"undefined"===typeof ArrayBuffer)e.blob=!1;else{var r=new ArrayBuffer(0);try{e.blob=0===new Blob([r],{type:"application/zip"}).size}catch(t){try{var i=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new i;o.append(r),e.blob=0===o.getBlob("application/zip").size}catch(t){e.blob=!1}}}try{e.nodestream=!!n(505).Readable}catch(t){e.nodestream=!1}}).call(e,n(45).Buffer)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=n(43),i=function t(e){return{type:r.a,userInfo:e}},o=function t(e){return{type:r.h,id:e}},a=function t(e){return{type:r.r,loginInfo:e}},s=function t(){return{type:r.c}},u=function t(e){return{type:r.N,token:e}},c=function t(){return{type:r.s}},l=function t(){return{type:r.v}}},function(t,e,n){"use strict";function r(){}var i=n(289),o=n(550),a=n(551),s=n(552),u=n(293),c=n(292);n.d(e,"d",function(){return i.b}),n.d(e,"c",function(){return o.a}),n.d(e,"b",function(){return a.a}),n.d(e,"a",function(){return s.a})},function(t,e,n){var r=n(82),i=n(304),o=n(194),a=Object.defineProperty;e.f=n(66)?Object.defineProperty:function t(e,n,s){if(r(e),n=o(n,!0),r(s),i)try{return a(e,n,s)}catch(t){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(e[n]=s.value),e}},function(t,e,n){t.exports=!n(95)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&i(t)==a}var i=n(40),o=n(26),a="[object Symbol]";t.exports=r},function(t,e,n){var r=n(28),i=r.Symbol;t.exports=i},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(714),o=n(717);t.exports=r},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==s||e==u||e==a||e==c}var i=n(40),o=n(29),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,e,n){function r(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var i=n(68),o=1/0;t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){var r=n(156),i=n(751),o=i(r);t.exports=o},function(t,e,n){function r(t,e){return i(t)||o(t,e)||a()}var i=n(773),o=n(774),a=n(775);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(18),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={active:!1},n.toggleActive=n.toggleActive.bind(n),n}return o(e,t),c(e,[{key:"toggleActive",value:function t(){this.setState({active:!this.state.active})}},{key:"render",value:function t(){var e=this.props.message,n=this.state.active;return s.a.createElement(u.a,{inverted:!0,className:"loader-modal-error-container"},s.a.createElement(u.a.Title,{active:n,onClick:this.toggleActive},s.a.createElement("h1",null,"There was an error!"),s.a.createElement(u.k,{className:"loader-modal-error-label"},s.a.createElement(u.j,{className:"loader-modal-error-icon",name:"exclamation triangle"}),"show error message")),s.a.createElement(u.a.Content,{className:"loader-modal-error-message",active:n},s.a.createElement(u.l,{negative:!0},e)))}}]),e}(a.Component),h=function t(e){var n=e.text,r=e.active,i=e.className,o=e.percent,a=e.error,c=!0===a?s.a.createElement(l,{message:n}):s.a.createElement("h1",null,n);return o?s.a.createElement(u.e,{className:i,active:r,as:u.o},s.a.createElement(u.n,{error:a,percent:o,indicating:!0,progress:!0,color:"green"}),c):s.a.createElement(u.e,{className:i,active:r,as:u.o},c)};e.a=h},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);l.call(this,t),h.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||u(o,this)}function o(t){t.end()}function a(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}var s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=r;var u=n(280),c=n(119);c.inherits=n(92);var l=n(506),h=n(281);c.inherits(r,l);for(var f=s(h.prototype),d=0;d<f.length;d++){var p=f[d];r.prototype[p]||(r.prototype[p]=h.prototype[p])}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(579),o=r(i);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){var r=n(57),i=n(38),o=n(303),a=n(81),s=n(67),u="prototype",c=function(t,e,n){var l=t&c.F,h=t&c.G,f=t&c.S,d=t&c.P,p=t&c.B,m=t&c.W,v=h?i:i[e]||(i[e]={}),g=v[u],y=h?r:f?r[e]:(r[e]||{})[u],b,x,_;h&&(n=e);for(b in n)(x=!l&&y&&void 0!==y[b])&&s(v,b)||(_=x?y[b]:n[b],v[b]=h&&"function"!=typeof y[b]?n[b]:p&&x?o(_,r):m&&y[b]==_?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(_):d&&"function"==typeof _?o(Function.call,_):_,d&&((v.virtual||(v.virtual={}))[b]=_,t&c.R&&g&&!g[b]&&a(g,b,_)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(65),i=n(129);t.exports=n(66)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(83);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){var r=n(310),i=n(198);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";function r(t){if(!t)return s;for(var e=0;e<t.args.length;++e){var n=t.args[e];t.args[e]=0===e?{name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function i(t){return a({args:t.args,pre:r(t.pre),body:r(t.body),post:r(t.proc),funcName:t.funcName})}function o(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(i(t))}var a=n(321),s={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var n=u[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in c){var n=c[t];e[t]=o({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in l){var n=l[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var h=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<h.length;++t){var n=h[t];e[n]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var t=0;t<f.length;++t){var n=f[t];e[n]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var d=["atan2","pow"];!function(){for(var t=0;t<d.length;++t){var n=d[t];e[n+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),e.any=a({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=a({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=a({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=a({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=a({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=a({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=a({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e,n){"use strict";var r=n(680);n.d(e,"a",function(){return r.a});var i=n(683);n.d(e,"b",function(){return i.a});var o=n(684);n.d(e,"d",function(){return o.a});var a=n(138);n.d(e,"c",function(){return a.a}),n.d(e,"f",function(){return a.b});var s=n(101);n.d(e,"e",function(){return s.b})},function(t,e,n){function r(t,e){return null!=t&&o(t,e,i)}var i=n(707),o=n(344);t.exports=r},function(t,e,n){function r(t,e){return(s(t)?i:o)(t,a(e))}var i=n(109),o=n(74),a=n(235),s=n(17);t.exports=r},function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r=typeof e;return!!("number"==r?o(n)&&a(e,n.length):"string"==r&&e in n)&&i(n[e],t)}var i=n(142),o=n(35),a=n(104),s=n(29);t.exports=r},function(t,e,n){"use strict";var r=n(403);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(){u.call(this,"utf-8 decode"),this.leftOver=null}function i(){u.call(this,"utf-8 encode")}for(var o=n(22),a=n(62),s=n(185),u=n(36),c=new Array(256),l=0;l<256;l++)c[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;c[254]=c[254]=1;var h=function(t){var e,n,r,i,o,s=t.length,u=0;for(i=0;i<s;i++)n=t.charCodeAt(i),55296===(64512&n)&&i+1<s&&56320===(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=a.uint8array?new Uint8Array(u):new Array(u),o=0,i=0;o<u;i++)n=t.charCodeAt(i),55296===(64512&n)&&i+1<s&&56320===(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},f=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+c[t[n]]>e?n:e},d=function(t){var e,n,r,i,a,s=t.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)u[r++]=i;else if((a=c[i])>4)u[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<s;)i=i<<6|63&t[n++],a--;a>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return u.length!==r&&(u.subarray?u=u.subarray(0,r):u.length=r),o.applyFromCharCode(u)};e.utf8encode=function t(e){return a.nodebuffer?s.newBufferFrom(e,"utf-8"):h(e)},e.utf8decode=function t(e){return a.nodebuffer?o.transformTo("nodebuffer",e).toString("utf-8"):(e=o.transformTo(a.uint8array?"uint8array":"array",e),d(e))},o.inherits(r,u),r.prototype.processChunk=function(t){var n=o.transformTo(a.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var r=n;n=new Uint8Array(r.length+this.leftOver.length),n.set(this.leftOver,0),n.set(r,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var i=f(n),s=n;i!==n.length&&(a.uint8array?(s=n.subarray(0,i),this.leftOver=n.subarray(i,n.length)):(s=n.slice(0,i),this.leftOver=n.slice(i,n.length))),this.push({data:e.utf8decode(s),meta:t.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=r,o.inherits(i,u),i.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=i},function(t,e){"function"===typeof Object.create?t.exports=function t(e,n){e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function t(e,n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){var n=t.split(","),r=n[0].split(";base64")[0].slice(5),i="."+r.split("/")[1];e=void 0!==e?e:512;for(var o=atob(n.slice(1).join("")),a=[],s=0;s<o.length;s+=e){for(var u=o.slice(s,s+e),c=new Uint8Array(u.length),l=0;l<c.length;l++)c[l]=u.charCodeAt(l);a.push(c)}return{rawData:new Blob(a,{type:r}),ext:i}}n.d(e,"b",function(){return l}),n.d(e,"c",function(){return h}),n.d(e,"a",function(){return f}),e.d=a;var s=n(24),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(){function t(e,n,r,i){o(this,t),this.width=e,this.height=n,this.color1=r,this.color2=i}return u(t,[{key:"toBase64",value:function t(){return this.element.toDataURL()}},{key:"toTexture",value:function t(){return(new s.TextureLoader).load(this.toBase64())}}]),t}(),l=function(){function t(e,n,r,i){o(this,t),this.fragmentShader=["uniform vec3 topColor;","uniform vec3 bottomColor;","uniform vec2 resolution;","void main() {","vec2 pixel = gl_FragCoord.xy / resolution.xy;","vec3 color = mix(bottomColor, topColor, distance(vec2(pixel.x, pixel.y), vec2(0.5)));","gl_FragColor = vec4(color,1.0);","}"].join("\n"),this.innerColor=e,this.outerColor=n,this.uniforms={topColor:{type:"c",value:new s.Color(e)},bottomColor:{type:"c",value:new s.Color(n)},resolution:{value:new s.Vector2(r,i)}},this.shaderMaterial=this.generateShaderMaterial()}return u(t,[{key:"updateUniforms",value:function t(e,n){this.uniforms[e].value=n}},{key:"generateShaderMaterial",value:function t(){return new s.ShaderMaterial({uniforms:this.uniforms,fragmentShader:this.fragmentShader,side:s.DoubleSide})}}]),t}(),h=function(t){function e(t,n,i,a){o(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,a));return s.element=s.createGradient(),s}return i(e,t),u(e,[{key:"createGradient",value:function t(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height;var n=e.getContext("2d");if(n){var r=this.width/2,i=this.height/2,o=n.createRadialGradient(r,i,r,r,i,0);o.addColorStop(0,this.color1),o.addColorStop(1,this.color2),n.fillStyle=o,n.fillRect(0,0,this.width,this.height)}else console.warn("getContext did not return an instance of CanvasRenderingContext2D");return e}},{key:"toTexture",value:function t(){var e=(new s.TextureLoader).load(this.toBase64());return e.wrapS=e.wrapT=s.RepeatWrapping,e.offset.set(0,0),e.repeat.set(2,2),e.minFilter=s.LinearMipMapLinearFilter,e.magFilter=s.LinearMipMapLinearFilter,e}}]),e}(c),f=function(t){function e(t,n,i,a){o(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,i));return s.text=a,s.element=s.createLabel(),s}return i(e,t),u(e,[{key:"createLabel",value:function t(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height;var n=e.getContext("2d");return n?(n.font="18px Courier",n.textAlign="center",n.fillStyle=this.color1,n.fillText(this.text,e.width/2,e.height/2)):console.warn("getContext did not return an instance of CanvasRenderingContext2D"),e}},{key:"toSprite",value:function t(){var e=(new s.TextureLoader).load(this.toBase64()),n=new s.SpriteMaterial({map:e,depthWrite:!1,depthTest:!1,transparent:!0,alphaTest:.5});return new s.Sprite(n)}}]),e}(c)},function(t,e,n){(function(t,r){var i;(function(){function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function s(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function u(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function c(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function l(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function h(t,e){return!!(null==t?0:t.length)&&w(t,e,0)>-1}function f(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function d(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function p(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function m(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function v(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function g(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function y(t){return t.split("")}function b(t){return t.match(Ue)||[]}function x(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function _(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function w(t,e,n){return e===e?K(t,e,n):_(t,M,n)}function E(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function M(t){return t!==t}function S(t,e){var n=null==t?0:t.length;return n?P(t,e)/n:It}function T(t){return function(e){return null==e?nt:e[t]}}function A(t){return function(e){return null==t?nt:t[e]}}function C(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function O(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function P(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==nt&&(n=n===nt?o:n+o)}return n}function L(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function R(t,e){return d(e,function(e){return[e,t[e]]})}function k(t){return function(e){return t(e)}}function N(t,e){return d(e,function(e){return t[e]})}function I(t,e){return t.has(e)}function j(t,e){for(var n=-1,r=t.length;++n<r&&w(e,t[n],0)>-1;);return n}function D(t,e){for(var n=t.length;n--&&w(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function F(t){return"\\"+$n[t]}function U(t,e){return null==t?nt:t[e]}function G(t){return Hn.test(t)}function z(t){return Wn.test(t)}function V(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function W(t,e){return function(n){return t(e(n))}}function q(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==ct||(t[n]=ct,o[i++]=n)}return o}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function K(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Z(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function Q(t){return G(t)?$(t):vr(t)}function J(t){return G(t)?tt(t):y(t)}function $(t){for(var e=zn.lastIndex=0;zn.test(t);)++e;return e}function tt(t){return t.match(zn)||[]}function et(t){return t.match(Vn)||[]}var nt,rt="4.17.11",it=200,ot="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",at="Expected a function",st="__lodash_hash_undefined__",ut=500,ct="__lodash_placeholder__",lt=1,ht=2,ft=4,dt=1,pt=2,mt=1,vt=2,gt=4,yt=8,bt=16,xt=32,_t=64,wt=128,Et=256,Mt=512,St=30,Tt="...",At=800,Ct=16,Ot=1,Pt=2,Lt=3,Rt=1/0,kt=9007199254740991,Nt=1.7976931348623157e308,It=NaN,jt=4294967295,Dt=jt-1,Bt=jt>>>1,Ft=[["ary",wt],["bind",mt],["bindKey",vt],["curry",yt],["curryRight",bt],["flip",Mt],["partial",xt],["partialRight",_t],["rearg",Et]],Ut="[object Arguments]",Gt="[object Array]",zt="[object AsyncFunction]",Vt="[object Boolean]",Ht="[object Date]",Wt="[object DOMException]",qt="[object Error]",Xt="[object Function]",Yt="[object GeneratorFunction]",Kt="[object Map]",Zt="[object Number]",Qt="[object Null]",Jt="[object Object]",$t="[object Promise]",te="[object Proxy]",ee="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object Symbol]",oe="[object Undefined]",ae="[object WeakMap]",se="[object WeakSet]",ue="[object ArrayBuffer]",ce="[object DataView]",le="[object Float32Array]",he="[object Float64Array]",fe="[object Int8Array]",de="[object Int16Array]",pe="[object Int32Array]",me="[object Uint8Array]",ve="[object Uint8ClampedArray]",ge="[object Uint16Array]",ye="[object Uint32Array]",be=/\b__p \+= '';/g,xe=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,we=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,Me=RegExp(we.source),Se=RegExp(Ee.source),Te=/<%-([\s\S]+?)%>/g,Ae=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pe=/^\w*$/,Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,ke=RegExp(Re.source),Ne=/^\s+|\s+$/g,Ie=/^\s+/,je=/\s+$/,De=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Be=/\{\n\/\* \[wrapped with (.+)\] \*/,Fe=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ge=/\\(\\)?/g,ze=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ve=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,qe=/^\[object .+?Constructor\]$/,Xe=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,Ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,Je="\\ud800-\\udfff",$e="\\u0300-\\u036f",tn="\\ufe20-\\ufe2f",en="\\u20d0-\\u20ff",nn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rn="\\u2700-\\u27bf",on="a-z\\xdf-\\xf6\\xf8-\\xff",an="\\xac\\xb1\\xd7\\xf7",sn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",un="\\u2000-\\u206f",cn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ln="A-Z\\xc0-\\xd6\\xd8-\\xde",hn="\\ufe0e\\ufe0f",fn=an+sn+"\\u2000-\\u206f"+cn,dn="['\u2019]",pn="[\\ud800-\\udfff]",mn="["+fn+"]",vn="["+nn+"]",gn="\\d+",yn="[\\u2700-\\u27bf]",bn="["+on+"]",xn="[^"+Je+fn+"\\d+"+rn+on+ln+"]",_n="\\ud83c[\\udffb-\\udfff]",wn="(?:"+vn+"|"+_n+")",En="[^\\ud800-\\udfff]",Mn="(?:\\ud83c[\\udde6-\\uddff]){2}",Sn="[\\ud800-\\udbff][\\udc00-\\udfff]",Tn="["+ln+"]",An="\\u200d",Cn="(?:"+bn+"|"+xn+")",On="(?:"+Tn+"|"+xn+")",Pn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ln="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Rn=wn+"?",kn="[\\ufe0e\\ufe0f]?",Nn="(?:\\u200d(?:"+[En,Mn,Sn].join("|")+")"+kn+Rn+")*",In="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dn=kn+Rn+Nn,Bn="(?:"+[yn,Mn,Sn].join("|")+")"+Dn,Fn="(?:"+[En+vn+"?",vn,Mn,Sn,pn].join("|")+")",Un=RegExp("['\u2019]","g"),Gn=RegExp(vn,"g"),zn=RegExp(_n+"(?="+_n+")|"+Fn+Dn,"g"),Vn=RegExp([Tn+"?"+bn+"+"+Pn+"(?="+[mn,Tn,"$"].join("|")+")",On+"+"+Ln+"(?="+[mn,Tn+Cn,"$"].join("|")+")",Tn+"?"+Cn+"+"+Pn,Tn+"+"+Ln,jn,In,"\\d+",Bn].join("|"),"g"),Hn=RegExp("["+An+Je+nn+hn+"]"),Wn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xn=-1,Yn={};Yn[le]=Yn[he]=Yn[fe]=Yn[de]=Yn[pe]=Yn[me]=Yn[ve]=Yn[ge]=Yn[ye]=!0,Yn[Ut]=Yn[Gt]=Yn[ue]=Yn[Vt]=Yn[ce]=Yn[Ht]=Yn[qt]=Yn[Xt]=Yn[Kt]=Yn[Zt]=Yn[Jt]=Yn[ee]=Yn[ne]=Yn[re]=Yn[ae]=!1;var Kn={};Kn[Ut]=Kn[Gt]=Kn[ue]=Kn[ce]=Kn[Vt]=Kn[Ht]=Kn[le]=Kn[he]=Kn[fe]=Kn[de]=Kn[pe]=Kn[Kt]=Kn[Zt]=Kn[Jt]=Kn[ee]=Kn[ne]=Kn[re]=Kn[ie]=Kn[me]=Kn[ve]=Kn[ge]=Kn[ye]=!0,Kn[qt]=Kn[Xt]=Kn[ae]=!1;var Zn={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},Qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$n={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tr=parseFloat,er=parseInt,nr="object"==typeof t&&t&&t.Object===Object&&t,rr="object"==typeof self&&self&&self.Object===Object&&self,ir=nr||rr||Function("return this")(),or="object"==typeof e&&e&&!e.nodeType&&e,ar=or&&"object"==typeof r&&r&&!r.nodeType&&r,sr=ar&&ar.exports===or,ur=sr&&nr.process,cr=function(){try{var t=ar&&ar.require&&ar.require("util").types;return t||ur&&ur.binding&&ur.binding("util")}catch(t){}}(),lr=cr&&cr.isArrayBuffer,hr=cr&&cr.isDate,fr=cr&&cr.isMap,dr=cr&&cr.isRegExp,pr=cr&&cr.isSet,mr=cr&&cr.isTypedArray,vr=T("length"),gr=A(Zn),yr=A(Qn),br=A(Jn),xr=function t(e){function n(t){if(iu(t)&&!mf(t)&&!(t instanceof y)){if(t instanceof i)return t;if(pl.call(t,"__wrapped__"))return ea(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function y(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jt,this.__views__=[]}function A(){var t=new y(this.__wrapped__);return t.__actions__=Ni(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ni(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ni(this.__views__),t}function K(){if(this.__filtered__){var t=new y(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function $(){var t=this.__wrapped__.value(),e=this.__dir__,n=mf(t),r=e<0,i=n?t.length:0,o=Mo(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,f=0,d=Hl(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return gi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){c+=e;for(var m=-1,v=t[c];++m<h;){var g=l[m],y=g.iteratee,b=g.type,x=y(v);if(b==Pt)v=x;else if(!x){if(b==Ot)continue t;break t}}p[f++]=v}return p}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Lt(){this.__data__=th?th(null):{},this.size=0}function Ue(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Je(t){var e=this.__data__;if(th){var n=e[t];return n===st?nt:n}return pl.call(e,t)?e[t]:nt}function $e(t){var e=this.__data__;return th?e[t]!==nt:pl.call(e,t)}function tn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=th&&e===nt?st:e,this}function en(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nn(){this.__data__=[],this.size=0}function rn(t){var e=this.__data__,n=On(e,t);return!(n<0)&&(n==e.length-1?e.pop():Cl.call(e,n,1),--this.size,!0)}function on(t){var e=this.__data__,n=On(e,t);return n<0?nt:e[n][1]}function an(t){return On(this.__data__,t)>-1}function sn(t,e){var n=this.__data__,r=On(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function cn(){this.size=0,this.__data__={hash:new tt,map:new(Zl||en),string:new tt}}function ln(t){var e=xo(this,t).delete(t);return this.size-=e?1:0,e}function hn(t){return xo(this,t).get(t)}function fn(t){return xo(this,t).has(t)}function dn(t,e){var n=xo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function pn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new un;++e<n;)this.add(t[e])}function mn(t){return this.__data__.set(t,st),this}function vn(t){return this.__data__.has(t)}function gn(t){var e=this.__data__=new en(t);this.size=e.size}function yn(){this.__data__=new en,this.size=0}function bn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function xn(t){return this.__data__.get(t)}function _n(t){return this.__data__.has(t)}function wn(t,e){var n=this.__data__;if(n instanceof en){var r=n.__data__;if(!Zl||r.length<it-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new un(r)}return n.set(t,e),this.size=n.size,this}function En(t,e){var n=mf(t),r=!n&&pf(t),i=!n&&!r&&gf(t),o=!n&&!r&&!i&&wf(t),a=n||r||i||o,s=a?L(t.length,sl):[],u=s.length;for(var c in t)!e&&!pl.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ro(c,u))||s.push(c);return s}function Mn(t){var e=t.length;return e?t[Jr(0,e-1)]:nt}function Sn(t,e){return Qo(Ni(t),In(e,0,t.length))}function Tn(t){return Qo(Ni(t))}function An(t,e,n){(n===nt||Hs(t[e],n))&&(n!==nt||e in t)||kn(t,e,n)}function Cn(t,e,n){var r=t[e];pl.call(t,e)&&Hs(r,n)&&(n!==nt||e in t)||kn(t,e,n)}function On(t,e){for(var n=t.length;n--;)if(Hs(t[n][0],e))return n;return-1}function Pn(t,e,n,r){return fh(t,function(t,i,o){e(r,t,n(t),o)}),r}function Ln(t,e){return t&&Ii(e,Fu(e),t)}function Rn(t,e){return t&&Ii(e,Uu(e),t)}function kn(t,e,n){"__proto__"==e&&Rl?Rl(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Nn(t,e){for(var n=-1,r=e.length,i=el(r),o=null==t;++n<r;)i[n]=o?nt:ju(t,e[n]);return i}function In(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function jn(t,e,n,r,i,o){var a,u=e&lt,c=e&ht,l=e&ft;if(n&&(a=i?n(t,r,i,o):n(t)),a!==nt)return a;if(!ru(t))return t;var h=mf(t);if(h){if(a=Ao(t),!u)return Ni(t,a)}else{var f=Mh(t),d=f==Xt||f==Yt;if(gf(t))return Mi(t,u);if(f==Jt||f==Ut||d&&!i){if(a=c||d?{}:Co(t),!u)return c?Di(t,Rn(a,t)):ji(t,Ln(a,t))}else{if(!Kn[f])return i?t:{};a=Oo(t,f,u)}}o||(o=new gn);var p=o.get(t);if(p)return p;if(o.set(t,a),_f(t))return t.forEach(function(r){a.add(jn(r,e,n,r,t,o))}),a;if(bf(t))return t.forEach(function(r,i){a.set(i,jn(r,e,n,i,t,o))}),a;var m=l?c?vo:mo:c?Uu:Fu,v=h?nt:m(t);return s(v||t,function(r,i){v&&(i=r,r=t[i]),Cn(a,i,jn(r,e,n,i,t,o))}),a}function Dn(t){var e=Fu(t);return function(n){return Bn(n,t,e)}}function Bn(t,e,n){var r=n.length;if(null==t)return!r;for(t=ol(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===nt&&!(i in t)||!o(a))return!1}return!0}function Fn(t,e,n){if("function"!=typeof t)throw new ul(at);return Ah(function(){t.apply(nt,n)},e)}function zn(t,e,n,r){var i=-1,o=h,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=d(e,k(n))),r?(o=f,a=!1):e.length>=it&&(o=I,a=!1,e=new pn(e));t:for(;++i<s;){var l=t[i],p=null==n?l:n(l);if(l=r||0!==l?l:0,a&&p===p){for(var m=c;m--;)if(e[m]===p)continue t;u.push(l)}else o(e,p,r)||u.push(l)}return u}function Vn(t,e){var n=!0;return fh(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Hn(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===nt?a===a&&!mu(a):n(a,s)))var s=a,u=o}return u}function Wn(t,e,n,r){var i=t.length;for(n=_u(n),n<0&&(n=-n>i?0:i+n),r=r===nt||r>i?i:_u(r),r<0&&(r+=i),r=n>r?0:wu(r);n<r;)t[n++]=e;return t}function Zn(t,e){var n=[];return fh(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Qn(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Lo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Qn(s,e-1,n,r,i):p(i,s):r||(i[i.length]=s)}return i}function Jn(t,e){return t&&ph(t,e,Fu)}function $n(t,e){return t&&mh(t,e,Fu)}function nr(t,e){return l(e,function(e){return tu(t[e])})}function rr(t,e){e=wi(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Jo(e[n++])];return n&&n==r?t:nt}function or(t,e,n){var r=e(t);return mf(t)?r:p(r,n(t))}function ar(t){return null==t?t===nt?oe:Qt:Ll&&Ll in ol(t)?Eo(t):Ho(t)}function ur(t,e){return t>e}function cr(t,e){return null!=t&&pl.call(t,e)}function vr(t,e){return null!=t&&e in ol(t)}function xr(t,e,n){return t>=Hl(e,n)&&t<Vl(e,n)}function wr(t,e,n){for(var r=n?f:h,i=t[0].length,o=t.length,a=o,s=el(o),u=1/0,c=[];a--;){var l=t[a];a&&e&&(l=d(l,k(e))),u=Hl(l.length,u),s[a]=!n&&(e||i>=120&&l.length>=120)?new pn(a&&l):nt}l=t[0];var p=-1,m=s[0];t:for(;++p<i&&c.length<u;){var v=l[p],g=e?e(v):v;if(v=n||0!==v?v:0,!(m?I(m,g):r(c,g,n))){for(a=o;--a;){var y=s[a];if(!(y?I(y,g):r(t[a],g,n)))continue t}m&&m.push(g),c.push(v)}}return c}function Er(t,e,n,r){return Jn(t,function(t,i,o){e(r,n(t),i,o)}),r}function Mr(t,e,n){e=wi(e,t),t=qo(t,e);var r=null==t?t:t[Jo(xa(e))];return null==r?nt:o(r,t,n)}function Sr(t){return iu(t)&&ar(t)==Ut}function Tr(t){return iu(t)&&ar(t)==ue}function Ar(t){return iu(t)&&ar(t)==Ht}function Cr(t,e,n,r,i){return t===e||(null==t||null==e||!iu(t)&&!iu(e)?t!==t&&e!==e:Or(t,e,n,r,Cr,i))}function Or(t,e,n,r,i,o){var a=mf(t),s=mf(e),u=a?Gt:Mh(t),c=s?Gt:Mh(e);u=u==Ut?Jt:u,c=c==Ut?Jt:c;var l=u==Jt,h=c==Jt,f=u==c;if(f&&gf(t)){if(!gf(e))return!1;a=!0,l=!1}if(f&&!l)return o||(o=new gn),a||wf(t)?lo(t,e,n,r,i,o):ho(t,e,u,n,r,i,o);if(!(n&dt)){var d=l&&pl.call(t,"__wrapped__"),p=h&&pl.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,v=p?e.value():e;return o||(o=new gn),i(m,v,n,r,o)}}return!!f&&(o||(o=new gn),fo(t,e,n,r,i,o))}function Pr(t){return iu(t)&&Mh(t)==Kt}function Lr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=ol(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],c=t[u],l=s[1];if(a&&s[2]){if(c===nt&&!(u in t))return!1}else{var h=new gn;if(r)var f=r(c,l,u,t,e,h);if(!(f===nt?Cr(l,c,dt|pt,r,h):f))return!1}}return!0}function Rr(t){return!(!ru(t)||Do(t))&&(tu(t)?xl:qe).test($o(t))}function kr(t){return iu(t)&&ar(t)==ee}function Nr(t){return iu(t)&&Mh(t)==ne}function Ir(t){return iu(t)&&nu(t.length)&&!!Yn[ar(t)]}function jr(t){return"function"==typeof t?t:null==t?Oc:"object"==typeof t?mf(t)?zr(t[0],t[1]):Gr(t):Dc(t)}function Dr(t){if(!Bo(t))return zl(t);var e=[];for(var n in ol(t))pl.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Br(t){if(!ru(t))return Vo(t);var e=Bo(t),n=[];for(var r in t)("constructor"!=r||!e&&pl.call(t,r))&&n.push(r);return n}function Fr(t,e){return t<e}function Ur(t,e){var n=-1,r=Ws(t)?el(t.length):[];return fh(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Gr(t){var e=_o(t);return 1==e.length&&e[0][2]?Uo(e[0][0],e[0][1]):function(n){return n===t||Lr(n,t,e)}}function zr(t,e){return No(t)&&Fo(e)?Uo(Jo(t),e):function(n){var r=ju(n,t);return r===nt&&r===e?Bu(n,t):Cr(e,r,dt|pt)}}function Vr(t,e,n,r,i){t!==e&&ph(e,function(o,a){if(ru(o))i||(i=new gn),Hr(t,e,a,n,Vr,r,i);else{var s=r?r(Yo(t,a),o,a+"",t,e,i):nt;s===nt&&(s=o),An(t,a,s)}},Uu)}function Hr(t,e,n,r,i,o,a){var s=Yo(t,n),u=Yo(e,n),c=a.get(u);if(c)return void An(t,n,c);var l=o?o(s,u,n+"",t,e,a):nt,h=l===nt;if(h){var f=mf(u),d=!f&&gf(u),p=!f&&!d&&wf(u);l=u,f||d||p?mf(s)?l=s:qs(s)?l=Ni(s):d?(h=!1,l=Mi(u,!0)):p?(h=!1,l=Oi(u,!0)):l=[]:fu(u)||pf(u)?(l=s,pf(s)?l=Mu(s):ru(s)&&!tu(s)||(l=Co(u))):h=!1}h&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),An(t,n,l)}function Wr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Ro(e,n)?t[e]:nt}function qr(t,e,n){var r=-1;return e=d(e.length?e:[Oc],k(bo())),O(Ur(t,function(t,n,i){return{criteria:d(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return Li(t,e,n)})}function Xr(t,e){return Yr(t,e,function(e,n){return Bu(t,n)})}function Yr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=rr(t,a);n(s,a)&&ii(o,wi(a,t),s)}return o}function Kr(t){return function(e){return rr(e,t)}}function Zr(t,e,n,r){var i=r?E:w,o=-1,a=e.length,s=t;for(t===e&&(e=Ni(e)),n&&(s=d(t,k(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Cl.call(s,u,1),Cl.call(t,u,1);return t}function Qr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Ro(i)?Cl.call(t,i,1):pi(t,i)}}return t}function Jr(t,e){return t+Dl(Xl()*(e-t+1))}function $r(t,e,n,r){for(var i=-1,o=Vl(jl((e-t)/(n||1)),0),a=el(o);o--;)a[r?o:++i]=t,t+=n;return a}function ti(t,e){var n="";if(!t||e<1||e>kt)return n;do{e%2&&(n+=t),(e=Dl(e/2))&&(t+=t)}while(e);return n}function ei(t,e){return Ch(Wo(t,e,Oc),t+"")}function ni(t){return Mn(Ju(t))}function ri(t,e){var n=Ju(t);return Qo(n,In(e,0,n.length))}function ii(t,e,n,r){if(!ru(t))return t;e=wi(e,t);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=Jo(e[i]),c=n;if(i!=a){var l=s[u];c=r?r(l,u,s):nt,c===nt&&(c=ru(l)?l:Ro(e[i+1])?[]:{})}Cn(s,u,c),s=s[u]}return t}function oi(t){return Qo(Ju(t))}function ai(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=el(i);++r<i;)o[r]=t[r+e];return o}function si(t,e){var n;return fh(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function ui(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=Bt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!mu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ci(t,e,Oc,n)}function ci(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=mu(e),c=e===nt;i<o;){var l=Dl((i+o)/2),h=n(t[l]),f=h!==nt,d=null===h,p=h===h,m=mu(h);if(a)var v=r||p;else v=c?p&&(r||f):s?p&&f&&(r||!d):u?p&&f&&!d&&(r||!m):!d&&!m&&(r?h<=e:h<e);v?i=l+1:o=l}return Hl(o,Dt)}function li(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Hs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function hi(t){return"number"==typeof t?t:mu(t)?It:+t}function fi(t){if("string"==typeof t)return t;if(mf(t))return d(t,fi)+"";if(mu(t))return lh?lh.call(t):"";var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function di(t,e,n){var r=-1,i=h,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=f;else if(o>=it){var c=e?null:xh(t);if(c)return X(c);a=!1,i=I,u=new pn}else u=e?[]:s;t:for(;++r<o;){var l=t[r],d=e?e(l):l;if(l=n||0!==l?l:0,a&&d===d){for(var p=u.length;p--;)if(u[p]===d)continue t;e&&u.push(d),s.push(l)}else i(u,d,n)||(u!==s&&u.push(d),s.push(l))}return s}function pi(t,e){return e=wi(e,t),null==(t=qo(t,e))||delete t[Jo(xa(e))]}function mi(t,e,n,r){return ii(t,e,n(rr(t,e)),r)}function vi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ai(t,r?0:o,r?o+1:i):ai(t,r?o+1:0,r?i:o)}function gi(t,e){var n=t;return n instanceof y&&(n=n.value()),m(e,function(t,e){return e.func.apply(e.thisArg,p([t],e.args))},n)}function yi(t,e,n){var r=t.length;if(r<2)return r?di(t[0]):[];for(var i=-1,o=el(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=zn(o[i]||a,t[s],e,n));return di(Qn(o,1),e,n)}function bi(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:nt;n(a,t[r],s)}return a}function xi(t){return qs(t)?t:[]}function _i(t){return"function"==typeof t?t:Oc}function wi(t,e){return mf(t)?t:No(t,e)?[t]:Oh(Tu(t))}function Ei(t,e,n){var r=t.length;return n=n===nt?r:n,!e&&n>=r?t:ai(t,e,n)}function Mi(t,e){if(e)return t.slice();var n=t.length,r=Ml?Ml(n):new t.constructor(n);return t.copy(r),r}function Si(t){var e=new t.constructor(t.byteLength);return new El(e).set(new El(t)),e}function Ti(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ai(t){var e=new t.constructor(t.source,Ve.exec(t));return e.lastIndex=t.lastIndex,e}function Ci(t){return ch?ol(ch.call(t)):{}}function Oi(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Pi(t,e){if(t!==e){var n=t!==nt,r=null===t,i=t===t,o=mu(t),a=e!==nt,s=null===e,u=e===e,c=mu(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function Li(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Pi(i[r],o[r]);if(u){if(r>=s)return u;return u*("desc"==n[r]?-1:1)}}return t.index-e.index}function Ri(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,c=Vl(o-a,0),l=el(u+c),h=!r;++s<u;)l[s]=e[s];for(;++i<a;)(h||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[s++]=t[i++];return l}function ki(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,c=e.length,l=Vl(o-s,0),h=el(l+c),f=!r;++i<l;)h[i]=t[i];for(var d=i;++u<c;)h[d+u]=e[u];for(;++a<s;)(f||i<o)&&(h[d+n[a]]=t[i++]);return h}function Ni(t,e){var n=-1,r=t.length;for(e||(e=el(r));++n<r;)e[n]=t[n];return e}function Ii(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):nt;u===nt&&(u=t[s]),i?kn(n,s,u):Cn(n,s,u)}return n}function ji(t,e){return Ii(t,wh(t),e)}function Di(t,e){return Ii(t,Eh(t),e)}function Bi(t,e){return function(n,r){var i=mf(n)?a:Pn,o=e?e():{};return i(n,t,bo(r,2),o)}}function Fi(t){return ei(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:nt,a=i>2?n[2]:nt;for(o=t.length>3&&"function"==typeof o?(i--,o):nt,a&&ko(n[0],n[1],a)&&(o=i<3?nt:o,i=1),e=ol(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Ui(t,e){return function(n,r){if(null==n)return n;if(!Ws(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=ol(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Gi(t){return function(e,n,r){for(var i=-1,o=ol(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function zi(t,e,n){function r(){return(this&&this!==ir&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&mt,o=Wi(t);return r}function Vi(t){return function(e){e=Tu(e);var n=G(e)?J(e):nt,r=n?n[0]:e.charAt(0),i=n?Ei(n,1).join(""):e.slice(1);return r[t]()+i}}function Hi(t){return function(e){return m(Mc(ic(e).replace(Un,"")),t,"")}}function Wi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=hh(t.prototype),r=t.apply(n,e);return ru(r)?r:n}}function qi(t,e,n){function r(){for(var a=arguments.length,s=el(a),u=a,c=yo(r);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:q(s,c);return(a-=l.length)<n?ro(t,e,Ki,r.placeholder,nt,s,l,nt,nt,n-a):o(this&&this!==ir&&this instanceof r?i:t,this,s)}var i=Wi(t);return r}function Xi(t){return function(e,n,r){var i=ol(e);if(!Ws(e)){var o=bo(n,3);e=Fu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:nt}}function Yi(t){return po(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new ul(at);if(o&&!s&&"wrapper"==go(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=e[r];var u=go(a),c="wrapper"==u?_h(a):nt;s=c&&jo(c[0])&&c[1]==(wt|yt|xt|Et)&&!c[4].length&&1==c[9]?s[go(c[0])].apply(s,c[3]):1==a.length&&jo(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&mf(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Ki(t,e,n,r,i,o,a,s,u,c){function l(){for(var g=arguments.length,y=el(g),b=g;b--;)y[b]=arguments[b];if(p)var x=yo(l),_=B(y,x);if(r&&(y=Ri(y,r,i,p)),o&&(y=ki(y,o,a,p)),g-=_,p&&g<c){var w=q(y,x);return ro(t,e,Ki,l.placeholder,n,y,w,s,u,c-g)}var E=f?n:this,M=d?E[t]:t;return g=y.length,s?y=Xo(y,s):m&&g>1&&y.reverse(),h&&u<g&&(y.length=u),this&&this!==ir&&this instanceof l&&(M=v||Wi(M)),M.apply(E,y)}var h=e&wt,f=e&mt,d=e&vt,p=e&(yt|bt),m=e&Mt,v=d?nt:Wi(t);return l}function Zi(t,e){return function(n,r){return Er(n,t,e(r),{})}}function Qi(t,e){return function(n,r){var i;if(n===nt&&r===nt)return e;if(n!==nt&&(i=n),r!==nt){if(i===nt)return r;"string"==typeof n||"string"==typeof r?(n=fi(n),r=fi(r)):(n=hi(n),r=hi(r)),i=t(n,r)}return i}}function Ji(t){return po(function(e){return e=d(e,k(bo())),ei(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function $i(t,e){e=e===nt?" ":fi(e);var n=e.length;if(n<2)return n?ti(e,t):e;var r=ti(e,jl(t/Q(e)));return G(e)?Ei(J(r),0,t).join(""):r.slice(0,t)}function to(t,e,n,r){function i(){for(var e=-1,u=arguments.length,c=-1,l=r.length,h=el(l+u),f=this&&this!==ir&&this instanceof i?s:t;++c<l;)h[c]=r[c];for(;u--;)h[c++]=arguments[++e];return o(f,a?n:this,h)}var a=e&mt,s=Wi(t);return i}function eo(t){return function(e,n,r){return r&&"number"!=typeof r&&ko(e,n,r)&&(n=r=nt),e=xu(e),n===nt?(n=e,e=0):n=xu(n),r=r===nt?e<n?1:-1:xu(r),$r(e,n,r,t)}}function no(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Eu(e),n=Eu(n)),t(e,n)}}function ro(t,e,n,r,i,o,a,s,u,c){var l=e&yt,h=l?a:nt,f=l?nt:a,d=l?o:nt,p=l?nt:o;e|=l?xt:_t,(e&=~(l?_t:xt))&gt||(e&=~(mt|vt));var m=[t,e,i,d,h,p,f,s,u,c],v=n.apply(nt,m);return jo(t)&&Th(v,m),v.placeholder=r,Ko(v,t,e)}function io(t){var e=Math[t];return function(t,n){if(t=Eu(t),n=null==n?0:Hl(_u(n),292)){var r=(Tu(t)+"e").split("e");return r=(Tu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function oo(t){return function(e){var n=Mh(e);return n==Kt?H(e):n==ne?Y(e):R(e,t(e))}}function ao(t,e,n,r,i,o,a,s){var u=e&vt;if(!u&&"function"!=typeof t)throw new ul(at);var c=r?r.length:0;if(c||(e&=~(xt|_t),r=i=nt),a=a===nt?a:Vl(_u(a),0),s=s===nt?s:_u(s),c-=i?i.length:0,e&_t){var l=r,h=i;r=i=nt}var f=u?nt:_h(t),d=[t,e,n,r,i,l,h,o,a,s];if(f&&zo(d,f),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=d[9]===nt?u?0:t.length:Vl(d[9]-c,0),!s&&e&(yt|bt)&&(e&=~(yt|bt)),e&&e!=mt)p=e==yt||e==bt?qi(t,e,s):e!=xt&&e!=(mt|xt)||i.length?Ki.apply(nt,d):to(t,e,n,r);else var p=zi(t,e,n);return Ko((f?vh:Th)(p,d),t,e)}function so(t,e,n,r){return t===nt||Hs(t,hl[n])&&!pl.call(r,n)?e:t}function uo(t,e,n,r,i,o){return ru(t)&&ru(e)&&(o.set(e,t),Vr(t,e,nt,uo,o),o.delete(e)),t}function co(t){return fu(t)?nt:t}function lo(t,e,n,r,i,o){var a=n&dt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,h=!0,f=n&pt?new pn:nt;for(o.set(t,e),o.set(e,t);++l<s;){var d=t[l],p=e[l];if(r)var m=a?r(p,d,l,e,t,o):r(d,p,l,t,e,o);if(m!==nt){if(m)continue;h=!1;break}if(f){if(!g(e,function(t,e){if(!I(f,e)&&(d===t||i(d,t,n,r,o)))return f.push(e)})){h=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function ho(t,e,n,r,i,o,a){switch(n){case ce:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ue:return!(t.byteLength!=e.byteLength||!o(new El(t),new El(e)));case Vt:case Ht:case Zt:return Hs(+t,+e);case qt:return t.name==e.name&&t.message==e.message;case ee:case re:return t==e+"";case Kt:var s=H;case ne:var u=r&dt;if(s||(s=X),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=pt,a.set(t,e);var l=lo(s(t),s(e),r,i,o,a);return a.delete(t),l;case ie:if(ch)return ch.call(t)==ch.call(e)}return!1}function fo(t,e,n,r,i,o){var a=n&dt,s=mo(t),u=s.length;if(u!=mo(e).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in e:pl.call(e,l)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var f=!0;o.set(t,e),o.set(e,t);for(var d=a;++c<u;){l=s[c];var p=t[l],m=e[l];if(r)var v=a?r(m,p,l,e,t,o):r(p,m,l,t,e,o);if(!(v===nt?p===m||i(p,m,n,r,o):v)){f=!1;break}d||(d="constructor"==l)}if(f&&!d){var g=t.constructor,y=e.constructor;g!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(t),o.delete(e),f}function po(t){return Ch(Wo(t,nt,fa),t+"")}function mo(t){return or(t,Fu,wh)}function vo(t){return or(t,Uu,Eh)}function go(t){for(var e=t.name+"",n=nh[e],r=pl.call(nh,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function yo(t){return(pl.call(n,"placeholder")?n:t).placeholder}function bo(){var t=n.iteratee||Pc;return t=t===Pc?jr:t,arguments.length?t(arguments[0],arguments[1]):t}function xo(t,e){var n=t.__data__;return Io(e)?n["string"==typeof e?"string":"hash"]:n.map}function _o(t){for(var e=Fu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Fo(i)]}return e}function wo(t,e){var n=U(t,e);return Rr(n)?n:nt}function Eo(t){var e=pl.call(t,Ll),n=t[Ll];try{t[Ll]=nt;var r=!0}catch(t){}var i=gl.call(t);return r&&(e?t[Ll]=n:delete t[Ll]),i}function Mo(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Hl(e,t+a);break;case"takeRight":t=Vl(t,e-a)}}return{start:t,end:e}}function So(t){var e=t.match(Be);return e?e[1].split(Fe):[]}function To(t,e,n){e=wi(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Jo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&nu(i)&&Ro(a,i)&&(mf(t)||pf(t))}function Ao(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&pl.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Co(t){return"function"!=typeof t.constructor||Bo(t)?{}:hh(Sl(t))}function Oo(t,e,n){var r=t.constructor;switch(e){case ue:return Si(t);case Vt:case Ht:return new r(+t);case ce:return Ti(t,n);case le:case he:case fe:case de:case pe:case me:case ve:case ge:case ye:return Oi(t,n);case Kt:return new r;case Zt:case re:return new r(t);case ee:return Ai(t);case ne:return new r;case ie:return Ci(t)}}function Po(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(De,"{\n/* [wrapped with "+e+"] */\n")}function Lo(t){return mf(t)||pf(t)||!!(Ol&&t&&t[Ol])}function Ro(t,e){var n=typeof t;return!!(e=null==e?kt:e)&&("number"==n||"symbol"!=n&&Ye.test(t))&&t>-1&&t%1==0&&t<e}function ko(t,e,n){if(!ru(n))return!1;var r=typeof e;return!!("number"==r?Ws(n)&&Ro(e,n.length):"string"==r&&e in n)&&Hs(n[e],t)}function No(t,e){if(mf(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!mu(t))||(Pe.test(t)||!Oe.test(t)||null!=e&&t in ol(e))}function Io(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function jo(t){var e=go(t),r=n[e];if("function"!=typeof r||!(e in y.prototype))return!1;if(t===r)return!0;var i=_h(r);return!!i&&t===i[0]}function Do(t){return!!vl&&vl in t}function Bo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||hl)}function Fo(t){return t===t&&!ru(t)}function Uo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==nt||t in ol(n)))}}function Go(t){var e=Ps(t,function(t){return n.size===ut&&n.clear(),t}),n=e.cache;return e}function zo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(mt|vt|wt),a=r==wt&&n==yt||r==wt&&n==Et&&t[7].length<=e[8]||r==(wt|Et)&&e[7].length<=e[8]&&n==yt;if(!o&&!a)return t;r&mt&&(t[2]=e[2],i|=n&mt?0:gt);var s=e[3];if(s){var u=t[3];t[3]=u?Ri(u,s,e[4]):s,t[4]=u?q(t[3],ct):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?ki(u,s,e[6]):s,t[6]=u?q(t[5],ct):e[6]),s=e[7],s&&(t[7]=s),r&wt&&(t[8]=null==t[8]?e[8]:Hl(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Vo(t){var e=[];if(null!=t)for(var n in ol(t))e.push(n);return e}function Ho(t){return gl.call(t)}function Wo(t,e,n){return e=Vl(e===nt?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Vl(r.length-e,0),s=el(a);++i<a;)s[i]=r[e+i];i=-1;for(var u=el(e+1);++i<e;)u[i]=r[i];return u[e]=n(s),o(t,this,u)}}function qo(t,e){return e.length<2?t:rr(t,ai(e,0,-1))}function Xo(t,e){for(var n=t.length,r=Hl(e.length,n),i=Ni(t);r--;){var o=e[r];t[r]=Ro(o,n)?i[o]:nt}return t}function Yo(t,e){if("__proto__"!=e)return t[e]}function Ko(t,e,n){var r=e+"";return Ch(t,Po(r,ta(So(r),n)))}function Zo(t){var e=0,n=0;return function(){var r=Wl(),i=Ct-(r-n);if(n=r,i>0){if(++e>=At)return arguments[0]}else e=0;return t.apply(nt,arguments)}}function Qo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===nt?r:e;++n<e;){var o=Jr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function Jo(t){if("string"==typeof t||mu(t))return t;var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function $o(t){if(null!=t){try{return dl.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ta(t,e){return s(Ft,function(n){var r="_."+n[0];e&n[1]&&!h(t,r)&&t.push(r)}),t.sort()}function ea(t){if(t instanceof y)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Ni(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function na(t,e,n){e=(n?ko(t,e,n):e===nt)?1:Vl(_u(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=el(jl(r/e));i<r;)a[o++]=ai(t,i,i+=e);return a}function ra(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function ia(){var t=arguments.length;if(!t)return[];for(var e=el(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return p(mf(n)?Ni(n):[n],Qn(e,1))}function oa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:_u(e),ai(t,e<0?0:e,r)):[]}function aa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:_u(e),e=r-e,ai(t,0,e<0?0:e)):[]}function sa(t,e){return t&&t.length?vi(t,bo(e,3),!0,!0):[]}function ua(t,e){return t&&t.length?vi(t,bo(e,3),!0):[]}function ca(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&ko(t,e,n)&&(n=0,r=i),Wn(t,e,n,r)):[]}function la(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:_u(n);return i<0&&(i=Vl(r+i,0)),_(t,bo(e,3),i)}function ha(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==nt&&(i=_u(n),i=n<0?Vl(r+i,0):Hl(i,r-1)),_(t,bo(e,3),i,!0)}function fa(t){return(null==t?0:t.length)?Qn(t,1):[]}function da(t){return(null==t?0:t.length)?Qn(t,Rt):[]}function pa(t,e){return(null==t?0:t.length)?(e=e===nt?1:_u(e),Qn(t,e)):[]}function ma(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function va(t){return t&&t.length?t[0]:nt}function ga(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:_u(n);return i<0&&(i=Vl(r+i,0)),w(t,e,i)}function ya(t){return(null==t?0:t.length)?ai(t,0,-1):[]}function ba(t,e){return null==t?"":Gl.call(t,e)}function xa(t){var e=null==t?0:t.length;return e?t[e-1]:nt}function _a(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==nt&&(i=_u(n),i=i<0?Vl(r+i,0):Hl(i,r-1)),e===e?Z(t,e,i):_(t,M,i,!0)}function wa(t,e){return t&&t.length?Wr(t,_u(e)):nt}function Ea(t,e){return t&&t.length&&e&&e.length?Zr(t,e):t}function Ma(t,e,n){return t&&t.length&&e&&e.length?Zr(t,e,bo(n,2)):t}function Sa(t,e,n){return t&&t.length&&e&&e.length?Zr(t,e,nt,n):t}function Ta(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=bo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Qr(t,i),n}function Aa(t){return null==t?t:Yl.call(t)}function Ca(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ko(t,e,n)?(e=0,n=r):(e=null==e?0:_u(e),n=n===nt?r:_u(n)),ai(t,e,n)):[]}function Oa(t,e){return ui(t,e)}function Pa(t,e,n){return ci(t,e,bo(n,2))}function La(t,e){var n=null==t?0:t.length;if(n){var r=ui(t,e);if(r<n&&Hs(t[r],e))return r}return-1}function Ra(t,e){return ui(t,e,!0)}function ka(t,e,n){return ci(t,e,bo(n,2),!0)}function Na(t,e){if(null==t?0:t.length){var n=ui(t,e,!0)-1;if(Hs(t[n],e))return n}return-1}function Ia(t){return t&&t.length?li(t):[]}function ja(t,e){return t&&t.length?li(t,bo(e,2)):[]}function Da(t){var e=null==t?0:t.length;return e?ai(t,1,e):[]}function Ba(t,e,n){return t&&t.length?(e=n||e===nt?1:_u(e),ai(t,0,e<0?0:e)):[]}function Fa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:_u(e),e=r-e,ai(t,e<0?0:e,r)):[]}function Ua(t,e){return t&&t.length?vi(t,bo(e,3),!1,!0):[]}function Ga(t,e){return t&&t.length?vi(t,bo(e,3)):[]}function za(t){return t&&t.length?di(t):[]}function Va(t,e){return t&&t.length?di(t,bo(e,2)):[]}function Ha(t,e){return e="function"==typeof e?e:nt,t&&t.length?di(t,nt,e):[]}function Wa(t){if(!t||!t.length)return[];var e=0;return t=l(t,function(t){if(qs(t))return e=Vl(t.length,e),!0}),L(e,function(e){return d(t,T(e))})}function qa(t,e){if(!t||!t.length)return[];var n=Wa(t);return null==e?n:d(n,function(t){return o(e,nt,t)})}function Xa(t,e){return bi(t||[],e||[],Cn)}function Ya(t,e){return bi(t||[],e||[],ii)}function Ka(t){var e=n(t);return e.__chain__=!0,e}function Za(t,e){return e(t),t}function Qa(t,e){return e(t)}function Ja(){return Ka(this)}function $a(){return new i(this.value(),this.__chain__)}function ts(){this.__values__===nt&&(this.__values__=bu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?nt:this.__values__[this.__index__++]}}function es(){return this}function ns(t){for(var e,n=this;n instanceof r;){var i=ea(n);i.__index__=0,i.__values__=nt,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function rs(){var t=this.__wrapped__;if(t instanceof y){var e=t;return this.__actions__.length&&(e=new y(this)),e=e.reverse(),e.__actions__.push({func:Qa,args:[Aa],thisArg:nt}),new i(e,this.__chain__)}return this.thru(Aa)}function is(){return gi(this.__wrapped__,this.__actions__)}function os(t,e,n){var r=mf(t)?c:Vn;return n&&ko(t,e,n)&&(e=nt),r(t,bo(e,3))}function as(t,e){return(mf(t)?l:Zn)(t,bo(e,3))}function ss(t,e){return Qn(ds(t,e),1)}function us(t,e){return Qn(ds(t,e),Rt)}function cs(t,e,n){return n=n===nt?1:_u(n),Qn(ds(t,e),n)}function ls(t,e){return(mf(t)?s:fh)(t,bo(e,3))}function hs(t,e){return(mf(t)?u:dh)(t,bo(e,3))}function fs(t,e,n,r){t=Ws(t)?t:Ju(t),n=n&&!r?_u(n):0;var i=t.length;return n<0&&(n=Vl(i+n,0)),pu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&w(t,e,n)>-1}function ds(t,e){return(mf(t)?d:Ur)(t,bo(e,3))}function ps(t,e,n,r){return null==t?[]:(mf(e)||(e=null==e?[]:[e]),n=r?nt:n,mf(n)||(n=null==n?[]:[n]),qr(t,e,n))}function ms(t,e,n){var r=mf(t)?m:C,i=arguments.length<3;return r(t,bo(e,4),n,i,fh)}function vs(t,e,n){var r=mf(t)?v:C,i=arguments.length<3;return r(t,bo(e,4),n,i,dh)}function gs(t,e){return(mf(t)?l:Zn)(t,Ls(bo(e,3)))}function ys(t){return(mf(t)?Mn:ni)(t)}function bs(t,e,n){return e=(n?ko(t,e,n):e===nt)?1:_u(e),(mf(t)?Sn:ri)(t,e)}function xs(t){return(mf(t)?Tn:oi)(t)}function _s(t){if(null==t)return 0;if(Ws(t))return pu(t)?Q(t):t.length;var e=Mh(t);return e==Kt||e==ne?t.size:Dr(t).length}function ws(t,e,n){var r=mf(t)?g:si;return n&&ko(t,e,n)&&(e=nt),r(t,bo(e,3))}function Es(t,e){if("function"!=typeof e)throw new ul(at);return t=_u(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ms(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,ao(t,wt,nt,nt,nt,nt,e)}function Ss(t,e){var n;if("function"!=typeof e)throw new ul(at);return t=_u(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function Ts(t,e,n){e=n?nt:e;var r=ao(t,yt,nt,nt,nt,nt,nt,e);return r.placeholder=Ts.placeholder,r}function As(t,e,n){e=n?nt:e;var r=ao(t,bt,nt,nt,nt,nt,nt,e);return r.placeholder=As.placeholder,r}function Cs(t,e,n){function r(e){var n=f,r=d;return f=d=nt,y=e,m=t.apply(r,n)}function i(t){return y=t,v=Ah(s,e),b?r(t):m}function o(t){var n=t-g,r=t-y,i=e-n;return x?Hl(i,p-r):i}function a(t){var n=t-g,r=t-y;return g===nt||n>=e||n<0||x&&r>=p}function s(){var t=nf();if(a(t))return u(t);v=Ah(s,o(t))}function u(t){return v=nt,_&&f?r(t):(f=d=nt,m)}function c(){v!==nt&&bh(v),y=0,f=g=d=v=nt}function l(){return v===nt?m:u(nf())}function h(){var t=nf(),n=a(t);if(f=arguments,d=this,g=t,n){if(v===nt)return i(g);if(x)return v=Ah(s,e),r(g)}return v===nt&&(v=Ah(s,e)),m}var f,d,p,m,v,g,y=0,b=!1,x=!1,_=!0;if("function"!=typeof t)throw new ul(at);return e=Eu(e)||0,ru(n)&&(b=!!n.leading,x="maxWait"in n,p=x?Vl(Eu(n.maxWait)||0,e):p,_="trailing"in n?!!n.trailing:_),h.cancel=c,h.flush=l,h}function Os(t){return ao(t,Mt)}function Ps(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ul(at);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ps.Cache||un),n}function Ls(t){if("function"!=typeof t)throw new ul(at);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Rs(t){return Ss(2,t)}function ks(t,e){if("function"!=typeof t)throw new ul(at);return e=e===nt?e:_u(e),ei(t,e)}function Ns(t,e){if("function"!=typeof t)throw new ul(at);return e=null==e?0:Vl(_u(e),0),ei(function(n){var r=n[e],i=Ei(n,0,e);return r&&p(i,r),o(t,this,i)})}function Is(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ul(at);return ru(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Cs(t,e,{leading:r,maxWait:e,trailing:i})}function js(t){return Ms(t,1)}function Ds(t,e){return cf(_i(e),t)}function Bs(){if(!arguments.length)return[];var t=arguments[0];return mf(t)?t:[t]}function Fs(t){return jn(t,ft)}function Us(t,e){return e="function"==typeof e?e:nt,jn(t,ft,e)}function Gs(t){return jn(t,lt|ft)}function zs(t,e){return e="function"==typeof e?e:nt,jn(t,lt|ft,e)}function Vs(t,e){return null==e||Bn(t,e,Fu(e))}function Hs(t,e){return t===e||t!==t&&e!==e}function Ws(t){return null!=t&&nu(t.length)&&!tu(t)}function qs(t){return iu(t)&&Ws(t)}function Xs(t){return!0===t||!1===t||iu(t)&&ar(t)==Vt}function Ys(t){return iu(t)&&1===t.nodeType&&!fu(t)}function Ks(t){if(null==t)return!0;if(Ws(t)&&(mf(t)||"string"==typeof t||"function"==typeof t.splice||gf(t)||wf(t)||pf(t)))return!t.length;var e=Mh(t);if(e==Kt||e==ne)return!t.size;if(Bo(t))return!Dr(t).length;for(var n in t)if(pl.call(t,n))return!1;return!0}function Zs(t,e){return Cr(t,e)}function Qs(t,e,n){n="function"==typeof n?n:nt;var r=n?n(t,e):nt;return r===nt?Cr(t,e,nt,n):!!r}function Js(t){if(!iu(t))return!1;var e=ar(t);return e==qt||e==Wt||"string"==typeof t.message&&"string"==typeof t.name&&!fu(t)}function $s(t){return"number"==typeof t&&Ul(t)}function tu(t){if(!ru(t))return!1;var e=ar(t);return e==Xt||e==Yt||e==zt||e==te}function eu(t){return"number"==typeof t&&t==_u(t)}function nu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=kt}function ru(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function iu(t){return null!=t&&"object"==typeof t}function ou(t,e){return t===e||Lr(t,e,_o(e))}function au(t,e,n){return n="function"==typeof n?n:nt,Lr(t,e,_o(e),n)}function su(t){return hu(t)&&t!=+t}function uu(t){if(Sh(t))throw new rl(ot);return Rr(t)}function cu(t){return null===t}function lu(t){return null==t}function hu(t){return"number"==typeof t||iu(t)&&ar(t)==Zt}function fu(t){if(!iu(t)||ar(t)!=Jt)return!1;var e=Sl(t);if(null===e)return!0;var n=pl.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&dl.call(n)==yl}function du(t){return eu(t)&&t>=-kt&&t<=kt}function pu(t){return"string"==typeof t||!mf(t)&&iu(t)&&ar(t)==re}function mu(t){return"symbol"==typeof t||iu(t)&&ar(t)==ie}function vu(t){return t===nt}function gu(t){return iu(t)&&Mh(t)==ae}function yu(t){return iu(t)&&ar(t)==se}function bu(t){if(!t)return[];if(Ws(t))return pu(t)?J(t):Ni(t);if(Pl&&t[Pl])return V(t[Pl]());var e=Mh(t);return(e==Kt?H:e==ne?X:Ju)(t)}function xu(t){if(!t)return 0===t?t:0;if((t=Eu(t))===Rt||t===-Rt){return(t<0?-1:1)*Nt}return t===t?t:0}function _u(t){var e=xu(t),n=e%1;return e===e?n?e-n:e:0}function wu(t){return t?In(_u(t),0,jt):0}function Eu(t){if("number"==typeof t)return t;if(mu(t))return It;if(ru(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ru(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ne,"");var n=We.test(t);return n||Xe.test(t)?er(t.slice(2),n?2:8):He.test(t)?It:+t}function Mu(t){return Ii(t,Uu(t))}function Su(t){return t?In(_u(t),-kt,kt):0===t?t:0}function Tu(t){return null==t?"":fi(t)}function Au(t,e){var n=hh(t);return null==e?n:Ln(n,e)}function Cu(t,e){return x(t,bo(e,3),Jn)}function Ou(t,e){return x(t,bo(e,3),$n)}function Pu(t,e){return null==t?t:ph(t,bo(e,3),Uu)}function Lu(t,e){return null==t?t:mh(t,bo(e,3),Uu)}function Ru(t,e){return t&&Jn(t,bo(e,3))}function ku(t,e){return t&&$n(t,bo(e,3))}function Nu(t){return null==t?[]:nr(t,Fu(t))}function Iu(t){return null==t?[]:nr(t,Uu(t))}function ju(t,e,n){var r=null==t?nt:rr(t,e);return r===nt?n:r}function Du(t,e){return null!=t&&To(t,e,cr)}function Bu(t,e){return null!=t&&To(t,e,vr)}function Fu(t){return Ws(t)?En(t):Dr(t)}function Uu(t){return Ws(t)?En(t,!0):Br(t)}function Gu(t,e){var n={};return e=bo(e,3),Jn(t,function(t,r,i){kn(n,e(t,r,i),t)}),n}function zu(t,e){var n={};return e=bo(e,3),Jn(t,function(t,r,i){kn(n,r,e(t,r,i))}),n}function Vu(t,e){return Hu(t,Ls(bo(e)))}function Hu(t,e){if(null==t)return{};var n=d(vo(t),function(t){return[t]});return e=bo(e),Yr(t,n,function(t,n){return e(t,n[0])})}function Wu(t,e,n){e=wi(e,t);var r=-1,i=e.length;for(i||(i=1,t=nt);++r<i;){var o=null==t?nt:t[Jo(e[r])];o===nt&&(r=i,o=n),t=tu(o)?o.call(t):o}return t}function qu(t,e,n){return null==t?t:ii(t,e,n)}function Xu(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:ii(t,e,n,r)}function Yu(t,e,n){var r=mf(t),i=r||gf(t)||wf(t);if(e=bo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ru(t)&&tu(o)?hh(Sl(t)):{}}return(i?s:Jn)(t,function(t,r,i){return e(n,t,r,i)}),n}function Ku(t,e){return null==t||pi(t,e)}function Zu(t,e,n){return null==t?t:mi(t,e,_i(n))}function Qu(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:mi(t,e,_i(n),r)}function Ju(t){return null==t?[]:N(t,Fu(t))}function $u(t){return null==t?[]:N(t,Uu(t))}function tc(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=Eu(n),n=n===n?n:0),e!==nt&&(e=Eu(e),e=e===e?e:0),In(Eu(t),e,n)}function ec(t,e,n){return e=xu(e),n===nt?(n=e,e=0):n=xu(n),t=Eu(t),xr(t,e,n)}function nc(t,e,n){if(n&&"boolean"!=typeof n&&ko(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=xu(t),e===nt?(e=t,t=0):e=xu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Xl();return Hl(t+i*(e-t+tr("1e-"+((i+"").length-1))),e)}return Jr(t,e)}function rc(t){return Yf(Tu(t).toLowerCase())}function ic(t){return(t=Tu(t))&&t.replace(Ke,gr).replace(Gn,"")}function oc(t,e,n){t=Tu(t),e=fi(e);var r=t.length;n=n===nt?r:In(_u(n),0,r);var i=n;return(n-=e.length)>=0&&t.slice(n,i)==e}function ac(t){return t=Tu(t),t&&Se.test(t)?t.replace(Ee,yr):t}function sc(t){return t=Tu(t),t&&ke.test(t)?t.replace(Re,"\\$&"):t}function uc(t,e,n){t=Tu(t),e=_u(e);var r=e?Q(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return $i(Dl(i),n)+t+$i(jl(i),n)}function cc(t,e,n){t=Tu(t),e=_u(e);var r=e?Q(t):0;return e&&r<e?t+$i(e-r,n):t}function lc(t,e,n){t=Tu(t),e=_u(e);var r=e?Q(t):0;return e&&r<e?$i(e-r,n)+t:t}function hc(t,e,n){return n||null==e?e=0:e&&(e=+e),ql(Tu(t).replace(Ie,""),e||0)}function fc(t,e,n){return e=(n?ko(t,e,n):e===nt)?1:_u(e),ti(Tu(t),e)}function dc(){var t=arguments,e=Tu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function pc(t,e,n){return n&&"number"!=typeof n&&ko(t,e,n)&&(e=n=nt),(n=n===nt?jt:n>>>0)?(t=Tu(t),t&&("string"==typeof e||null!=e&&!xf(e))&&!(e=fi(e))&&G(t)?Ei(J(t),0,n):t.split(e,n)):[]}function mc(t,e,n){return t=Tu(t),n=null==n?0:In(_u(n),0,t.length),e=fi(e),t.slice(n,n+e.length)==e}function vc(t,e,r){var i=n.templateSettings;r&&ko(t,e,r)&&(e=nt),t=Tu(t),e=Af({},e,i,so);var o=Af({},e.imports,i.imports,so),a=Fu(o),s=N(o,a),u,c,l=0,h=e.interpolate||Ze,f="__p += '",d=al((e.escape||Ze).source+"|"+h.source+"|"+(h===Ce?ze:Ze).source+"|"+(e.evaluate||Ze).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Xn+"]")+"\n";t.replace(d,function(e,n,r,i,o,a){return r||(r=i),f+=t.slice(l,a).replace(Qe,F),n&&(u=!0,f+="' +\n__e("+n+") +\n'"),o&&(c=!0,f+="';\n"+o+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=a+e.length,e}),f+="';\n";var m=e.variable;m||(f="with (obj) {\n"+f+"\n}\n"),f=(c?f.replace(be,""):f).replace(xe,"$1").replace(_e,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Kf(function(){return il(a,p+"return "+f).apply(nt,s)});if(v.source=f,Js(v))throw v;return v}function gc(t){return Tu(t).toLowerCase()}function yc(t){return Tu(t).toUpperCase()}function bc(t,e,n){if((t=Tu(t))&&(n||e===nt))return t.replace(Ne,"");if(!t||!(e=fi(e)))return t;var r=J(t),i=J(e);return Ei(r,j(r,i),D(r,i)+1).join("")}function xc(t,e,n){if((t=Tu(t))&&(n||e===nt))return t.replace(je,"");if(!t||!(e=fi(e)))return t;var r=J(t);return Ei(r,0,D(r,J(e))+1).join("")}function _c(t,e,n){if((t=Tu(t))&&(n||e===nt))return t.replace(Ie,"");if(!t||!(e=fi(e)))return t;var r=J(t);return Ei(r,j(r,J(e))).join("")}function wc(t,e){var n=St,r=Tt;if(ru(e)){var i="separator"in e?e.separator:i;n="length"in e?_u(e.length):n,r="omission"in e?fi(e.omission):r}t=Tu(t);var o=t.length;if(G(t)){var a=J(t);o=a.length}if(n>=o)return t;var s=n-Q(r);if(s<1)return r;var u=a?Ei(a,0,s).join(""):t.slice(0,s);if(i===nt)return u+r;if(a&&(s+=u.length-s),xf(i)){if(t.slice(s).search(i)){var c,l=u;for(i.global||(i=al(i.source,Tu(Ve.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var h=c.index;u=u.slice(0,h===nt?s:h)}}else if(t.indexOf(fi(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r}function Ec(t){return t=Tu(t),t&&Me.test(t)?t.replace(we,br):t}function Mc(t,e,n){return t=Tu(t),e=n?nt:e,e===nt?z(t)?et(t):b(t):t.match(e)||[]}function Sc(t){var e=null==t?0:t.length,n=bo();return t=e?d(t,function(t){if("function"!=typeof t[1])throw new ul(at);return[n(t[0]),t[1]]}):[],ei(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function Tc(t){return Dn(jn(t,lt))}function Ac(t){return function(){return t}}function Cc(t,e){return null==t||t!==t?e:t}function Oc(t){return t}function Pc(t){return jr("function"==typeof t?t:jn(t,lt))}function Lc(t){return Gr(jn(t,lt))}function Rc(t,e){return zr(t,jn(e,lt))}function kc(t,e,n){var r=Fu(e),i=nr(e,r);null!=n||ru(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=nr(e,Fu(e)));var o=!(ru(n)&&"chain"in n)||!!n.chain,a=tu(t);return s(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Ni(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,p([this.value()],arguments))})}),t}function Nc(){return ir._===this&&(ir._=bl),this}function Ic(){}function jc(t){return t=_u(t),ei(function(e){return Wr(e,t)})}function Dc(t){return No(t)?T(Jo(t)):Kr(t)}function Bc(t){return function(e){return null==t?nt:rr(t,e)}}function Fc(){return[]}function Uc(){return!1}function Gc(){return{}}function zc(){return""}function Vc(){return!0}function Hc(t,e){if((t=_u(t))<1||t>kt)return[];var n=jt,r=Hl(t,jt);e=bo(e),t-=jt;for(var i=L(r,e);++n<t;)e(n);return i}function Wc(t){return mf(t)?d(t,Jo):mu(t)?[t]:Ni(Oh(Tu(t)))}function qc(t){var e=++ml;return Tu(t)+e}function Xc(t){return t&&t.length?Hn(t,Oc,ur):nt}function Yc(t,e){return t&&t.length?Hn(t,bo(e,2),ur):nt}function Kc(t){return S(t,Oc)}function Zc(t,e){return S(t,bo(e,2))}function Qc(t){return t&&t.length?Hn(t,Oc,Fr):nt}function Jc(t,e){return t&&t.length?Hn(t,bo(e,2),Fr):nt}function $c(t){return t&&t.length?P(t,Oc):0}function tl(t,e){return t&&t.length?P(t,bo(e,2)):0}e=null==e?ir:_r.defaults(ir.Object(),e,_r.pick(ir,qn));var el=e.Array,nl=e.Date,rl=e.Error,il=e.Function,Math=e.Math,ol=e.Object,al=e.RegExp,sl=e.String,ul=e.TypeError,cl=el.prototype,ll=il.prototype,hl=ol.prototype,fl=e["__core-js_shared__"],dl=ll.toString,pl=hl.hasOwnProperty,ml=0,vl=function(){var t=/[^.]+$/.exec(fl&&fl.keys&&fl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),gl=hl.toString,yl=dl.call(ol),bl=ir._,xl=al("^"+dl.call(pl).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_l=sr?e.Buffer:nt,wl=e.Symbol,El=e.Uint8Array,Ml=_l?_l.allocUnsafe:nt,Sl=W(ol.getPrototypeOf,ol),Tl=ol.create,Al=hl.propertyIsEnumerable,Cl=cl.splice,Ol=wl?wl.isConcatSpreadable:nt,Pl=wl?wl.iterator:nt,Ll=wl?wl.toStringTag:nt,Rl=function(){try{var t=wo(ol,"defineProperty");return t({},"",{}),t}catch(t){}}(),kl=e.clearTimeout!==ir.clearTimeout&&e.clearTimeout,Nl=nl&&nl.now!==ir.Date.now&&nl.now,Il=e.setTimeout!==ir.setTimeout&&e.setTimeout,jl=Math.ceil,Dl=Math.floor,Bl=ol.getOwnPropertySymbols,Fl=_l?_l.isBuffer:nt,Ul=e.isFinite,Gl=cl.join,zl=W(ol.keys,ol),Vl=Math.max,Hl=Math.min,Wl=nl.now,ql=e.parseInt,Xl=Math.random,Yl=cl.reverse,Kl=wo(e,"DataView"),Zl=wo(e,"Map"),Ql=wo(e,"Promise"),Jl=wo(e,"Set"),$l=wo(e,"WeakMap"),th=wo(ol,"create"),eh=$l&&new $l,nh={},rh=$o(Kl),ih=$o(Zl),oh=$o(Ql),ah=$o(Jl),sh=$o($l),uh=wl?wl.prototype:nt,ch=uh?uh.valueOf:nt,lh=uh?uh.toString:nt,hh=function(){function t(){}return function(e){if(!ru(e))return{};if(Tl)return Tl(e);t.prototype=e;var n=new t;return t.prototype=nt,n}}();n.templateSettings={escape:Te,evaluate:Ae,interpolate:Ce,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=hh(r.prototype),i.prototype.constructor=i,y.prototype=hh(r.prototype),y.prototype.constructor=y,tt.prototype.clear=Lt,tt.prototype.delete=Ue,tt.prototype.get=Je,tt.prototype.has=$e,tt.prototype.set=tn,en.prototype.clear=nn,en.prototype.delete=rn,en.prototype.get=on,en.prototype.has=an,en.prototype.set=sn,un.prototype.clear=cn,un.prototype.delete=ln,un.prototype.get=hn,un.prototype.has=fn,un.prototype.set=dn,pn.prototype.add=pn.prototype.push=mn,pn.prototype.has=vn,gn.prototype.clear=yn,gn.prototype.delete=bn,gn.prototype.get=xn,gn.prototype.has=_n,gn.prototype.set=wn;var fh=Ui(Jn),dh=Ui($n,!0),ph=Gi(),mh=Gi(!0),vh=eh?function(t,e){return eh.set(t,e),t}:Oc,gh=Rl?function(t,e){return Rl(t,"toString",{configurable:!0,enumerable:!1,value:Ac(e),writable:!0})}:Oc,yh=ei,bh=kl||function(t){return ir.clearTimeout(t)},xh=Jl&&1/X(new Jl([,-0]))[1]==Rt?function(t){return new Jl(t)}:Ic,_h=eh?function(t){return eh.get(t)}:Ic,wh=Bl?function(t){return null==t?[]:(t=ol(t),l(Bl(t),function(e){return Al.call(t,e)}))}:Fc,Eh=Bl?function(t){for(var e=[];t;)p(e,wh(t)),t=Sl(t);return e}:Fc,Mh=ar;(Kl&&Mh(new Kl(new ArrayBuffer(1)))!=ce||Zl&&Mh(new Zl)!=Kt||Ql&&Mh(Ql.resolve())!=$t||Jl&&Mh(new Jl)!=ne||$l&&Mh(new $l)!=ae)&&(Mh=function(t){var e=ar(t),n=e==Jt?t.constructor:nt,r=n?$o(n):"";if(r)switch(r){case rh:return ce;case ih:return Kt;case oh:return $t;case ah:return ne;case sh:return ae}return e});var Sh=fl?tu:Uc,Th=Zo(vh),Ah=Il||function(t,e){return ir.setTimeout(t,e)},Ch=Zo(gh),Oh=Go(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Le,function(t,n,r,i){e.push(r?i.replace(Ge,"$1"):n||t)}),e}),Ph=ei(function(t,e){return qs(t)?zn(t,Qn(e,1,qs,!0)):[]}),Lh=ei(function(t,e){var n=xa(e);return qs(n)&&(n=nt),qs(t)?zn(t,Qn(e,1,qs,!0),bo(n,2)):[]}),Rh=ei(function(t,e){var n=xa(e);return qs(n)&&(n=nt),qs(t)?zn(t,Qn(e,1,qs,!0),nt,n):[]}),kh=ei(function(t){var e=d(t,xi);return e.length&&e[0]===t[0]?wr(e):[]}),Nh=ei(function(t){var e=xa(t),n=d(t,xi);return e===xa(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?wr(n,bo(e,2)):[]}),Ih=ei(function(t){var e=xa(t),n=d(t,xi);return e="function"==typeof e?e:nt,e&&n.pop(),n.length&&n[0]===t[0]?wr(n,nt,e):[]}),jh=ei(Ea),Dh=po(function(t,e){var n=null==t?0:t.length,r=Nn(t,e);return Qr(t,d(e,function(t){return Ro(t,n)?+t:t}).sort(Pi)),r}),Bh=ei(function(t){return di(Qn(t,1,qs,!0))}),Fh=ei(function(t){var e=xa(t);return qs(e)&&(e=nt),di(Qn(t,1,qs,!0),bo(e,2))}),Uh=ei(function(t){var e=xa(t);return e="function"==typeof e?e:nt,di(Qn(t,1,qs,!0),nt,e)}),Gh=ei(function(t,e){return qs(t)?zn(t,e):[]}),zh=ei(function(t){return yi(l(t,qs))}),Vh=ei(function(t){var e=xa(t);return qs(e)&&(e=nt),yi(l(t,qs),bo(e,2))}),Hh=ei(function(t){var e=xa(t);return e="function"==typeof e?e:nt,yi(l(t,qs),nt,e)}),Wh=ei(Wa),qh=ei(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,qa(t,n)}),Xh=po(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Nn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof y&&Ro(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Qa,args:[o],thisArg:nt}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(o)}),Yh=Bi(function(t,e,n){pl.call(t,n)?++t[n]:kn(t,n,1)}),Kh=Xi(la),Zh=Xi(ha),Qh=Bi(function(t,e,n){pl.call(t,n)?t[n].push(e):kn(t,n,[e])}),Jh=ei(function(t,e,n){var r=-1,i="function"==typeof e,a=Ws(t)?el(t.length):[];return fh(t,function(t){a[++r]=i?o(e,t,n):Mr(t,e,n)}),a}),$h=Bi(function(t,e,n){kn(t,n,e)}),tf=Bi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ef=ei(function(t,e){if(null==t)return[];var n=e.length;return n>1&&ko(t,e[0],e[1])?e=[]:n>2&&ko(e[0],e[1],e[2])&&(e=[e[0]]),qr(t,Qn(e,1),[])}),nf=Nl||function(){return ir.Date.now()},rf=ei(function(t,e,n){var r=mt;if(n.length){var i=q(n,yo(rf));r|=xt}return ao(t,r,e,n,i)}),of=ei(function(t,e,n){var r=mt|vt;if(n.length){var i=q(n,yo(of));r|=xt}return ao(e,r,t,n,i)}),af=ei(function(t,e){return Fn(t,1,e)}),sf=ei(function(t,e,n){return Fn(t,Eu(e)||0,n)});Ps.Cache=un;var uf=yh(function(t,e){e=1==e.length&&mf(e[0])?d(e[0],k(bo())):d(Qn(e,1),k(bo()));var n=e.length;return ei(function(r){for(var i=-1,a=Hl(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),cf=ei(function(t,e){var n=q(e,yo(cf));return ao(t,xt,nt,e,n)}),lf=ei(function(t,e){var n=q(e,yo(lf));return ao(t,_t,nt,e,n)}),hf=po(function(t,e){return ao(t,Et,nt,nt,nt,e)}),ff=no(ur),df=no(function(t,e){return t>=e}),pf=Sr(function(){return arguments}())?Sr:function(t){return iu(t)&&pl.call(t,"callee")&&!Al.call(t,"callee")},mf=el.isArray,vf=lr?k(lr):Tr,gf=Fl||Uc,yf=hr?k(hr):Ar,bf=fr?k(fr):Pr,xf=dr?k(dr):kr,_f=pr?k(pr):Nr,wf=mr?k(mr):Ir,Ef=no(Fr),Mf=no(function(t,e){return t<=e}),Sf=Fi(function(t,e){if(Bo(e)||Ws(e))return void Ii(e,Fu(e),t);for(var n in e)pl.call(e,n)&&Cn(t,n,e[n])}),Tf=Fi(function(t,e){Ii(e,Uu(e),t)}),Af=Fi(function(t,e,n,r){Ii(e,Uu(e),t,r)}),Cf=Fi(function(t,e,n,r){Ii(e,Fu(e),t,r)}),Of=po(Nn),Pf=ei(function(t,e){t=ol(t);var n=-1,r=e.length,i=r>2?e[2]:nt;for(i&&ko(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Uu(o),s=-1,u=a.length;++s<u;){var c=a[s],l=t[c];(l===nt||Hs(l,hl[c])&&!pl.call(t,c))&&(t[c]=o[c])}return t}),Lf=ei(function(t){return t.push(nt,uo),o(jf,nt,t)}),Rf=Zi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=gl.call(e)),t[e]=n},Ac(Oc)),kf=Zi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=gl.call(e)),pl.call(t,e)?t[e].push(n):t[e]=[n]},bo),Nf=ei(Mr),If=Fi(function(t,e,n){Vr(t,e,n)}),jf=Fi(function(t,e,n,r){Vr(t,e,n,r)}),Df=po(function(t,e){var n={};if(null==t)return n;var r=!1;e=d(e,function(e){return e=wi(e,t),r||(r=e.length>1),e}),Ii(t,vo(t),n),r&&(n=jn(n,lt|ht|ft,co));for(var i=e.length;i--;)pi(n,e[i]);return n}),Bf=po(function(t,e){return null==t?{}:Xr(t,e)}),Ff=oo(Fu),Uf=oo(Uu),Gf=Hi(function(t,e,n){return e=e.toLowerCase(),t+(n?rc(e):e)}),zf=Hi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Vf=Hi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Hf=Vi("toLowerCase"),Wf=Hi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),qf=Hi(function(t,e,n){return t+(n?" ":"")+Yf(e)}),Xf=Hi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Yf=Vi("toUpperCase"),Kf=ei(function(t,e){try{return o(t,nt,e)}catch(t){return Js(t)?t:new rl(t)}}),Zf=po(function(t,e){return s(e,function(e){e=Jo(e),kn(t,e,rf(t[e],t))}),t}),Qf=Yi(),Jf=Yi(!0),$f=ei(function(t,e){return function(n){return Mr(n,t,e)}}),td=ei(function(t,e){return function(n){return Mr(t,n,e)}}),ed=Ji(d),nd=Ji(c),rd=Ji(g),id=eo(),od=eo(!0),ad=Qi(function(t,e){return t+e},0),sd=io("ceil"),ud=Qi(function(t,e){return t/e},1),cd=io("floor"),ld=Qi(function(t,e){return t*e},1),hd=io("round"),fd=Qi(function(t,e){return t-e},0);return n.after=Es,n.ary=Ms,n.assign=Sf,n.assignIn=Tf,n.assignInWith=Af,n.assignWith=Cf,n.at=Of,n.before=Ss,n.bind=rf,n.bindAll=Zf,n.bindKey=of,n.castArray=Bs,n.chain=Ka,n.chunk=na,n.compact=ra,n.concat=ia,n.cond=Sc,n.conforms=Tc,n.constant=Ac,n.countBy=Yh,n.create=Au,n.curry=Ts,n.curryRight=As,n.debounce=Cs,n.defaults=Pf,n.defaultsDeep=Lf,n.defer=af,n.delay=sf,n.difference=Ph,n.differenceBy=Lh,n.differenceWith=Rh,n.drop=oa,n.dropRight=aa,n.dropRightWhile=sa,n.dropWhile=ua,n.fill=ca,n.filter=as,n.flatMap=ss,n.flatMapDeep=us,n.flatMapDepth=cs,n.flatten=fa,n.flattenDeep=da,n.flattenDepth=pa,n.flip=Os,n.flow=Qf,n.flowRight=Jf,n.fromPairs=ma,n.functions=Nu,n.functionsIn=Iu,n.groupBy=Qh,n.initial=ya,n.intersection=kh,n.intersectionBy=Nh,n.intersectionWith=Ih,n.invert=Rf,n.invertBy=kf,n.invokeMap=Jh,n.iteratee=Pc,n.keyBy=$h,n.keys=Fu,n.keysIn=Uu,n.map=ds,n.mapKeys=Gu,n.mapValues=zu,n.matches=Lc,n.matchesProperty=Rc,n.memoize=Ps,n.merge=If,n.mergeWith=jf,n.method=$f,n.methodOf=td,n.mixin=kc,n.negate=Ls,n.nthArg=jc,n.omit=Df,n.omitBy=Vu,n.once=Rs,n.orderBy=ps,n.over=ed,n.overArgs=uf,n.overEvery=nd,n.overSome=rd,n.partial=cf,n.partialRight=lf,n.partition=tf,n.pick=Bf,n.pickBy=Hu,n.property=Dc,n.propertyOf=Bc,n.pull=jh,n.pullAll=Ea,n.pullAllBy=Ma,n.pullAllWith=Sa,n.pullAt=Dh,n.range=id,n.rangeRight=od,n.rearg=hf,n.reject=gs,n.remove=Ta,n.rest=ks,n.reverse=Aa,n.sampleSize=bs,n.set=qu,n.setWith=Xu,n.shuffle=xs,n.slice=Ca,n.sortBy=ef,n.sortedUniq=Ia,n.sortedUniqBy=ja,n.split=pc,n.spread=Ns,n.tail=Da,n.take=Ba,n.takeRight=Fa,n.takeRightWhile=Ua,n.takeWhile=Ga,n.tap=Za,n.throttle=Is,n.thru=Qa,n.toArray=bu,n.toPairs=Ff,n.toPairsIn=Uf,n.toPath=Wc,n.toPlainObject=Mu,n.transform=Yu,n.unary=js,n.union=Bh,n.unionBy=Fh,n.unionWith=Uh,n.uniq=za,n.uniqBy=Va,n.uniqWith=Ha,n.unset=Ku,n.unzip=Wa,n.unzipWith=qa,n.update=Zu,n.updateWith=Qu,n.values=Ju,n.valuesIn=$u,n.without=Gh,n.words=Mc,n.wrap=Ds,n.xor=zh,n.xorBy=Vh,n.xorWith=Hh,n.zip=Wh,n.zipObject=Xa,n.zipObjectDeep=Ya,n.zipWith=qh,n.entries=Ff,n.entriesIn=Uf,n.extend=Tf,n.extendWith=Af,kc(n,n),n.add=ad,n.attempt=Kf,n.camelCase=Gf,n.capitalize=rc,n.ceil=sd,n.clamp=tc,n.clone=Fs,n.cloneDeep=Gs,n.cloneDeepWith=zs,n.cloneWith=Us,n.conformsTo=Vs,n.deburr=ic,n.defaultTo=Cc,n.divide=ud,n.endsWith=oc,n.eq=Hs,n.escape=ac,n.escapeRegExp=sc,n.every=os,n.find=Kh,n.findIndex=la,n.findKey=Cu,n.findLast=Zh,n.findLastIndex=ha,n.findLastKey=Ou,n.floor=cd,n.forEach=ls,n.forEachRight=hs,n.forIn=Pu,n.forInRight=Lu,n.forOwn=Ru,n.forOwnRight=ku,n.get=ju,n.gt=ff,n.gte=df,n.has=Du,n.hasIn=Bu,n.head=va,n.identity=Oc,n.includes=fs,n.indexOf=ga,n.inRange=ec,n.invoke=Nf,n.isArguments=pf,n.isArray=mf,n.isArrayBuffer=vf,n.isArrayLike=Ws,n.isArrayLikeObject=qs,n.isBoolean=Xs,n.isBuffer=gf,n.isDate=yf,n.isElement=Ys,n.isEmpty=Ks,n.isEqual=Zs,n.isEqualWith=Qs,n.isError=Js,n.isFinite=$s,n.isFunction=tu,n.isInteger=eu,n.isLength=nu,n.isMap=bf,n.isMatch=ou,n.isMatchWith=au,n.isNaN=su,n.isNative=uu,n.isNil=lu,n.isNull=cu,n.isNumber=hu,n.isObject=ru,n.isObjectLike=iu,n.isPlainObject=fu,n.isRegExp=xf,n.isSafeInteger=du,n.isSet=_f,n.isString=pu,n.isSymbol=mu,n.isTypedArray=wf,n.isUndefined=vu,n.isWeakMap=gu,n.isWeakSet=yu,n.join=ba,n.kebabCase=zf,n.last=xa,n.lastIndexOf=_a,n.lowerCase=Vf,n.lowerFirst=Hf,n.lt=Ef,n.lte=Mf,n.max=Xc,n.maxBy=Yc,n.mean=Kc,n.meanBy=Zc,n.min=Qc,n.minBy=Jc,n.stubArray=Fc,n.stubFalse=Uc,n.stubObject=Gc,n.stubString=zc,n.stubTrue=Vc,n.multiply=ld,n.nth=wa,n.noConflict=Nc,n.noop=Ic,n.now=nf,n.pad=uc,n.padEnd=cc,n.padStart=lc,n.parseInt=hc,n.random=nc,n.reduce=ms,n.reduceRight=vs,n.repeat=fc,n.replace=dc,n.result=Wu,n.round=hd,n.runInContext=t,n.sample=ys,n.size=_s,n.snakeCase=Wf,n.some=ws,n.sortedIndex=Oa,n.sortedIndexBy=Pa,n.sortedIndexOf=La,n.sortedLastIndex=Ra,n.sortedLastIndexBy=ka,n.sortedLastIndexOf=Na,n.startCase=qf,n.startsWith=mc,n.subtract=fd,n.sum=$c,n.sumBy=tl,n.template=vc,n.times=Hc,n.toFinite=xu,n.toInteger=_u,n.toLength=wu,n.toLower=gc,n.toNumber=Eu,n.toSafeInteger=Su,n.toString=Tu,n.toUpper=yc,n.trim=bc,n.trimEnd=xc,n.trimStart=_c,n.truncate=wc,n.unescape=Ec,n.uniqueId=qc,n.upperCase=Xf,n.upperFirst=Yf,n.each=ls,n.eachRight=hs,n.first=va,kc(n,function(){var t={};return Jn(n,function(e,r){pl.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION=rt,s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),s(["drop","take"],function(t,e){y.prototype[t]=function(n){n=n===nt?1:Vl(_u(n),0);var r=this.__filtered__&&!e?new y(this):this.clone();return r.__filtered__?r.__takeCount__=Hl(n,r.__takeCount__):r.__views__.push({size:Hl(n,jt),type:t+(r.__dir__<0?"Right":"")}),r},y.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),s(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Ot||3==n;y.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:bo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),s(["head","last"],function(t,e){var n="take"+(e?"Right":"");y.prototype[t]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");y.prototype[t]=function(){return this.__filtered__?new y(this):this[n](1)}}),y.prototype.compact=function(){return this.filter(Oc)},y.prototype.find=function(t){return this.filter(t).head()},y.prototype.findLast=function(t){return this.reverse().find(t)},y.prototype.invokeMap=ei(function(t,e){return"function"==typeof t?new y(this):this.map(function(n){return Mr(n,t,e)})}),y.prototype.reject=function(t){return this.filter(Ls(bo(t)))},y.prototype.slice=function(t,e){t=_u(t);var n=this;return n.__filtered__&&(t>0||e<0)?new y(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(e=_u(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},y.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},y.prototype.toArray=function(){return this.take(jt)},Jn(y.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=n[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,c=e instanceof y,l=u[0],h=c||mf(e),f=function(t){var e=a.apply(n,p([t],u));return o&&d?e[0]:e};h&&r&&"function"==typeof l&&1!=l.length&&(c=h=!1);var d=this.__chain__,m=!!this.__actions__.length,v=s&&!d,g=c&&!m;if(!s&&h){e=g?e:new y(this);var b=t.apply(e,u);return b.__actions__.push({func:Qa,args:[f],thisArg:nt}),new i(b,d)}return v&&g?t.apply(this,u):(b=this.thru(f),v?o?b.value()[0]:b.value():b)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var e=cl[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(mf(n)?n:[],t)}return this[r](function(n){return e.apply(mf(n)?n:[],t)})}}),Jn(y.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";(nh[i]||(nh[i]=[])).push({name:e,func:r})}}),nh[Ki(nt,vt).name]=[{name:"wrapper",func:nt}],y.prototype.clone=A,y.prototype.reverse=K,y.prototype.value=$,n.prototype.at=Xh,n.prototype.chain=Ja,n.prototype.commit=$a,n.prototype.next=ts,n.prototype.plant=ns,n.prototype.reverse=rs,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=is,n.prototype.first=n.prototype.head,Pl&&(n.prototype[Pl]=es),n},_r=xr();ir._=_r,(i=function(){return _r}.call(e,n,e,r))!==nt&&(r.exports=i)}).call(this)}).call(e,n(33),n(128)(t))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports={}},function(t,e,n){function r(t,e){return t[0]-e[0]}function i(){var t=this.stride,e=new Array(t.length),n;for(n=0;n<e.length;++n)e[n]=[Math.abs(t[n]),n];e.sort(r);var i=new Array(e.length);for(n=0;n<i.length;++n)i[n]=e[n][1];return i}function o(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var r="generic"===t;if(-1===e){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}",a=new Function(o);return a()}if(0===e){var o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",a=new Function("TrivialArray",o);return a(h[t][0])}var o=["'use strict'"],s=u(e),c=s.map(function(t){return"i"+t}),l="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),f=s.map(function(t){return"b"+t}).join(","),d=s.map(function(t){return"c"+t}).join(",");o.push("function "+n+"(a,"+f+","+d+",d){this.data=a","this.shape=["+f+"]","this.stride=["+d+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+n+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+c.join(",")+",v){"),r?o.push("return this.data.set("+l+",v)}"):o.push("return this.data["+l+"]=v}"),o.push("proto.get=function "+n+"_get("+c.join(",")+"){"),r?o.push("return this.data.get("+l+")}"):o.push("return this.data["+l+"]}"),o.push("proto.index=function "+n+"_index(",c.join(),"){return "+l+"}"),o.push("proto.hi=function "+n+"_hi("+c.join(",")+"){return new "+n+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var p=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),m=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+n+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+m.join(","));for(var v=0;v<e;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){d=i"+v+"|0;b+=c"+v+"*d;a"+v+"-=d}");o.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+c.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var v=0;v<e;++v)o.push("if(typeof i"+v+"==='number'){d=i"+v+"|0;if(d<0){c+=b"+v+"*(a"+v+"-1);a"+v+"=ceil(-a"+v+"/d)}else{a"+v+"=ceil(a"+v+"/d)}b"+v+"*=d}");o.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");for(var g=new Array(e),y=new Array(e),v=0;v<e;++v)g[v]="a[i"+v+"]",y[v]="b[i"+v+"]";o.push("proto.transpose=function "+n+"_transpose("+c+"){"+c.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+g.join(",")+","+y.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var v=0;v<e;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){c=(c+this.stride["+v+"]*i"+v+")|0}else{a.push(this.shape["+v+"]);b.push(this.stride["+v+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",o.join("\n"));return a(h[t],i)}function a(t){if(c(t))return"buffer";if(l)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function s(t,e,n,r){if(void 0===t){var i=h.array[0];return i([])}"number"===typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===n){n=new Array(s);for(var u=s-1,c=1;u>=0;--u)n[u]=c,c*=e[u]}if(void 0===r){r=0;for(var u=0;u<s;++u)n[u]<0&&(r-=(e[u]-1)*n[u])}for(var l=a(t),f=h[l];f.length<=s+1;)f.push(o(l,f.length-1));var i=f[s+1];return i(t,e,n,r)}var u=n(636),c=n(637),l="undefined"!==typeof Float64Array,h={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=s},function(t,e,n){"use strict";function r(t){return"number"===typeof t}function i(t){return"string"===typeof t}function o(t){return"function"===typeof t}function a(t,e,n){n=n||[];for(var i=-1,o=t.length;++i<o;){var s=t[i];r(s)?n[n.length]=s:e?a(s,e,n):n.push(s)}return n}function s(t){for(var e=1,n=0;n<t.length;n++)e*=t[n];return e}function u(t){return o(t)?t:h[t]||Array}function c(t){for(var e=[];"object"===typeof t;)e.push(t.length),t=t[0];return e}function l(t){var e,n;return"object"===typeof t?(e=t[0],"object"===typeof e?(n=e[0],"object"===typeof n?c(t):[t.length,e.length]):[t.length]):[]}var h=n(327),f=n(94);t.exports={isNumber:r,isString:i,isFunction:o,flatten:a,shapeSize:s,getType:u,getShape:l,defaults:f.defaults}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){p&&m&&(p=!1,m.length?d=m.concat(d):v=-1,d.length&&s())}function s(){if(!p){var t=i(a);p=!0;for(var e=d.length;e;){for(m=d,d=[];++v<e;)m&&m[v].run();v=-1,e=d.length}m=null,p=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l=t.exports={},h,f;!function(){try{h="function"===typeof setTimeout?setTimeout:n}catch(t){h=n}try{f="function"===typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var d=[],p=!1,m,v=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||p||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=c,l.addListener=c,l.once=c,l.off=c,l.removeListener=c,l.removeAllListeners=c,l.emit=c,l.prependListener=c,l.prependOnceListener=c,l.listeners=function(t){return[]},l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(51),i=n(39),o=n(98),a=r({args:["array","array","array","array"],body:function t(e,n,r,i){e=4899*n+9617*r+1868*i+8192>>14}});t.exports=function t(e){e instanceof i||(e=new i(e));var n=e.shape,r=n[0],s=n[1];if(1===(n[2]||1))return e;var u=[r,s],c=new i(new Uint8Array(o.shapeSize(u)),u),l=e.selection.pick(null,null,0),h=e.selection.pick(null,null,1),f=e.selection.pick(null,null,2);return a(c.selection,l,h,f),c}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"f",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"b",function(){return c});var r=function t(e){return"/"===e.charAt(0)?e:"/"+e},i=function t(e){return"/"===e.charAt(0)?e.substr(1):e},o=function t(e,n){return new RegExp("^"+n+"(\\/|\\?|#|$)","i").test(e)},a=function t(e,n){return o(e,n)?e.substr(n.length):e},s=function t(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},u=function t(e){var n=e||"/",r="",i="",o=n.indexOf("#");-1!==o&&(i=n.substr(o),n=n.substr(0,o));var a=n.indexOf("?");return-1!==a&&(r=n.substr(a),n=n.substr(0,a)),{pathname:n,search:"?"===r?"":r,hash:"#"===i?"":i}},c=function t(e){var n=e.pathname,r=e.search,i=e.hash,o=n||"/";return r&&"?"!==r&&(o+="?"===r.charAt(0)?r:"?"+r),i&&"#"!==i&&(o+="#"===i.charAt(0)?i:"#"+i),o}},function(t,e){function n(t){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function r(e){return"function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function t(e){return n(e)}:t.exports=r=function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(e)}t.exports=r},function(t,e,n){function r(t,e){return i(t)?t:o(t,e)?[t]:a(s(t))}var i=n(17),o=n(222),a=n(346),s=n(47);t.exports=r},function(t,e){function n(t,e){var n=typeof t;return!!(e=null==e?r:e)&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){function r(t,e,n,a,s){var u=-1,c=t.length;for(n||(n=o),s||(s=[]);++u<c;){var l=t[u];e>0&&n(l)?e>1?r(l,e-1,n,a,s):i(s,l):a||(s[s.length]=l)}return s}var i=n(229),o=n(743);t.exports=r},function(t,e,n){function r(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||l.test(t)?h(t.slice(2),n?2:8):u.test(t)?a:+t}var i=n(29),o=n(68),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt;t.exports=r},function(t,e,n){(function(t){var r=n(28),i=n(748),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;t.exports=l}).call(e,n(128)(t))},function(t,e){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}var r=Object.prototype;t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}t.exports=n},function(t,e,n){var r=n(29),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function r(t,e,n,r){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=r?r(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?o(n,c,l):i(n,c,l)}return n}var i=n(166),o=n(162);t.exports=r},function(t,e,n){function r(t){if(!a(t)||i(t)!=s)return!1;var e=o(t);if(null===e)return!0;var n=h.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==f}var i=n(40),o=n(167),a=n(26),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,f=l.call(Object);t.exports=r},function(t,e,n){function r(t){return"string"==typeof t||!o(t)&&a(t)&&i(t)==s}var i=n(40),o=n(17),a=n(26),s="[object String]";t.exports=r},function(t,e,n){function r(t){return null==t?[]:i(t,o(t))}var i=n(873),o=n(31);t.exports=r},function(t,e,n){"use strict";var r=n(894);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";for(var r=function t(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},i={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},o=0;o<24;o+=1)i[112+o]="F"+(o+1);for(var a=0;a<26;a+=1){var s=a+65;i[s]=[String.fromCharCode(s+32),String.fromCharCode(s)]}var u={codes:i,getCode:function t(e){return r(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function t(e){var n=r(e),o=i[n?e.keyCode||e.which:e];return Array.isArray(o)&&(o=n?o[e.shiftKey?1:0]:o[0]),o},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};u.Spacebar=u[" "],u.Digit0=u[0],u.Digit1=u[1],u.Digit2=u[2],u.Digit3=u[3],u.Digit4=u[4],u.Digit5=u[5],u.Digit6=u[6],u.Digit7=u[7],u.Digit8=u[8],u.Digit9=u[9],u.Tilde=u["~"],u.GraveAccent=u["`"],u.ExclamationPoint=u["!"],u.AtSign=u["@"],u.PoundSign=u["#"],u.PercentSign=u["%"],u.Caret=u["^"],u.Ampersand=u["&"],u.PlusSign=u["+"],u.MinusSign=u["-"],u.EqualsSign=u["="],u.DivisionSign=u["/"],u.MultiplicationSign=u["*"],u.Comma=u[","],u.Decimal=u["."],u.Colon=u[":"],u.Semicolon=u[";"],u.Pipe=u["|"],u.BackSlash=u["\\"],u.QuestionMark=u["?"],u.SingleQuote=u["'"],u.DoubleQuote=u['"'],u.LeftCurlyBrace=u["{"],u.RightCurlyBrace=u["}"],u.LeftParenthesis=u["("],u.RightParenthesis=u[")"],u.LeftAngleBracket=u["<"],u.RightAngleBracket=u[">"],u.LeftSquareBracket=u["["],u.RightSquareBracket=u["]"],t.exports=u},function(t,e,n){"use strict";var r=n(895);n.d(e,"a",function(){return r.a})},function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===v(t)}function r(t){return"boolean"===typeof t}function i(t){return null===t}function o(t){return null==t}function a(t){return"number"===typeof t}function s(t){return"string"===typeof t}function u(t){return"symbol"===typeof t}function c(t){return void 0===t}function l(t){return"[object RegExp]"===v(t)}function h(t){return"object"===typeof t&&null!==t}function f(t){return"[object Date]"===v(t)}function d(t){return"[object Error]"===v(t)||t instanceof Error}function p(t){return"function"===typeof t}function m(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t}function v(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=a,e.isString=s,e.isSymbol=u,e.isUndefined=c,e.isRegExp=l,e.isObject=h,e.isDate=f,e.isError=d,e.isFunction=p,e.isPrimitive=m,e.isBuffer=t.isBuffer}).call(e,n(45).Buffer)},function(t,e,n){"use strict";var r=null;r="undefined"!==typeof Promise?Promise:n(1160),t.exports={Promise:r}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";if(arguments.length&&Object(M.f)(arguments[0],M.m.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),M.m.pattern(t))return H(C,{pattern:t});if(M.m.channel(t))return H(C,{channel:t});throw new Error("take(patternOrChannel): argument "+String(t)+" is not valid channel or a valid pattern")}function o(t,e){return arguments.length>1?(Object(M.f)(t,M.m.notUndef,"put(channel, action): argument channel is undefined"),Object(M.f)(t,M.m.channel,"put(channel, action): argument "+t+" is not a valid channel"),Object(M.f)(e,M.m.notUndef,"put(channel, action): argument action is undefined")):(Object(M.f)(t,M.m.notUndef,"put(action): argument action is undefined"),e=t,t=null),H(O,{channel:t,action:e})}function a(t){return H(P,t)}function s(t,e,n){Object(M.f)(e,M.m.notUndef,t+": argument fn is undefined");var r=null;if(M.m.array(e)){var i=e,o=T(i,2);r=o[0],e=o[1]}else if(e.fn){var a=e;r=a.context,e=a.fn}return Object(M.f)(e,M.m.func,t+": argument "+e+" is not a function"),{context:r,fn:e,args:n}}function u(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return H(L,s("call",t,n))}function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return H(L,s("apply",{context:t,fn:e},n))}function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return H(R,s("cps",t,n))}function h(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return H(k,s("fork",t,n))}function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=h.apply(void 0,[t].concat(n));return i[k].detached=!0,i}function d(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length>1)return e.map(function(t){return d(t)});var r=e[0];return Object(M.f)(r,M.m.notUndef,"join(task): argument task is undefined"),Object(M.f)(r,M.m.task,"join(task): argument "+r+" is not a valid Task object "+z),H(N,r)}function p(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length>1)return e.map(function(t){return p(t)});var r=e[0];return 1===e.length&&(Object(M.f)(r,M.m.notUndef,"cancel(task): argument task is undefined"),Object(M.f)(r,M.m.task,"cancel(task): argument "+r+" is not a valid Task object "+z)),H(I,r||M.d)}function m(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return 0===arguments.length?t=M.k:(Object(M.f)(t,M.m.notUndef,"select(selector,[...]): argument selector is undefined"),Object(M.f)(t,M.m.func,"select(selector,[...]): argument "+t+" is not a function")),H(j,{selector:t,args:n})}function v(t,e){return Object(M.f)(t,M.m.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&(Object(M.f)(e,M.m.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),Object(M.f)(e,M.m.buffer,"actionChannel(pattern, buffer): argument "+e+" is not a valid buffer")),H(D,{pattern:t,buffer:e})}function g(){return H(B,{})}function y(t){return Object(M.f)(t,M.m.channel,"flush(channel): argument "+t+" is not valid channel"),H(F,t)}function b(t){return Object(M.f)(t,M.m.string,"getContext(prop): argument "+t+" is not a string"),H(U,t)}function x(t){return Object(M.f)(t,M.m.object,Object(M.g)(null,t)),H(G,t)}function _(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return h.apply(void 0,[S.a,t,e].concat(r))}function w(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return h.apply(void 0,[S.b,t,e].concat(r))}function E(t,e,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return h.apply(void 0,[S.c,t,e,n].concat(i))}e.g=i,e.f=o,e.c=u,e.e=h,e.d=p,e.a=v,e.h=_,n.d(e,"b",function(){return X});var M=n(44),S=n(295),T=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=Object(M.u)("IO"),C="TAKE",O="PUT",P="RACE",L="CALL",R="CPS",k="FORK",N="JOIN",I="CANCEL",j="SELECT",D="ACTION_CHANNEL",B="CANCELLED",F="FLUSH",U="GET_CONTEXT",G="SET_CONTEXT",z="\n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)",V=function t(e,n){return e+" has been deprecated in favor of "+n+", please update your code"},H=function t(e,n){var i;return i={},r(i,A,!0),r(i,e,n),i};i.maybe=function(){var t=i.apply(void 0,arguments);return t[C].maybe=!0,t};var W=Object(M.j)(i.maybe,V("takem","take.maybe"));o.resolve=function(){var t=o.apply(void 0,arguments);return t[O].resolve=!0,t},o.sync=Object(M.j)(o.resolve,V("put.sync","put.resolve"));var q=function t(e){return function(t){return t&&t[A]&&t[e]}},X={take:q(C),put:q(O),race:q(P),call:q(L),cps:q(R),fork:q(k),join:q(N),cancel:q(I),select:q(j),actionChannel:q(D),cancelled:q(B),flush:q(F),getContext:q(U),setContext:q(G)}},function(t,e,n){"use strict";function r(){function t(t){return n.push(t),function(){return Object(s.t)(n,t)}}function e(t){for(var e=n.slice(),r=0,i=e.length;r<i;r++)e[r](t)}var n=[];return{subscribe:t,emit:e}}function i(){function t(){if(a&&c.length)throw Object(s.l)("Cannot have a closed channel with pending takers");if(c.length&&!o.isEmpty())throw Object(s.l)("Cannot have pending takers with non empty buffer")}function e(e){if(t(),Object(s.f)(e,s.m.notUndef,m),!a){if(!c.length)return o.put(e);for(var n=0;n<c.length;n++){var r=c[n];if(!r[s.b]||r[s.b](e))return c.splice(n,1),r(e)}}}function n(e){t(),Object(s.f)(e,s.m.func,"channel.take's callback must be a function"),a&&o.isEmpty()?e(f):o.isEmpty()?(c.push(e),e.cancel=function(){return Object(s.t)(c,e)}):e(o.take())}function r(e){if(t(),Object(s.f)(e,s.m.func,"channel.flush' callback must be a function"),a&&o.isEmpty())return void e(f);e(o.flush())}function i(){if(t(),!a&&(a=!0,c.length)){var e=c;c=[];for(var n=0,r=e.length;n<r;n++)e[n](f)}}var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a.fixed(),a=!1,c=[];return Object(s.f)(o,s.m.buffer,p),{take:n,put:e,flush:r,close:i,get __takers__(){return c},get __closed__(){return a}}}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a.none(),n=arguments[2];arguments.length>2&&Object(s.f)(n,s.m.func,"Invalid match function passed to eventChannel");var r=i(e),o=t(function(t){if(d(t))return void r.close();n&&!n(t)||r.put(t)});if(!s.m.func(o))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:r.take,flush:r.flush,close:function t(){r.__closed__||(r.close(),o())}}}function a(t){var e=o(function(e){return t(function(t){if(t[s.c])return void e(t);Object(c.a)(function(){return e(t)})})});return l({},e,{take:function t(n,r){arguments.length>1&&(Object(s.f)(r,s.m.func,"channel.take's matcher argument must be a function"),n[s.b]=r),e.take(n)}})}n.d(e,"a",function(){return f}),n.d(e,"d",function(){return d}),e.b=r,e.c=o,e.e=a;var s=n(44),u=n(123),c=n(294),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h="@@redux-saga/CHANNEL_END",f={type:h},d=function t(e){return e&&e.type===h},p="invalid buffer passed to channel factory function",m="Saga was provided with an undefined action"},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments[1],n=new Array(t),r=0,i=0,s=0,l=function e(o){n[i]=o,i=(i+1)%t,r++},h=function e(){if(0!=r){var i=n[s];return n[s]=null,r--,s=(s+1)%t,i}},f=function t(){for(var e=[];r;)e.push(h());return e};return{isEmpty:function t(){return 0==r},put:function h(d){if(r<t)l(d);else{var p=void 0;switch(e){case a:throw new Error(o);case u:n[i]=d,i=(i+1)%t,s=i;break;case c:p=2*t,n=f(),r=n.length,i=n.length,s=0,n.length=p,t=p,l(d)}}},take:h,flush:f}}n.d(e,"a",function(){return h});var i=n(44),o="Channel's Buffer overflow!",a=1,s=2,u=3,c=4,l={isEmpty:i.o,put:i.r,take:i.r},h={none:function t(){return l},fixed:function t(e){return r(e,a)},dropping:function t(e){return r(e,2)},sliding:function t(e){return r(e,u)},expanding:function t(e){return r(e,c)}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(125),o=n.n(i),a=n(573),s=n.n(a),u=n(574),c=n.n(u),l=n(16),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=524288,d=function(){function t(){r(this,t)}return h(t,[{key:"_post",value:function t(e,n,r){return new Promise(function(t,i){fetch(e,Object.assign({method:"POST",credentials:"include",body:n},r)).then(function(e){if(!0===e.ok)return e.json().then(function(e){return t(e)});t({error:!0})}).catch(function(t){return i(t)})})}},{key:"_put",value:function t(e,n,r){return new Promise(function(t,i){fetch(e,Object.assign({method:"PUT",credentials:"include",body:n},r)).then(function(e){return e.json().then(function(e){t(e)})}).catch(function(t){return i(t)})})}},{key:"_get",value:function t(e,n){return new Promise(function(t,r){fetch(e,{method:"GET",credentials:"include"},n).then(function(e){return e.json().then(function(e){t(e)})}).catch(function(t){return r(t)})})}},{key:"_getBinary",value:function t(e,n){return new Promise(function(t,r){fetch(e,n).then(function(e){e.blob().then(function(t){return URL.createObjectURL(t)}).then(function(e){return t(e)})}).catch(function(t){return r(t)})})}},{key:"_delete",value:function t(e,n){return new Promise(function(t,r){fetch(e,Object.assign({method:"DELETE",credentials:"include"},n)).then(function(e){return e.json().then(function(e){t(e)})}).catch(function(t){return r(t)})})}},{key:"getThreeAsset",value:function t(e,n){return this._get(e,n).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"postThreeAsset",value:function t(e,n,r){return this._post(e,n,r).then(function(t){return t}).catch(function(t){return console.error(t)})}}],[{key:"fetchGZippedAsset",value:function e(n,r,i){return new Promise(function(e,o){fetch(r).then(function(r){return r.blob().then(function(r){var a=new FileReader;a.onloadend=function(){var r=a.result;t.saveToCache(n,r,i).then(function(n){return t.gunzipAsset(n.model.raw).then(function(t){return e(t)}).catch(function(t){return o(t)})}).catch(function(t){return o(t)})},a.readAsArrayBuffer(r)})}).catch(function(t){return o(t)})})}},{key:"fetchGZippedAssetSaga",value:function e(n,r,i,o){return new Promise(function(e,a){fetch(r).then(function(r){return r.blob().then(function(r){var s=new FileReader;s.onloadend=function(){var r=s.result;t.saveToCache(n,r,i).then(function(n){return e(t.gunzipAssetSaga(n.model.raw,o))}).catch(function(t){return a(t)})},s.readAsArrayBuffer(r)})}).catch(function(t){return a(t)})})}},{key:"fetchJSONAssetSaga",value:function e(n,r,i){return new Promise(function(e,o){fetch(r).then(function(r){return r.json().then(function(r){t.saveToCache(n,r,i).then(function(t){return e(t.model.raw)}).catch(function(t){return o(t)})}).catch(function(t){return o(t)})}).catch(function(t){return o(t)})})}},{key:"gunzipAsset",value:function t(e){return new Promise(function(t,n){var r=new s.a;r.postMessage(e,[e]),r.onmessage=function(e){var n=e.data;t(n)}})}},{key:"gunzipAssetSaga",value:function t(e,n){return new Promise(function(t,r){var i=new s.a;i.postMessage(e,[e]),t(n(i,"mesh"))})}},{key:"serialize",value:function t(e){return JSON.stringify(e)}},{key:"objToFormData",value:function t(e){var n=new FormData;return function t(e,r){for(var i in e){var o=void 0!==r?r+"__"+i:i;null!==e[i]&&e[i].constructor===Object?t(e[i],o):n.append(o,e[i])}}(e),n}},{key:"checkCache",value:function t(e,n){return new Promise(function(t,r){var i=new c.a;i.postMessage({modelData:{id:e,fileId:n},mode:l.D}),i.onmessage=function(e){var n=e.data;(!1===n.status||!0===n.status&&null===n.data)&&t(!1),t(n)}})}},{key:"saveToCache",value:function t(e,n,r){return new Promise(function(t,i){var o=new c.a,a={modelData:{id:e,raw:n,fileId:r},mode:l.E};o.postMessage(a),o.onmessage=function(e){var n=e.data;(!1===n.status||!0===n.status&&null===n.data)&&t(!1),t(n)}})}}]),t}();e.a=d},function(t,e,n){"use strict";var r=n(56).assign,i=n(565),o=n(568),a=n(301),s={};r(s,i,o,a),t.exports=s},function(t,e,n){"use strict";var r=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var n;try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;n=new i,n.append(t),n=n.getBlob()}catch(e){n=new Blob([t])}return new Worker(r.createObjectURL(n))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!e)throw Error("Inline worker is not supported");return new Worker(e)}}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){return d.F.has(t.constructor.name)}function o(t){return void 0!==f[t.constructor.name]}function a(t){switch(t.constructor.name){case d.z:return t.getHexString();case d.G:case d.H:return t.toArray();default:return console.warn("unable to serialize value of type "+t.constructor),t}}function s(t){var e=t.split("__");return e.shift(),{type:e[0],value:e[1]}}function u(t){var e=s(t),n=e.type,i=e.value;switch(n){case d.z:return new f.Color(parseInt("0x"+i,16));case d.G:return new(Function.prototype.bind.apply(f.Vector2,[null].concat(r(i.split(",").map(function(t){return parseInt(t,10)})))));case d.H:return new(Function.prototype.bind.apply(f.Vector3,[null].concat(r(i.split(",").map(function(t){return parseInt(t,10)})))))}}function c(t,e,n){return function t(e,r){var i={};for(var o in e)if(void 0!==r){if(r.has(o)){var a=e[o];a.constructor===Object?i[o]=t(e[o],void 0):n(a,o,i)}}else{var s=e[o];s.constructor===Object?i[o]=t(e[o]):n(s,o,i)}return i}(Object.assign({},t),e)}function l(t,e){return c(t,e,function t(e,n,r){o(e)?i(e)&&(r[n]="__"+e.constructor.name+"__"+a(e)):r[n]=e})}function h(t){return c(t,void 0,function t(e,n,r){e.constructor===String&&e.startsWith("__")?r[n]=u(e):r[n]=e})}e.b=l,e.a=h;var f=n(24),d=n(16)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=!0},function(t,e,n){var r=n(309),i=n(203);t.exports=Object.keys||function t(e){return r(e,i)}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(615),o=r(i);e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";function r(t){var e=t.min,n=t.max,r={};return r.h=n.y-e.y,r.w=n.x-e.x,r.l=n.z-e.z,r.volume=r.l*r.w*r.h,r}function i(t,e,n){var i=r(t),o=r(e);return Math.floor(i.h*i.w)%(Math.floor(o.h*o.w)/n)}function o(t,e){return t.constructor===Array?t.map(function(t){return e(t)}):e(t)}function a(t){var e=[];if(null!==t.map&&void 0!==t.map.image){var n=Object(c.d)(t.map.image.currentSrc,1024);e.push({rawData:n.rawData,ext:n.ext,type:l.s.DIFFUSE_MAP})}if(null!==t.normalMap&&void 0!==t.normalMap.image){var r=Object(c.d)(t.normalMap.image.currentSrc,1024);e.push({rawData:r.rawData,ext:r.ext,type:l.s.NORMAL_MAP})}return e}function s(t){return"."+t.split(".").pop()}e.c=o,e.a=a,e.b=s;var u=n(24),c=n(93),l=n(16)},function(t,e,n){"use strict";t.exports={ValueError:function t(){var e=Error.apply(this,arguments);return e.name=this.constructor.name,e},ConfigError:function t(){var e=Error.apply(this,arguments);return e.name=this.constructor.name,e},NotImplementedError:function t(){var e=Error.apply(this,arguments);return e.name=this.constructor.name,e}}},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n(681),i=n(682),o=n(101),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function t(e,n,i,s){var u=void 0;"string"===typeof e?(u=Object(o.d)(e),u.state=n):(u=a({},e),void 0===u.pathname&&(u.pathname=""),u.search?"?"!==u.search.charAt(0)&&(u.search="?"+u.search):u.search="",u.hash?"#"!==u.hash.charAt(0)&&(u.hash="#"+u.hash):u.hash="",void 0!==n&&void 0===u.state&&(u.state=n));try{u.pathname=decodeURI(u.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+u.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return i&&(u.key=i),s?u.pathname?"/"!==u.pathname.charAt(0)&&(u.pathname=Object(r.a)(u.pathname,s.pathname)):u.pathname=s.pathname:u.pathname||(u.pathname="/"),u},u=function t(e,n){return e.pathname===n.pathname&&e.search===n.search&&e.hash===n.hash&&e.key===n.key&&Object(i.a)(e.state,n.state)}},function(t,e,n){var r=n(70),i=r(Object,"create");t.exports=i},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(722),o=n(723),a=n(724),s=n(725),u=n(726);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(142);t.exports=r},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(728);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return o(t,r)+"";if(s(t))return l?l.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}var i=n(69),o=n(52),a=n(17),s=n(68),u=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;t.exports=r},function(t,e,n){var r=n(732),i=n(26),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){function r(t,e){e=i(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[o(e[n++])];return n&&n==r?t:void 0}var i=n(103),o=n(72);t.exports=r},function(t,e){function n(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=n},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(223),o=n(739),a=n(740);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e,n){function r(t,e){return!!(null==t?0:t.length)&&i(t,e,0)>-1}var i=n(151);t.exports=r},function(t,e,n){function r(t,e,n){return e===e?a(t,e,n):i(t,o,n)}var i=n(353),o=n(741),a=n(742);t.exports=r},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)}var i=n(35),o=n(26);t.exports=r},function(t,e){function n(t){return void 0===t}t.exports=n},function(t,e,n){function r(t,e){return(s(t)?i:o)(t,a(e,3))}var i=n(355),o=n(745),a=n(32),s=n(17);t.exports=r},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(746),o=n(31);t.exports=r},function(t,e,n){var r=n(749),i=n(73),o=n(158),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){(function(t){var r=n(345),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u}).call(e,n(128)(t))},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(108),o=n(750),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(t){if(null==t)return!0;if(u(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||h(t)||a(t)))return!t.length;var e=o(t);if(e==f||e==d)return!t.size;if(l(t))return!i(t).length;for(var n in t)if(m.call(t,n))return!1;return!0}var i=n(159),o=n(60),a=n(145),s=n(17),u=n(35),c=n(107),l=n(108),h=n(157),f="[object Map]",d="[object Set]",p=Object.prototype,m=p.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var i=n(350);t.exports=r},function(t,e,n){function r(t,e,n,r,w,E,M,S){var T=e&v;if(!T&&"function"!=typeof t)throw new TypeError(p);var A=r?r.length:0;if(A||(e&=~(b|x),r=w=void 0),M=void 0===M?M:_(d(M),0),S=void 0===S?S:d(S),A-=w?w.length:0,e&x){var C=r,O=w;r=w=void 0}var P=T?void 0:c(t),L=[t,e,n,r,w,C,O,E,M,S];if(P&&l(L,P),t=L[0],e=L[1],n=L[2],r=L[3],w=L[4],S=L[9]=void 0===L[9]?T?0:t.length:_(L[9]-A,0),!S&&e&(g|y)&&(e&=~(g|y)),e&&e!=m)R=e==g||e==y?a(t,e,S):e!=b&&e!=(m|b)||w.length?s.apply(void 0,L):u(t,e,n,r);else var R=o(t,e,n);return f((P?i:h)(R,L),t,e)}var i=n(374),o=n(793),a=n(794),s=n(376),u=n(803),c=n(240),l=n(804),h=n(383),f=n(384),d=n(54),p="Expected a function",m=1,v=2,g=8,y=16,b=32,x=64,_=Math.max;t.exports=r},function(t,e,n){function r(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=i(t.prototype),r=t.apply(n,e);return o(r)?r:n}}var i=n(110),o=n(29);t.exports=r},function(t,e){function n(t,e){for(var n=-1,i=t.length,o=0,a=[];++n<i;){var s=t[n];s!==e&&s!==r||(t[n]=r,a[o++]=n)}return a}var r="__lodash_placeholder__";t.exports=n},function(t,e,n){function r(t,e,n){var r=t[e];s.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||i(t,e,n)}var i=n(162),o=n(142),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(358),i=r(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n){function r(t){return o(t)?a(t):i(t)}var i=n(834),o=n(169),a=n(835);t.exports=r},function(t,e){function n(t){return l.test(t)}var r="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",u="\\ufe0e\\ufe0f",c="\\u200d",l=RegExp("["+c+r+s+u+"]");t.exports=n},function(t,e,n){var r=n(838),i=n(245),o=i(function(t,e){return null==t?{}:r(t,e)});t.exports=o},function(t,e,n){"use strict";var r=n(248);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(6),v=n.n(m),g=n(25),y=n.n(g),b=n(15),x=n.n(b),_=n(4),w=n.n(_),E=n(1),M=n.n(E),S=n(0),T=n.n(S),A=n(2),C=n(402),O=function(t){function e(){return a()(this,e),l()(this,f()(e).apply(this,arguments))}return p()(e,t),u()(e,[{key:"getIconAriaOptions",value:function t(){var e={},n=this.props,r=n["aria-label"],i=n["aria-hidden"];return y()(r)?e["aria-hidden"]="true":e["aria-label"]=r,y()(i)||(e["aria-hidden"]=i),e}},{key:"render",value:function t(){var n=this.props,r=n.bordered,o=n.circular,a=n.className,s=n.color,u=n.corner,c=n.disabled,l=n.fitted,h=n.flipped,f=n.inverted,d=n.link,p=n.loading,m=n.name,v=n.rotated,g=n.size,y=w()(s,m,g,Object(A.y)(r,"bordered"),Object(A.y)(o,"circular"),Object(A.y)(u,"corner"),Object(A.y)(c,"disabled"),Object(A.y)(l,"fitted"),Object(A.y)(f,"inverted"),Object(A.y)(d,"link"),Object(A.y)(p,"loading"),Object(A.C)(h,"flipped"),Object(A.C)(v,"rotated"),"icon",a),b=Object(A.q)(e,this.props),x=Object(A.p)(e,this.props),_=this.getIconAriaOptions();return T.a.createElement(x,i()({},b,_,{className:y}))}}]),e}(S.PureComponent);v()(O,"defaultProps",{as:"i"}),v()(O,"Group",C.a),v()(O,"handledProps",["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"]),O.propTypes={},O.create=Object(A.l)(O,function(t){return{name:t}}),e.a=O},function(t,e,n){function r(t,e,n){var r=u(t)?i:s,c=arguments.length<3;return r(t,a(e,4),n,c,o)}var i=n(415),o=n(74),a=n(32),s=n(897),u=n(17);t.exports=r},function(t,e,n){"use strict";var r=n(929);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(933);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(249);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t){var e=t.active,n=t.children,i=t.className,a=t.collapsing,s=t.content,u=t.disabled,l=t.error,h=t.icon,f=t.negative,v=t.positive,g=t.selectable,y=t.singleLine,b=t.textAlign,x=t.verticalAlign,_=t.warning,w=t.width,E=c()(Object(p.y)(e,"active"),Object(p.y)(a,"collapsing"),Object(p.y)(u,"disabled"),Object(p.y)(l,"error"),Object(p.y)(f,"negative"),Object(p.y)(v,"positive"),Object(p.y)(g,"selectable"),Object(p.y)(y,"single line"),Object(p.y)(_,"warning"),Object(p.B)(b),Object(p.D)(x),Object(p.E)(w,"wide"),i),M=Object(p.q)(r,t),S=Object(p.p)(r,t);return p.c.isNil(n)?d.a.createElement(S,o()({},M,{className:E}),m.a.create(h),s):d.a.createElement(S,o()({},M,{className:E}),n)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2),m=n(27);r.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],r.defaultProps={as:"td"},r.propTypes={},r.create=Object(p.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()(n,"description"),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("header",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){function r(t,e){if(null==t)return{};var n=i(t,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)r=a[o],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var i=n(995);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("date",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1049);Object.defineProperty(e,"captialize",{enumerable:!0,get:function t(){return r(i).default}});var o=n(1050);Object.defineProperty(e,"clamp",{enumerable:!0,get:function t(){return r(o).default}});var a=n(1051);Object.defineProperty(e,"distanceTo",{enumerable:!0,get:function t(){return r(a).default}});var s=n(1052);Object.defineProperty(e,"isDefined",{enumerable:!0,get:function t(){return r(s).default}});var u=n(1053);Object.defineProperty(e,"isNumber",{enumerable:!0,get:function t(){return r(u).default}});var c=n(1054);Object.defineProperty(e,"isObject",{enumerable:!0,get:function t(){return r(c).default}});var l=n(1055);Object.defineProperty(e,"length",{enumerable:!0,get:function t(){return r(l).default}})},function(t,e,n){function r(){i.call(this)}t.exports=r;var i=n(184).EventEmitter;n(92)(r,i),r.Readable=n(1136),r.Writable=n(1142),r.Duplex=n(1143),r.Transform=n(1144),r.PassThrough=n(1145),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,t.end())}function a(){l||(l=!0,"function"===typeof t.destroy&&t.destroy())}function s(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){c.removeListener("data",n),t.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),t.removeListener("error",s),c.removeListener("end",u),c.removeListener("close",u),t.removeListener("close",u)}var c=this;c.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(c.on("end",o),c.on("close",a));var l=!1;return c.on("error",s),t.on("error",s),c.on("end",u),c.on("close",u),t.on("close",u),t.emit("pipe",c),t}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"===typeof t}function i(t){return"number"===typeof t}function o(t){return"object"===typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,s,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,u=0;u<i;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"===typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";(function(e){t.exports={isNode:"undefined"!==typeof e,newBufferFrom:function(t,n){return new e(t,n)},allocBuffer:function(t){return e.alloc?e.alloc(t):new e(t)},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"===typeof t.on&&"function"===typeof t.pause&&"function"===typeof t.resume}}}).call(e,n(45).Buffer)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"getViews",function(){return o}),n.d(e,"getView",function(){return a}),n.d(e,"getThreeFile",function(){return s}),n.d(e,"updateView",function(){return u}),n.d(e,"addView",function(){return c}),n.d(e,"deleteView",function(){return l});var r=n(43),i=n(37),o=function t(){return{type:r.m}},a=function t(e){return{type:r.l,id:e}},s=function t(e){return{type:r.j,id:e}},u=function t(e){return{type:r.G,viewData:e}},c=function t(e){return{type:r.b,viewData:e}},l=function t(e){return{type:r.i,id:e}}},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function i(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}var o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=i()?Object.assign:function(t,e){for(var n,i=r(t),u,c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)a.call(n,l)&&(i[l]=n[l]);if(o){u=o(n);for(var h=0;h<u.length;h++)s.call(n,u[h])&&(i[u[h]]=n[u[h]])}}return i}},function(t,e,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}r(),t.exports=n(534)},function(t,e,n){"use strict";var r=n(557),i=n(558),o=n(122);n.d(e,"a",function(){return o.a}),n.d(e,"c",function(){return o.c});var a=n(123),s=n(295),u=n(44),c=n(192),l=n(559);e.b=r.a},function(t,e,n){"use strict";function r(t,e){for(var n in e){var r=e[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n,r)}return t}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){return("*"===t?b.wildcard:l.m.array(t)?b.array:l.m.stringableFunc(t)?b.default:l.m.func(t)?b.predicate:b.default)(t)}function s(t,e,n){function r(t){o(),n(t,!0)}function i(t){a.push(t),t.cont=function(i,o){u||(Object(l.t)(a,t),t.cont=l.r,o?r(i):(t===e&&(s=i),a.length||(u=!0,n(s))))}}function o(){u||(u=!0,a.forEach(function(t){t.cont=l.r,t.cancel()}),a=[])}var a=[],s=void 0,u=!1;return i(e),{addTask:i,cancelAll:o,abort:r,getTasks:function t(){return a},taskNames:function t(){return a.map(function(t){return t.name})}}}function u(t){var e=t.context,n=t.fn,r=t.args;if(l.m.iterator(n))return n;var i=void 0,o=void 0;try{i=n.apply(e,r)}catch(t){o=t}return l.m.iterator(i)?i:o?Object(l.q)(function(){throw o}):Object(l.q)(function(){var t=void 0,e={done:!1,value:i},n=function t(e){return{done:!0,value:e}};return function(r){return t?n(r):(t=!0,e)}}())}function c(t){function e(){et.isRunning&&!et.isCancelled&&(et.isCancelled=!0,m(y))}function n(){t._isRunning&&!t._isCancelled&&(t._isCancelled=!0,nt.cancelAll(),b(y))}function m(e,n){if(!et.isRunning)throw new Error("Trying to resume an already finished generator");try{var r=void 0;n?r=t.throw(e):e===y?(et.isCancelled=!0,m.cancel(),r=l.m.func(t.return)?t.return(y):{done:!0,value:y}):r=e===g?l.m.func(t.return)?t.return():{done:!0}:t.next(e),r.done?(et.isMainRunning=!1,et.cont&&et.cont(r.value)):_(r.value,W,"",m)}catch(t){et.isCancelled&&Q("error","uncaught at "+q,t.message),et.isMainRunning=!1,et.cont(t,!0)}}function b(e,n){t._isRunning=!1,J.close(),n?(e instanceof Error&&(e.sagaStack="at "+q+" \n "+(e.sagaStack||e.stack)),tt.cont||(Q("error","uncaught",e.sagaStack||e.stack),e instanceof Error&&Z&&Z(e)),t._error=e,t._isAborted=!0,t._deferredEnd&&t._deferredEnd.reject(e)):(e===y&&l.n&&Q("info",q+" has been cancelled",""),t._result=e,t._deferredEnd&&t._deferredEnd.resolve(e)),tt.cont&&tt.cont(e,n),tt.joiners.forEach(function(t){return t.cb(e,n)}),tt.joiners=null}function _(t,e){function n(t,e){a||(a=!0,i.cancel=l.r,Y&&(e?Y.effectRejected(o,t):Y.effectResolved(o,t)),i(t,e))}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments[3],o=Object(l.v)();Y&&Y.effectTriggered({effectId:o,parentEffectId:e,label:r,effect:t});var a=void 0;n.cancel=l.r,i.cancel=function(){if(!a){a=!0;try{n.cancel()}catch(t){Q("error","uncaught at "+q,t.message)}n.cancel=l.r,Y&&Y.effectCancelled(o)}};var s=void 0;return l.m.promise(t)?w(t,n):l.m.helper(t)?C(x(t),o,n):l.m.iterator(t)?E(t,o,q,n):l.m.array(t)?L(t,o,n):l.m.notUndef(s=f.b.take(t))?M(s,n):l.m.notUndef(s=f.b.put(t))?S(s,n):l.m.notUndef(s=f.b.race(t))?R(s,o,n):l.m.notUndef(s=f.b.call(t))?T(s,o,n):l.m.notUndef(s=f.b.cps(t))?A(s,n):l.m.notUndef(s=f.b.fork(t))?C(s,o,n):l.m.notUndef(s=f.b.join(t))?O(s,n):l.m.notUndef(s=f.b.cancel(t))?P(s,n):l.m.notUndef(s=f.b.select(t))?k(s,n):l.m.notUndef(s=f.b.actionChannel(t))?N(s,n):l.m.notUndef(s=f.b.flush(t))?j(s,n):l.m.notUndef(s=f.b.cancelled(t))?I(s,n):l.m.notUndef(s=f.b.getContext(t))?D(s,n):l.m.notUndef(s=f.b.setContext(t))?B(s,n):n(t)}function w(t,e){var n=t[l.a];"function"===typeof n&&(e.cancel=n),t.then(e,function(t){return e(t,!0)})}function E(t,e,n,r){c(t,U,G,z,$,H,e,n,r)}function M(t,e){var n=t.channel,r=t.pattern,i=t.maybe;n=n||J;var o=function t(n){return n instanceof Error?e(n,!0):e(Object(d.d)(n)&&!i?g:n)};try{n.take(o,a(r))}catch(t){return e(t,!0)}e.cancel=o.cancel}function S(t,e){var n=t.channel,r=t.action,i=t.resolve;Object(h.a)(function(){var t=void 0;try{t=(n?n.put:G)(r)}catch(t){if(n||i)return e(t,!0);Q("error","uncaught at "+q,t.stack||t.message||t)}if(!i||!l.m.promise(t))return e(t);w(t,e)})}function T(t,e,n){var r=t.context,i=t.fn,o=t.args,a=void 0;try{a=i.apply(r,o)}catch(t){return n(t,!0)}return l.m.promise(a)?w(a,n):l.m.iterator(a)?E(a,e,i.name,n):n(a)}function A(t,e){var n=t.context,r=t.fn,i=t.args;try{var o=function t(n,r){return l.m.undef(n)?e(r):e(n,!0)};r.apply(n,i.concat(o)),o.cancel&&(e.cancel=function(){return o.cancel()})}catch(t){return e(t,!0)}}function C(t,e,n){var r=t.context,i=t.fn,o=t.args,a=t.detached,s=u({context:r,fn:i,args:o});try{Object(h.c)();var f=c(s,U,G,z,$,H,e,i.name,a?null:l.r);a?n(f):s._isRunning?(nt.addTask(f),n(f)):s._error?nt.abort(s._error):n(f)}finally{Object(h.b)()}}function O(t,e){if(t.isRunning()){var n={task:tt,cb:e};e.cancel=function(){return Object(l.t)(t.joiners,n)},t.joiners.push(n)}else t.isAborted()?e(t.error(),!0):e(t.result())}function P(t,e){t===l.d&&(t=tt),t.isRunning()&&t.cancel(),e()}function L(t,e,n){function r(){i===a.length&&(o=!0,n(a))}if(!t.length)return n([]);var i=0,o=void 0,a=Array(t.length),s=t.map(function(t,e){var s=function t(s,u){o||(u||Object(d.d)(s)||s===g||s===y?(n.cancel(),n(s,u)):(a[e]=s,i++,r()))};return s.cancel=l.r,s});n.cancel=function(){o||(o=!0,s.forEach(function(t){return t.cancel()}))},t.forEach(function(t,n){return _(t,e,n,s[n])})}function R(t,e,n){var r=void 0,i=Object.keys(t),a={};i.forEach(function(t){var e=function e(i,a){r||(a?(n.cancel(),n(i,!0)):Object(d.d)(i)||i===g||i===y||(n.cancel(),r=!0,n(o({},t,i))))};e.cancel=l.r,a[t]=e}),n.cancel=function(){r||(r=!0,i.forEach(function(t){return a[t].cancel()}))},i.forEach(function(n){r||_(t[n],e,n,a[n])})}function k(t,e){var n=t.selector,r=t.args;try{var o=n.apply(void 0,[z()].concat(i(r)));e(o)}catch(t){e(t,!0)}}function N(t,e){var n=t.pattern,r=t.buffer,i=a(n);i.pattern=n,e(Object(d.c)(U,r||p.a.fixed(),i))}function I(t,e){e(!!et.isCancelled)}function j(t,e){t.flush(e)}function D(t,e){e($[t])}function B(t,e){l.s.assign($,t),e()}function F(t,e,i,a){var s,u,c;return i._deferredEnd=null,u={},o(u,l.e,!0),o(u,"id",t),o(u,"name",e),s="done",c={},c[s]=c[s]||{},c[s].get=function(){if(i._deferredEnd)return i._deferredEnd.promise;var t=Object(l.h)();return i._deferredEnd=t,i._isRunning||(i._error?t.reject(i._error):t.resolve(i._result)),t.promise},o(u,"cont",a),o(u,"joiners",[]),o(u,"cancel",n),o(u,"isRunning",function t(){return i._isRunning}),o(u,"isCancelled",function t(){return i._isCancelled}),o(u,"isAborted",function t(){return i._isAborted}),o(u,"result",function t(){return i._result}),o(u,"error",function t(){return i._error}),o(u,"setContext",function t(e){Object(l.f)(e,l.m.object,Object(l.g)("task",e)),l.s.assign($,e)}),r(u,c),u}var U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return l.r},G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.r,z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.r,V=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},H=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},W=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,q=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"anonymous",X=arguments[8];Object(l.f)(t,l.m.iterator,v);var Y=H.sagaMonitor,K=H.logger,Z=H.onError,Q=K||l.p,J=Object(d.e)(U),$=Object.create(V);m.cancel=l.r;var tt=F(W,q,t,X),et={name:q,cancel:e,isRunning:!0},nt=s(q,et,b);return X&&(X.cancel=n),t._isRunning=!0,m(),tt}e.a=c;var l=n(44),h=n(294),f=n(121),d=n(122),p=n(123),m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v="proc first argument (Saga function result) must be an iterator",g={toString:function t(){return"@@redux-saga/CHANNEL_END"}},y={toString:function t(){return"@@redux-saga/TASK_CANCEL"}},b={wildcard:function t(){return l.o},default:function t(e){return function(t){return t.type===("symbol"===("undefined"===typeof e?"undefined":m(e))?e:String(e))}},array:function t(e){return function(t){return e.some(function(e){return a(e)(t)})}},predicate:function t(e){return function(t){return e(t)}}},x=function t(e){return{fn:e}}},function(t,e,n){"use strict";var r=n(121);n.d(e,"c",function(){return r.g}),n.d(e,"b",function(){return r.f}),n.d(e,"a",function(){return r.c}),n.d(e,"d",function(){return r.h})},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){var r=n(83);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(306),o=r(i);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"===typeof e?"undefined":(0,o.default)(e))&&"function"!==typeof e?t:e}},function(t,e,n){"use strict";var r=n(585)(!0);n(307)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i,n;return e>=t.length?{value:void 0,done:!0}:(n=r(t,e),this._i+=n.length,{value:n,done:!1})})},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(82),i=n(587),o=n(203),a=n(201)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t=n(305)("iframe"),e=o.length,r="<",i=">",a;for(t.style.display="none",n(591).appendChild(t),t.src="javascript:",a=t.contentWindow.document,a.open(),a.write("<script>document.F=Object<\/script>"),a.close(),c=a.F;e--;)delete c[u][o[e]];return c()};t.exports=Object.create||function t(e,n){var o;return null!==e?(s[u]=r(e),o=new s,s[u]=null,o[a]=e):o=c(),void 0===n?o:i(o,n)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(202)("keys"),i=n(132);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(38),i=n(57),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(130)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(65).f,i=n(67),o=n(50)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){n(593);for(var r=n(57),i=n(81),o=n(96),a=n(50)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],h=l&&l.prototype;h&&!h[a]&&i(h,a,c),o[c]=o.Array}},function(t,e,n){e.f=n(50)},function(t,e,n){var r=n(57),i=n(38),o=n(130),a=n(206),s=n(65).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(606),o=r(i),a=n(610),s=r(a),u=n(306),c=r(u);e.default=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof e?"undefined":(0,c.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(134),o=r(i),a=n(78),s=r(a),u=n(79),c=r(u),l=n(195),h=r(l),f=n(209),d=r(f),p=n(0),m=r(p),v=n(1),g=r(v),y=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,c.default)(e,[{key:"render",value:function t(){var e=this.props,n=e.attributes,r=e.children,i=e.className,a=e.commonClass,s=e.selfClose,u=e.tagName,c=(0,o.default)({},n);return(!s||s&&"img"===u)&&(c.className=[a,i||"",n.className||""].filter(Boolean).join(" ")||null),s?m.default.createElement(u,c):m.default.createElement(u,c,r)}}]),e}(m.default.PureComponent);y.propTypes={attributes:g.default.objectOf(g.default.oneOfType([g.default.string,g.default.number,g.default.bool])),children:g.default.node,className:g.default.string,commonClass:g.default.string,selfClose:g.default.bool,tagName:g.default.string.isRequired},y.defaultProps={attributes:{},children:null,className:"",commonClass:"interweave",selfClose:!1},e.default=y},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){var e=void 0;return e=t.constructor.name===u.B?[t]:t.children}function o(t){return new Promise(function(e,n){var o=(new s.Box3).setFromObject(t),a=o.getCenter().negate().toArray();i(t).forEach(function(t){var e;(e=t.geometry).translate.apply(e,r(a))}),e(t)})}function a(t){var e=(new s.Geometry).fromBufferGeometry(t);return e.mergeVertices(),e.computeVertexNormals(),e.computeFaceNormals(),(new s.BufferGeometry).fromGeometry(e)}e.b=i,e.a=o,e.c=a;var s=n(24),u=n(16)},function(t,e,n){"use strict";function r(t){return Array.isArray(t)?t:Array.from(t)}function i(t){var e=document.createElement("canvas");return new Promise(function(e,n){try{var i=300;Object(M.b)(t).forEach(function(t){t.geometry=Object(M.c)(t.geometry);for(var e=t.material.map.image,n=y.images.read(t.material.map.image),i=l(n),a=r(i.shape),s=a[0],u=a[1],c=a.slice(2),h=0;h<s;h++)for(var f=0;f<u;f++)for(var d=i.get(h,f,0),p=i.get(h,f,1),m=new g.Vector3(d,p,300).normalize().toArray(),v=0;v<m.length;v++)n.set(h,f,v,o(m[v]));var b=document.createElement("canvas");b.width=u,b.height=s,y.images.save(n,b),t.material.normalMap=(new g.TextureLoader).load(b.toDataURL())}),e(t)}catch(t){n(t)}})}function o(t){return parseInt(127.5*(t+1),10)}function a(t,e,n,r,i,o,a,s,u,c){t=n+2*r+i-s-2*u-c}function s(t,e,n,r,i,o,a,s,u,c){t=n-i+2*o-2*a+s-c}function u(t){for(var e=1,n=0;n<t.length;n++)e*=t[n];return e}function c(t){var e=T.selection,n=new y.NdArray(new Float32Array(u(t.shape)),t.shape);return P(n.selection,t.selection,e.get(0,0),e.get(0,1),e.get(0,2),e.get(1,0),e.get(1,1),e.get(1,2),e.get(2,0),e.get(2,1),e.get(2,2)),n}function l(t){var e=y.images.rgb2gray(t);e=c(e);var n=e.shape,r=n[0],i=n[1],o=new y.NdArray(new Float32Array(r*i*2),[r,i,2]);return C(o.selection.pick(null,null,0),e.selection),O(o.selection.pick(null,null,1),e.selection),o}function h(t,e){var n=t[2]/t[3],r=t[1]/t[3],i=t[0]/t[3],o=n*n,a=1/3*(-1/3*o+r),s=.5*(2/27*n*o-1/3*n*r+i),u=a*a*a,c=s*s+u,l=void 0,h=void 0,f=void 0;if(p(c))p(s)?(e[0]=0,l=1):(h=m(-s),e[0]=2*h,e[1]=-h,l=2);else if(c<0){var d=1/3*Math.acos(-s/Math.sqrt(-u)),v=2*Math.sqrt(-a);e[0]=v*Math.cos(d),e[1]=-v*Math.cos(d+Math.PI/3),e[2]=-v*Math.cos(d-Math.PI/3),l=3}else{var g=Math.sqrt(c);h=m(g-s),f=-m(g+s),e[0]=h+f,l=1}for(var y=1/3*n,b=0;b<l;b++)e[b]-=y;return[e,l]}function f(t,e,n){var r=void 0!==n?n:0,i=t[1]/(2*t[2]),o=t[0]/t[2],a=i*i-o;if(p(a))return e[0+r]=-i,[e,1];if(a<0)return[e,0];if(a>0){var s=Math.sqrt(a);return e[0+r]=s-i,e[1+r]=-s-i,[e,2]}return[e,-1]}function d(t,e){var n=t[3]/t[4],i=t[2]/t[4],o=t[1]/t[4],a=t[0]/t[4],s=new Float32Array(4),u=n*n,c=-3/8*u+i,l=1/8*u*n-.5*n*i+o,d=-3/256*u*u+1/16*u*i-.25*n*o+a,m=void 0,v=void 0,g=void 0,y=void 0,b=void 0,x=e;if(p(d)){s[0]=l,s[1]=c,s[2]=0,s[3]=1;var _=h(s,x),w=S(_,2);return x=w[0],b=w[1],b+=1,x[b]=0,[x,b]}s[0]=.5*d*c-1/8*l*l,s[1]=-d,s[2]=-.5*c,s[3]=1;var E=h(s,e),M=r(E);L=M[0],g=M.slice(1);var T=L[0];if(m=T*T-d,v=2*T-c,p(m))m=0;else{if(!(m>0))return[L,0];m=Math.sqrt(m)}if(p(v))v=0;else{if(!(v>0))return[L,0];v=Math.sqrt(v)}s[0]=T-m,s[1]=l<0?-v:v,s[2]=1;var A=f(s,L,0),C=r(A);L=C[0],y=C[1],g=C.slice(2),s[0]=T+m,s[1]=l<0?v:-v,s[2]=1;var O=f(s,L,y),P=S(O,2),L=P[0],R=P[1];R+=y;for(var k=.25*n,N=0;N<R;N++)L[N]-=k;return[L,R]}function p(t){var e=1e-9;return t>-1e-9&&t<1e-9}function m(t){return t>0?Math.pow(t,1/3):t<0?-Math.pow(-t,1/3):0}function v(t,e,n){var r=-1,i=-1,o=e,a=n,s=new Float32Array(5),u=t[2]-t[3],c=4*t[1]-2*t[4]-4*t[0],l=-6*t[2],p=-4*t[1]-2*t[4]+4*t[0],m=t[2]+t[3],v=void 0,g=void 0,y=void 0,b=void 0,x=void 0;if(Math.abs(u)<L&&Math.abs(c)<L&&Math.abs(l)<L&&Math.abs(p)<L&&Math.abs(m)<L)return[0,1,1];if(0!==u){v=new Float32Array([m,p,l,c,u]);var _=d(v,s),w=S(_,2);s=w[0],g=w[1]}else if(0!==c){v=new Float32Array([m,p,l,c]);var E=h(v,s),M=S(E,2);s=M[0],g=M[1]}else{v=new Float32Array([m,p,l]);var T=f(v,s,0),A=S(T,2);s=A[0],g=A[1]}if(g<=0)return[o,a,-1];if(1===g)y=0;else{var C=new Float32Array(g);y=0;for(var O=0;O<g;O++)b=2*s[O]/(1+s[O]*s[O]),x=(1-s[O]*s[O])/(1+s[O]*s[O]),C[O]=t[0]*b*b+t[1]*x*x+t[2]*b*x+t[3]*b+t[4]*x+t[5],C[O]>C[y]&&(y=O)}o=2*s[y]/(1+s[y]*s[y]),a=(1-s[y]*s[y])/(1+Math.pow(s[y],2));for(var P=-1e3,R=0;R<20;R++){var k=1/9/20*R,N=Math.PI*(26/18+k);b=Math.cos(N),x=Math.sin(N);var I=t[0]*b*b+t[1]*x*x+t[2]*b*x+t[3]*b+t[4]*x+t[5];P<I&&(P=I,r=b,i=x)}return b=2*s[y]/(1+s[y]*s[y]),x=(1-s[y]*s[y])/(1+s[y]*s[y]),P>t[0]*b*b+t[1]*x*x+t[2]*b*x+t[3]*b+t[4]*x+t[5]&&(o=r,a=i),[o,a,1]}e.c=i,n.d(e,"a",function(){return L}),e.b=v;var g=n(24),y=n(319),b=n.n(y),x=n(51),_=n.n(x),w=n(85),E=n.n(w),M=n(211),S=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=y.array([[.110741,.111296,.110741],[.111296,.111853,.111296],[.110741,.111296,.110741]],"float32"),A=["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],C=x({args:[].concat(A),body:function t(e,n,r,i,o,a,s,u,c,l){e=r-o+2*a-2*s+u-l}}),O=x({args:[].concat(A),body:function t(e,n,r,i,o,a,s,u,c,l){e=r+2*i+o-u-2*c-l}}),P=x({args:["array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],body:function t(e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,b){e=f*h+d*l+p*c+m*u+n*s+v*a+g*o+y*i+b*r}}),L=1e-5},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(43),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t),this.EVENT_TYPES={UPDATE_CONVERSION_PROGRESS:i.D,CONVERSION_ERROR:i.f,DONE:"DONE"},this.queue={}}return o(t,[{key:"on",value:function t(e,n){if(void 0===this.EVENT_TYPES[e])return void console.warn("Attempting to register an invalid event type for ConverterProgress");void 0===this.queue[e]&&(this.queue[e]=[]),this.queue[e].push(n)}},{key:"dispatch",value:function t(e,n){if(void 0===this.EVENT_TYPES[e])return void console.warn("Attempting to register an invalid event type for ConverterProgress");void 0!==this.queue[e]&&this.queue[e].forEach(function(t){t(n)})}},{key:"remove",value:function t(e){this.queue[e]=void 0}},{key:"removeAll",value:function t(){this.queue=[]}}]),t}();e.a=a},function(t,e,n){"use strict";function r(t){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}e.a=r},function(t,e,n){"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}e.a=r},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],e.indexOf(i)>=0||(n[i]=t[i]);return n}e.a=r},function(t,e,n){"use strict";var r=n(137),i=n.n(r),o=function t(){var e=null,n=function t(n){return i()(null==e,"A history supports only one prompt at a time"),e=n,function(){e===n&&(e=null)}},r=function t(n,r,o,a){if(null!=e){var s="function"===typeof e?e(n,r):e;"string"===typeof s?"function"===typeof o?o(s,a):(i()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==s)}else a(!0)},o=[];return{setPrompt:n,confirmTransitionTo:r,appendListener:function t(e){var n=!0,r=function t(){n&&e.apply(void 0,arguments)};return o.push(r),function(){n=!1,o=o.filter(function(t){return t!==r})}},notifyListeners:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];o.forEach(function(t){return t.apply(void 0,n)})}}};e.a=o},function(t,e,n){"use strict";var r=n(219);e.a=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(58),s=n.n(a),u=n(46),c=n.n(u),l=n(0),h=n.n(l),f=n(1),d=n.n(f),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,t.call.apply(t,[this].concat(u))),o.state={match:o.computeMatch(o.props.history.location.pathname)},a=n,i(o,a)}return o(e,t),e.prototype.getChildContext=function t(){return{router:p({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},e.prototype.computeMatch=function t(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},e.prototype.componentWillMount=function t(){var e=this,n=this.props,r=n.children,i=n.history;c()(null==r||1===h.a.Children.count(r),"A <Router> may have only one child element"),this.unlisten=i.listen(function(){e.setState({match:e.computeMatch(i.location.pathname)})})},e.prototype.componentWillReceiveProps=function t(e){s()(this.props.history===e.history,"You cannot change <Router history>")},e.prototype.componentWillUnmount=function t(){this.unlisten()},e.prototype.render=function t(){var e=this.props.children;return e?h.a.Children.only(e):null},e}(h.a.Component);m.propTypes={history:d.a.object.isRequired,children:d.a.node},m.contextTypes={router:d.a.object},m.childContextTypes={router:d.a.object.isRequired},e.a=m},function(t,e,n){"use strict";var r=n(342),i=n.n(r),o={},a=1e4,s=0,u=function t(e,n){var r=""+n.end+n.strict+n.sensitive,a=o[r]||(o[r]={});if(a[e])return a[e];var u=[],c=i()(e,u,n),l={re:c,keys:u};return s<1e4&&(a[e]=l,s++),l},c=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];"string"===typeof n&&(n={path:n});var i=n,o=i.path,a=i.exact,s=void 0!==a&&a,c=i.strict,l=void 0!==c&&c,h=i.sensitive,f=void 0!==h&&h;if(null==o)return r;var d=u(o,{end:s,strict:l,sensitive:f}),p=d.re,m=d.keys,v=p.exec(e);if(!v)return null;var g=v[0],y=v.slice(1),b=e===g;return s&&!b?null:{path:o,url:"/"===o&&""===g?"/":g,isExact:b,params:m.reduce(function(t,e,n){return t[e.name]=y[n],t},{})}};e.a=c},function(t,e,n){"use strict";function r(t,e){return{type:h.k,id:t,url:e}}function i(t){return{type:h.n,url:t}}function o(t){return{type:h.o,url:t}}function a(){return{type:h.z,payload:{val:null}}}function s(t,e){return{type:h.x,settings:e,id:t}}function u(t){return{type:h.p,id:t}}function c(t){return{type:h.y,inputData:t}}function l(){return{type:h.w}}Object.defineProperty(e,"__esModule",{value:!0}),e.getThreeAssetAction=r,e.loadMeshAction=i,e.loadTextureAction=o,e.noSkyboxTexture=a,e.saveViewerSettings=s,e.loadViewerSettings=u,e.startConversion=c,e.restartConverter=l;var h=n(43)},function(t,e,n){function r(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(s.test(t)||!a.test(t)||null!=e&&t in Object(e))}var i=n(17),o=n(68),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(711),o=n(727),a=n(729),s=n(730),u=n(731);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(70),i=n(28),o=r(i,"Map");t.exports=o},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){var r=n(736),i=n(351),o=i(r);t.exports=o},function(t,e,n){var r=n(352),i=n(105),o=n(59),a=n(153),s=o(function(t,e){return a(t)?r(t,i(e,1,a,!0)):[]});t.exports=s},function(t,e){function n(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if((t=i(t))===o||t===-o){return(t<0?-1:1)*a}return t===t?t:0}var i=n(106),o=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){function r(t){var e=this.__data__=new i(t);this.size=e.size}var i=n(140),o=n(754),a=n(755),s=n(756),u=n(757),c=n(758);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,t.exports=r},function(t,e,n){function r(t,e,n,a,s){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:i(t,e,n,a,r,s))}var i=n(759),o=n(26);t.exports=r},function(t,e,n){var r=n(355),i=n(365),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(t){return null==t?[]:(t=Object(t),r(s(t),function(e){return a.call(t,e)}))}:i;t.exports=u},function(t,e,n){t.exports=n(88)},function(t,e,n){function r(t){return"function"==typeof t?t:i}var i=n(53);t.exports=r},function(t,e,n){function r(t,e,n){var r=s(t)?i:a;return n&&u(t,e,n)&&(e=void 0),r(t,o(e,3))}var i=n(360),o=n(32),a=n(782),s=n(17),u=n(89);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o()(t);return"string"===e||"number"===e?a[t]||t:""}n.d(e,"b",function(){return a}),e.a=r;var i=n(102),o=n.n(i),a={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"}},function(t,e,n){function r(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=a,this.__views__=[]}var i=n(110),o=n(239),a=4294967295;r.prototype=i(o.prototype),r.prototype.constructor=r,t.exports=r},function(t,e){function n(){}t.exports=n},function(t,e,n){var r=n(375),i=n(381),o=r?function(t){return r.get(t)}:i;t.exports=o},function(t,e,n){function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}var i=n(110),o=n(239);r.prototype=i(o.prototype),r.prototype.constructor=r,t.exports=r},function(t,e){function n(t){return t.placeholder}t.exports=n},function(t,e,n){function r(t,e,n,k,N,I){var j,D=e&S,B=e&T,F=e&A;if(n&&(j=N?n(t,k,N,I):n(t)),void 0!==j)return j;if(!w(t))return t;var U=b(t);if(U){if(j=v(t),!D)return l(t,j)}else{var G=m(t),z=G==O||G==P;if(x(t))return c(t,D);if(G==L||G==C||z&&!N){if(j=B||z?{}:y(t),!D)return B?f(t,u(j,t)):h(t,s(j,t))}else{if(!R[G])return N?t:{};j=g(t,G,D)}}I||(I=new i);var V=I.get(t);if(V)return V;if(I.set(t,j),E(t))return t.forEach(function(i){j.add(r(i,e,n,i,t,I))}),j;if(_(t))return t.forEach(function(i,o){j.set(o,r(i,e,n,o,t,I))}),j;var H=F?B?p:d:B?keysIn:M,W=U?void 0:H(t);return o(W||t,function(i,o){W&&(o=i,i=t[o]),a(j,o,r(i,e,n,o,t,I))}),j}var i=n(231),o=n(109),a=n(166),s=n(385),u=n(806),c=n(809),l=n(111),h=n(810),f=n(811),d=n(363),p=n(388),m=n(60),v=n(812),g=n(813),y=n(818),b=n(17),x=n(107),_=n(819),w=n(29),E=n(821),M=n(31),S=1,T=2,A=4,C="[object Arguments]",O="[object Function]",P="[object GeneratorFunction]",L="[object Object]",R={};R[C]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[L]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[O]=R["[object WeakMap]"]=!1,t.exports=r},function(t,e,n){function r(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}var i=n(361);t.exports=r},function(t,e,n){function r(t){return a(o(t,void 0,i),t+"")}var i=n(828),o=n(349),a=n(226);t.exports=r},function(t,e,n){function r(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:i(t,e,n)}var i=n(148);t.exports=r},function(t,e,n){function r(t){return t&&t.length?i(t):[]}var i=n(397);t.exports=r},function(t,e,n){"use strict";var r=n(49),i=n.n(r),o=n(3),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(10),v=n.n(m),g=n(11),y=n.n(g),b=n(6),x=n.n(b),_=n(13),w=n.n(_),E=n(25),M=n.n(E),S=n(4),T=n.n(S),A=n(1),C=n.n(A),O=n(0),P=n.n(O),L=n(2),R=n(172),k=n(249),N=n(411),I=n(412),j=n(413),D=function(t){function e(){var t,n;u()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=f()(this,(t=p()(e)).call.apply(t,[this].concat(i))),x()(y()(y()(n)),"computeElementType",function(){var t=n.props,e=t.attached,r=t.label;if(!M()(e)||!M()(r))return"div"}),x()(y()(y()(n)),"computeTabIndex",function(t){var e=n.props,r=e.disabled,i=e.tabIndex;return M()(i)?r?-1:"div"===t?0:void 0:i}),x()(y()(y()(n)),"focus",function(){return w()(n.ref,"focus")}),x()(y()(y()(n)),"handleClick",function(t){if(n.props.disabled)return void t.preventDefault();w()(n.props,"onClick",t,n.props)}),x()(y()(y()(n)),"handleRef",function(t){return n.ref=t}),x()(y()(y()(n)),"hasIconClass",function(){var t=n.props,e=t.labelPosition,r=t.children,i=t.content,o=t.icon;return!0===o||o&&(e||L.c.isNil(r)&&M()(i))}),n}return v()(e,t),l()(e,[{key:"render",value:function t(){var n=this.props,r=n.active,i=n.animated,o=n.attached,s=n.basic,u=n.children,c=n.circular,l=n.className,h=n.color,f=n.compact,d=n.content,p=n.disabled,m=n.floated,v=n.fluid,g=n.icon,y=n.inverted,b=n.label,x=n.labelPosition,_=n.loading,w=n.negative,E=n.positive,S=n.primary,A=n.secondary,C=n.role,O=n.size,N=n.toggle,I=T()(h,O,Object(L.y)(r,"active"),Object(L.y)(s,"basic"),Object(L.y)(c,"circular"),Object(L.y)(f,"compact"),Object(L.y)(v,"fluid"),Object(L.y)(this.hasIconClass(),"icon"),Object(L.y)(y,"inverted"),Object(L.y)(_,"loading"),Object(L.y)(w,"negative"),Object(L.y)(E,"positive"),Object(L.y)(S,"primary"),Object(L.y)(A,"secondary"),Object(L.y)(N,"toggle"),Object(L.z)(i,"animated"),Object(L.z)(o,"attached")),j=T()(Object(L.z)(x||!!b,"labeled")),D=T()(Object(L.y)(p,"disabled"),Object(L.C)(m,"floated")),B=Object(L.q)(e,this.props),F=Object(L.p)(e,this.props,this.computeElementType),U=this.computeTabIndex(F);if(!M()(b)){var G=T()("ui",I,"button",l),z=T()("ui",j,"button",l,D),V=k.a.create(b,{defaultProps:{basic:!0,pointing:"left"===x?"right":"left"},autoGenerateKey:!1});return P.a.createElement(F,a()({},B,{className:z,onClick:this.handleClick}),"left"===x&&V,P.a.createElement("button",{className:G,disabled:p,ref:this.handleRef,tabIndex:U},R.a.create(g,{autoGenerateKey:!1})," ",d),("right"===x||!x)&&V)}var H=T()("ui",I,D,j,"button",l),W=!L.c.isNil(u);return P.a.createElement(F,a()({},B,{className:H,disabled:p&&"button"===F||void 0,onClick:this.handleClick,ref:this.handleRef,role:C,tabIndex:U}),W&&u,!W&&R.a.create(g,{autoGenerateKey:!1}),!W&&d)}}]),e}(O.Component);x()(D,"defaultProps",{as:"button",role:"button"}),x()(D,"Content",N.a),x()(D,"Group",I.a),x()(D,"Or",j.a),x()(D,"handledProps",["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle"]),D.propTypes={},D.create=Object(L.l)(D,function(t){return{content:t}}),e.a=D},function(t,e,n){"use strict";n.d(e,"a",function(){return N});var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(154),x=n.n(b),_=n(13),w=n.n(_),E=n(4),M=n.n(E),S=n(1),T=n.n(S),A=n(0),C=n.n(A),O=n(2),P=n(172),L=n(403),R=n(409),k=n(410),N=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleClick",function(t){var e=n.props.onClick;e&&e(t,n.props)}),y()(v()(v()(n)),"handleIconOverrides",function(t){return{onClick:function e(r){w()(t,"onClick",r),w()(n.props,"onRemove",r,n.props)}}}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.active,o=n.attached,a=n.basic,s=n.children,u=n.circular,c=n.className,l=n.color,h=n.content,f=n.corner,d=n.detail,p=n.empty,m=n.floating,v=n.horizontal,g=n.icon,y=n.image,b=n.onRemove,_=n.pointing,w=n.removeIcon,E=n.ribbon,S=n.size,T=n.tag,A=!0===_&&"pointing"||("left"===_||"right"===_)&&"".concat(_," pointing")||("above"===_||"below"===_)&&"pointing ".concat(_),k=M()("ui",l,A,S,Object(O.y)(r,"active"),Object(O.y)(a,"basic"),Object(O.y)(u,"circular"),Object(O.y)(p,"empty"),Object(O.y)(m,"floating"),Object(O.y)(v,"horizontal"),Object(O.y)(!0===y,"image"),Object(O.y)(T,"tag"),Object(O.z)(f,"corner"),Object(O.z)(E,"ribbon"),Object(O.C)(o,"attached"),"label",c),N=Object(O.q)(e,this.props),I=Object(O.p)(e,this.props);if(!O.c.isNil(s))return C.a.createElement(I,i()({},N,{className:k,onClick:this.handleClick}),s);var j=x()(w)?"delete":w;return C.a.createElement(I,i()({className:k,onClick:this.handleClick},N),P.a.create(g,{autoGenerateKey:!1}),"boolean"!==typeof y&&L.a.create(y,{autoGenerateKey:!1}),h,R.a.create(d,{autoGenerateKey:!1}),b&&P.a.create(j,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))}}]),e}(A.Component);y()(N,"Detail",R.a),y()(N,"Group",k.a),y()(N,"handledProps",["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","removeIcon","ribbon","size","tag"]),N.propTypes={},N.create=Object(O.l)(N,function(t){return{content:t}})},function(t,e,n){"use strict";n.d(e,"a",function(){return L});var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(918),x=n.n(b),_=n(13),w=n.n(_),E=n(4),M=n.n(E),S=n(1),T=n.n(S),A=n(0),C=n.n(A),O=n(2),P=n(27),L=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleClick",function(t){n.props.disabled||w()(n.props,"onClick",t,n.props)}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.active,o=n.children,a=n.className,s=n.color,u=n.content,c=n.disabled,l=n.fitted,h=n.header,f=n.icon,d=n.link,p=n.name,m=n.onClick,v=n.position,g=M()(s,v,Object(O.y)(r,"active"),Object(O.y)(c,"disabled"),Object(O.y)(!0===f||f&&!(p||u),"icon"),Object(O.y)(h,"header"),Object(O.y)(d,"link"),Object(O.z)(l,"fitted"),"item",a),y=Object(O.p)(e,this.props,function(){if(m)return"a"}),b=Object(O.q)(e,this.props);return O.c.isNil(o)?C.a.createElement(y,i()({},b,{className:g,onClick:this.handleClick}),P.a.create(f,{autoGenerateKey:!1}),O.c.isNil(u)?x()(p):u):C.a.createElement(y,i()({},b,{className:g,onClick:this.handleClick}),o)}}]),e}(A.Component);y()(L,"handledProps",["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"]),L.propTypes={},L.create=Object(O.l)(L,function(t){return{content:t,name:t}})},function(t,e,n){"use strict";var r=n(928);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(955);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.computer,a=t.color,u=t.floated,c=t.largeScreen,l=t.mobile,d=t.only,p=t.stretched,m=t.tablet,v=t.textAlign,g=t.verticalAlign,y=t.widescreen,b=t.width,x=s()(a,Object(f.y)(p,"stretched"),Object(f.A)(d,"only"),Object(f.B)(v),Object(f.C)(u,"floated"),Object(f.D)(g),Object(f.E)(i,"wide computer"),Object(f.E)(c,"wide large screen"),Object(f.E)(l,"wide mobile"),Object(f.E)(m,"wide tablet"),Object(f.E)(y,"wide widescreen"),Object(f.E)(b,"wide"),"column",n),_=Object(f.q)(r,t),w=Object(f.p)(r,t);return h.a.createElement(w,o()({},_,{className:x}),e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{children:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("content",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.defaultProps={as:"li"},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.fullWidth,u=s()(Object(f.y)(a,"full-width"),n),c=Object(f.q)(r,t),l=Object(f.p)(r,t);return h.a.createElement(l,o()({},c,{className:u}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content","fullWidth"],r.defaultProps={as:"thead"},r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.description,u=t.floated,c=t.header,l=t.verticalAlign,m=s()(Object(f.C)(u,"floated"),Object(f.D)(l),"content",n),v=Object(f.q)(r,t),g=Object(f.p)(r,t);return f.c.isNil(e)?h.a.createElement(g,o()({},v,{className:m}),p.a.create(c),d.a.create(a),i):h.a.createElement(g,o()({},v,{className:m}),e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(178),p=n(179);r.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.verticalAlign,i=s()(Object(f.D)(n),e),a=Object(f.q)(r,t);return h.a.createElement(d.a,o()({},a,{className:i}))}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(172);r.handledProps=["className","verticalAlign"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{name:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("description",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("title",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";var r=n(7),i=n.n(r),o=n(8),a=n.n(o),s=n(9),u=n.n(s),c=n(5),l=n.n(c),h=n(10),f=n.n(h),d=n(11),p=n.n(d),m=n(6),v=n.n(m),g=n(13),y=n.n(g),b=n(1),x=n.n(b),_=n(0),w=n.n(_),E=n(2),M=n(261),S=n(262),T=function(t){function e(){var t,n;i()(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=u()(this,(t=l()(e)).call.apply(t,[this].concat(o))),v()(p()(p()(n)),"handleTitleOverrides",function(t){return{onClick:function e(r,i){y()(t,"onClick",r,i),y()(n.props,"onTitleClick",r,i)}}}),n}return f()(e,t),a()(e,[{key:"render",value:function t(){var e=this.props,n=e.active,r=e.content,i=e.index,o=e.title;return[M.a.create(o,{autoGenerateKey:!1,defaultProps:{active:n,index:i,key:"title"},overrideProps:this.handleTitleOverrides}),S.a.create(r,{autoGenerateKey:!1,defaultProps:{active:n,key:"content"}})]}}]),e}(_.Component);v()(T,"handledProps",["active","content","index","onTitleClick","title"]),T.propTypes={},T.create=Object(E.l)(T,null),e.a=T},function(t,e,n){"use strict";n.d(e,"a",function(){return L});var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(25),x=n.n(b),_=n(13),w=n.n(_),E=n(4),M=n.n(E),S=n(1),T=n.n(S),A=n(0),C=n.n(A),O=n(2),P=n(27),L=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleClick",function(t){return w()(n.props,"onClick",t,n.props)}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.active,o=n.children,a=n.className,s=n.content,u=M()(Object(O.y)(r,"active"),"title",a),c=Object(O.q)(e,this.props),l=Object(O.p)(e,this.props);return x()(s)?C.a.createElement(l,i()({},c,{className:u,onClick:this.handleClick}),o):C.a.createElement(l,i()({},c,{className:u,onClick:this.handleClick}),C.a.createElement(P.a,{name:"dropdown"}),s)}}]),e}(A.Component);y()(L,"handledProps",["active","as","children","className","content","index","onClick"]),L.propTypes={},L.create=Object(O.l)(L,function(t){return{content:t}})},function(t,e,n){"use strict";function r(t){var e=t.active,n=t.children,i=t.className,a=t.content,u=s()("content",Object(f.y)(e,"active"),i),c=Object(f.q)(r,t),l=Object(f.p)(r,t);return h.a.createElement(l,o()({},c,{className:u}),f.c.isNil(n)?a:n)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["active","as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.textAlign,s=c()(Object(p.B)(a),"description",n),u=Object(p.q)(r,t),l=Object(p.p)(r,t);return d.a.createElement(l,o()({},u,{className:s}),p.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2);r.handledProps=["as","children","className","content","textAlign"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.textAlign,s=c()(Object(p.B)(a),"header",n),u=Object(p.q)(r,t),l=Object(p.p)(r,t);return d.a.createElement(l,o()({},u,{className:s}),p.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2);r.handledProps=["as","children","className","content","textAlign"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.textAlign,s=c()(Object(p.B)(a),"meta",n),u=Object(p.q)(r,t),l=Object(p.p)(r,t);return d.a.createElement(l,o()({},u,{className:s}),p.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2);r.handledProps=["as","children","className","content","textAlign"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.extraImages,u=t.extraText,c=t.date,l=t.meta,g=t.summary,y=s()("content",n),b=Object(f.q)(r,t),x=Object(f.p)(r,t);return f.c.isNil(e)?h.a.createElement(x,o()({},b,{className:y}),Object(f.k)(d.a,function(t){return{content:t}},c,{autoGenerateKey:!1}),Object(f.k)(v.a,function(t){return{content:t}},g,{autoGenerateKey:!1}),i,Object(f.k)(p.a,function(t){return{text:!0,content:t}},u,{autoGenerateKey:!1}),Object(f.k)(p.a,function(t){return{images:t}},a,{autoGenerateKey:!1}),Object(f.k)(m.a,function(t){return{content:t}},l,{autoGenerateKey:!1})):h.a.createElement(x,o()({},b,{className:y}),e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(181),p=n(267),m=n(268),v=n(270);r.handledProps=["as","children","className","content","date","extraImages","extraText","meta","summary"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.images,u=t.text,l=c()(Object(p.y)(a,"images"),Object(p.y)(i||u,"text"),"extra",n),h=Object(p.q)(r,t),f=Object(p.p)(r,t);if(!p.c.isNil(e))return d.a.createElement(f,o()({},h,{className:l}),e);var m=s()(a,function(t,e){var n=[e,t].join("-");return Object(p.f)(t,{key:n})});return d.a.createElement(f,o()({},h,{className:l}),i,m)}var i=n(3),o=n.n(i),a=n(14),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2);r.handledProps=["as","children","className","content","images","text"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.like,u=s()("meta",n),c=Object(f.q)(r,t),l=Object(f.p)(r,t);return f.c.isNil(e)?h.a.createElement(l,o()({},c,{className:u}),Object(f.k)(d.a,function(t){return{content:t}},a,{autoGenerateKey:!1}),i):h.a.createElement(l,o()({},c,{className:u}),e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(269);r.handledProps=["as","children","className","content","like"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.icon,u=s()("like",n),c=Object(f.q)(r,t),l=Object(f.p)(r,t);return f.c.isNil(e)?h.a.createElement(l,o()({},c,{className:u}),d.a.create(a,{autoGenerateKey:!1}),i):h.a.createElement(l,o()({},c,{className:u}),e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(27);r.handledProps=["as","children","className","content","icon"],r.defaultProps={as:"a"},r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.date,u=t.user,c=s()("summary",n),l=Object(f.q)(r,t),m=Object(f.p)(r,t);return f.c.isNil(e)?h.a.createElement(m,o()({},l,{className:c}),Object(f.k)(p.a,function(t){return{content:t}},u,{autoGenerateKey:!1}),i,Object(f.k)(d.a,function(t){return{content:t}},a,{autoGenerateKey:!1})):h.a.createElement(m,o()({},l,{className:c}),e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(181),p=n(271);r.handledProps=["as","children","className","content","date","user"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("user",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.defaultProps={as:"a"},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.icon,u=t.image,c=s()("label",n),l=Object(f.q)(r,t),p=Object(f.p)(r,t);return f.c.isNil(e)?h.a.createElement(p,o()({},l,{className:c}),i,d.a.create(a,{autoGenerateKey:!1}),Object(f.f)(u)):h.a.createElement(p,o()({},l,{className:c}),e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(27);r.handledProps=["as","children","className","content","icon","image"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("header",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("description",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("extra",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("meta",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 1===e.length?i.apply(void 0,e):o.apply(void 0,e)}function i(t){var e=void 0;return"undefined"!==typeof Reflect&&"function"===typeof Reflect.ownKeys?e=Reflect.ownKeys(t.prototype):(e=Object.getOwnPropertyNames(t.prototype),"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t.prototype)))),e.forEach(function(e){if("constructor"!==e){var n=Object.getOwnPropertyDescriptor(t.prototype,e);"function"===typeof n.value&&Object.defineProperty(t.prototype,e,o(t,e,n))}}),t}function o(t,e,n){var r=n.value;if("function"!==typeof r)throw new Error("@autobind decorator can only be applied to methods not: "+typeof r);var i=!1;return{configurable:!0,get:function n(){if(i||this===t.prototype||this.hasOwnProperty(e))return r;var o=r.bind(this);return i=!0,Object.defineProperty(this,e,{value:o,configurable:!0,writable:!0}),i=!1,o}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){function r(t,e){return t&&i(t,o(e))}var i=n(156),o=n(235);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(18),c=n(16),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={label:null},n.updateLabel=n.updateLabel.bind(n),n}return o(e,t),l(e,[{key:"componentDidMount",value:function t(){this.setState({label:this.props.content})}}]),l(e,[{key:"updateLabel",value:function t(e){this.setState({label:e})}},{key:"render",value:function t(){var e=this.props,n=e.className,r=e.icon,i=e.onClick,o=e.labelPosition,a=e.color,l=this.state.label;return c.k.SMARTPHONE()?s.a.createElement(u.b,{className:n+" mobile",icon:r,onClick:i,color:a}):s.a.createElement(u.b,{className:n,icon:r,onClick:i,labelPosition:o,color:a,content:l})}}]),e}(a.Component);e.a=h},function(t,e,n){"use strict";(function(e){function n(t,n,r,i){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var o=arguments.length,a,s;switch(o){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function e(){t.call(null,n)});case 3:return e.nextTick(function e(){t.call(null,n,r)});case 4:return e.nextTick(function e(){t.call(null,n,r,i)});default:for(a=new Array(o-1),s=0;s<a.length;)a[s++]=arguments[s];return e.nextTick(function e(){t.apply(null,a)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=n:t.exports=e.nextTick}).call(e,n(99))},function(t,e,n){"use strict";(function(e,r){function i(){}function o(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function a(t,e){P=P||n(77),t=t||{},this.objectMode=!!t.objectMode,e instanceof P&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){m(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new E(this),this.corkedRequestsFree.next=new E(this)}function s(t){if(P=P||n(77),!(this instanceof s)&&!(this instanceof P))return new s(t);this._writableState=new a(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev)),O.call(this)}function u(t,e){var n=new Error("write after end");t.emit("error",n),M(e,n)}function c(t,e,n,r){var i=!0;if(!T.isBuffer(n)&&"string"!==typeof n&&null!==n&&void 0!==n&&!e.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");t.emit("error",o),M(r,o),i=!1}return i}function l(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=new T(e,n)),e}function h(t,e,n,r,i){n=l(e,n,r),T.isBuffer(n)&&(r="buffer");var a=e.objectMode?1:n.length;e.length+=a;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest=new o(n,r,i),u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else f(t,e,!1,a,n,r,i);return s}function f(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function d(t,e,n,r,i){--e.pendingcb,n?M(i,r):i(r),t._writableState.errorEmitted=!0,t.emit("error",r)}function p(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function m(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(p(n),e)d(t,n,r,e,i);else{var o=b(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||y(t,n),r?S(v,t,n,o,i):v(t,n,o,i)}}function v(t,e,n,r){n||g(t,e),e.pendingcb--,r(),_(t,e)}function g(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function y(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0;n;)i[a]=n,n=n.next,a+=1;f(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,e.corkedRequestsFree=o.next,o.next=null}else{for(;n;){var s=n.chunk,u=n.encoding,c=n.callback;if(f(t,e,!1,e.objectMode?1:s.length,s,u,c),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function b(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function _(t,e){var n=b(e);return n&&(0===e.pendingcb?(x(t,e),e.finished=!0,t.emit("finish")):x(t,e)),n}function w(t,e,n){e.ending=!0,_(t,e),n&&(e.finished?M(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function E(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}t.exports=s;var M=n(280),S=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:M,T=n(45).Buffer;s.WritableState=a;var A=n(119);A.inherits=n(92);var C={deprecate:n(1140)},O;!function(){try{O=n(183)}catch(t){}finally{O||(O=n(184).EventEmitter)}}();var T=n(45).Buffer;A.inherits(s,O);var P;a.prototype.getBuffer=function t(){for(var e=this.bufferedRequest,n=[];e;)n.push(e),e=e.next;return n},function(){try{Object.defineProperty(a.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}();var P;s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},s.prototype.write=function(t,e,n){var r=this._writableState,o=!1;return"function"===typeof e&&(n=e,e=null),T.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!==typeof n&&(n=i),r.ended?u(this,n):c(this,r,t,n)&&(r.pendingcb++,o=h(this,r,t,e,n)),o},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||y(this,t))},s.prototype.setDefaultEncoding=function t(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e},s.prototype._write=function(t,e,n){n(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(t,e,n){var r=this._writableState;"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||w(this,r,n)}}).call(e,n(99),n(1138).setImmediate)},function(t,e,n){"use strict";function r(t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);s.call(this,t),this._transformState=new r(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"===typeof this._flush?this._flush(function(t){a(e,t)}):a(e)})}function a(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}t.exports=o;var s=n(77),u=n(119);u.inherits=n(92),u.inherits(o,s),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){t.exports=!n(512)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";function r(t,e,n,r,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=i}var i=n(120),o=n(516),a=n(517),s=n(518),a=n(517);r.prototype={getContentWorker:function(){var t=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},r.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},t.exports=r},function(t,e,n){"use strict";function r(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function i(t,e,n,r){var i=s,o=r+n;t^=-1;for(var a=r;a<o;a++)t=t>>>8^i[255&(t^e[a])];return-1^t}function o(t,e,n,r){var i=s,o=r+n;t^=-1;for(var a=r;a<o;a++)t=t>>>8^i[255&(t^e.charCodeAt(a))];return-1^t}var a=n(22),s=r();t.exports=function t(e,n){return"undefined"!==typeof e&&e.length?"string"!==a.getTypeOf(e)?i(0|n,e,e.length,0):o(0|n,e,e.length,0):0}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(18),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={toggled:!1},n.handleClick=n.handleClick.bind(n),n}return o(e,t),c(e,[{key:"handleClick",value:function t(e){var n=this;e.preventDefault(),e.stopPropagation(),this.setState({toggled:!this.state.toggled},function(){return n.props.onClick()})}},{key:"render",value:function t(){var e=this.props,n=e.onIcon,r=e.offIcon,i=e.onColor,o=e.offColor,a=e.className,c=e.onClick,l=e.onLabel,h=e.offLabel,f=a,d=this.state.toggled,p=r,m=h,v=o;return!0===d&&(p=n,m=l,v=i),s.a.createElement(u.b,{icon:!0,labelPosition:"left",onClick:this.handleClick,color:v,key:0,className:"toggle-icon-label"},s.a.createElement(u.j,{key:0,className:f+=" toggle-icon",id:"show-password",name:p}),m)}}]),e}(a.Component);e.a=l},function(t,e,n){"use strict";function r(){}function i(t){try{return t.then}catch(t){return g=t,y}}function o(t,e){try{return t(e)}catch(t){return g=t,y}}function a(t,e,n){try{t(e,n)}catch(t){return g=t,y}}function s(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==r&&m(t,this)}function u(t,e,n){return new t.constructor(function(i,o){var a=new s(r);a.then(i,o),c(t,new p(e,n,a))})}function c(t,e){for(;3===t._83;)t=t._18;if(s._47&&s._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);l(t,e)}function l(t,e){v(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?h(e.promise,t._18):f(e.promise,t._18));var r=o(n,t._18);r===y?f(e.promise,g):h(e.promise,r)})}function h(t,e){if(e===t)return f(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=i(e);if(n===y)return f(t,g);if(n===t.then&&e instanceof s)return t._83=3,t._18=e,void d(t);if("function"===typeof n)return void m(n.bind(e),t)}t._83=1,t._18=e,d(t)}function f(t,e){t._83=2,t._18=e,s._71&&s._71(t,e),d(t)}function d(t){if(1===t._75&&(c(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)c(t,t._38[e]);t._38=null}}function p(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function m(t,e){var n=!1,r=a(t,function(t){n||(n=!0,h(e,t))},function(t){n||(n=!0,f(e,t))});n||r!==y||(n=!0,f(e,g))}var v=n(529),g=null,y={};t.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(t,e){if(this.constructor!==s)return u(this,t,e);var n=new s(r);return c(this,new p(t,e,n)),n}},function(t,e,n){"use strict";function r(t,e,n){function s(){g===v&&(g=v.slice())}function u(){return m}function c(t){if("function"!==typeof t)throw new Error("Expected listener to be a function.");var e=!0;return s(),g.push(t),function n(){if(e){e=!1,s();var r=g.indexOf(t);g.splice(r,1)}}}function l(t){if(!Object(i.a)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,m=p(m,t)}finally{y=!1}for(var e=v=g,n=0;n<e.length;n++){(0,e[n])()}return t}function h(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");p=t,l({type:a.INIT})}function f(){var t,e=c;return t={subscribe:function t(n){function r(){n.next&&n.next(u())}if("object"!==typeof n)throw new TypeError("Expected the observer to be an object.");return r(),{unsubscribe:e(r)}}},t[o.a]=function(){return this},t}var d;if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var p=t,m=e,v=[],g=v,y=!1;return l({type:a.INIT}),d={dispatch:l,subscribe:c,getState:u,replaceReducer:h},d[o.a]=f,d}n.d(e,"a",function(){return a}),e.b=r;var i=n(290),o=n(547),a={INIT:"@@redux/INIT"}},function(t,e,n){"use strict";function r(t){if(!Object(a.a)(t)||Object(i.a)(t)!=s)return!1;var e=Object(o.a)(t);if(null===e)return!0;var n=h.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==f}var i=n(539),o=n(544),a=n(546),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,f=l.call(Object);e.a=r},function(t,e,n){"use strict";var r=n(540),i=r.a.Symbol;e.a=i},function(t,e,n){"use strict";function r(t){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}e.a=r},function(t,e,n){"use strict";function r(t){try{o(),t()}finally{a()}}function i(t){u.push(t),c||(o(),s())}function o(){c++}function a(){c--}function s(){a();for(var t=void 0;!c&&void 0!==(t=u.shift());)r(t)}e.a=i,e.c=o,e.b=s;var u=[],c=0},function(t,e,n){"use strict";function r(t,e){function n(e,n){if(o===p)return d;if(n)throw o=p,n;i&&i(e);var r=t[o](),a=f(r,3),s=a[0],u=a[1],c=a[2];return o=s,i=c,o===p?d:u}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"iterator",i=void 0,o=e;return Object(c.q)(n,function(t){return n(null,t)},r,!0)}function i(t){return c.m.channel(t)?"channel":Array.isArray(t)?String(t.map(function(t){return String(t)})):String(t)}function o(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s={done:!1,value:Object(l.g)(t)},c=function t(n){return{done:!1,value:l.e.apply(void 0,[e].concat(o,[n]))}},h=void 0,f=function t(e){return h=e};return r({q1:function t(){return["q2",s,f]},q2:function t(){return h===u.a?[p]:["q1",c(h)]}},"q1","takeEvery("+i(t)+", "+e.name+")")}function a(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s={done:!1,value:Object(l.g)(t)},c=function t(n){return{done:!1,value:l.e.apply(void 0,[e].concat(o,[n]))}},h=function t(e){return{done:!1,value:Object(l.d)(e)}},f=void 0,d=void 0,m=function t(e){return f=e},v=function t(e){return d=e};return r({q1:function t(){return["q2",s,v]},q2:function t(){return d===u.a?[p]:f?["q3",h(f)]:["q1",c(d),m]},q3:function t(){return["q1",c(d),m]}},"q1","takeLatest("+i(t)+", "+e.name+")")}function s(t,e,n){for(var o=arguments.length,a=Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];var f=void 0,d=void 0,m={done:!1,value:Object(l.a)(e,h.a.sliding(1))},v=function t(){return{done:!1,value:Object(l.g)(d)}},g=function t(e){return{done:!1,value:l.e.apply(void 0,[n].concat(a,[e]))}},y={done:!1,value:Object(l.c)(c.i,t)},b=function t(e){return f=e},x=function t(e){return d=e};return r({q1:function t(){return["q2",m,x]},q2:function t(){return["q3",v(),b]},q3:function t(){return f===u.a?[p]:["q4",g(f)]},q4:function t(){return["q2",y]}},"q1","throttle("+i(e)+", "+n.name+")")}e.a=o,e.b=a,e.c=s;var u=n(122),c=n(44),l=n(121),h=n(123),f=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d={done:!0,value:void 0},p={},m=function t(e){return"import "+e+" from 'redux-saga' has been deprecated in favor of import "+e+" from 'redux-saga/effects'.\nThe latter will not work with yield*, as helper effects are wrapped automatically for you in fork effect.\nTherefore yield "+e+" will return task descriptor to your saga and execute next lines of code."},v=Object(c.j)(o,m("takeEvery")),g=Object(c.j)(a,m("takeLatest")),y=Object(c.j)(s,m("throttle"))},function(t,e,n){t.exports=n(561)},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+e[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},function(t,e,n){"use strict";function r(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function i(t,e,n,r){var i=o,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}var o=r();t.exports=i},function(t,e,n){"use strict";function r(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var i=n(56),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new i.Buf8(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1,e.string2buf=function(t){var e,n,r,o,a,s=t.length,u=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296===(64512&n)&&o+1<s&&56320===(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(u),a=0,o=0;a<u;o++)n=t.charCodeAt(o),55296===(64512&n)&&o+1<s&&56320===(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return r(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,o,a,u=e||t.length,c=new Array(2*u);for(i=0,n=0;n<u;)if((o=t[n++])<128)c[i++]=o;else if((a=s[o])>4)c[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<u;)o=o<<6|63&t[n++],a--;a>1?c[i++]=65533:o<65536?c[i++]=o:(o-=65536,c[i++]=55296|o>>10&1023,c[i++]=56320|1023&o)}return r(c,i)},e.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},function(t,e,n){var r=n(582);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){t.exports=!n(66)&&!n(95)(function(){return 7!=Object.defineProperty(n(305)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(83),i=n(57).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(583),o=r(i),a=n(596),s=r(a),u="function"===typeof s.default&&"symbol"===typeof o.default?function(t){return typeof t}:function(t){return t&&"function"===typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"===typeof s.default&&"symbol"===u(o.default)?function(t){return"undefined"===typeof t?"undefined":u(t)}:function(t){return t&&"function"===typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":"undefined"===typeof t?"undefined":u(t)}},function(t,e,n){"use strict";var r=n(130),i=n(80),o=n(308),a=n(81),s=n(96),u=n(586),c=n(204),l=n(592),h=n(50)("iterator"),f=!([].keys&&"next"in[].keys()),d="keys",p="values",m=function(){return this};t.exports=function(t,e,n,v,g,y,b){u(n,e,v);var x=function(t){if(!f&&t in M)return M[t];switch(t){case d:return function e(){return new n(this,t)};case p:return function e(){return new n(this,t)}}return function e(){return new n(this,t)}},_=e+" Iterator",w=g==p,E=!1,M=t.prototype,S=M[h]||M["@@iterator"]||g&&M[g],T=S||x(g),A=g?w?x("entries"):T:void 0,C="Array"==e?M.entries||S:S,O,P,L;if(C&&(L=l(C.call(new t)))!==Object.prototype&&L.next&&(c(L,_,!0),r||"function"==typeof L[h]||a(L,h,m)),w&&S&&S.name!==p&&(E=!0,T=function t(){return S.call(this)}),r&&!b||!f&&!E&&M[h]||a(M,h,T),s[e]=T,s[_]=m,g)if(O={values:w?T:x(p),keys:y?T:x(d),entries:A},b)for(P in O)P in M||o(M,P,O[P]);else i(i.P+i.F*(f||E),e,O);return O}},function(t,e,n){t.exports=n(81)},function(t,e,n){var r=n(67),i=n(84),o=n(588)(!1),a=n(201)("IE_PROTO");t.exports=function(t,e){var n=i(t),s=0,u=[],c;for(c in n)c!=a&&r(n,c)&&u.push(c);for(;e.length>s;)r(n,c=e[s++])&&(~o(u,c)||u.push(c));return u}},function(t,e,n){var r=n(200);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(198);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(309),i=n(203).concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(e){return r(e,i)}},function(t,e,n){var r=n(133),i=n(129),o=n(84),a=n(194),s=n(67),u=n(304),c=Object.getOwnPropertyDescriptor;e.f=n(66)?c:function t(e,n){if(e=o(e),n=a(n,!0),u)try{return c(e,n)}catch(t){}if(s(e,n))return i(!r.f.call(e,n),e[n])}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(619),o=r(i),a=n(134),s=r(a),u=n(302),c=r(u),l=n(78),h=r(l),f=n(79),d=r(f),p=n(0),m=r(p),v=n(210),g=r(v),y=n(627),b=1,x=3,_=["!DOC","HTML","HEAD","BODY"],w=4,E=5,M=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,h.default)(this,t),e||(e=""),this.props=n,this.matchers=r,this.filters=i,this.keyIndex=-1,this.doc=this.createDocument(e)}return(0,d.default)(t,[{key:"applyAttributeFilters",value:function t(e,n){return this.filters.reduce(function(t,n){return"function"===typeof n.attribute?n.attribute(e,t):t},n)}},{key:"applyNodeFilters",value:function t(e,n){return this.filters.reduce(function(t,n){return t&&"function"===typeof n.node?n.node(e,t):t},n)}},{key:"applyMatchers",value:function t(e,n){var r=this,i=[],a=this.props,u=e,l={};if(this.matchers.forEach(function(t){var e=t.asTag().toLowerCase(),o=r.getTagConfig(e);if(!a[t.inverseName]&&!y.TAGS_BLACKLIST[e]&&(a.disableWhitelist||y.TAGS[e])&&r.canRenderChild(n,o))for(;l=t.match(u);){var h=l,f=h.match,d=(0,c.default)(h,["match"]);u=u.replace(f,"#{{"+i.length+"}}#"),r.keyIndex+=1,i.push(t.createElement(f,(0,s.default)({},a,d,{key:r.keyIndex})))}}),0===i.length)return u;for(var h=[],f=0;l=u.match(/#\{\{(\d+)\}\}#/);){var d=l,p=(0,o.default)(d,2),m=p[1],v=l,g=v.index;f!==g&&h.push(u.slice(f,g)),h.push(i[parseInt(m,10)]),f=g+l[0].length,u=u.replace("#{{"+m+"}}#","%{{"+m+"}}%")}return f<u.length&&h.push(u.slice(f)),h}},{key:"canRenderChild",value:function t(e,n){return!(!e.tagName||!n.tagName)&&(!(e.children&&e.children.length>0&&-1===e.children.indexOf(n.tagName))&&(!(n.parent&&n.parent.length>0&&-1===n.parent.indexOf(e.tagName))&&(!(!e.self&&e.tagName===n.tagName)&&(!(!e.block&&n.type===y.TYPE_BLOCK)&&!(!e.inline&&n.type===y.TYPE_INLINE)))))}},{key:"convertLineBreaks",value:function t(e){var n=this.props,r=n.noHtml,i=n.noHtmlExceptMatchers,o=n.disableLineBreaks;if(r||i||o||e.match(/<((?:\/[a-z ]+)|(?:[a-z ]+\/))>/gi))return e;var a=e.replace(/\r\n/g,"\n");return a=a.replace(/\n{3,}/g,"\n\n\n"),a=a.replace(/\n/g,"<br/>")}},{key:"createDocument",value:function t(e){var n=document.implementation.createHTMLDocument("Interweave");return _.indexOf(e.substr(1,4).toUpperCase())>=0||(n.body.innerHTML=this.convertLineBreaks(e)),n}},{key:"extractAttributes",value:function t(e){var n=this,r=this.props.disableWhitelist,i={},o=0;return 1===e.nodeType&&e.attributes?(Array.from(e.attributes).forEach(function(t){var a=t.name,s=t.value,u=y.ATTRIBUTES[a];a=a.toLowerCase(),n.isSafe(e)&&("aria-"===a.slice(0,5)||(r||u&&u!==y.FILTER_DENY)&&!a.match(/^on/)&&!s.replace(/(\s|\0|&#x0(9|A|D);)/,"").match(/(javascript|vbscript|livescript|xss):/i))&&(s=n.applyAttributeFilters(a,s),s=u===y.FILTER_CAST_BOOL?"true"===s||s===a:u===y.FILTER_CAST_NUMBER?parseFloat(s):String(s),i[y.ATTRIBUTES_TO_PROPS[a]||a]=s,o+=1)}),0===o?null:i):null}},{key:"getTagConfig",value:function t(e){return y.TAGS[e]?(0,s.default)({},y.TAGS[e],{tagName:e}):{}}},{key:"isSafe",value:function t(e){if(!(e instanceof HTMLElement))return!0;if("href"in e){var n=e.getAttribute("href");if(n&&"#"===n.charAt(0))return!0;var r=(e.protocol||"").toLowerCase();return":"===r||"http:"===r||"https:"===r||"mailto:"===r}return!0}},{key:"parse",value:function t(){return this.parseNode(this.doc.body,(0,s.default)({},y.CONFIG_BLOCK,{tagName:"body"}))}},{key:"parseNode",value:function t(e,n){var r=this,i=this.props,o=i.commonClass,a=i.noHtml,s=i.noHtmlExceptMatchers,u=i.disableWhitelist,c=i.transform,l=[],h="";return Array.from(e.childNodes).forEach(function(t){if(1===t.nodeType){var e=t.nodeName.toLowerCase(),i=r.getTagConfig(e);if(y.TAGS_BLACKLIST[e])return;h&&(l.push(h),h="");var f=r.applyNodeFilters(e,t);if(!f)return;var d=void 0;if(c){r.keyIndex+=1;var p=r.keyIndex;d=r.parseNode(f,i);var v=c(f,d,i);if(null===v)return;if("undefined"!==typeof v){var b=m.default.cloneElement(v,{key:p});return void l.push(b)}r.keyIndex=p-1}if(a||s||!u&&!r.canRenderChild(n,i))l=l.concat(r.parseNode(f,i.tagName?i:n));else{r.keyIndex+=1;var x=r.extractAttributes(f),_={key:r.keyIndex,tagName:e,commonClass:o};x&&(_.attributes=x),i.void&&(_.selfClose=i.void),l.push(m.default.createElement(g.default,_,d||r.parseNode(f,i)))}}else if(3===t.nodeType){var w=a&&!s?t.textContent:r.applyMatchers(t.textContent,n);Array.isArray(w)?l=l.concat(w):h+=w}}),h&&l.push(h),l}}]),t}();e.default=M},function(t,e,n){var r=n(200),i=n(50)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(78),o=r(i),a=n(79),s=r(a),u=n(195),c=r(u),l=n(209),h=r(l),f=n(0),d=r(f),p=n(1),m=r(p),v=n(210),g=r(v),y=n(314),b=r(y),x=function(t){function e(){return(0,o.default)(this,e),(0,c.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,s.default)(e,[{key:"getContent",value:function t(){var e=this.props,n=e.content,r=e.noHtml,i=e.noHtmlExceptMatchers,o=e.disableLineBreaks,a=e.disableWhitelist,s=e.emptyContent,u=e.parsedContent;if(u)return u;var c=new b.default(n,{disableLineBreaks:o,disableWhitelist:a,noHtml:r,noHtmlExceptMatchers:i}).parse();return c.length?c:s}},{key:"render",value:function t(){var e=this.props,n=e.tagName,r=e.noHtml,i=e.noHtmlExceptMatchers,o=r||i?"interweave--no-html":"",a=this.getContent(),s=n;if("fragment"===s){if(d.default.Fragment)return d.default.createElement(d.default.Fragment,null,a);s="div"}return d.default.createElement(g.default,{tagName:s,className:o},a)}}]),e}(d.default.PureComponent);x.propTypes={content:m.default.string,disableLineBreaks:m.default.bool,disableWhitelist:m.default.bool,emptyContent:m.default.node,noHtml:m.default.bool,noHtmlExceptMatchers:m.default.bool,parsedContent:m.default.node,tagName:m.default.oneOf(["span","div","p","fragment"])},x.defaultProps={content:"",disableLineBreaks:!1,disableWhitelist:!1,emptyContent:null,noHtml:!1,noHtmlExceptMatchers:!1,parsedContent:null,tagName:"span"},e.default=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MatcherShape=e.FilterShape=void 0;var i=n(1),o=r(i),a=e.FilterShape=o.default.shape({attribute:o.default.func,node:o.default.func}),s=e.MatcherShape=o.default.shape({asTag:o.default.func.isRequired,createElement:o.default.func.isRequired,inverseName:o.default.string.isRequired,match:o.default.func.isRequired,onAfterParse:o.default.func,onBeforeParse:o.default.func,propName:o.default.string.isRequired})},function(t,e,n){"use strict";function r(t){var e=[Object(o.a)(t),Object(i.a)(t)];return Promise.all(e)}e.a=r;var i=n(634),o=n(635)},function(t,e,n){"use strict";function r(t,e){if(0!==t.length&&0!==e.length){for(var n=t.slice().reverse(),r=e.slice().reverse(),i=Math.max(t.length,e.length),o=new Array(i),a=0;a<i;a++)if(n[a]&&1!==n[a])if(r[a]&&1!==r[a]){if(n[a]!==r[a])return;o[a]=n[a]}else o[a]=n[a];else o[a]=r[a];return o.reverse()}}function i(t,e){return it.new(t).add(e)}function o(t,e){return it.new(t).multiply(e)}function a(t,e){return it.new(t).divide(e)}function s(t,e){return it.new(t).subtract(e)}function u(t,e){return it.new(t).equal(e)}function c(t){return it.new(t).flatten()}function l(t,e){return it.new(t).reshape(e)}function h(t){return it.new(t).exp()}function f(t){return it.new(t).log()}function d(t){return it.new(t).sqrt()}function p(t,e){return it.new(t).pow(e)}function m(t){return it.new(t).sum()}function v(t){return it.new(t).mean()}function g(t,e){return it.new(t).std(e)}function y(t){return it.new(t).min()}function b(t){return it.new(t).max()}function x(t,e){return it.new(t).mod(e)}function _(t,e){return it.new(t).transpose(e)}function w(t){return it.new(t).negative()}function E(t,e,n,r){if(1===arguments.length)return E(0,t,1,void 0);if(2===arguments.length&&ot.isNumber(e))return E(t,e,1,void 0);if(2===arguments.length)return E(0,t,1,e);if(3===arguments.length&&!ot.isNumber(n))return E(t,e,1,n);for(var i=[],o=0;t<e;)i[o++]=t,t+=n;return it.new(i,r)}function M(t,e){ot.isNumber(t)&&t>=0&&(t=[t]);var n=ot.shapeSize(t),r=ot.getType(e),i=new it(new r(n),t);return"array"===i.dtype&&tt.assigns(i.selection,0),i}function S(t,e){ot.isNumber(t)&&t>=0&&(t=[t]);var n=ot.shapeSize(t),r=ot.getType(e),i=new it(new r(n),t);return tt.assigns(i.selection,1),i}function T(t,e){ot.isNumber(t)&&t>=0&&(t=[t]);var n=ot.shapeSize(t),r=ot.getType(e);return new it(new r(n),t)}function A(t){if(0===arguments.length)return it.new(Math.random());t=1===arguments.length?ot.isNumber(t)?[0|t]:t:[].slice.call(arguments);var e=ot.shapeSize(t),n=new it(new Float64Array(e),t);return tt.random(n.selection),n}function C(t){var e=it.new(t).exp(),n=e.sum();return tt.divseq(e.selection,n),e}function O(t,e){return t=it.new(t).clone(),e=e||1,st(t.selection,e),t}function P(t,e,n){1===arguments.length?(e=0,n=1):2===arguments.length&&(n=1);var r=t instanceof it?t.clone():it.new(t);return ut(r.selection,e,n),r}function L(t,e){e=e||.001;var n=t instanceof it?t.clone():it.new(t);return ct(n.selection,e),n}function R(t){var e=t instanceof it?t.clone():it.new(t);return lt(e.selection),e}function k(t){var e=t instanceof it?t.clone():it.new(t);return tt.abseq(e.selection),e}function N(t){var e=t instanceof it?t.clone():it.new(t);return tt.coseq(e.selection),e}function I(t){var e=t instanceof it?t.clone():it.new(t);return tt.acoseq(e.selection),e}function j(t){var e=t instanceof it?t.clone():it.new(t);return tt.sineq(e.selection),e}function D(t){var e=t instanceof it?t.clone():it.new(t);return tt.asineq(e.selection),e}function B(t){var e=t instanceof it?t.clone():it.new(t);return tt.taneq(e.selection),e}function F(t){var e=t instanceof it?t.clone():it.new(t);return tt.ataneq(e.selection),e}function U(t,e){return it.new(t).dot(e)}function G(t){arguments.length>1&&(t=[].slice.call(arguments));var e,n;for(e=0;e<t.length;e++)n=t[e],t[e]=n instanceof it?n.tolist():ot.isNumber(n)?[n]:n;var r=t[0];for(e=1;e<t.length;e++){n=t[e];var i=ot.getShape(r),o=ot.getShape(n);if(i.length!==o.length)throw new at.ValueError("all the input arrays must have same number of dimensions");if(1===i.length&&1===o.length)r=r.concat(n);else if(2===i.length&&2===o.length&&i[0]===o[0]||1===i.length&&2===o.length&&i[0]===o[0]||2===i.length&&1===o.length&&i[0]===o[0])for(var a=0;a<i[0];a++)r[a]=r[a].concat(n[a]);else{if(!(3===i.length&&3===o.length&&i[0]===o[0]&&i[1]===o[1]||2===i.length&&3===o.length&&i[0]===o[0]&&i[1]===o[1]||3===i.length&&2===o.length&&i[0]===o[0]&&i[1]===o[1]))throw new at.ValueError('cannot concatenate  "'+i+'" with "'+o+'"');for(var s=0;s<i[0];s++){for(var u=new Array(i[1]),c=0;c<i[1];c++)u[c]=r[s][c].concat(n[s][c]);r[s]=u}}}return it.new(r,t[0].dtype)}function z(t){return it.new(t).round()}function V(t,e){return it.new(t).convolve(e)}function H(t,e){return it.new(t).fftconvolve(e)}function W(t){t=t instanceof it?t.clone():it.new(t);var e=t.shape,n=e.length;if(2!==e[n-1])throw new at.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var r=new Array(n),i=new Array(n);return r[n-1]=0,i[n-1]=1,et(1,t.selection.pick.apply(t.selection,r),t.selection.pick.apply(t.selection,i)),t}function q(t){t=t instanceof it?t.clone():it.new(t);var e=t.shape,n=e.length;if(2!==e[n-1])throw new at.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var r=new Array(n),i=new Array(n);return r[n-1]=0,i[n-1]=1,et(-1,t.selection.pick.apply(t.selection,r),t.selection.pick.apply(t.selection,i)),t}function X(t){return it.new(t).diag()}function Y(t,e){for(var n=M([t,t],e),r=0;r<t;r++)n.set(r,r,1);return n}function K(t,e){if(e=e||0,!t||0===t.length)throw new at.ValueError("need at least one array to stack");t=t.map(function(t){return ot.isNumber(t)?t:it.new(t)});for(var n=t[0].shape||[],r=1;r<t.length;r++)for(var i=t[r].shape||[],o=Math.max(n.length,i.length),a=0;a<o;a++)if(n[a]!==i[a])throw new at.ValueError("all input arrays must have the same shape");var s;if(0===n.length)s=G(t);else{s=M([t.length].concat(n));for(var r=0;r<t.length;r++)s.pick(r).assign(t[r],!1)}if(e){e<0&&(e=s.ndim+e);for(var u=s.ndim,c=new Array(u),r=0;r<u;r++)c[r]=r<e?r+1:r===e?0:r;return s.transpose(c)}return s}function Z(t,e){t=it.new(t);for(var n=S(t.ndim).tolist(),r=e;r<0;)r+=t.ndim;if(void 0===n[r])throw new at.ValueError("axis="+e+"invalid for the "+t.ndim+"-dimensional input array");return n[r]=-1,t.step.apply(t,n)}function Q(t,e,n){for(e=e||1;e<0;)e+=4;if(e%=4,t=it.new(t),n=it.new(n||[0,1]),1!==n.shape.length||2!==n.shape[0])throw new at.ValueError("len(axes) must be 2");if(n=n.tolist(),n[0]===n[1]||k(n[0]-n[1])===t.ndim)throw new at.ValueError("Axes must be different.");if(0===e)return t;if(2===e)return Z(Z(t,n[0]),n[1]);var r=E(t.ndim).tolist(),i=r[n[0]];return r[n[0]]=r[n[1]],r[n[1]]=i,1===e?_(Z(t,n[1]),r):Z(_(t,r),n[1])}var J=n(97),$=n(51),tt=n(85),et=n(322),nt=n(326),rt=n(327),it=n(39),ot=n(98),at=n(136),st=$({args:["array","scalar"],body:function t(e,n){e=e<-30?0:e>30?1:1/(1+Math.exp(-1*n*e))}}),ut=$({args:["array","scalar","scalar"],body:function t(e,n,r){e=Math.min(Math.max(n,e),r)}}),ct=$({args:["array","scalar"],body:function t(e,n){e=Math.max(n*e,e)}}),lt=$({args:["array"],body:function t(e){e=(Math.exp(2*e)-1)/(Math.exp(2*e)+1)}});t.exports={config:nt,dtypes:rt,NdArray:it,ndarray:J,array:it.new,arange:E,reshape:l,zeros:M,ones:S,empty:T,flatten:c,flip:Z,random:A,softmax:C,sigmoid:O,leakyRelu:L,abs:k,arccos:I,arcsin:D,arctan:F,cos:N,sin:j,tan:B,tanh:R,clip:P,exp:h,log:f,sqrt:d,power:p,sum:m,mean:v,std:g,dot:U,add:i,subtract:s,multiply:o,divide:a,negative:w,equal:u,max:b,min:y,mod:x,remainder:x,concatenate:G,transpose:_,errors:at,broadcast:r,round:z,convolve:V,fftconvolve:H,fft:W,ifft:q,diag:X,identity:Y,stack:K,rot90:Q,int8:function(t){return it.new(t,"int8")},uint8:function(t){return it.new(t,"uint8")},int16:function(t){return it.new(t,"int16")},uint16:function(t){return it.new(t,"uint16")},int32:function(t){return it.new(t,"int32")},uint32:function(t){return it.new(t,"uint32")},float32:function(t){return it.new(t,"float32")},float64:function(t){return it.new(t,"float64")},images:n(648)}},function(t,e,n){"use strict";function r(t,e){for(var n=1,r=t.length,i=t[0],o=t[0],a=1;a<r;++a)if(o=i,i=t[a],e(i,o)){if(a===n){n++;continue}t[n++]=i}return t.length=n,t}function i(t){for(var e=1,n=t.length,r=t[0],i=t[0],o=1;o<n;++o,i=r)if(i=r,(r=t[o])!==i){if(o===e){e++;continue}t[e++]=r}return t.length=e,t}function o(t,e,n){return 0===t.length?t:e?(n||t.sort(e),r(t,e)):(n||t.sort(),i(t))}t.exports=o},function(t,e,n){"use strict";function r(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(t){var e=new r;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var i=0;i<n.length;++i){var a=n[i];if("array"===a||"object"===typeof a&&a.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===a){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!==typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,o(e)}var o=n(640);t.exports=i},function(t,e,n){"use strict";function r(t,e,n){var r=e.shape,u=r.length,c=1,l=new Array(u),h=0,f,d;for(f=u-1;f>=0;--f)if(l[f]=c,c*=r[f],h=Math.max(h,s.scratchMemory(r[f])),e.shape[f]!==n.shape[f])throw new Error("Shape mismatch, real and imaginary arrays must have same size");var p=4*c+h,m;m="array"===e.dtype||"float64"===e.dtype||"custom"===e.dtype?a.mallocDouble(p):a.mallocFloat(p);var v=o(m,r.slice(0),l,0),g=o(m,r.slice(0),l.slice(0),c),y=o(m,r.slice(0),l.slice(0),2*c),b=o(m,r.slice(0),l.slice(0),3*c),x,_,w,E,M=4*c;for(i.assign(v,e),i.assign(g,n),f=u-1;f>=0&&(s(t,c/r[f],r[f],m,v.offset,g.offset,M),0!==f);--f){for(_=1,w=y.stride,E=b.stride,d=f-1;d<u;++d)E[d]=w[d]=_,_*=r[d];for(d=f-2;d>=0;--d)E[d]=w[d]=_,_*=r[d];i.assign(y,v),i.assign(b,g),x=v,v=y,y=x,x=g,g=b,b=x}i.assign(e,v),i.assign(n,g),a.free(m)}var i=n(85),o=n(97),a=n(323),s=n(645);t.exports=r},function(t,e,n){"use strict";(function(t,r){function i(t){if(t){var e=t.length||t.byteLength,n=y.log2(e);w[n].push(t)}}function o(t){i(t.buffer)}function a(t){var t=y.nextPow2(t),e=y.log2(t),n=w[e];return n.length>0?n.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(a(t),0,t)}function u(t){return new Uint16Array(a(2*t),0,t)}function c(t){return new Uint32Array(a(4*t),0,t)}function l(t){return new Int8Array(a(t),0,t)}function h(t){return new Int16Array(a(2*t),0,t)}function f(t){return new Int32Array(a(4*t),0,t)}function d(t){return new Float32Array(a(4*t),0,t)}function p(t){return new Float64Array(a(8*t),0,t)}function m(t){return x?new Uint8ClampedArray(a(t),0,t):s(t)}function v(t){return new DataView(a(t),0,t)}function g(t){t=y.nextPow2(t);var e=y.log2(t),n=E[e];return n.length>0?n.pop():new r(t)}var y=n(325),b=n(644);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:b([32,0]),UINT16:b([32,0]),UINT32:b([32,0]),INT8:b([32,0]),INT16:b([32,0]),INT32:b([32,0]),FLOAT:b([32,0]),DOUBLE:b([32,0]),DATA:b([32,0]),UINT8C:b([32,0]),BUFFER:b([32,0])});var x="undefined"!==typeof Uint8ClampedArray,_=t.__TYPEDARRAY_POOL;_.UINT8C||(_.UINT8C=b([32,0])),_.BUFFER||(_.BUFFER=b([32,0]));var w=_.DATA,E=_.BUFFER;e.free=function t(e){if(r.isBuffer(e))E[y.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var n=e.length||e.byteLength,i=0|y.log2(n);w[i].push(e)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=o,e.freeArrayBuffer=i,e.freeBuffer=function t(e){E[y.log2(e.length)].push(e)},e.malloc=function t(e,n){if(void 0===n||"arraybuffer"===n)return a(e);switch(n){case"uint8":return s(e);case"uint16":return u(e);case"uint32":return c(e);case"int8":return l(e);case"int16":return h(e);case"int32":return f(e);case"float":case"float32":return d(e);case"double":case"float64":return p(e);case"uint8_clamped":return m(e);case"buffer":return g(e);case"data":case"dataview":return v(e);default:return null}return null},e.mallocArrayBuffer=a,e.mallocUint8=s,e.mallocUint16=u,e.mallocUint32=c,e.mallocInt8=l,e.mallocInt16=h,e.mallocInt32=f,e.mallocFloat32=e.mallocFloat=d,e.mallocFloat64=e.mallocDouble=p,e.mallocUint8Clamped=m,e.mallocDataView=v,e.mallocBuffer=g,e.clearCache=function t(){for(var e=0;e<32;++e)_.UINT8[e].length=0,_.UINT16[e].length=0,_.UINT32[e].length=0,_.INT8[e].length=0,_.INT16[e].length=0,_.INT32[e].length=0,_.FLOAT[e].length=0,_.DOUBLE[e].length=0,_.UINT8C[e].length=0,w[e].length=0,E[e].length=0}}).call(e,n(33),n(45).Buffer)},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";"use restrict";function r(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var i=32;e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1)&&!!t},e.log2=function(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,(e|=n)|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var o=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(o),e.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),(t=65535&(t|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),(t=1023&(t|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){"use strict";t.exports={printThreshold:7,nFloatingValues:5}},function(t,e,n){"use strict";t.exports={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,array:Array}},function(t,e,n){"use strict";function r(t){var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),r=[t.width,t.height,4],i=[4,4*t.width,1],s=o(new Uint8Array(n.data),r,i,0),c=s.transpose(1,0);return u(c)&&(c=c.pick(null,null,0)),new a(c)}function i(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0);var r=n.getImageData(0,0,t.width,t.height),i=[t.width,t.height,4],s=[4,4*t.width,1],c=o(new Uint8Array(r.data),i,s,0),l=c.transpose(1,0);return u(l)&&(l=l.pick(null,null,0)),new a(l)}var o=n(97),a=n(39),s=n(136),u=n(651);t.exports=function t(e){if(e instanceof HTMLCanvasElement)return r(e);if(e instanceof HTMLImageElement)return i(e);throw new s.ValueError("expect input to be either an HTML Canvas or a (loaded) Image")}},function(t,e,n){"use strict";var r=n(39);t.exports.getRawData=function t(e){e instanceof r&&(e=e.selection);var n,i,o=0,a=e.shape,s=a[0],u=a[1],c=a[2]||1,l=new Uint8Array(s*u*c);if(3===e.shape.length)if(3===c)for(n=0;n<s;++n)for(i=0;i<u;++i)l[o++]=e.get(n,i,0),l[o++]=e.get(n,i,1),l[o++]=e.get(n,i,2);else if(4===c)for(n=0;n<s;++n)for(i=0;i<u;++i)l[o++]=e.get(n,i,0),l[o++]=e.get(n,i,1),l[o++]=e.get(n,i,2),l[o++]=e.get(n,i,3);else{if(1!==c)return new Error("Incompatible array shape");for(n=0;n<s;++n)for(i=0;i<u;++i)l[o++]=e.get(n,i,0)}else{if(2!==e.shape.length)return new Error("Invalid image");for(n=0;n<s;++n)for(i=0;i<u;++i)l[o++]=e.get(n,i)}return l},t.exports.setRawData=function t(e,n){var r,i,o=0,a,s=e.shape[0],u=e.shape[1],c=e.shape[2]||1;if(3===e.shape.length)if(3===c)for(r=0;r<s;++r)for(i=0;i<u;++i)n[o++]=e.get(r,i,0),n[o++]=e.get(r,i,1),n[o++]=e.get(r,i,2),n[o++]=255;else if(4===c)for(r=0;r<s;++r)for(i=0;i<u;++i)n[o++]=e.get(r,i,0),n[o++]=e.get(r,i,1),n[o++]=e.get(r,i,2),n[o++]=e.get(r,i,3);else{if(1!==c)return new Error("Incompatible array shape");for(r=0;r<s;++r)for(i=0;i<u;++i)a=e.get(r,i,0),n[o++]=a,n[o++]=a,n[o++]=a,n[o++]=255}else{if(2!==e.shape.length)return new Error("Invalid image");for(r=0;r<s;++r)for(i=0;i<u;++i)a=e.get(r,i),n[o++]=a,n[o++]=a,n[o++]=a,n[o++]=255}}},function(t,e,n){"use strict";t.exports=function t(e,n,r,i,o){var a=n-1,s=n+i-1,u=e-1,c=e+r-1;return 0!==n&&0!==e?o.selection.get(u,a)-o.selection.get(c,a)-o.selection.get(u,s)+o.selection.get(c,s):0===n&&0===e?o.selection.get(e+r-1,n+i-1):0===n?-o.selection.get(u,n+i-1)+o.selection.get(e+r-1,n+i-1):-o.selection.get(c,a)+o.selection.get(c,s)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(24),o=n(318),a=n(16),s=n(125),u=n.n(s),c=n(213),l=n(211),h=n(212),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=i,p=function(){function t(e,n,i,o){r(this,t),this.OPTIONS_MAP={center:l.a,createNormalMap:h.c},this.meshFile=e,this.mapFiles=n,this.options=i,this.progress=o,this.loadersInitialized=!1,this.converted=!1}return f(t,[{key:"init",value:function t(){var e=this;return new Promise(function(t,n){e.textureLoader=new d.TextureLoader,Object(o.a)(d).then(function(){e.loadersInitialized=!0,t(e)})})}},{key:"readMaps",value:function t(){var e=[];for(var n in this.mapFiles){var r=this.mapFiles[n];e.push(this.readMap(n,r))}return Promise.all(e)}},{key:"readMap",value:function t(e,n){return new Promise(function(t,r){var i=new FileReader;i.onloadend=function(){var n=i.result;t({type:e,dataURL:n})},i.onerror=function(t){return r(t)},i.readAsDataURL(n)})}},{key:"readASCII",value:function t(e){return new Promise(function(t,n){var r=new FileReader;r.onloadend=function(){var e=r.result;t(e)},r.onerror=function(t){return n(t)},r.readAsText(e)})}},{key:"readBinary",value:function t(e){return new Promise(function(t,n){var r=new FileReader;r.onloadend=function(){var e=r.result;t(e)},r.onerror=function(t){return n(t)},r.readAsArrayBuffer(e)})}},{key:"loadTexture",value:function t(e,n,r){var i=this;return new Promise(function(t,o){var a=i.textureLoader,s=function e(r){void 0!==n&&n(r),t(r)},u=function t(e){void 0!==r&&r(e),o(e)};a.load(e,s,void 0,u)})}},{key:"handleOptions",value:function t(){var e=this;return new Promise(function(t,n){!1===e.converted&&n("this.convert method needs to be called before handling any options");var r=[];for(var i in e.options){!0===e.options[i]&&void 0!==e.OPTIONS_MAP[i]&&r.push(e.OPTIONS_MAP[i](e.mesh))}r.length>0?Promise.all(r).then(function(e){return t(e.pop())}):t(e.mesh)})}},{key:"handleError",value:function t(e){return this.emitError(e),Promise.reject(e)}},{key:"convert",value:function t(){this.converted=!0}},{key:"emitProgress",value:function t(e,n){void 0!==this.progress&&this.progress.dispatch(this.progress.EVENT_TYPES.UPDATE_CONVERSION_PROGRESS,{val:e,percent:n})}},{key:"emitError",value:function t(e){void 0!==this.progress&&this.progress.dispatch(this.progress.EVENT_TYPES.CONVERSION_ERROR,{error:e})}},{key:"emitDone",value:function t(e){void 0!==this.progress&&this.progress.dispatch(this.progress.EVENT_TYPES.DONE,{file:e})}},{key:"export",value:function t(){return this.mesh.toJSON()}}]),t}();e.a=p},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}e.a=r},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n(1),i=n.n(r),o=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),a=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired})},function(t,e,n){"use strict";function r(){}function i(t,e){var n={run:function r(i){try{var o=t(e.getState(),i);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}function o(t,e){var n,o;void 0===e&&(e={});var l=e,f=l.getDisplayName,m=void 0===f?function(t){return"ConnectAdvanced("+t+")"}:f,g=l.methodName,w=void 0===g?"connectAdvanced":g,E=l.renderCountProp,M=void 0===E?void 0:E,S=l.shouldHandleStateChanges,T=void 0===S||S,A=l.storeKey,C=void 0===A?"store":A,O=l.withRef,P=void 0!==O&&O,L=Object(c.a)(l,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),R=C+"Subscription",k=x++,N=(n={},n[C]=b.a,n[R]=b.b,n),I=(o={},o[R]=b.b,o);return function e(n){d()(Object(v.isValidElementType)(n),"You must pass a component to the function returned by "+w+". Instead received "+JSON.stringify(n));var o=n.displayName||n.name||"Component",c=m(o),l=Object(u.a)({},L,{getDisplayName:m,methodName:w,renderCountProp:M,shouldHandleStateChanges:T,storeKey:C,withRef:P,displayName:c,wrappedComponentName:o,WrappedComponent:n}),f=function(e){function o(t,n){var r;return r=e.call(this,t,n)||this,r.version=k,r.state={},r.renderCount=0,r.store=t[C]||n[C],r.propsMode=Boolean(t[C]),r.setWrappedInstance=r.setWrappedInstance.bind(Object(s.a)(Object(s.a)(r))),d()(r.store,'Could not find "'+C+'" in either the context or props of "'+c+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+c+'".'),r.initSelector(),r.initSubscription(),r}Object(a.a)(o,e);var h=o.prototype;return h.getChildContext=function t(){var e,n=this.propsMode?null:this.subscription;return e={},e[R]=n||this.context[R],e},h.componentDidMount=function t(){T&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},h.componentWillReceiveProps=function t(e){this.selector.run(e)},h.shouldComponentUpdate=function t(){return this.selector.shouldComponentUpdate},h.componentWillUnmount=function t(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=r,this.store=null,this.selector.run=r,this.selector.shouldComponentUpdate=!1},h.getWrappedInstance=function t(){return d()(P,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+w+"() call."),this.wrappedInstance},h.setWrappedInstance=function t(e){this.wrappedInstance=e},h.initSelector=function e(){var n=t(this.store.dispatch,l);this.selector=i(n,this.store),this.selector.run(this.props)},h.initSubscription=function t(){if(T){var e=(this.propsMode?this.props:this.context)[R];this.subscription=new y.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},h.onStateChange=function t(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(_)):this.notifyNestedSubs()},h.notifyNestedSubsOnComponentDidUpdate=function t(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},h.isSubscribed=function t(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},h.addExtraProps=function t(e){if(!P&&!M&&(!this.propsMode||!this.subscription))return e;var n=Object(u.a)({},e);return P&&(n.ref=this.setWrappedInstance),M&&(n[M]=this.renderCount++),this.propsMode&&this.subscription&&(n[R]=this.subscription),n},h.render=function t(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(p.createElement)(n,this.addExtraProps(e.props))},o}(p.Component);return f.WrappedComponent=n,f.displayName=c,f.childContextTypes=I,f.contextTypes=N,f.propTypes=N,h()(f,n)}}e.a=o;var a=n(332),s=n(666),u=n(215),c=n(216),l=n(667),h=n.n(l),f=n(46),d=n.n(f),p=n(0),m=n.n(p),v=n(335),g=n.n(v),y=n(669),b=n(333),x=0,_={}},function(t,e,n){"use strict";t.exports=n(668)},function(t,e,n){"use strict";function r(t){return function e(n,r){function i(){return o}var o=t(n,r);return i.dependsOnOwnProps=!1,i}}function i(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function o(t,e){return function e(n,r){var o=r.displayName,a=function t(e,n){return a.dependsOnOwnProps?a.mapToProps(e,n):a.mapToProps(e)};return a.dependsOnOwnProps=!0,a.mapToProps=function e(n,r){a.mapToProps=t,a.dependsOnOwnProps=i(t);var o=a(n,r);return"function"===typeof o&&(a.mapToProps=o,a.dependsOnOwnProps=i(o),o=a(n,r)),o},a}}e.a=r,e.b=o;var a=n(337)},function(t,e,n){"use strict";function r(t,e,n){Object(i.a)(t)||Object(o.a)(n+"() in "+e+" must return a plain object. Instead received "+t+".")}var i=n(673),o=n(214)},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"f",function(){return c}),n.d(e,"d",function(){return l});var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i=function t(e,n,r){return e.addEventListener?e.addEventListener(n,r,!1):e.attachEvent("on"+n,r)},o=function t(e,n,r){return e.removeEventListener?e.removeEventListener(n,r,!1):e.detachEvent("on"+n,r)},a=function t(e,n){return n(window.confirm(e))},s=function t(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},u=function t(){return-1===window.navigator.userAgent.indexOf("Trident")},c=function t(){return-1===window.navigator.userAgent.indexOf("Firefox")},l=function t(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),u=n.n(s),c=n(1),l=n.n(c),h=n(46),f=n.n(h),d=n(86),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m=function t(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},v=function(t){function e(){var n,r,a;i(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(u))),r.handleClick=function(t){if(r.props.onClick&&r.props.onClick(t),!t.defaultPrevented&&0===t.button&&!r.props.target&&!m(t)){t.preventDefault();var e=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?e.replace(o):e.push(o)}},a=n,o(r,a)}return a(e,t),e.prototype.render=function t(){var e=this.props,n=e.replace,i=e.to,o=e.innerRef,a=r(e,["replace","to","innerRef"]);f()(this.context.router,"You should not use <Link> outside a <Router>"),f()(void 0!==i,'You must specify the "to" property');var s=this.context.router.history,c="string"===typeof i?Object(d.c)(i,null,null,s.location):i,l=s.createHref(c);return u.a.createElement("a",p({},a,{onClick:this.handleClick,href:l,ref:o}))},e}(u.a.Component);v.propTypes={onClick:l.a.func,target:l.a.string,replace:l.a.bool,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired,innerRef:l.a.oneOfType([l.a.string,l.a.func])},v.defaultProps={replace:!1},v.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired,createHref:l.a.func.isRequired}).isRequired}).isRequired},e.a=v},function(t,e,n){"use strict";var r=n(341);e.a=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(58),s=n.n(a),u=n(46),c=n.n(u),l=n(0),h=n.n(l),f=n(1),d=n.n(f),p=n(220),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=function t(e){return 0===h.a.Children.count(e)},g=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,t.call.apply(t,[this].concat(u))),o.state={match:o.computeMatch(o.props,o.context.router)},a=n,i(o,a)}return o(e,t),e.prototype.getChildContext=function t(){return{router:m({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function t(e,n){var r=e.computedMatch,i=e.location,o=e.path,a=e.strict,s=e.exact,u=e.sensitive;if(r)return r;c()(n,"You should not use <Route> or withRouter() outside a <Router>");var l=n.route,h=(i||l.location).pathname;return Object(p.a)(h,{path:o,strict:a,exact:s,sensitive:u},l.match)},e.prototype.componentWillMount=function t(){s()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),s()(!(this.props.component&&this.props.children&&!v(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),s()(!(this.props.render&&this.props.children&&!v(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},e.prototype.componentWillReceiveProps=function t(e,n){s()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,n.router)})},e.prototype.render=function t(){var e=this.state.match,n=this.props,r=n.children,i=n.component,t=n.render,o=this.context.router,a=o.history,s=o.route,u=o.staticContext,c=this.props.location||s.location,l={match:e,location:c,history:a,staticContext:u};return i?e?h.a.createElement(i,l):null:t?e?t(l):null:"function"===typeof r?r(l):r&&!v(r)?h.a.Children.only(r):null},e}(h.a.Component);g.propTypes={computedMatch:d.a.object,path:d.a.string,exact:d.a.bool,strict:d.a.bool,sensitive:d.a.bool,component:d.a.func,render:d.a.func,children:d.a.oneOfType([d.a.func,d.a.node]),location:d.a.object},g.contextTypes={router:d.a.shape({history:d.a.object.isRequired,route:d.a.object.isRequired,staticContext:d.a.object})},g.childContextTypes={router:d.a.object.isRequired},e.a=g},function(t,e,n){function r(t,e){for(var n=[],r=0,i=0,o="",a=e&&e.delimiter||"/",s;null!=(s=y.exec(t));){var l=s[0],h=s[1],f=s.index;if(o+=t.slice(i,f),i=f+l.length,h)o+=h[1];else{var d=t[i],p=s[2],m=s[3],v=s[4],g=s[5],b=s[6],x=s[7];o&&(n.push(o),o="");var _=null!=p&&null!=d&&d!==p,w="+"===b||"*"===b,E="?"===b||"*"===b,M=s[2]||a,S=v||g;n.push({name:m||r++,prefix:p||"",delimiter:M,optional:E,repeat:w,partial:_,asterisk:!!x,pattern:S?c(S):x?".*":"[^"+u(M)+"]+?"})}}return i<t.length&&(o+=t.substr(i)),o&&n.push(o),n}function i(t,e){return s(r(t,e))}function o(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function a(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var i="",s=n||{},u=r||{},c=u.pretty?o:encodeURIComponent,l=0;l<t.length;l++){var h=t[l];if("string"!==typeof h){var f=s[h.name],d;if(null==f){if(h.optional){h.partial&&(i+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(g(f)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(d=c(f[p]),!e[l].test(d))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===p?h.prefix:h.delimiter)+d}}else{if(d=h.asterisk?a(f):c(f),!e[l].test(d))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+d+'"');i+=h.prefix+d}}else i+=h}return i}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function h(t){return t.sensitive?"":"i"}function f(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}function d(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(v(t[i],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),e)}function p(t,e,n){return m(r(t,n),e,n)}function m(t,e,n){g(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"===typeof s)o+=u(s);else{var c=u(s.prefix),f="(?:"+s.pattern+")";e.push(s),s.repeat&&(f+="(?:"+c+f+")*"),f=s.optional?s.partial?c+"("+f+")?":"(?:"+c+"("+f+"))?":c+"("+f+")",o+=f}}var d=u(n.delimiter||"/"),p=o.slice(-d.length)===d;return r||(o=(p?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?"),o+=i?"$":r&&p?"":"(?="+d+"|$)",l(new RegExp("^"+o,h(n)),e)}function v(t,e,n){return g(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?f(t,e):g(t)?d(t,e,n):p(t,e,n)}var g=n(689);t.exports=v,t.exports.parse=r,t.exports.compile=i,t.exports.tokensToFunction=s,t.exports.tokensToRegExp=m;var y=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(t,e,n){"use strict";var r=n(342),i=n.n(r),o={},a=1e4,s=0,u=function t(e){var n=e,r=o[n]||(o[n]={});if(r[e])return r[e];var a=i.a.compile(e);return s<1e4&&(r[e]=a,s++),a},c=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===e?e:u(e)(n,{pretty:!0})};e.a=c},function(t,e,n){function r(t,e,n){e=i(e,t);for(var r=-1,l=e.length,h=!1;++r<l;){var f=c(e[r]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++r!=l?h:!!(l=null==t?0:t.length)&&u(l)&&s(f,l)&&(a(t)||o(t))}var i=n(103),o=n(145),a=n(17),s=n(104),u=n(225),c=n(72);t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(33))},function(t,e,n){var r=n(710),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=a},function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(223),o="Expected a function";r.Cache=i,t.exports=r},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=o(r.length-e,0),u=Array(s);++a<s;)u[a]=r[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=r[a];return c[e]=n(u),i(t,this,c)}}var i=n(146),o=Math.max;t.exports=r},function(t,e,n){var r=n(70),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e){function n(t){var e=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;t.exports=n},function(t,e,n){function r(t,e,n,r){var h=-1,f=o,d=!0,p=t.length,m=[],v=e.length;if(!p)return m;n&&(e=s(e,u(n))),r?(f=a,d=!1):e.length>=l&&(f=c,d=!1,e=new i(e));t:for(;++h<p;){var g=t[h],y=null==n?g:n(g);if(g=r||0!==g?g:0,d&&y===y){for(var b=v;b--;)if(e[b]===y)continue t;m.push(g)}else f(e,y,r)||m.push(g)}return m}var i=n(149),o=n(150),a=n(228),s=n(52),u=n(73),c=n(152),l=200;t.exports=r},function(t,e){function n(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}t.exports=n},function(t,e){function n(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}t.exports=n},function(t,e,n){function r(t,e){var n=a(t),r=!n&&o(t),l=!n&&!r&&s(t),f=!n&&!r&&!l&&c(t),d=n||r||l||f,p=d?i(t.length,String):[],m=p.length;for(var v in t)!e&&!h.call(t,v)||d&&("length"==v||l&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||u(v,m))||p.push(v);return p}var i=n(357),o=n(145),a=n(17),s=n(107),u=n(104),c=n(157),l=Object.prototype,h=l.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){function r(t,e,n,r,c,l){var h=n&s,f=t.length,d=e.length;if(f!=d&&!(h&&d>f))return!1;var p=l.get(t);if(p&&l.get(e))return p==e;var m=-1,v=!0,g=n&u?new i:void 0;for(l.set(t,e),l.set(e,t);++m<f;){var y=t[m],b=e[m];if(r)var x=h?r(b,y,m,e,t,l):r(y,b,m,t,e,l);if(void 0!==x){if(x)continue;v=!1;break}if(g){if(!o(e,function(t,e){if(!a(g,e)&&(y===t||c(y,t,n,r,l)))return g.push(e)})){v=!1;break}}else if(y!==b&&!c(y,b,n,r,l)){v=!1;break}}return l.delete(t),l.delete(e),v}var i=n(149),o=n(360),a=n(152),s=1,u=2;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){var r=n(28),i=r.Uint8Array;t.exports=i},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e,n){function r(t){return i(t,a,o)}var i=n(364),o=n(233),a=n(31);t.exports=r},function(t,e,n){function r(t,e,n){var r=e(t);return o(t)?r:i(r,n(t))}var i=n(229),o=n(17);t.exports=r},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){var r=n(70),i=n(28),o=r(i,"Set");t.exports=o},function(t,e,n){var r=n(70),i=n(28),o=r(i,"WeakMap");t.exports=o},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(29);t.exports=r},function(t,e){function n(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=n},function(t,e,n){function r(t,e){return null!=t&&o(t,e,i)}var i=n(766),o=n(344);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){var r=n(781),i=n(373),o=r(i);t.exports=o},function(t,e,n){function r(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var u=null==n?0:a(n);return u<0&&(u=s(r+u,0)),i(t,o(e,3),u)}var i=n(353),o=n(32),a=n(54),s=Math.max;t.exports=r},function(t,e,n){var r=n(53),i=n(375),o=i?function(t,e){return i.set(t,e),t}:r;t.exports=o},function(t,e,n){var r=n(367),i=r&&new r;t.exports=i},function(t,e,n){function r(t,e,n,b,x,_,w,E,M,S){function T(){for(var d=arguments.length,p=Array(d),m=d;m--;)p[m]=arguments[m];if(P)var v=c(T),g=a(p,v);if(b&&(p=i(p,b,x,P)),_&&(p=o(p,_,w,P)),d-=g,P&&d<S){var y=h(p,v);return u(t,e,r,T.placeholder,n,p,y,E,M,S-d)}var k=C?n:this,N=O?k[t]:t;return d=p.length,E?p=l(p,E):L&&d>1&&p.reverse(),A&&M<d&&(p.length=M),this&&this!==f&&this instanceof T&&(N=R||s(N)),N.apply(k,p)}var A=e&g,C=e&d,O=e&p,P=e&(m|v),L=e&y,R=O?void 0:s(t);return T}var i=n(377),o=n(378),a=n(795),s=n(164),u=n(379),c=n(242),l=n(802),h=n(165),f=n(28),d=1,p=2,m=8,v=16,g=128,y=512;t.exports=r},function(t,e){function n(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=e.length,l=r(a-s,0),h=Array(c+l),f=!i;++u<c;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[n[o]]=t[o]);for(;l--;)h[u++]=t[o++];return h}var r=Math.max;t.exports=n},function(t,e){function n(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,l=e.length,h=r(a-u,0),f=Array(h+l),d=!i;++o<h;)f[o]=t[o];for(var p=o;++c<l;)f[p+c]=e[c];for(;++s<u;)(d||o<a)&&(f[p+n[s]]=t[o++]);return f}var r=Math.max;t.exports=n},function(t,e,n){function r(t,e,n,r,d,p,m,v,g,y){var b=e&l,x=b?m:void 0,_=b?void 0:m,w=b?p:void 0,E=b?void 0:p;e|=b?h:f,(e&=~(b?f:h))&c||(e&=~(s|u));var M=[t,e,d,w,x,E,_,v,g,y],S=n.apply(void 0,M);return i(t)&&o(S,M),S.placeholder=r,a(S,t,e)}var i=n(380),o=n(383),a=n(384),s=1,u=2,c=4,l=8,h=32,f=64;t.exports=r},function(t,e,n){function r(t){var e=a(t),n=s[e];if("function"!=typeof n||!(e in i.prototype))return!1;if(t===n)return!0;var r=o(n);return!!r&&t===r[0]}var i=n(238),o=n(240),a=n(382),s=n(797);t.exports=r},function(t,e){function n(){}t.exports=n},function(t,e,n){function r(t){for(var e=t.name+"",n=i[e],r=a.call(i,e)?n.length:0;r--;){var o=n[r],s=o.func;if(null==s||s==t)return o.name}return e}var i=n(796),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(374),i=n(351),o=i(r);t.exports=o},function(t,e,n){function r(t,e,n){var r=e+"";return a(t,o(r,s(i(r),n)))}var i=n(799),o=n(800),a=n(226),s=n(801);t.exports=r},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(112),o=n(31);t.exports=r},function(t,e,n){function r(t){return a(t)?i(t,!0):o(t)}var i=n(356),o=n(807),a=n(35);t.exports=r},function(t,e,n){var r=n(229),i=n(167),o=n(233),a=n(365),s=Object.getOwnPropertySymbols,u=s?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=u},function(t,e,n){function r(t){return i(t,a,o)}var i=n(364),o=n(387),a=n(386);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,s=e.length,u={};++r<s;){var c=e[r],l=i(t,c);n(l,c)&&o(u,a(c,t),l)}return u}var i=n(147),o=n(839),a=n(103);t.exports=r},function(t,e){function n(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}t.exports=n},function(t,e,n){function r(t,e){var n=-1,r=o(t)?Array(t.length):[];return i(t,function(t,i,o){r[++n]=e(t,i,o)}),r}var i=n(74),o=n(35);t.exports=r},function(t,e,n){function r(t){return t&&t.length?i(t,o):0}var i=n(854),o=n(53);t.exports=r},function(t,e,n){var r=n(23),i=r("map",n(14));i.placeholder=n(21),t.exports=i},function(t,e,n){var r=n(23),i=r("flow",n(859));i.placeholder=n(21),t.exports=i},function(t,e,n){"use strict";var r=function t(){return 0},i,o;e.a=r},function(t,e,n){"use strict";var r=n(102),i=n.n(r),o=n(25),a=n.n(o),s="object"===("undefined"===typeof document?"undefined":i()(document))&&null!==document,u="object"===("undefined"===typeof window?"undefined":i()(window))&&null!==window&&window.self===window,c=function t(){return a()(t.override)?s&&u:t.override};e.a=c},function(t,e,n){function r(t,e,n){var r=-1,h=o,f=t.length,d=!0,p=[],m=p;if(n)d=!1,h=a;else if(f>=l){var v=e?null:u(t);if(v)return c(v);d=!1,h=s,m=new i}else m=e?[]:p;t:for(;++r<f;){var g=t[r],y=e?e(g):g;if(g=n||0!==g?g:0,d&&y===y){for(var b=m.length;b--;)if(m[b]===y)continue t;e&&m.push(y),p.push(g)}else h(m,y,n)||(m!==p&&m.push(y),p.push(g))}return p}var i=n(149),o=n(150),a=n(228),s=n(152),u=n(868),c=n(160),l=200;t.exports=r},function(t,e,n){function r(t){return"number"==typeof t||o(t)&&i(t)==a}var i=n(40),o=n(26),a="[object Number]";t.exports=r},function(t,e,n){function r(t,e,n){return e=o(e),void 0===n?(n=e,e=0):n=o(n),t=a(t),i(t,e,n)}var i=n(875),o=n(230),a=n(106);t.exports=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return u});var r=function t(e){return{active:!1,type:"ellipsisItem",value:e}},i=function t(){return{active:!1,type:"firstItem",value:1}},o=function t(e){return{active:!1,type:"prevItem",value:Math.max(1,e-1)}},a=function t(e){return function(t){return{active:e===t,type:"pageItem",value:t}}},s=function t(e,n){return{active:!1,type:"nextItem",value:Math.min(e+1,n)}},u=function t(e){return{active:!1,type:"lastItem",value:e}}},function(t,e,n){function r(t,e){return i(t,e)}var i=n(232);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.size,s=c()(a,"icons",n),u=Object(p.q)(r,t),l=Object(p.p)(r,t);return d.a.createElement(l,o()({},u,{className:s}),p.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2);r.handledProps=["as","children","className","content","size"],r.propTypes={},r.defaultProps={as:"i"},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.avatar,n=t.bordered,i=t.centered,a=t.children,u=t.circular,l=t.className,f=t.content,d=t.dimmer,p=t.disabled,b=t.floated,_=t.fluid,w=t.hidden,E=t.href,M=t.inline,S=t.label,T=t.rounded,A=t.size,C=t.spaced,O=t.verticalAlign,P=t.wrapped,L=t.ui,R=h()(Object(v.y)(L,"ui"),A,Object(v.y)(e,"avatar"),Object(v.y)(n,"bordered"),Object(v.y)(u,"circular"),Object(v.y)(i,"centered"),Object(v.y)(p,"disabled"),Object(v.y)(_,"fluid"),Object(v.y)(w,"hidden"),Object(v.y)(M,"inline"),Object(v.y)(T,"rounded"),Object(v.z)(C,"spaced"),Object(v.C)(b,"floated"),Object(v.D)(O,"aligned"),"image",l),k=Object(v.q)(r,t),N=Object(v.w)(k,{htmlProps:x}),I=s()(N,2),j=I[0],D=I[1],B=Object(v.p)(r,t,function(){if(!c()(d)||!c()(S)||!c()(P)||!v.c.isNil(a))return"div"});return v.c.isNil(a)?v.c.isNil(f)?"img"===B?m.a.createElement(B,o()({},D,j,{className:R})):m.a.createElement(B,o()({},D,{className:R,href:E}),g.a.create(d,{autoGenerateKey:!1}),y.a.create(S,{autoGenerateKey:!1}),m.a.createElement("img",j)):m.a.createElement(B,o()({},k,{className:R}),f):m.a.createElement(B,o()({},k,{className:R}),a)}var i=n(3),o=n.n(i),a=n(75),s=n.n(a),u=n(25),c=n.n(u),l=n(4),h=n.n(l),f=n(1),d=n.n(f),p=n(0),m=n.n(p),v=n(2),g=n(404),y=n(249),b=n(408),x=["alt","height","src","srcSet","width"];r.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],r.Group=b.a,r.propTypes={},r.defaultProps={as:"img",ui:!0},r.create=Object(v.l)(r,function(t){return{src:t}}),e.a=r},function(t,e,n){"use strict";var r=n(893);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(19),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(13),x=n.n(b),_=n(1),w=n.n(_),E=n(0),M=n.n(E),S=n(189),T=n.n(S),A=n(2),C=n(118),O=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleRef",function(t){return n.ref=t}),n}return p()(e,t),u()(e,[{key:"componentDidMount",value:function t(){x()(this.props,"onMount",null,i()({},this.props,{node:this.ref}))}},{key:"componentWillUnmount",value:function t(){x()(this.props,"onUnmount",null,i()({},this.props,{node:this.ref}))}},{key:"render",value:function t(){var e=this.props,n=e.children,r=e.mountNode,i=void 0===r?Object(A.s)()?document.body:null:r;return Object(S.createPortal)(M.a.createElement(C.a,{innerRef:this.handleRef},n),i)}}]),e}(E.Component);y()(O,"handledProps",["children","mountNode","onMount","onUnmount"]),O.propTypes={},e.a=O},function(t,e,n){"use strict";function r(t){var e=t.blurring,n=t.className,i=t.children,a=t.content,u=t.dimmed,c=s()(Object(f.y)(e,"blurring"),Object(f.y)(u,"dimmed"),"dimmable",n),l=Object(f.q)(r,t),d=Object(f.p)(r,t);return h.a.createElement(d,o()({},l,{className:c}),f.c.isNil(i)?a:i)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","blurring","children","className","content","dimmed"],r.propTypes={},e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return C});var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(13),x=n.n(b),_=n(4),w=n.n(_),E=n(1),M=n.n(E),S=n(0),T=n.n(S),A=n(2),C=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleClick",function(t){x()(n.props,"onClick",t,n.props),n.contentRef&&n.contentRef!==t.target&&Object(A.m)(n.contentRef,t)||x()(n.props,"onClickOutside",t,n.props)}),y()(v()(v()(n)),"handleRef",function(t){return n.ref=t}),y()(v()(v()(n)),"handleContentRef",function(t){return n.contentRef=t}),n}return p()(e,t),u()(e,[{key:"componentWillReceiveProps",value:function t(e){var n=e.active;this.props.active!==n&&this.toggleStyles(n)}},{key:"componentDidMount",value:function t(){var e=this.props.active;this.toggleStyles(e)}},{key:"toggleStyles",value:function t(e){if(this.ref)return e?void this.ref.style.setProperty("display","flex","important"):void this.ref.style.removeProperty("display")}},{key:"render",value:function t(){var n=this.props,r=n.active,o=n.children,a=n.className,s=n.content,u=n.disabled,c=n.inverted,l=n.page,h=n.simple,f=n.verticalAlign,d=w()("ui",Object(A.y)(r,"active transition visible"),Object(A.y)(u,"disabled"),Object(A.y)(c,"inverted"),Object(A.y)(l,"page"),Object(A.y)(h,"simple"),Object(A.D)(f),"dimmer",a),p=Object(A.q)(e,this.props),m=Object(A.p)(e,this.props),v=A.c.isNil(o)?s:o;return T.a.createElement(m,i()({},p,{className:d,onClick:this.handleClick,ref:this.handleRef}),v&&T.a.createElement("div",{className:"content",ref:this.handleContentRef},v))}}]),e}(S.Component);y()(C,"handledProps",["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"]),C.propTypes={}},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.size,u=s()("ui",a,n,"images"),c=Object(f.q)(r,t),l=Object(f.p)(r,t);return h.a.createElement(l,o()({},c,{className:u}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content","size"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("detail",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.circular,i=t.className,a=t.color,u=t.content,c=t.size,l=t.tag,d=s()("ui",a,c,Object(f.y)(n,"circular"),Object(f.y)(l,"tag"),"labels",i),p=Object(f.q)(r,t),m=Object(f.p)(r,t);return h.a.createElement(m,o()({},p,{className:d}),f.c.isNil(e)?u:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","circular","className","color","content","size","tag"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.hidden,u=t.visible,c=s()(Object(f.y)(u,"visible"),Object(f.y)(a,"hidden"),"content",n),l=Object(f.q)(r,t),d=Object(f.p)(r,t);return h.a.createElement(d,o()({},l,{className:c}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content","hidden","visible"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.attached,n=t.basic,i=t.buttons,a=t.children,u=t.className,l=t.color,f=t.compact,d=t.content,p=t.floated,y=t.fluid,b=t.icon,x=t.inverted,_=t.labeled,w=t.negative,E=t.positive,M=t.primary,S=t.secondary,T=t.size,A=t.toggle,C=t.vertical,O=t.widths,P=h()("ui",l,T,Object(v.y)(n,"basic"),Object(v.y)(f,"compact"),Object(v.y)(y,"fluid"),Object(v.y)(b,"icon"),Object(v.y)(x,"inverted"),Object(v.y)(_,"labeled"),Object(v.y)(w,"negative"),Object(v.y)(E,"positive"),Object(v.y)(M,"primary"),Object(v.y)(S,"secondary"),Object(v.y)(A,"toggle"),Object(v.y)(C,"vertical"),Object(v.z)(e,"attached"),Object(v.C)(p,"floated"),Object(v.E)(O),"buttons",u),L=Object(v.q)(r,t),R=Object(v.p)(r,t);return c()(i)?m.a.createElement(R,o()({},L,{className:P}),v.c.isNil(a)?d:a):m.a.createElement(R,o()({},L,{className:P}),s()(i,function(t){return g.a.create(t)}))}var i=n(3),o=n.n(i),a=n(14),s=n.n(a),u=n(25),c=n.n(u),l=n(4),h=n.n(l),f=n(1),d=n.n(f),p=n(0),m=n.n(p),v=n(2),g=n(248);r.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.text,i=s()("or",e),a=Object(f.q)(r,t),u=Object(f.p)(r,t);return h.a.createElement(u,o()({},a,{className:i,"data-text":n}))}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","className","text"],r.propTypes={},e.a=r},function(t,e,n){"use strict";var r=n(896);n.d(e,"a",function(){return r.a})},function(t,e){function n(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}t.exports=n},function(t,e,n){"use strict";var r=n(898);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()(n,"header"),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.image,u=t.scrolling,c=s()(n,Object(f.y)(a,"image"),Object(f.y)(u,"scrolling"),"content"),l=Object(f.q)(r,t),d=Object(f.p)(r,t);return h.a.createElement(d,o()({},l,{className:c}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content","image","scrolling"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return L});var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(14),x=n.n(b),_=n(13),w=n.n(_),E=n(4),M=n.n(E),S=n(1),T=n.n(S),A=n(0),C=n.n(A),O=n(2),P=n(171),L=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleButtonOverrides",function(t){return{onClick:function e(r,i){w()(t,"onClick",r,i),w()(n.props,"onActionClick",r,i)}}}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this,r=this.props,o=r.actions,a=r.children,s=r.className,u=r.content,c=M()("actions",s),l=Object(O.q)(e,this.props),h=Object(O.p)(e,this.props);return O.c.isNil(a)?O.c.isNil(u)?C.a.createElement(h,i()({},l,{className:c}),x()(o,function(t){return P.a.create(t,{overrideProps:n.handleButtonOverrides})})):C.a.createElement(h,i()({},l,{className:c}),u):C.a.createElement(h,i()({},l,{className:c}),a)}}]),e}(A.Component);y()(L,"handledProps",["actions","as","children","className","content","onActionClick"]),L.propTypes={},L.create=Object(O.l)(L,function(t){return{actions:t}})},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("description",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){"use strict";var r=n(422);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(14),x=n.n(b),_=n(13),w=n.n(_),E=n(15),M=n.n(E),S=n(4),T=n.n(S),A=n(1),C=n.n(A),O=n(0),P=n.n(O),L=n(2),R=n(423),k=n(250),N=n(425),I=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleItemOverrides",function(t){return{onClick:function e(r,i){var o=i.index;n.trySetState({activeIndex:o}),w()(t,"onClick",r,i),w()(n.props,"onItemClick",r,i)}}}),n}return p()(e,t),u()(e,[{key:"renderItems",value:function t(){var e=this,n=this.props.items,r=this.state.activeIndex;return x()(n,function(t,n){return k.a.create(t,{defaultProps:{active:parseInt(r,10)===n,index:n},overrideProps:e.handleItemOverrides})})}},{key:"render",value:function t(){var n=this.props,r=n.attached,o=n.borderless,a=n.children,s=n.className,u=n.color,c=n.compact,l=n.fixed,h=n.floated,f=n.fluid,d=n.icon,p=n.inverted,m=n.pagination,v=n.pointing,g=n.secondary,y=n.size,b=n.stackable,x=n.tabular,_=n.text,w=n.vertical,E=n.widths,M=T()("ui",u,y,Object(L.y)(o,"borderless"),Object(L.y)(c,"compact"),Object(L.y)(f,"fluid"),Object(L.y)(p,"inverted"),Object(L.y)(m,"pagination"),Object(L.y)(v,"pointing"),Object(L.y)(g,"secondary"),Object(L.y)(b,"stackable"),Object(L.y)(_,"text"),Object(L.y)(w,"vertical"),Object(L.z)(r,"attached"),Object(L.z)(h,"floated"),Object(L.z)(d,"icon"),Object(L.z)(x,"tabular"),Object(L.C)(l,"fixed"),Object(L.E)(E,"item"),s,"menu"),S=Object(L.q)(e,this.props),A=Object(L.p)(e,this.props);return P.a.createElement(A,i()({},S,{className:M}),L.c.isNil(a)?this.renderItems():a)}}]),e}(L.a);y()(I,"autoControlledProps",["activeIndex"]),y()(I,"Header",R.a),y()(I,"Item",k.a),y()(I,"Menu",N.a),y()(I,"handledProps",["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"]),I.propTypes={},I.create=Object(L.l)(I,function(t){return{items:t}}),e.a=I},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("header",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){function r(t){return(t=o(t))&&t.replace(a,i).replace(f,"")}var i=n(920),o=n(47),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\\u0300-\\u036f",u="\\ufe20-\\ufe2f",c="\\u20d0-\\u20ff",l="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",h="["+l+"]",f=RegExp(h,"g");t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.position,u=s()(a,"menu",n),c=Object(f.q)(r,t),l=Object(f.p)(r,t);return h.a.createElement(l,o()({},c,{className:u}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content","position"],r.propTypes={},e.a=r},function(t,e,n){"use strict";var r=n(7),i=n.n(r),o=n(8),a=n.n(o),s=n(9),u=n.n(s),c=n(5),l=n.n(c),h=n(10),f=n.n(h),d=n(11),p=n.n(d),m=n(6),v=n.n(m),g=n(13),y=n.n(g),b=n(117),x=n.n(b),_=n(1),w=n.n(_),E=n(0),M=n.n(E),S=n(2),T=n(250),A=function(t){function e(){var t,n;i()(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=u()(this,(t=l()(e)).call.apply(t,[this].concat(o))),v()(p()(p()(n)),"handleClick",function(t){"ellipsisItem"!==n.props.type&&y()(n.props,"onClick",t,n.props)}),v()(p()(p()(n)),"handleKeyDown",function(t){y()(n.props,"onKeyDown",t,n.props),x.a.getCode(t)===x.a.Enter&&y()(n.props,"onClick",t,n.props)}),v()(p()(p()(n)),"handleOverrides",function(){return{onClick:n.handleClick,onKeyDown:n.handleKeyDown}}),n}return f()(e,t),a()(e,[{key:"render",value:function t(){var e=this.props,n=e.active,r=e.type,i=this.props.disabled||"ellipsisItem"===r;return T.a.create(this.props,{defaultProps:{active:n,disabled:i,"aria-current":n,onClick:this.handleClick,onKeyDown:this.handleKeyDown,tabIndex:i?-1:0},overrideProps:this.handleOverrides})}}]),e}(E.Component);v()(A,"handledProps",["active","disabled","onClick","onKeyDown","type"]),A.propTypes={},A.create=Object(S.l)(A,function(t){return{content:t}}),e.a=A},function(t,e,n){"use strict";var r=n(932);n.d(e,"a",function(){return r.a})},function(t,e,n){function r(e,n,i){return"undefined"!==typeof Reflect&&Reflect.get?t.exports=r=Reflect.get:t.exports=r=function t(e,n,r){var i=o(e,n);if(i){var a=Object.getOwnPropertyDescriptor(i,n);return a.get?a.get.call(r):a.value}},r(e,n,i||e)}var i=n(5),o=n(934);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=s()("divider",e),i=Object(f.q)(r,t),a=Object(f.p)(r,t);return h.a.createElement(a,o()({},i,{className:n}))}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","className"],r.propTypes={},e.a=r},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(25),x=n.n(b),_=n(4),w=n.n(_),E=n(1),M=n.n(E),S=n(0),T=n.n(S),A=n(2),C=n(431),O=n(27),P=n(90),L=n(176),R=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleClick",function(t){var e=n.props.onClick;e&&e(t,n.props)}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.active,o=n.children,a=n.className,s=n.content,u=n.disabled,c=n.description,l=n.flag,h=n.icon,f=n.image,d=n.label,p=n.selected,m=n.text,v=w()(Object(A.y)(r,"active"),Object(A.y)(u,"disabled"),Object(A.y)(p,"selected"),"item",a),g=x()(h)?A.c.someByType(o,"DropdownMenu")&&"dropdown":h,y=Object(A.q)(e,this.props),b=Object(A.p)(e,this.props),_={role:"option","aria-disabled":u,"aria-checked":r,"aria-selected":p};if(!A.c.isNil(o))return T.a.createElement(b,i()({},y,_,{className:v,onClick:this.handleClick}),o);var E=C.a.create(l,{autoGenerateKey:!1}),M=O.a.create(g,{autoGenerateKey:!1}),S=P.a.create(f,{autoGenerateKey:!1}),R=L.a.create(d,{autoGenerateKey:!1}),k=Object(A.k)("span",function(t){return{children:t}},c,{defaultProps:{className:"description"},autoGenerateKey:!1}),N=Object(A.k)("span",function(t){return{children:t}},A.c.isNil(s)?m:s,{defaultProps:{className:"text"},autoGenerateKey:!1});return T.a.createElement(b,i()({},y,_,{className:v,onClick:this.handleClick}),S,M,E,R,k,N)}}]),e}(S.Component);y()(R,"handledProps",["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"]),R.propTypes={},R.create=Object(A.l)(R,function(t){return t}),e.a=R},function(t,e,n){"use strict";var r=n(945);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.icon,u=s()("header",n),c=Object(f.q)(r,t),l=Object(f.p)(r,t);return f.c.isNil(e)?h.a.createElement(l,o()({},c,{className:u}),d.a.create(a,{autoGenerateKey:!1}),i):h.a.createElement(l,o()({},c,{className:u}),e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(27);r.handledProps=["as","children","className","content","icon"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.direction,u=t.open,c=t.scrolling,l=s()(a,Object(f.y)(u,"visible"),Object(f.y)(c,"scrolling"),"menu transition",n),d=Object(f.q)(r,t),p=Object(f.p)(r,t);return h.a.createElement(p,o()({},d,{className:l}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content","direction","open","scrolling"],r.propTypes={},e.a=r},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(19),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(10),v=n.n(m),g=n(11),y=n.n(g),b=n(6),x=n.n(b),_=n(13),w=n.n(_),E=n(48),M=n.n(E),S=n(4),T=n.n(S),A=n(1),C=n.n(A),O=n(0),P=n.n(O),L=n(2),R=function(t){function e(){var t,n;u()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=f()(this,(t=p()(e)).call.apply(t,[this].concat(i))),x()(y()(y()(n)),"handleChange",function(t){var e=M()(t,"target.value");w()(n.props,"onChange",t,a()({},n.props,{value:e}))}),x()(y()(y()(n)),"handleRef",function(t){return w()(n.props,"inputRef",t)}),n}return v()(e,t),l()(e,[{key:"render",value:function t(){var n=this.props,r=n.autoComplete,o=n.className,a=n.tabIndex,s=n.type,u=n.value,c=T()("search",o),l=Object(L.q)(e,this.props);return P.a.createElement("input",i()({},l,{"aria-autocomplete":"list",autoComplete:r,className:c,onChange:this.handleChange,ref:this.handleRef,tabIndex:a,type:s,value:u}))}}]),e}(O.Component);x()(R,"defaultProps",{autoComplete:"off",type:"text"}),x()(R,"handledProps",["as","autoComplete","className","inputRef","tabIndex","type","value"]),R.propTypes={},R.create=Object(L.l)(R,function(t){return{type:t}}),e.a=R},function(t,e,n){"use strict";var r=n(946);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(437);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";n.d(e,"a",function(){return N});var r=n(19),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(61),x=n.n(b),_=n(48),w=n.n(_),E=n(13),M=n.n(E),S=n(4),T=n.n(S),A=n(1),C=n.n(A),O=n(0),P=n.n(O),L=n(2),R=n(438),k={ENTERING:"show",EXITING:"hide"},N=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];n=l()(this,(t=f()(e)).call.apply(t,[this].concat(o))),y()(v()(v()(n)),"handleStart",function(){var t=n.props.duration,e=n.nextStatus;n.nextStatus=null,n.setSafeState({status:e,animating:!0},function(){var r=k[e],o=Object(L.v)(t,r);M()(n.props,"onStart",null,i()({},n.props,{status:e})),setTimeout(n.handleComplete,o)})}),y()(v()(v()(n)),"handleComplete",function(){var t=n.state.status;if(M()(n.props,"onComplete",null,i()({},n.props,{status:t})),n.nextStatus)return void n.handleStart();var r=n.computeCompletedStatus(),o=t===e.ENTERING?"onShow":"onHide";n.setSafeState({status:r,animating:!1},function(){M()(n.props,o,null,i()({},n.props,{status:r}))})}),y()(v()(v()(n)),"updateStatus",function(){var t=n.state.animating;n.nextStatus&&(n.nextStatus=n.computeNextStatus(),t||n.handleStart())}),y()(v()(v()(n)),"computeClasses",function(){var t=n.props,r=t.animation,i=t.children,o=n.state,a=o.animating,s=o.status,u=w()(i,"props.className");return x()(L.b.DIRECTIONAL_TRANSITIONS,r)?T()(r,u,Object(L.y)(a,"animating"),Object(L.y)(s===e.ENTERING,"in"),Object(L.y)(s===e.EXITING,"out"),Object(L.y)(s===e.EXITED,"hidden"),Object(L.y)(s!==e.EXITED,"visible"),"transition"):T()(r,u,Object(L.y)(a,"animating transition"))}),y()(v()(v()(n)),"computeCompletedStatus",function(){var t=n.props.unmountOnHide;return n.state.status===e.ENTERING?e.ENTERED:t?e.UNMOUNTED:e.EXITED}),y()(v()(v()(n)),"computeInitialStatuses",function(){var t=n.props,r=t.visible,i=t.mountOnShow,o=t.transitionOnMount,a=t.unmountOnHide;return r?o?{initial:e.EXITED,next:e.ENTERING}:{initial:e.ENTERED}:i||a?{initial:e.UNMOUNTED}:{initial:e.EXITED}}),y()(v()(v()(n)),"computeNextStatus",function(){var t=n.state,r=t.animating,i=t.status;return r?i===e.ENTERING?e.EXITING:e.ENTERING:i===e.ENTERED?e.EXITING:e.ENTERING}),y()(v()(v()(n)),"computeStatuses",function(t){var r=n.state.status;return t.visible?{current:r===e.UNMOUNTED&&e.EXITED,next:r!==e.ENTERING&&r!==e.ENTERED&&e.ENTERING}:{next:(r===e.ENTERING||r===e.ENTERED)&&e.EXITING}}),y()(v()(v()(n)),"computeStyle",function(){var t=n.props,e=t.children,r=t.duration,o=n.state.status,a=w()(e,"props.style"),s=k[o],u=s&&"".concat(Object(L.v)(r,s),"ms");return i()({},a,{animationDuration:u})}),y()(v()(v()(n)),"setSafeState",function(){var t;return n.mounted&&(t=n).setState.apply(t,arguments)});var u=n.computeInitialStatuses(),c=u.initial,h=u.next;return n.nextStatus=h,n.state={status:c},n}return p()(e,t),u()(e,[{key:"componentDidMount",value:function t(){this.mounted=!0,this.updateStatus()}},{key:"componentWillReceiveProps",value:function t(e){var n=this.computeStatuses(e),r=n.current,i=n.next;this.nextStatus=i,r&&this.setSafeState({status:r})}},{key:"componentDidUpdate",value:function t(){this.updateStatus()}},{key:"componentWillUnmount",value:function t(){this.mounted=!1}},{key:"render",value:function t(){var n=this.props.children;return this.state.status===e.UNMOUNTED?null:Object(O.cloneElement)(n,{className:this.computeClasses(),style:this.computeStyle()})}}]),e}(O.Component);y()(N,"defaultProps",{animation:"fade",duration:500,visible:!0,mountOnShow:!0,transitionOnMount:!1,unmountOnHide:!1}),y()(N,"ENTERED","ENTERED"),y()(N,"ENTERING","ENTERING"),y()(N,"EXITED","EXITED"),y()(N,"EXITING","EXITING"),y()(N,"UNMOUNTED","UNMOUNTED"),y()(N,"Group",R.a),y()(N,"handledProps",["animation","children","duration","mountOnShow","onComplete","onHide","onShow","onStart","reactKey","transitionOnMount","unmountOnHide","visible"]),N.propTypes={}},function(t,e,n){"use strict";n.d(e,"a",function(){return I});var r=n(19),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(115),x=n.n(b),_=n(48),w=n.n(_),E=n(87),M=n.n(E),S=n(88),T=n.n(S),A=n(439),C=n.n(A),O=n(1),P=n.n(O),L=n(0),R=n.n(L),k=n(2),N=n(437),I=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];n=l()(this,(t=f()(e)).call.apply(t,[this].concat(o))),y()(v()(v()(n)),"handleOnHide",function(t,e){var r=e.reactKey;n.setState(function(t){var e=i()({},t.children);return delete e[r],{children:e}})}),y()(v()(v()(n)),"wrapChild",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.props,i=r.animation,o=r.duration,a=t.key,s=e.visible,u=void 0===s||s,c=e.transitionOnMount,l=void 0!==c&&c;return R.a.createElement(N.a,{animation:i,duration:o,key:a,onHide:n.handleOnHide,reactKey:a,transitionOnMount:l,visible:u},t)});var u=n.props.children;return n.state={children:C()(Object(k.o)(u),function(t){return n.wrapChild(t)})},n}return p()(e,t),u()(e,[{key:"componentWillReceiveProps",value:function t(e){var n=this,r=this.state.children,i=Object(k.o)(e.children),o=Object(k.t)(r,i);T()(o,function(t,e){var a=M()(r,e),s=M()(i,e),u=r[e],c=!w()(u,"props.visible");if(s&&(!a||c))return void(o[e]=n.wrapChild(t,{transitionOnMount:!0}));if(!s&&a&&!c)return void(o[e]=Object(L.cloneElement)(u,{visible:!1}));var l=u.props,h=l.visible,f=l.transitionOnMount;o[e]=n.wrapChild(t,{transitionOnMount:f,visible:h})}),this.setState({children:o})}},{key:"render",value:function t(){var n=this.state.children,r=Object(k.p)(e,this.props),i=Object(k.q)(e,this.props);return R.a.createElement(r,i,x()(n))}}]),e}(R.a.Component);y()(I,"defaultProps",{animation:"fade",duration:500}),y()(I,"handledProps",["animation","as","children","duration"]),I.propTypes={}},function(t,e,n){function r(t,e){var n={};return e=a(e,3),o(t,function(t,r,o){i(n,r,e(t,r,o))}),n}var i=n(162),o=n(156),a=n(32);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.icon,u=h()("divider",n),l=Object(v.q)(r,t),f=Object(v.p)(r,t);return c()(a)?c()(i)?m.a.createElement(f,o()({},l,{className:u}),v.c.isNil(e)?"/":e):m.a.createElement(f,o()({},l,{className:u}),i):g.a.create(a,{defaultProps:s()({},l,{className:u}),autoGenerateKey:!1})}var i=n(3),o=n.n(i),a=n(19),s=n.n(a),u=n(25),c=n.n(u),l=n(4),h=n.n(l),f=n(1),d=n.n(f),p=n(0),m=n.n(p),v=n(2),g=n(27);r.handledProps=["as","children","className","content","icon"],r.propTypes={},r.create=Object(v.l)(r,function(t){return{icon:t}}),e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return C});var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(13),x=n.n(b),_=n(4),w=n.n(_),E=n(1),M=n.n(E),S=n(0),T=n.n(S),A=n(2),C=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"computeElementType",function(){var t=n.props,e=t.link,r=t.onClick;if(e||r)return"a"}),y()(v()(v()(n)),"handleClick",function(t){return x()(n.props,"onClick",t,n.props)}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.active,o=n.children,a=n.className,s=n.content,u=n.href,c=w()(Object(A.y)(r,"active"),"section",a),l=Object(A.q)(e,this.props),h=Object(A.p)(e,this.props,this.computeElementType);return T.a.createElement(h,i()({},l,{className:c,href:u,onClick:this.handleClick}),A.c.isNil(o)?s:o)}}]),e}(S.Component);y()(C,"handledProps",["active","as","children","className","content","href","link","onClick"]),C.propTypes={},C.create=Object(A.l)(C,function(t){return{content:t,link:!0}})},function(t,e,n){"use strict";function r(t){var e=t.control,n=Object(u.q)(r,t),i=Object(u.p)(r,t);return s.a.createElement(i,o()({},n,{control:e}))}var i=n(3),o=n.n(i),a=n(0),s=n.n(a),u=n(2),c=n(171),l=n(55);r.handledProps=["as","control"],r.propTypes={},r.defaultProps={as:l.a,control:c.a},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.control,n=Object(u.q)(r,t),i=Object(u.p)(r,t);return s.a.createElement(i,o()({},n,{control:e}))}var i=n(3),o=n.n(i),a=n(0),s=n.n(a),u=n(2),c=n(174),l=n(55);r.handledProps=["as","control"],r.propTypes={},r.defaultProps={as:l.a,control:c.a},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.control,n=Object(u.q)(r,t),i=Object(u.p)(r,t);return s.a.createElement(i,o()({},n,{control:e}))}var i=n(3),o=n.n(i),a=n(0),s=n.n(a),u=n(2),c=n(175),l=n(55);r.handledProps=["as","control"],r.propTypes={},r.defaultProps={as:l.a,control:c.a},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.grouped,o=t.inline,a=t.unstackable,u=t.widths,l=c()(Object(p.y)(i,"grouped"),Object(p.y)(o,"inline"),Object(p.y)(a,"unstackable"),Object(p.E)(u,null,!0),"fields",n),h=Object(p.q)(r,t),f=Object(p.p)(r,t);return d.a.createElement(f,s()({},h,{className:l}),e)}var i=n(49),o=n.n(i),a=n(3),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2);r.handledProps=["as","children","className","grouped","inline","unstackable","widths"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.control,n=Object(u.q)(r,t),i=Object(u.p)(r,t);return s.a.createElement(i,o()({},n,{control:e}))}var i=n(3),o=n.n(i),a=n(0),s=n.n(a),u=n(2),c=n(252),l=n(55);r.handledProps=["as","control"],r.propTypes={},r.defaultProps={as:l.a,control:c.a},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.control,n=Object(u.q)(r,t),i=Object(u.p)(r,t);return s.a.createElement(i,o()({},n,{control:e}))}var i=n(3),o=n.n(i),a=n(0),s=n.n(a),u=n(2),c=n(251),l=n(55);r.handledProps=["as","control"],r.propTypes={},r.defaultProps={as:l.a,control:c.a},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.control,n=t.options,i=Object(l.q)(r,t),a=Object(l.p)(r,t);return c.a.createElement(a,o()({},i,{control:e,options:n}))}var i=n(3),o=n.n(i),a=n(1),s=n.n(a),u=n(0),c=n.n(u),l=n(2),h=n(427),f=n(175),d=n(55);r.handledProps=["as","control","options"],r.propTypes={},r.defaultProps={as:d.a,control:h.a},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.control,n=Object(u.q)(r,t),i=Object(u.p)(r,t);return s.a.createElement(i,o()({},n,{control:e}))}var i=n(3),o=n.n(i),a=n(0),s=n.n(a),u=n(2),c=n(435),l=n(55);r.handledProps=["as","control"],r.propTypes={},r.defaultProps={as:l.a,control:c.a},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.celled,n=t.centered,i=t.children,o=t.className,a=t.columns,u=t.container,l=t.divided,h=t.doubling,f=t.inverted,m=t.padded,v=t.relaxed,g=t.reversed,y=t.stackable,b=t.stretched,x=t.textAlign,_=t.verticalAlign,w=c()("ui",Object(p.y)(n,"centered"),Object(p.y)(u,"container"),Object(p.y)(h,"doubling"),Object(p.y)(f,"inverted"),Object(p.y)(y,"stackable"),Object(p.y)(b,"stretched"),Object(p.z)(e,"celled"),Object(p.z)(l,"divided"),Object(p.z)(m,"padded"),Object(p.z)(v,"relaxed"),Object(p.A)(g,"reversed"),Object(p.B)(x),Object(p.D)(_),Object(p.E)(a,"column",!0),"grid",o),E=Object(p.q)(r,t),M=Object(p.p)(r,t);return d.a.createElement(M,s()({},E,{className:w}),i)}var i=n(49),o=n.n(i),a=n(3),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2),m=n(253),v=n(451);r.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],r.Column=m.a,r.Row=v.a,r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.centered,n=t.children,i=t.className,o=t.color,a=t.columns,u=t.divided,l=t.only,h=t.reversed,f=t.stretched,m=t.textAlign,v=t.verticalAlign,g=c()(o,Object(p.y)(e,"centered"),Object(p.y)(u,"divided"),Object(p.y)(f,"stretched"),Object(p.A)(l,"only"),Object(p.A)(h,"reversed"),Object(p.B)(m),Object(p.D)(v),Object(p.E)(a,"column",!0),"row",i),y=Object(p.q)(r,t),b=Object(p.p)(r,t);return d.a.createElement(b,s()({},y,{className:g}),n)}var i=n(49),o=n.n(i),a=n(3),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2);r.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("content",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("header",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.items,a=c()("list",n),u=Object(p.q)(r,t),l=Object(p.p)(r,t);return d.a.createElement(l,o()({},u,{className:a}),p.c.isNil(e)?s()(i,m.a.create):e)}var i=n(3),o=n.n(i),a=n(14),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2),m=n(254);r.handledProps=["as","children","className","items"],r.propTypes={},r.defaultProps={as:"ul"},r.create=Object(p.l)(r,function(t){return{items:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=s()(n),a=Object(f.q)(r,t),u=Object(f.p)(r,t);return h.a.createElement(u,o()({},a,{className:i}),e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className"],r.defaultProps={as:"tbody"},r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.as,n=Object(u.q)(r,t);return s.a.createElement(c.a,o()({},n,{as:e}))}var i=n(3),o=n.n(i),a=n(0),s=n.n(a),u=n(2),c=n(255);r.handledProps=["as"],r.propTypes={},r.defaultProps={as:"tfoot"},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.as,n=t.className,i=t.sorted,a=s()(Object(f.C)(i,"sorted"),n),u=Object(f.q)(r,t);return h.a.createElement(d.a,o()({},u,{as:e,className:a}))}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(177);r.handledProps=["as","className","sorted"],r.propTypes={},r.defaultProps={as:"th"},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.active,n=t.cellAs,i=t.cells,a=t.children,s=t.className,u=t.disabled,l=t.error,f=t.negative,d=t.positive,p=t.textAlign,y=t.verticalAlign,b=t.warning,x=h()(Object(v.y)(e,"active"),Object(v.y)(u,"disabled"),Object(v.y)(l,"error"),Object(v.y)(f,"negative"),Object(v.y)(d,"positive"),Object(v.y)(b,"warning"),Object(v.B)(p),Object(v.D)(y),s),_=Object(v.q)(r,t),w=Object(v.p)(r,t);return v.c.isNil(a)?m.a.createElement(w,o()({},_,{className:x}),c()(i,function(t){return g.a.create(t,{defaultProps:{as:n}})})):m.a.createElement(w,o()({},_,{className:x}),a)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(14),c=n.n(u),l=n(4),h=n.n(l),f=n(1),d=n.n(f),p=n(0),m=n.n(p),v=n(2),g=n(177);r.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],r.defaultProps={as:"tr",cellAs:"td"},r.propTypes={},r.create=Object(v.l)(r,function(t){return{cells:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("sub header",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("content",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(113),x=n.n(b),_=n(13),w=n.n(_),E=n(4),M=n.n(E),S=n(1),T=n.n(S),A=n(0),C=n.n(A),O=n(2),P=n(90),L=n(256),R=n(178),k=n(179),N=n(257),I=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleClick",function(t){n.props.disabled||w()(n.props,"onClick",t,n.props)}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.active,o=n.children,a=n.className,s=n.content,u=n.description,c=n.disabled,l=n.header,h=n.icon,f=n.image,d=n.value,p=Object(O.p)(e,this.props),m=M()(Object(O.y)(r,"active"),Object(O.y)(c,"disabled"),Object(O.y)("li"!==p,"item"),a),v=Object(O.q)(e,this.props),g="li"===p?{value:d}:{"data-value":d};if(!O.c.isNil(o))return C.a.createElement(p,i()({},g,{role:"listitem",className:m,onClick:this.handleClick},v),o);var y=N.a.create(h,{autoGenerateKey:!1}),b=P.a.create(f,{autoGenerateKey:!1});if(!Object(A.isValidElement)(s)&&x()(s))return C.a.createElement(p,i()({},g,{role:"listitem",className:m,onClick:this.handleClick},v),y||b,L.a.create(s,{autoGenerateKey:!1,defaultProps:{header:l,description:u}}));var _=k.a.create(l,{autoGenerateKey:!1}),w=R.a.create(u,{autoGenerateKey:!1});return y||b?C.a.createElement(p,i()({},g,{role:"listitem",className:m,onClick:this.handleClick},v),y||b,(s||_||w)&&C.a.createElement(L.a,null,_,w,s)):C.a.createElement(p,i()({},g,{role:"listitem",className:m,onClick:this.handleClick},v),_,w,s)}}]),e}(A.Component);y()(I,"handledProps",["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"]),I.propTypes={},I.create=Object(O.l)(I,function(t){return{content:t}}),e.a=I},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=Object(f.q)(r,t),u=Object(f.p)(r,t),c=s()(Object(f.y)("ul"!==u&&"ol"!==u,"list"),n);return h.a.createElement(u,o()({},a,{className:c}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.hidden,u=t.visible,c=s()("ui",Object(f.y)(a,"hidden"),Object(f.y)(u,"visible"),"content",n),l=Object(f.q)(r,t),d=Object(f.p)(r,t);return h.a.createElement(d,o()({},l,{className:c}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content","hidden","visible"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.attached,n=t.basic,i=t.children,a=t.circular,s=t.className,u=t.clearing,l=t.color,h=t.compact,f=t.content,m=t.disabled,v=t.floated,g=t.inverted,y=t.loading,b=t.padded,x=t.piled,_=t.raised,w=t.secondary,E=t.size,M=t.stacked,S=t.tertiary,T=t.textAlign,A=t.vertical,C=c()("ui",l,E,Object(p.y)(n,"basic"),Object(p.y)(a,"circular"),Object(p.y)(u,"clearing"),Object(p.y)(h,"compact"),Object(p.y)(m,"disabled"),Object(p.y)(g,"inverted"),Object(p.y)(y,"loading"),Object(p.y)(x,"piled"),Object(p.y)(_,"raised"),Object(p.y)(w,"secondary"),Object(p.y)(M,"stacked"),Object(p.y)(S,"tertiary"),Object(p.y)(A,"vertical"),Object(p.z)(e,"attached"),Object(p.z)(b,"padded"),Object(p.B)(T),Object(p.C)(v,"floated"),"segment",s),O=Object(p.q)(r,t),P=Object(p.p)(r,t);return d.a.createElement(P,o()({},O,{className:C}),p.c.isNil(i)?f:i)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2),m=n(465);r.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","raised","secondary","size","stacked","tertiary","textAlign","vertical"],r.Group=m.a,r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.compact,a=t.content,s=t.horizontal,u=t.piled,l=t.raised,h=t.size,f=t.stacked,m=c()("ui",h,Object(p.y)(i,"compact"),Object(p.y)(s,"horizontal"),Object(p.y)(u,"piled"),Object(p.y)(l,"raised"),Object(p.y)(f,"stacked"),"segments",n),v=Object(p.q)(r,t),g=Object(p.p)(r,t);return d.a.createElement(g,o()({},v,{className:m}),p.c.isNil(e)?a:e)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2);r.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],r.propTypes={},e.a=r},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(13),x=n.n(b),_=n(4),w=n.n(_),E=n(1),M=n.n(E),S=n(0),T=n.n(S),A=n(2),C=n(27),O=n(467),P=n(258),L=n(468),R=n(259),k=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"computeElementType",function(){if(n.props.onClick)return"a"}),y()(v()(v()(n)),"handleClick",function(t){n.props.disabled||x()(n.props,"onClick",t,n.props)}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.active,o=n.children,a=n.className,s=n.completed,u=n.content,c=n.description,l=n.disabled,h=n.href,f=n.icon,d=n.link,p=n.title,m=w()(Object(A.y)(r,"active"),Object(A.y)(s,"completed"),Object(A.y)(l,"disabled"),Object(A.y)(d,"link"),"step",a),v=Object(A.q)(e,this.props),g=Object(A.p)(e,this.props,this.computeElementType);return A.c.isNil(o)?A.c.isNil(u)?T.a.createElement(g,i()({},v,{className:m,href:h,onClick:this.handleClick}),C.a.create(f,{autoGenerateKey:!1}),O.a.create({description:c,title:p},{autoGenerateKey:!1})):T.a.createElement(g,i()({},v,{className:m,href:h,onClick:this.handleClick}),u):T.a.createElement(g,i()({},v,{className:m,href:h,onClick:this.handleClick}),o)}}]),e}(S.Component);y()(k,"Content",O.a),y()(k,"Description",P.a),y()(k,"Group",L.a),y()(k,"Title",R.a),y()(k,"handledProps",["active","as","children","className","completed","content","description","disabled","href","icon","link","onClick","ordered","title"]),k.propTypes={},k.create=Object(A.l)(k,function(t){return{content:t}}),e.a=k},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.description,u=t.title,c=s()("content",n),l=Object(f.q)(r,t),m=Object(f.p)(r,t);return f.c.isNil(e)?f.c.isNil(i)?h.a.createElement(m,o()({},l,{className:c}),p.a.create(u,{autoGenerateKey:!1}),d.a.create(a,{autoGenerateKey:!1})):h.a.createElement(m,o()({},l,{className:c}),i):h.a.createElement(m,o()({},l,{className:c}),e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(258),p=n(259);r.handledProps=["as","children","className","content","description","title"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.attached,n=t.children,i=t.className,o=t.content,a=t.fluid,u=t.items,c=t.ordered,l=t.size,h=t.stackable,f=t.unstackable,d=t.vertical,p=t.widths,v=b()("ui",l,Object(M.y)(a,"fluid"),Object(M.y)(c,"ordered"),Object(M.y)(f,"unstackable"),Object(M.y)(d,"vertical"),Object(M.z)(e,"attached"),Object(M.C)(h,"stackable"),Object(M.E)(p),"steps",i),g=Object(M.q)(r,t),y=Object(M.p)(r,t);return M.c.isNil(n)?M.c.isNil(o)?E.a.createElement(y,s()({},g,{className:v}),m()(u,function(t){return S.a.create(t)})):E.a.createElement(y,s()({},g,{className:v}),o):E.a.createElement(y,s()({},g,{className:v}),n)}var i=n(49),o=n.n(i),a=n(3),s=n.n(a),u=n(115),c=n.n(u),l=n(31),h=n.n(l),f=n(15),d=n.n(f),p=n(14),m=n.n(p),v=n(977),g=n.n(v),y=n(4),b=n.n(y),x=n(1),_=n.n(x),w=n(0),E=n.n(w),M=n(2),S=n(466),T={};r.handledProps=["as","attached","children","className","content","fluid","items","ordered","size","stackable","unstackable","vertical","widths"],r.propTypes={},e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return D});var r=n(3),i=n.n(r),o=n(49),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(10),v=n.n(m),g=n(11),y=n.n(g),b=n(6),x=n.n(b),_=n(14),w=n.n(_),E=n(13),M=n.n(E),S=n(15),T=n.n(S),A=n(61),C=n.n(A),O=n(4),P=n.n(O),L=n(1),R=n.n(L),k=n(0),N=n.n(k),I=n(2),j=n(260),D=function(t){function e(){var t,n;u()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=f()(this,(t=p()(e)).call.apply(t,[this].concat(i))),x()(y()(y()(n)),"computeNewIndex",function(t){var e=n.props.exclusive,r=n.state.activeIndex;return e?t===r?-1:t:C()(r,t)?T()(r,t):a()(r).concat([t])}),x()(y()(y()(n)),"handleTitleClick",function(t,e){var r=e.index;n.trySetState({activeIndex:n.computeNewIndex(r)}),M()(n.props,"onTitleClick",t,e)}),x()(y()(y()(n)),"isIndexActive",function(t){var e=n.props.exclusive,r=n.state.activeIndex;return e?r===t:C()(r,t)}),n}return v()(e,t),l()(e,[{key:"getInitialAutoControlledState",value:function t(e){return{activeIndex:e.exclusive?-1:[]}}},{key:"render",value:function t(){var n=this,r=this.props,o=r.className,a=r.children,s=r.panels,u=P()("accordion",o),c=Object(I.q)(e,this.props),l=Object(I.p)(e,this.props);return N.a.createElement(l,i()({},c,{className:u}),I.c.isNil(a)?w()(s,function(t,e){return j.a.create(t,{defaultProps:{active:n.isIndexActive(e),index:e,onTitleClick:n.handleTitleClick}})}):a)}}]),e}(I.a);x()(D,"defaultProps",{exclusive:!0}),x()(D,"autoControlledProps",["activeIndex"]),x()(D,"handledProps",["activeIndex","as","children","className","defaultActiveIndex","exclusive","onTitleClick","panels"]),D.propTypes={},D.create=Object(I.l)(D,function(t){return{content:t}})},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("content",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}e.a=r;var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{children:t}})},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("header",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}e.a=r;var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{children:t}})},function(t,e,n){"use strict";n.d(e,"a",function(){return P});var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(13),x=n.n(b),_=n(4),w=n.n(_),E=n(117),M=n.n(E),S=n(1),T=n.n(S),A=n(0),C=n.n(A),O=n(2),P=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleClick",function(t){x()(n.props,"onClick",t,n.props)}),y()(v()(v()(n)),"handleKeyUp",function(t){switch(x()(n.props,"onKeyUp",t,n.props),M.a.getCode(t)){case M.a.Enter:case M.a.Spacebar:t.preventDefault(),x()(n.props,"onClick",t,n.props)}}),y()(v()(v()(n)),"handleMouseEnter",function(t){x()(n.props,"onMouseEnter",t,n.props)}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.active,o=n.className,a=n.selected,s=w()(Object(O.y)(r,"active"),Object(O.y)(a,"selected"),"icon",o),u=Object(O.q)(e,this.props),c=Object(O.p)(e,this.props);return C.a.createElement(c,i()({},u,{className:s,onClick:this.handleClick,onKeyUp:this.handleKeyUp,onMouseEnter:this.handleMouseEnter,tabIndex:0,role:"radio"}))}}]),e}(A.Component);y()(P,"defaultProps",{as:"i"}),y()(P,"handledProps",["active","as","className","index","onClick","onKeyUp","onMouseEnter","selected"]),P.propTypes={}},function(t,e,n){"use strict";function r(t){var e=t.active,n=t.children,i=t.className,a=t.content,u=t.renderer,c=s()(Object(f.y)(e,"active"),"category",i),l=Object(f.q)(r,t),d=Object(f.p)(r,t);return h.a.createElement(d,o()({},l,{className:c}),h.a.createElement("div",{className:"name"},u(t)),h.a.createElement("div",{className:"results"},f.c.isNil(n)?a:n))}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["active","as","children","className","content","name","renderer","results"],r.defaultProps={renderer:function t(e){return e.name}},r.propTypes={},e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return A});var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(4),x=n.n(b),_=n(1),w=n.n(_),E=n(0),M=n.n(E),S=n(2),T=function t(e){var n=e.image,r=e.price,i=e.title,o=e.description;return[n&&M.a.createElement("div",{key:"image",className:"image"},Object(S.f)(n,{autoGenerateKey:!1})),M.a.createElement("div",{key:"content",className:"content"},r&&M.a.createElement("div",{className:"price"},r),i&&M.a.createElement("div",{className:"title"},i),o&&M.a.createElement("div",{className:"description"},o))]};T.handledProps=[];var A=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleClick",function(t){var e=n.props.onClick;e&&e(t,n.props)}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.active,o=n.className,a=n.renderer,s=x()(Object(S.y)(r,"active"),"result",o),u=Object(S.q)(e,this.props),c=Object(S.p)(e,this.props);return M.a.createElement(c,i()({},u,{className:s,onClick:this.handleClick}),a(this.props))}}]),e}(E.Component);y()(A,"defaultProps",{renderer:T}),y()(A,"handledProps",["active","as","className","content","description","id","image","onClick","price","renderer","title"]),A.propTypes={}},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("results transition",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.children,i=t.content,a=s()("pushable",e),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(n)?i:n)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.dimmed,i=t.children,a=t.content,u=s()("pusher",Object(f.y)(n,"dimmed"),e),c=Object(f.q)(r,t),l=Object(f.p)(r,t);return h.a.createElement(l,o()({},c,{className:u}),f.c.isNil(i)?a:i)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content","dimmed"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.active,n=t.children,i=t.className,a=t.content,u=t.loading,c=s()(Object(f.y)(e,"active"),Object(f.y)(u,"loading"),"tab",i),l=Object(f.q)(r,t),p=Object(f.p)(r,t),m={};return p===d.a&&(m.attached="bottom"),h.a.createElement(p,o()({},m,l,{className:c}),f.c.isNil(n)?a:n)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(464);r.handledProps=["active","as","children","className","content","loading"],r.defaultProps={as:d.a,active:!0},r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return R});var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(4),x=n.n(b),_=n(1),w=n.n(_),E=n(0),M=n.n(E),S=n(2),T=n(90),A=n(480),C=n(263),O=n(481),P=n(264),L=n(265),R=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleClick",function(t){var e=n.props.onClick;e&&e(t,n.props)}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.centered,o=n.children,a=n.className,s=n.color,u=n.content,c=n.description,l=n.extra,h=n.fluid,f=n.header,d=n.href,p=n.image,m=n.link,v=n.meta,g=n.onClick,y=n.raised,b=x()("ui",s,Object(S.y)(r,"centered"),Object(S.y)(h,"fluid"),Object(S.y)(m,"link"),Object(S.y)(y,"raised"),"card",a),_=Object(S.q)(e,this.props),w=Object(S.p)(e,this.props,function(){if(g)return"a"});return S.c.isNil(o)?S.c.isNil(u)?M.a.createElement(w,i()({},_,{className:b,href:d,onClick:this.handleClick}),T.a.create(p,{autoGenerateKey:!1}),(c||f||v)&&M.a.createElement(A.a,{description:c,header:f,meta:v}),l&&M.a.createElement(A.a,{extra:!0},l)):M.a.createElement(w,i()({},_,{className:b,href:d,onClick:this.handleClick}),u):M.a.createElement(w,i()({},_,{className:b,href:d,onClick:this.handleClick}),o)}}]),e}(E.Component);y()(R,"Content",A.a),y()(R,"Description",C.a),y()(R,"Group",O.a),y()(R,"Header",P.a),y()(R,"Meta",L.a),y()(R,"handledProps",["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"]),R.propTypes={}},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.description,s=t.extra,u=t.header,l=t.meta,h=t.textAlign,f=c()(Object(p.y)(s,"extra"),Object(p.B)(h),"content",n),y=Object(p.q)(r,t),b=Object(p.p)(r,t);return p.c.isNil(e)?p.c.isNil(i)?d.a.createElement(b,o()({},y,{className:f}),Object(p.k)(v.a,function(t){return{content:t}},u,{autoGenerateKey:!1}),Object(p.k)(g.a,function(t){return{content:t}},l,{autoGenerateKey:!1}),Object(p.k)(m.a,function(t){return{content:t}},a,{autoGenerateKey:!1})):d.a.createElement(b,o()({},y,{className:f}),i):d.a.createElement(b,o()({},y,{className:f}),e)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2),m=n(263),v=n(264),g=n(265);r.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.centered,n=t.children,i=t.className,a=t.content,s=t.doubling,u=t.items,l=t.itemsPerRow,f=t.stackable,d=t.textAlign,p=h()("ui",Object(v.y)(e,"centered"),Object(v.y)(s,"doubling"),Object(v.y)(f,"stackable"),Object(v.B)(d),Object(v.E)(l),"cards",i),y=Object(v.q)(r,t),b=Object(v.p)(r,t);if(!v.c.isNil(n))return m.a.createElement(b,o()({},y,{className:p}),n);if(!v.c.isNil(a))return m.a.createElement(b,o()({},y,{className:p}),a);var x=c()(u,function(t){var e=t.key||[t.header,t.description].join("-");return m.a.createElement(g.a,o()({key:e},t))});return m.a.createElement(b,o()({},y,{className:p}),x)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(14),c=n.n(u),l=n(4),h=n.n(l),f=n(1),d=n.n(f),p=n(0),m=n.n(p),v=n(2),g=n(479);r.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.active,n=t.className,i=t.children,a=t.content,u=s()(Object(f.y)(e,"active"),n),c=Object(f.q)(r,t),l=Object(f.p)(r,t);return h.a.createElement(l,o()({},c,{className:u}),f.c.isNil(i)?a:i)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["active","as","children","className","content"],r.defaultProps={as:"a"},r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.children,i=t.content,a=s()("actions",e),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(n)?i:n)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.children,i=t.content,a=s()("author",e),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(n)?i:n)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.src,i=s()("avatar",e),a=Object(f.q)(r,t),u=Object(f.p)(r,t);return h.a.createElement(u,o()({},a,{className:i}),Object(f.f)(n,{autoGenerateKey:!1}))}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","className","src"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.children,i=t.content,a=s()(e,"content"),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(n)?i:n)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.children,i=t.collapsed,a=t.content,s=t.minimal,u=t.size,l=t.threaded,h=c()("ui",u,Object(p.y)(i,"collapsed"),Object(p.y)(s,"minimal"),Object(p.y)(l,"threaded"),"comments",e),f=Object(p.q)(r,t),m=Object(p.p)(r,t);return d.a.createElement(m,o()({},f,{className:h}),p.c.isNil(n)?a:n)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2);r.handledProps=["as","children","className","collapsed","content","minimal","size","threaded"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.children,i=t.content,a=s()("metadata",e),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(n)?i:n)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.children,i=t.content,a=s()(e,"text"),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(n)?i:n)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.content,n=t.children,i=t.className,a=t.date,u=t.extraImages,c=t.extraText,l=t.image,m=t.icon,v=t.meta,g=t.summary,y=s()("event",i),b=Object(f.q)(r,t),x=Object(f.p)(r,t),_=e||a||u||c||v||g,w={content:e,date:a,extraImages:u,extraText:c,meta:v,summary:g};return h.a.createElement(x,o()({},b,{className:y}),Object(f.k)(p.a,function(t){return{icon:t}},m,{autoGenerateKey:!1}),Object(f.k)(p.a,function(t){return{image:t}},l,{autoGenerateKey:!1}),_&&h.a.createElement(d.a,w),n)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(266),p=n(272);r.handledProps=["as","children","className","content","date","extraImages","extraText","icon","image","meta","summary"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.description,u=t.extra,c=t.header,l=t.image,p=t.meta,m=s()("item",n),v=Object(f.q)(r,t),g=Object(f.p)(r,t);return f.c.isNil(e)?h.a.createElement(g,o()({},v,{className:m}),y.a.create(l,{autoGenerateKey:!1}),h.a.createElement(d.a,{content:i,description:a,extra:u,header:c,meta:p})):h.a.createElement(g,o()({},v,{className:m}),e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(492),p=n(274),m=n(275),v=n(493),g=n(273),y=n(494),b=n(276);r.handledProps=["as","children","className","content","description","extra","header","image","meta"],r.Content=d.a,r.Description=p.a,r.Extra=m.a,r.Group=v.a,r.Header=g.a,r.Image=y.a,r.Meta=b.a,r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.description,u=t.extra,c=t.header,l=t.meta,g=t.verticalAlign,y=s()(Object(f.D)(g),"content",n),b=Object(f.q)(r,t),x=Object(f.p)(r,t);return f.c.isNil(e)?h.a.createElement(x,o()({},b,{className:y}),d.a.create(c,{autoGenerateKey:!1}),v.a.create(l,{autoGenerateKey:!1}),p.a.create(a,{autoGenerateKey:!1}),m.a.create(u,{autoGenerateKey:!1}),i):h.a.createElement(x,o()({},b,{className:y}),e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(273),p=n(274),m=n(275),v=n(276);r.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.divided,u=t.items,l=t.link,f=t.relaxed,d=t.unstackable,p=h()("ui",Object(v.y)(a,"divided"),Object(v.y)(l,"link"),Object(v.y)(d,"unstackable"),Object(v.z)(f,"relaxed"),"items",n),y=Object(v.q)(r,t),b=Object(v.p)(r,t);if(!v.c.isNil(e))return m.a.createElement(b,s()({},y,{className:p}),e);if(!v.c.isNil(i))return m.a.createElement(b,s()({},y,{className:p}),i);var x=c()(u,function(t){var e=t.childKey,n=o()(t,["childKey"]),r=e||[n.content,n.description,n.header,n.meta].join("-");return m.a.createElement(g.a,s()({},n,{key:r}))});return m.a.createElement(b,s()({},y,{className:p}),x)}var i=n(180),o=n.n(i),a=n(3),s=n.n(a),u=n(14),c=n.n(u),l=n(4),h=n.n(l),f=n(1),d=n.n(f),p=n(0),m=n.n(p),v=n(2),g=n(491);r.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.size,n=Object(u.q)(r,t);return s.a.createElement(c.a,o()({},n,{size:e,ui:!!e,wrapped:!0}))}var i=n(3),o=n.n(i),a=n(0),s=n.n(a),u=n(2),c=n(90);r.handledProps=["size"],r.propTypes={},r.create=Object(u.l)(r,function(t){return{src:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.color,a=t.content,s=t.floated,u=t.horizontal,l=t.inverted,h=t.label,f=t.size,m=t.text,y=t.value,b=c()("ui",i,f,Object(p.C)(s,"floated"),Object(p.y)(u,"horizontal"),Object(p.y)(l,"inverted"),"statistic",n),x=Object(p.q)(r,t),_=Object(p.p)(r,t);return p.c.isNil(e)?p.c.isNil(a)?d.a.createElement(_,o()({},x,{className:b}),g.a.create(y,{defaultProps:{text:m},autoGenerateKey:!1}),v.a.create(h,{autoGenerateKey:!1})):d.a.createElement(_,o()({},x,{className:b}),a):d.a.createElement(_,o()({},x,{className:b}),e)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2),m=n(496),v=n(497),g=n(498);r.handledProps=["as","children","className","color","content","floated","horizontal","inverted","label","size","text","value"],r.propTypes={},r.Group=m.a,r.Label=v.a,r.Value=g.a,r.create=Object(p.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.color,a=t.content,s=t.horizontal,u=t.inverted,l=t.items,f=t.size,d=t.widths,p=h()("ui",i,f,Object(v.y)(s,"horizontal"),Object(v.y)(u,"inverted"),Object(v.E)(d),"statistics",n),y=Object(v.q)(r,t),b=Object(v.p)(r,t);return v.c.isNil(e)?v.c.isNil(a)?m.a.createElement(b,o()({},y,{className:p}),c()(l,function(t){return g.a.create(t)})):m.a.createElement(b,o()({},y,{className:p}),a):m.a.createElement(b,o()({},y,{className:p}),e)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(14),c=n.n(u),l=n(4),h=n.n(l),f=n(1),d=n.n(f),p=n(0),m=n.n(p),v=n(2),g=n(495);r.handledProps=["as","children","className","color","content","horizontal","inverted","items","size","widths"],r.propTypes={},e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=s()("label",n),u=Object(f.q)(r,t),c=Object(f.p)(r,t);return h.a.createElement(c,o()({},u,{className:a}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.text,u=s()(Object(f.y)(a,"text"),"value",n),c=Object(f.q)(r,t),l=Object(f.p)(r,t);return h.a.createElement(l,o()({},c,{className:u}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content","text"],r.propTypes={},r.create=Object(f.l)(r,function(t){return{content:t}}),e.a=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.formatLabel?t.formatLabel(t.children,t.type):t.children;return a.default.createElement("span",{className:t.classNames[t.type+"Label"]},a.default.createElement("span",{className:t.classNames.labelContainer},e))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(0),a=r(o),s=n(1),u=r(s);i.propTypes={children:u.default.node.isRequired,classNames:u.default.objectOf(u.default.string).isRequired,formatLabel:u.default.func,type:u.default.string.isRequired},t.exports=e.default},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Checkboard=void 0;var o=n(0),a=i(o),s=n(12),u=i(s),c=n(1076),l=r(c),h=e.Checkboard=function t(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,c=e.boxShadow,h=(0,u.default)({default:{grid:{borderRadius:s,boxShadow:c,absolute:"0px 0px 0px 0px",background:"url("+l.get(n,r,i,o.canvas)+") center left"}}});return a.default.createElement("div",{style:h.grid})};h.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},e.default=h},function(t,e,n){function r(t,e,n){function r(e){var n=y,r=b;return y=b=void 0,M=e,_=t.apply(r,n)}function l(t){return M=t,w=setTimeout(d,e),S?r(t):_}function h(t){var n=t-E,r=t-M,i=e-n;return T?c(i,x-r):i}function f(t){var n=t-E,r=t-M;return void 0===E||n>=e||n<0||T&&r>=x}function d(){var t=o();if(f(t))return p(t);w=setTimeout(d,h(t))}function p(t){return w=void 0,A&&y?r(t):(y=b=void 0,_)}function m(){void 0!==w&&clearTimeout(w),M=0,y=E=b=w=void 0}function v(){return void 0===w?_:p(o())}function g(){var t=o(),n=f(t);if(y=arguments,b=this,E=t,n){if(void 0===w)return l(E);if(T)return w=setTimeout(d,e),r(E)}return void 0===w&&(w=setTimeout(d,e)),_}var y,b,x,_,w,E,M=0,S=!1,T=!1,A=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,i(n)&&(S=!!n.leading,T="maxWait"in n,x=T?u(a(n.maxWait)||0,e):x,A="trailing"in n?!!n.trailing:A),g.cancel=m,g.flush=v,g}var i=n(29),o=n(1083),a=n(106),s="Expected a function",u=Math.max,c=Math.min;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorWrap=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),l=r(c),h=n(501),f=r(h),d=n(42),p=r(d),m=e.ColorWrap=function t(e){var n=function(t){function n(t){i(this,n);var e=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.handleChange=function(t,n){if(p.default.simpleCheckForValidColor(t)){var r=p.default.toState(t,t.h||e.state.oldHue);e.setState(r),e.props.onChangeComplete&&e.debounce(e.props.onChangeComplete,r,n),e.props.onChange&&e.props.onChange(r,n)}},e.handleSwatchHover=function(t,n){if(p.default.simpleCheckForValidColor(t)){var r=p.default.toState(t,t.h||e.state.oldHue);e.setState(r),e.props.onSwatchHover&&e.props.onSwatchHover(r,n)}},e.state=s({},p.default.toState(t.color,0)),e.debounce=(0,f.default)(function(t,e,n){t(e,n)},100),e}return a(n,t),u(n,[{key:"componentWillReceiveProps",value:function t(e){this.setState(s({},p.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function t(){var n={};return this.props.onSwatchHover&&(n.onSwatchHover=this.handleSwatchHover),l.default.createElement(e,s({},this.props,this.state,{onChange:this.handleChange},n))}}]),n}(c.PureComponent||c.Component);return n.propTypes=s({},e.propTypes),n.defaultProps=s({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n};e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"red",function(){return r}),n.d(e,"pink",function(){return i}),n.d(e,"purple",function(){return o}),n.d(e,"deepPurple",function(){return a}),n.d(e,"indigo",function(){return s}),n.d(e,"blue",function(){return u}),n.d(e,"lightBlue",function(){return c}),n.d(e,"cyan",function(){return l}),n.d(e,"teal",function(){return h}),n.d(e,"green",function(){return f}),n.d(e,"lightGreen",function(){return d}),n.d(e,"lime",function(){return p}),n.d(e,"yellow",function(){return m}),n.d(e,"amber",function(){return v}),n.d(e,"orange",function(){return g}),n.d(e,"deepOrange",function(){return y}),n.d(e,"brown",function(){return b}),n.d(e,"grey",function(){return x}),n.d(e,"blueGrey",function(){return _}),n.d(e,"darkText",function(){return w}),n.d(e,"lightText",function(){return E}),n.d(e,"darkIcons",function(){return M}),n.d(e,"lightIcons",function(){return S}),n.d(e,"white",function(){return T}),n.d(e,"black",function(){return A});var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},a={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},u={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},c={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},l={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},h={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},f={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},d={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},p={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},v={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},x={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},_={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},w={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},E={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},M={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},S={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},T="#ffffff",A="#000000";e.default={red:r,pink:i,purple:o,deepPurple:a,indigo:s,blue:u,lightBlue:c,cyan:l,teal:h,green:f,lightGreen:d,lime:p,yellow:m,amber:v,orange:g,deepOrange:y,brown:b,grey:x,blueGrey:_,darkText:w,lightText:E,darkIcons:M,lightIcons:S,white:T,black:A}},function(t,e,n){t.exports=function(){function t(t,e){return e(t.toLowerCase().replace(/-/g,""))}function e(t,e){for(var n=e(t),r="",i,o=0,a=32-n.length;o<a;++o)r+="0";return i=(r+n).match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/),[i[1],i[2],i[3],i[4],i[5]].join("-")}function r(n){var r=n||a,s=i(i.HEX,r),u=i(r,i.HEX);return{new:function(){return t(o(),s)},uuid:o,fromUUID:function(e){return t(e,s)},toUUID:function(t){return e(t,u)},alphabet:r}}var i=n(1124),o=n(1126),a="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";return r.constants={flickrBase58:a,cookieBase90:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&'()*+-./:<=>?@[]^_`{|}~"},r.uuid=o,r}()},function(t,e,n){t.exports=n(183)},function(t,e,n){"use strict";(function(e){function r(t,e){I=I||n(77),t=t||{},this.objectMode=!!t.objectMode,e instanceof I&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(N||(N=n(507).StringDecoder),this.decoder=new N(t.encoding),this.encoding=t.encoding)}function i(t){if(I=I||n(77),!(this instanceof i))return new i(t);this._readableState=new r(t,this),this.readable=!0,t&&"function"===typeof t.read&&(this._read=t.read),P.call(this)}function o(t,e,n,r,i){var o=c(e,n);if(o)t.emit("error",o);else if(null===n)e.reading=!1,l(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!i){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&i){var s=new Error("stream.unshift() after end event");t.emit("error",s)}else{var u;!e.decoder||i||r||(n=e.decoder.write(n),u=!e.objectMode&&0===n.length),i||(e.reading=!1),u||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&h(t))),d(t,e)}else i||(e.reading=!1);return a(e)}function a(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function s(t){return t>=j?t=j:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=s(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function c(t,e){var n=null;return A.isBuffer(e)||"string"===typeof e||null===e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,h(t)}}function h(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(k("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?S(f,t):f(t))}function f(t){k("emit readable"),t.emit("readable"),b(t)}function d(t,e){e.readingMore||(e.readingMore=!0,S(p,t,e))}function p(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(k("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function m(t){return function(){var e=t._readableState;k("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&O(t,"data")&&(e.flowing=!0,b(t))}}function v(t){k("readable nexttick read 0"),t.read(0)}function g(t,e){e.resumeScheduled||(e.resumeScheduled=!0,S(y,t,e))}function y(t,e){e.reading||(k("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),b(t),e.flowing&&!e.reading&&t.read(0)}function b(t){var e=t._readableState;if(k("flow",e.flowing),e.flowing)do{var n=t.read()}while(null!==n&&e.flowing)}function x(t,e){var n=e.buffer,r=e.length,i=!!e.decoder,o=!!e.objectMode,a;if(0===n.length)return null;if(0===r)a=null;else if(o)a=n.shift();else if(!t||t>=r)a=i?n.join(""):1===n.length?n[0]:A.concat(n,r),n.length=0;else if(t<n[0].length){var s=n[0];a=s.slice(0,t),n[0]=s.slice(t)}else if(t===n[0].length)a=n.shift();else{a=i?"":new A(t);for(var u=0,c=0,l=n.length;c<l&&u<t;c++){var s=n[0],h=Math.min(t-u,s.length);i?a+=s.slice(0,h):s.copy(a,u,0,h),h<s.length?n[0]=s.slice(h):n.shift(),u+=h}}return a}function _(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,S(w,e,t))}function w(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function E(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function M(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}t.exports=i;var S=n(280),T=n(324),A=n(45).Buffer;i.ReadableState=r;var C=n(184),O=function(t,e){return t.listeners(e).length},P;!function(){try{P=n(183)}catch(t){}finally{P||(P=n(184).EventEmitter)}}();var A=n(45).Buffer,L=n(119);L.inherits=n(92);var R=n(1137),k=void 0;k=R&&R.debuglog?R.debuglog("stream"):function(){};var N;L.inherits(i,P);var I,I;i.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!==typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=new A(t,e),e=""),o(this,n,t,e,!1)},i.prototype.unshift=function(t){return o(this,this._readableState,t,"",!0)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(t){return N||(N=n(507).StringDecoder),this._readableState.decoder=new N(t),this._readableState.encoding=t,this};var j=8388608;i.prototype.read=function(t){k("read",t);var e=this._readableState,n=t;if(("number"!==typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return k("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?_(this):h(this),null;if(0===(t=u(t,e))&&e.ended)return 0===e.length&&_(this),null;var r=e.needReadable;k("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,k("length less than watermark",r)),(e.ended||e.reading)&&(r=!1,k("reading or ended",r)),r&&(k("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=u(n,e));var i;return i=t>0?x(t,e):null,null===i&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&_(this),null!==i&&this.emit("data",i),i},i.prototype._read=function(t){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(t,n){function r(t){k("onunpipe"),t===h&&o()}function i(){k("onend"),t.end()}function o(){k("cleanup"),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("drain",v),t.removeListener("error",s),t.removeListener("unpipe",r),h.removeListener("end",i),h.removeListener("end",o),h.removeListener("data",a),g=!0,!f.awaitDrain||t._writableState&&!t._writableState.needDrain||v()}function a(e){k("ondata"),!1===t.write(e)&&(1!==f.pipesCount||f.pipes[0]!==t||1!==h.listenerCount("data")||g||(k("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++),h.pause())}function s(e){k("onerror",e),l(),t.removeListener("error",s),0===O(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",c),l()}function c(){k("onfinish"),t.removeListener("close",u),l()}function l(){k("unpipe"),h.unpipe(t)}var h=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=t;break;case 1:f.pipes=[f.pipes,t];break;default:f.pipes.push(t)}f.pipesCount+=1,k("pipe count=%d opts=%j",f.pipesCount,n);var d=(!n||!1!==n.end)&&t!==e.stdout&&t!==e.stderr,p=d?i:o;f.endEmitted?S(p):h.once("end",p),t.on("unpipe",r);var v=m(h);t.on("drain",v);var g=!1;return h.on("data",a),t._events&&t._events.error?T(t._events.error)?t._events.error.unshift(s):t._events.error=[s,t._events.error]:t.on("error",s),t.once("close",u),t.once("finish",c),t.emit("pipe",h),f.flowing||(k("pipe resume"),h.resume()),t},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=M(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},i.prototype.on=function(t,e){var n=P.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&!this._readableState.endEmitted){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&h(this,r):S(v,this))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var t=this._readableState;return t.flowing||(k("resume"),t.flowing=!0,g(this,t)),this},i.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(k("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){if(k("wrapped data"),e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&void 0!==i)&&(e.objectMode||i&&i.length)){r.push(i)||(n=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return E(["error","close","destroy","pause","resume"],function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){k("wrapped _read",e),n&&(n=!1,t.resume())},r},i._fromList=x}).call(e,n(99))},function(t,e,n){"use strict";function r(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(t){var e=r(t);if("string"!==typeof e&&(y.isEncoding===b||!b(t)))throw new Error("Unknown encoding: "+t);return e||t}function o(t){this.encoding=i(t);var e;switch(this.encoding){case"utf16le":this.text=f,this.end=d,e=4;break;case"utf8":this.fillLast=c,e=4;break;case"base64":this.text=p,this.end=m,e=3;break;default:return this.write=v,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(e)}function a(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function s(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(e[r]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0)}function u(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"\ufffd"}}function c(t){var e=this.lastTotal-this.lastNeed,n=u(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){var n=s(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e}function f(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function d(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function p(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function m(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function v(t){return t.toString(this.encoding)}function g(t){return t&&t.length?this.write(t):""}var y=n(1141).Buffer,b=y.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=h,o.prototype.text=l,o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}t.exports=r;var i=n(282),o=n(119);o.inherits=n(92),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r=n(22),i=n(62),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e=[],n,i,a,s,u,c,l,h=0,f=t.length,d=f,p="string"!==r.getTypeOf(t);h<t.length;)d=f-h,p?(n=t[h++],i=h<f?t[h++]:0,a=h<f?t[h++]:0):(n=t.charCodeAt(h++),i=h<f?t.charCodeAt(h++):0,a=h<f?t.charCodeAt(h++):0),s=n>>2,u=(3&n)<<4|i>>4,c=d>1?(15&i)<<2|a>>6:64,l=d>2?63&a:64,e.push(o.charAt(s)+o.charAt(u)+o.charAt(c)+o.charAt(l));return e.join("")},e.decode=function(t){var e,n,r,a,s,u,c,l=0,h=0,f="data:";if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");var d=3*t.length/4;if(t.charAt(t.length-1)===o.charAt(64)&&d--,t.charAt(t.length-2)===o.charAt(64)&&d--,d%1!==0)throw new Error("Invalid base64 input, bad content length.");var p;for(p=i.uint8array?new Uint8Array(0|d):new Array(0|d);l<t.length;)a=o.indexOf(t.charAt(l++)),s=o.indexOf(t.charAt(l++)),u=o.indexOf(t.charAt(l++)),c=o.indexOf(t.charAt(l++)),e=a<<2|s>>4,n=(15&s)<<4|u>>2,r=(3&u)<<6|c,p[h++]=e,64!==u&&(p[h++]=n),64!==c&&(p[h++]=r);return p}},function(t,e){var n=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(1149);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(283),i=n(186).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){"use strict";(function(e){function r(t,e,n){switch(t){case"blob":return s.newBlob(s.transformTo("arraybuffer",e),n);case"base64":return l.encode(e);default:return s.transformTo(t,e)}}function i(t,n){var r,i=0,o=null,a=0;for(r=0;r<n.length;r++)a+=n[r].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(a),r=0;r<n.length;r++)o.set(n[r],i),i+=n[r].length;return o;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}function o(t,e){return new f.Promise(function(n,o){var a=[],s=t._internalType,u=t._outputType,c=t._mimeType;t.on("data",function(t,n){a.push(t),e&&e(n)}).on("error",function(t){a=[],o(t)}).on("end",function(){try{var t=r(u,i(s,a),c);n(t)}catch(t){o(t)}a=[]}).resume()})}function a(t,e,n){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=n,s.checkSupport(r),this._worker=t.pipe(new u(r)),t.lock()}catch(t){this._worker=new c("error"),this._worker.error(t)}}var s=n(22),u=n(1162),c=n(36),l=n(509),h=n(62),f=n(120),d=null;if(h.nodestream)try{d=n(1163)}catch(t){}a.prototype={accumulate:function(t){return o(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){s.delay(e,arguments,n)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(s.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:"nodebuffer"!==this._outputType},t)}},t.exports=a}).call(e,n(45).Buffer)},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";function r(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var i=n(22),o=n(36),a=16384;i.inherits(r,o),r.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=16384,e=null,n=Math.min(this.max,this.index+t);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,n);break;case"uint8array":e=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":e=this.data.slice(this.index,n)}return this.index=n,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=r},function(t,e,n){"use strict";function r(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var i=n(22),o=n(36);i.inherits(r,o),r.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},t.exports=r},function(t,e,n){"use strict";function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var i=n(36),o=n(286);n(22).inherits(r,i),r.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=r},function(t,e,n){"use strict";var r=n(36);e.STORE={magic:"\0\0",compressWorker:function(t){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},e.DEFLATE=n(1166)},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK\x03\x04",e.CENTRAL_FILE_HEADER="PK\x01\x02",e.CENTRAL_DIRECTORY_END="PK\x05\x06",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",e.DATA_DESCRIPTOR="PK\x07\b"},function(t,e,n){"use strict";var r=n(22),i=n(62),o=n(522),a=n(1171),s=n(1172),u=n(524);t.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new s(t):i.uint8array?new u(r.transformTo("uint8array",t)):new o(r.transformTo("array",t)):new a(t)}},function(t,e,n){"use strict";function r(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var i=n(523);n(22).inherits(r,i),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var i=n(22);r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e=0,n;for(this.checkOffset(t),n=this.index+t-1;n>=this.index;n--)e=(e<<8)+this.byteAt(n);return this.index+=t,e},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=r},function(t,e,n){"use strict";function r(t){i.call(this,t)}var i=n(522);n(22).inherits(r,i),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),u=n.n(s),c=n(18),l=n(16),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={maps:{map:{label:"Diffuse Map",file:null,info:"http://docs.cryengine.com/display/SDKDOC2/Diffuse+Maps",type:l.l,accept:l.J},normalMap:{label:"Normal Map",file:null,info:"https://en.wikipedia.org/wiki/Normal_mapping",type:l.l,accept:l.J},displacementMap:{label:"Displacement Map",file:null,info:"https://en.wikipedia.org/wiki/Displacement_mapping",type:l.l,accept:l.J},aoMap:{label:"Ambient Occlusion Map",file:null,info:"https://en.wikipedia.org/wiki/Ambient_occlusion",type:l.l,accept:l.J},roughnessMap:{label:"Roughness Map",file:null,info:"https://marmoset.co/posts/physically-based-rendering-and-you-can-too/",type:l.l,accept:l.J},metalnessMap:{label:"Metalness Map",file:null,info:"https://marmoset.co/posts/physically-based-rendering-and-you-can-too/",type:l.l,accept:l.J}},mesh:{label:"Mesh File (OBJ)",file:null,info:"https://en.wikipedia.org/wiki/Wavefront_.obj_file",type:l.l,accept:l.L},material:{label:"Materials File (MTL)",file:null,info:"https://en.wikipedia.org/wiki/Wavefront_.obj_file",type:l.l,accept:l.K},options:{center:{label:"Re-Center Geometry",val:!1,type:l.d},compress:{label:"Use JPEG Compression on Large Textures",val:!1,type:l.d},zlib:{label:"Use ZLib Compression on the Output Mesh",val:!1,type:l.d},createNormalMap:{label:"Generate Normal Map from Diffuse",val:!1,type:l.d}}},n.handleFileUpload=n.handleFileUpload.bind(n),n.handleField=n.handleField.bind(n),n.renderGroup=n.renderGroup.bind(n),n.checkFileUploadType=n.checkFileUploadType.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.prepare=n.prepare.bind(n),n}return a(e,t),h(e,[{key:"checkFileUploadType",value:function t(e){return void 0===this.state[e]?l.r:e}},{key:"handleFileUpload",value:function t(e,n){var r=n.name,i=n.value,o=this.checkFileUploadType(r),a=Object.assign({},this.state);o===l.r?a.maps[r].file=e.target.files[0]:a[r].file=e.target.files[0],this.setState(a)}},{key:"handleField",value:function t(e,n){var r=this,i=n.name,o=n.value,a=n.type,s=a===l.d?e.target.checked:o,u=Object.assign({},this.state.options);u[i].val=s,this.setState({options:u},function(){return console.log(r.state)})}},{key:"prepare",value:function t(e){var n=e.mesh,r=e.material,i=e.maps,o=e.options,a={};a.mesh=n.file,a.material=r.file,a.maps={},a.options={};for(var s in i){var u=i[s];null!==u.file&&(a.maps[s]=u.file)}for(var c in o){var l=o[c];a.options[c]=l.val}return a}},{key:"handleSubmit",value:function t(e){e.preventDefault(),e.stopPropagation(),this.props.startConversion(this.prepare(this.state))}},{key:"renderGroup",value:function t(e){var n=this;return u.a.createElement(c.h.Group,{className:"three-converter-form-group"},Object.keys(e).map(function(t,r){var i=e[t];return u.a.createElement(c.h.Input,{fluid:!0,className:"three-converter-form-field",label:i.label,type:i.type,accept:i.accept,name:t,key:r,onChange:i.type===l.l?n.handleFileUpload:n.handleField})}))}},{key:"render",value:function t(){var e=this.state,n=e.maps,i=e.options,o=r(e,["maps","options"]);return u.a.createElement(c.h,{inverted:!0,className:"three-converter-form"},u.a.createElement(c.f,{className:"three-converter-form-divider",inverted:!0,horizontal:!0},"Mesh"),this.renderGroup(o),u.a.createElement(c.f,{className:"three-converter-form-divider",inverted:!0,horizontal:!0},"Maps"),this.renderGroup(n),u.a.createElement(c.f,{className:"three-converter-form-divider",inverted:!0,horizontal:!0},"Options"),this.renderGroup(i),u.a.createElement(c.b,{size:"large",className:"three-converter-form-submit",color:"green",onClick:this.handleSubmit},"convert"))}}]),e}(s.Component);e.a=f},function(t,e,n){n(527),t.exports=n(532)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(528).enable(),window.Promise=n(530)),n(531),Object.assign=n(188)},function(t,e,n){"use strict";function r(){c=!1,s._47=null,s._71=null}function i(t){function e(e){(t.allRejections||a(h[e].error,t.whitelist||u))&&(h[e].displayId=l++,t.onUnhandled?(h[e].logged=!0,t.onUnhandled(h[e].displayId,h[e].error)):(h[e].logged=!0,o(h[e].displayId,h[e].error)))}function n(e){h[e].logged&&(t.onHandled?t.onHandled(h[e].displayId,h[e].error):h[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+h[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+h[e].displayId+".")))}t=t||{},c&&r(),c=!0;var i=0,l=0,h={};s._47=function(t){2===t._83&&h[t._56]&&(h[t._56].logged?n(t._56):clearTimeout(h[t._56].timeout),delete h[t._56])},s._71=function(t,n){0===t._75&&(t._56=i++,h[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),a(n,u)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var s=n(288),u=[ReferenceError,TypeError,RangeError],c=!1;e.disable=r,e.enable=i},function(t,e,n){"use strict";(function(e){function n(t){a.length||(u(),s=!0),a[a.length]=t}function r(){for(;c<a.length;){var t=c;if(c+=1,a[t].call(),c>l){for(var e=0,n=a.length-c;e<n;e++)a[e]=a[e+c];a.length-=c,c=0}}a.length=0,c=0,s=!1}function i(t){var e=1,n=new f(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function t(){e=-e,r.data=e}}function o(t){return function e(){function n(){clearTimeout(r),clearInterval(i),t()}var r=setTimeout(n,0),i=setInterval(n,50)}}t.exports=n;var a=[],s=!1,u,c=0,l=1024,h="undefined"!==typeof e?e:self,f=h.MutationObserver||h.WebKitMutationObserver;u="function"===typeof f?i(r):o(r),n.requestFlush=u,n.makeRequestCallFromTimer=o}).call(e,n(33))},function(t,e,n){"use strict";function r(t){var e=new i(i._44);return e._83=1,e._18=t,e}var i=n(288);t.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return s;if(void 0===t)return u;if(!0===t)return o;if(!1===t)return a;if(0===t)return c;if(""===t)return l;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return r(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(t){r(a,t)},n))}var u=s.then;if("function"===typeof u){return void new i(u.bind(s)).then(function(t){r(a,t)},n)}}e[a]=s,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,a=0;a<e.length;a++)r(a,e[a])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(g.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(g.arrayBuffer&&g.blob&&b(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!x(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return _.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function m(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function v(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var g={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(g.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},x=ArrayBuffer.isView||function(t){return t&&y.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},g.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},h.call(d.prototype),h.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];v.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=d,t.Response=v,t.fetch=function(t,e){return new Promise(function(n,r){var i=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new v(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n.n(r),o=n(189),a=n.n(o),s=n(537),u=n.n(s),c=n(538),l=n(560),h=n(664),f=Object(c.a)();c.b.run(l.a),a.a.render(i.a.createElement(h.a,{store:f}),document.getElementById("root"))},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;t=Error(e.replace(/%s/g,function(){return u[c++]})),t.name="Invariant Violation"}throw t.framesToPop=1,t}}function i(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function o(t,e,n){this.props=t,this.context=e,this.refs=j,this.updater=n||I}function a(){}function s(t,e,n){this.props=t,this.context=e,this.refs=j,this.updater=n||I}function u(t,e,n){var r=void 0,i={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)F.call(e,r)&&!U.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:w,type:t,key:o,ref:a,props:i,_owner:B.current}}function c(t,e){return{$$typeof:w,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function l(t){return"object"===typeof t&&null!==t&&t.$$typeof===w}function h(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function f(t,e,n,r){if(z.length){var i=z.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function d(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>z.length&&z.push(t)}function p(t,e,n,r){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var a=!1;if(null===t)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case w:case E:a=!0}}if(a)return n(r,t,""===e?"."+v(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var s=0;s<t.length;s++){o=t[s];var u=e+v(o,s);a+=p(o,u,n,r)}else if(null===t||"object"!==typeof t?u=null:(u=N&&t[N]||t["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=e+v(o,s++),a+=p(o,u,n,r);else"object"===o&&(n=""+t,i("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function m(t,e,n){return null==t?0:p(t,"",e,n)}function v(t,e){return"object"===typeof t&&null!==t&&null!=t.key?h(t.key):e.toString(36)}function g(t,e){t.func.call(t.context,e,t.count++)}function y(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?b(t,r,n,function(t){return t}):null!=t&&(l(t)&&(t=c(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(G,"$&/")+"/")+n)),r.push(t))}function b(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(G,"$&/")+"/"),e=f(e,o,r,i),m(t,y,e),d(e)}var x=n(188),_="function"===typeof Symbol&&Symbol.for,w=_?Symbol.for("react.element"):60103,E=_?Symbol.for("react.portal"):60106,M=_?Symbol.for("react.fragment"):60107,S=_?Symbol.for("react.strict_mode"):60108,T=_?Symbol.for("react.profiler"):60114,A=_?Symbol.for("react.provider"):60109,C=_?Symbol.for("react.context"):60110,O=_?Symbol.for("react.concurrent_mode"):60111,P=_?Symbol.for("react.forward_ref"):60112,L=_?Symbol.for("react.suspense"):60113,R=_?Symbol.for("react.memo"):60115,k=_?Symbol.for("react.lazy"):60116,N="function"===typeof Symbol&&Symbol.iterator,I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j={};o.prototype.isReactComponent={},o.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&i("85"),this.updater.enqueueSetState(this,t,e,"setState")},o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},a.prototype=o.prototype;var D=s.prototype=new a;D.constructor=s,x(D,o.prototype),D.isPureReactComponent=!0;var B={current:null,currentDispatcher:null},F=Object.prototype.hasOwnProperty,U={key:!0,ref:!0,__self:!0,__source:!0},G=/\/+/g,z=[],V={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return b(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;e=f(null,null,e,n),m(t,g,e),d(e)},count:function(t){return m(t,function(){return null},null)},toArray:function(t){var e=[];return b(t,e,null,function(t){return t}),e},only:function(t){return l(t)||i("143"),t}},createRef:function(){return{current:null}},Component:o,PureComponent:s,createContext:function(t,e){return void 0===e&&(e=null),t={$$typeof:C,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,Provider:null,Consumer:null},t.Provider={$$typeof:A,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:P,render:t}},lazy:function(t){return{$$typeof:k,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:R,type:t,compare:void 0===e?null:e}},Fragment:M,StrictMode:S,unstable_ConcurrentMode:O,Suspense:L,unstable_Profiler:T,createElement:u,cloneElement:function(t,e,n){(null===t||void 0===t)&&i("267",t);var r=void 0,o=x({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){void 0!==e.ref&&(s=e.ref,u=B.current),void 0!==e.key&&(a=""+e.key);var c=void 0;t.type&&t.type.defaultProps&&(c=t.type.defaultProps);for(r in e)F.call(e,r)&&!U.hasOwnProperty(r)&&(o[r]=void 0===e[r]&&void 0!==c?c[r]:e[r])}if(1===(r=arguments.length-2))o.children=n;else if(1<r){c=Array(r);for(var l=0;l<r;l++)c[l]=arguments[l+2];o.children=c}return{$$typeof:w,type:t.type,key:a,ref:s,props:o,_owner:u}},createFactory:function(t){var e=u.bind(null,t);return e.type=t,e},isValidElement:l,version:"16.6.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:B,assign:x}},H={default:V},W=H&&V||H;t.exports=W.default||W},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;t=Error(e.replace(/%s/g,function(){return u[c++]})),t.name="Invariant Violation"}throw t.framesToPop=1,t}}function i(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function o(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}function a(t,e,n,r,i,a,s,u,c){Ir=!1,jr=null,o.apply(Fr,arguments)}function s(t,e,n,r,o,s,u,c,l){if(a.apply(this,arguments),Ir){if(Ir){var h=jr;Ir=!1,jr=null}else i("198"),h=void 0;Dr||(Dr=!0,Br=h)}}function u(){if(Ur)for(var t in Gr){var e=Gr[t],n=Ur.indexOf(t);if(-1<n||i("96",t),!zr[n]){e.extractEvents||i("97",t),zr[n]=e,n=e.eventTypes;for(var r in n){var o=void 0,a=n[r],s=e,u=r;Vr.hasOwnProperty(u)&&i("99",u),Vr[u]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&c(l[o],s,u);o=!0}else a.registrationName?(c(a.registrationName,s,u),o=!0):o=!1;o||i("98",r,t)}}}}function c(t,e,n){Hr[t]&&i("100",t),Hr[t]=e,Wr[t]=e.eventTypes[n].dependencies}function l(t,e,n,r){e=t.type||"unknown-event",t.currentTarget=Yr(r),s(e,n,void 0,t),t.currentTarget=null}function h(t,e){return null==e&&i("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function f(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}function d(t,e){if(t){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)l(t,e,n[i],r[i]);else n&&l(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function p(t){return d(t,!0)}function m(t){return d(t,!1)}function v(t,e){var n=t.stateNode;if(!n)return null;var r=qr(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(t=t.type,r=!("button"===t||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&i("231",e,typeof n),n)}function g(t,e){if(null!==t&&(Kr=h(Kr,t)),t=Kr,Kr=null,t&&(e?f(t,p):f(t,m),Kr&&i("95"),Dr))throw e=Br,Dr=!1,Br=null,e}function y(t){if(t[Jr])return t[Jr];for(;!t[Jr];){if(!t.parentNode)return null;t=t.parentNode}return t=t[Jr],5===t.tag||6===t.tag?t:null}function b(t){return t=t[Jr],!t||5!==t.tag&&6!==t.tag?null:t}function x(t){if(5===t.tag||6===t.tag)return t.stateNode;i("33")}function _(t){return t[$r]||null}function w(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function E(t,e,n){(e=v(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=h(n._dispatchListeners,e),n._dispatchInstances=h(n._dispatchInstances,t))}function M(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=w(e);for(e=n.length;0<e--;)E(n[e],"captured",t);for(e=0;e<n.length;e++)E(n[e],"bubbled",t)}}function S(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=v(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=h(n._dispatchListeners,e),n._dispatchInstances=h(n._dispatchInstances,t))}function T(t){t&&t.dispatchConfig.registrationName&&S(t._targetInst,null,t)}function A(t){f(t,M)}function C(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}function O(t){if(ni[t])return ni[t];if(!ei[t])return t;var e=ei[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ri)return ni[t]=e[n];return t}function P(){if(hi)return hi;var t,e=li,n=e.length,r,i="value"in ci?ci.value:ci.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return hi=i.slice(t,1<r?1-r:void 0)}function L(){return!0}function R(){return!1}function k(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var i in t)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?L:R,this.isPropagationStopped=R,this}function N(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function I(t){t instanceof this||i("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function j(t){t.eventPool=[],t.getPooled=N,t.release=I}function D(t,e){switch(t){case"keyup":return-1!==pi.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function B(t){return t=t.detail,"object"===typeof t&&"data"in t?t.data:null}function F(t,e){switch(t){case"compositionend":return B(e);case"keypress":return 32!==e.which?null:(_i=!0,bi);case"textInput":return t=e.data,t===bi&&_i?null:t;default:return null}}function U(t,e){if(wi)return"compositionend"===t||!mi&&D(t,e)?(t=P(),hi=li=ci=null,wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yi&&"ko"!==e.locale?null:e.data;default:return null}}function G(t){if(t=Xr(t)){"function"!==typeof Mi&&i("280");var e=qr(t.stateNode);Mi(t.stateNode,t.type,e)}}function z(t){Si?Ti?Ti.push(t):Ti=[t]:Si=t}function V(){if(Si){var t=Si,e=Ti;if(Ti=Si=null,G(t),e)for(t=0;t<e.length;t++)G(e[t])}}function H(t,e){return t(e)}function W(t,e,n){return t(e,n)}function q(){}function X(t,e){if(Ai)return t(e);Ai=!0;try{return H(t,e)}finally{Ai=!1,(null!==Si||null!==Ti)&&(q(),V())}}function Y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Ci[t.type]:"textarea"===e}function K(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Z(t){if(!ti)return!1;t="on"+t;var e=t in document;return e||(e=document.createElement("div"),e.setAttribute(t,"return;"),e="function"===typeof e[t]),e}function Q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function J(t){var e=Q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $(t){t._valueTracker||(t._valueTracker=J(t))}function tt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function et(t){return null===t||"object"!==typeof t?null:(t=Hi&&t[Hi]||t["@@iterator"],"function"===typeof t?t:null)}function nt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case Fi:return"ConcurrentMode";case Ni:return"Fragment";case ki:return"Portal";case ji:return"Profiler";case Ii:return"StrictMode";case Gi:return"Suspense"}if("object"===typeof t)switch(t.$$typeof){case Bi:return"Context.Consumer";case Di:return"Context.Provider";case Ui:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case zi:return nt(t.type);case Vi:if(t=1===t._status?t._result:null)return nt(t)}return null}function rt(t){var e="";do{t:switch(t.tag){case 2:case 16:case 0:case 1:case 5:case 8:var n=t._debugOwner,r=t._debugSource,i=nt(t.type),o=null;n&&(o=nt(n.type)),n=i,i="",r?i=" (at "+r.fileName.replace(Pi,"")+":"+r.lineNumber+")":o&&(i=" (created by "+o+")"),o="\n    in "+(n||"Unknown")+i;break t;default:o=""}e+=o,t=t.return}while(t);return e}function it(t){return!!qi.call(Yi,t)||!qi.call(Xi,t)&&(Wi.test(t)?Yi[t]=!0:(Xi[t]=!0,!1))}function ot(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}function at(t,e,n,r){if(null===e||"undefined"===typeof e||ot(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function st(t,e,n,r,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e}function ut(t){return t[1].toUpperCase()}function ct(t,e,n,r){var i=Ki.hasOwnProperty(e)?Ki[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(at(e,n,i,r)&&(n=null),r||null===i?it(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function lt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function ht(t,e){var n=e.checked;return kr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function ft(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=lt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function dt(t,e){null!=(e=e.checked)&&ct(t,"checked",e,!1)}function pt(t,e){dt(t,e);var n=lt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?vt(t,e.type,n):e.hasOwnProperty("defaultValue")&&vt(t,e.type,lt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function mt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,""!==n&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function vt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function gt(t,e,n){return t=k.getPooled(Qi.change,t,e,n),t.type="change",z(n),A(t),t}function yt(t){g(t,!1)}function bt(t){if(tt(x(t)))return t}function xt(t,e){if("change"===t)return e}function _t(){Ji&&(Ji.detachEvent("onpropertychange",wt),$i=Ji=null)}function wt(t){"value"===t.propertyName&&bt($i)&&(t=gt($i,t,K(t)),X(yt,t))}function Et(t,e,n){"focus"===t?(_t(),Ji=e,$i=n,Ji.attachEvent("onpropertychange",wt)):"blur"===t&&_t()}function Mt(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return bt($i)}function St(t,e){if("click"===t)return bt(e)}function Tt(t,e){if("input"===t||"change"===t)return bt(e)}function At(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=ro[t])&&!!e[t]}function Ct(){return At}function Ot(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function Pt(t,e){if(Ot(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fo.call(e,n[r])||!Ot(t[n[r]],e[n[r]]))return!1;return!0}function Lt(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(e=e.return,0!==(2&e.effectTag))return 1}return 3===e.tag?2:3}function Rt(t){2!==Lt(t)&&i("188")}function kt(t){var e=t.alternate;if(!e)return e=Lt(t),3===e&&i("188"),1===e?null:t;for(var n=t,r=e;;){var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return Rt(o),t;if(s===r)return Rt(o),e;s=s.sibling}i("188")}if(n.return!==r.return)n=o,r=a;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}s||i("189")}}n.alternate!==r&&i("190")}return 3!==n.tag&&i("188"),n.stateNode.current===n?t:e}function Nt(t){if(!(t=kt(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function It(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function jt(t,e){var n=t[0];t=t[1];var r="on"+(t[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:e},So[t]=e,To[n]=e}function Dt(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=y(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=K(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=null,s=0;s<zr.length;s++){var u=zr[s];u&&(u=u.extractEvents(r,e,o,i))&&(a=h(a,u))}g(a,!1)}}function Bt(t,e){if(!e)return null;var n=(Co(t)?Ut:Gt).bind(null,t);e.addEventListener(t,n,!1)}function Ft(t,e){if(!e)return null;var n=(Co(t)?Ut:Gt).bind(null,t);e.addEventListener(t,n,!0)}function Ut(t,e){W(Gt,t,e)}function Gt(t,e){if(Po){var n=K(e);if(n=y(n),null===n||"number"!==typeof n.tag||2===Lt(n)||(n=null),Oo.length){var r=Oo.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{X(Dt,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Oo.length&&Oo.push(t)}}}function zt(t){return Object.prototype.hasOwnProperty.call(t,ko)||(t[ko]=Ro++,Lo[t[ko]]={}),Lo[t[ko]]}function Vt(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Ht(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wt(t,e){var n=Ht(t);t=0;for(var r;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Ht(n)}}function qt(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?qt(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function Xt(){for(var t=window,e=Vt();e instanceof t.HTMLIFrameElement;){try{t=e.contentDocument.defaultView}catch(t){break}e=Vt(t.document)}return e}function Yt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function Kt(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Fo||null==jo||jo!==Vt(n)?null:(n=jo,"selectionStart"in n&&Yt(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bo&&Pt(Bo,n)?null:(Bo=n,t=k.getPooled(Io.select,Do,t,e),t.type="select",t.target=jo,A(t),t))}function Zt(t){var e="";return Rr.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}function Qt(t,e){return t=kr({children:void 0},e),(e=Zt(e.children))&&(t.children=e),t}function Jt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+lt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function $t(t,e){return null!=e.dangerouslySetInnerHTML&&i("91"),kr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function te(t,e){var n=e.value;null==n&&(n=e.defaultValue,e=e.children,null!=e&&(null!=n&&i("92"),Array.isArray(e)&&(1>=e.length||i("93"),e=e[0]),n=e),null==n&&(n="")),t._wrapperState={initialValue:lt(n)}}function ee(t,e){var n=lt(e.value),r=lt(e.defaultValue);null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ne(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}function re(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?re(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}function oe(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function ae(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=e[n];i=null==o||"boolean"===typeof o||""===o?"":r||"number"!==typeof o||0===o||Ho.hasOwnProperty(i)&&Ho[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}function se(t,e){e&&(qo[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&i("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&i("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||i("61")),null!=e.style&&"object"!==typeof e.style&&i("62",""))}function ue(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ce(t,e){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var n=zt(t);e=Wr[e];for(var r=0;r<e.length;r++){var i=e[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Ft("scroll",t);break;case"focus":case"blur":Ft("focus",t),Ft("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Z(i)&&Ft(i,t);break;case"invalid":case"submit":case"reset":break;default:-1===ui.indexOf(i)&&Bt(i,t)}n[i]=!0}}}function le(){}function he(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function fe(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function de(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function pe(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function me(t){0>Jo||(t.current=Qo[Jo],Qo[Jo]=null,Jo--)}function ve(t,e){Jo++,Qo[Jo]=t.current,t.current=e}function ge(t,e){var n=t.type.contextTypes;if(!n)return $o;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ye(t){return null!==(t=t.childContextTypes)&&void 0!==t}function be(t){me(ea,t),me(ta,t)}function xe(t){me(ea,t),me(ta,t)}function _e(t,e,n){ta.current!==$o&&i("168"),ve(ta,e,t),ve(ea,n,t)}function we(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;r=r.getChildContext();for(var o in r)o in t||i("108",nt(e)||"Unknown",o);return kr({},n,r)}function Ee(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||$o,na=ta.current,ve(ta,e,t),ve(ea,ea.current,t),!0}function Me(t,e,n){var r=t.stateNode;r||i("169"),n?(e=we(t,e,na),r.__reactInternalMemoizedMergedChildContext=e,me(ea,t),me(ta,t),ve(ta,e,t)):me(ea,t),ve(ea,n,t)}function Se(t){return function(e){try{return t(e)}catch(t){}}}function Te(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);ra=Se(function(t){return e.onCommitFiberRoot(n,t)}),ia=Se(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0}function Ae(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ce(t,e,n,r){return new Ae(t,e,n,r)}function Oe(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Pe(t){if("function"===typeof t)return Oe(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===Ui)return 11;if(t===zi)return 14}return 2}function Le(t,e){var n=t.alternate;return null===n?(n=Ce(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.firstContextDependency=t.firstContextDependency,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Re(t,e,n,r,o,a){var s=2;if(r=t,"function"===typeof t)Oe(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case Ni:return ke(n.children,o,a,e);case Fi:return Ne(n,3|o,a,e);case Ii:return Ne(n,2|o,a,e);case ji:return t=Ce(12,n,e,4|o),t.elementType=ji,t.type=ji,t.expirationTime=a,t;case Gi:return t=Ce(13,n,e,o),t.elementType=Gi,t.type=Gi,t.expirationTime=a,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case Di:s=10;break t;case Bi:s=9;break t;case Ui:s=11;break t;case zi:s=14;break t;case Vi:s=16,r=null;break t}i("130",null==t?t:typeof t,"")}return e=Ce(s,n,e,o),e.elementType=t,e.type=r,e.expirationTime=a,e}function ke(t,e,n,r){return t=Ce(7,t,r,e),t.expirationTime=n,t}function Ne(t,e,n,r){return t=Ce(8,t,r,e),e=0===(1&e)?Ii:Fi,t.elementType=e,t.type=e,t.expirationTime=n,t}function Ie(t,e,n){return t=Ce(6,t,null,e),t.expirationTime=n,t}function je(t,e,n){return e=Ce(4,null!==t.children?t.children:[],t.key,e),e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function De(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:n>e?t.earliestPendingTime=e:t.latestPendingTime<e&&(t.latestPendingTime=e),Ue(e,t)}function Be(t,e){t.didError=!1;var n=t.latestPingedTime;0!==n&&n<=e&&(t.latestPingedTime=0),n=t.earliestPendingTime;var r=t.latestPendingTime;n===e?t.earliestPendingTime=r===e?t.latestPendingTime=0:r:r===e&&(t.latestPendingTime=n),n=t.earliestSuspendedTime,r=t.latestSuspendedTime,0===n?t.earliestSuspendedTime=t.latestSuspendedTime=e:n>e?t.earliestSuspendedTime=e:r<e&&(t.latestSuspendedTime=e),Ue(e,t)}function Fe(t,e){var n=t.earliestPendingTime;return t=t.earliestSuspendedTime,(0===e||0!==n&&n<e)&&(e=n),(0===e||0!==t&&t<e)&&(e=t),e}function Ue(t,e){var n=e.earliestSuspendedTime,r=e.latestSuspendedTime,i=e.earliestPendingTime,o=e.latestPingedTime;i=0!==i?i:o,0===i&&(0===t||r>t)&&(i=r),t=i,0!==t&&0!==n&&n<t&&(t=n),e.nextExpirationTimeToWorkOn=i,e.expirationTime=t}function Ge(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ze(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ve(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function He(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function We(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=Ge(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=Ge(t.memoizedState),i=n.updateQueue=Ge(n.memoizedState)):r=t.updateQueue=ze(i):null===i&&(i=n.updateQueue=ze(r));null===i||r===i?He(r,e):null===r.lastUpdate||null===i.lastUpdate?(He(r,e),He(i,e)):(He(r,e),i.lastUpdate=e)}function qe(t,e){var n=t.updateQueue;n=null===n?t.updateQueue=Ge(t.memoizedState):Xe(t,n),null===n.lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function Xe(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=ze(e)),e}function Ye(t,e,n,r,i,o){switch(n.tag){case 1:return t=n.payload,"function"===typeof t?t.call(o,r,i):t;case 3:t.effectTag=-1025&t.effectTag|64;case 0:if(t=n.payload,null===(i="function"===typeof t?t.call(o,r,i):t)||void 0===i)break;return kr({},r,i);case 2:oa=!0}return r}function Ke(t,e,n,r,i){oa=!1,e=Xe(t,e);for(var o=e.baseState,a=null,s=0,u=e.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l>i?(null===a&&(a=u,o=c),(0===s||s>l)&&(s=l)):(c=Ye(t,e,u,c,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(l=null,u=e.firstCapturedUpdate;null!==u;){var h=u.expirationTime;h>i?(null===l&&(l=u,null===a&&(o=c)),(0===s||s>h)&&(s=h)):(c=Ye(t,e,u,c,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===l?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===l&&(o=c),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=l,t.expirationTime=s,t.memoizedState=c}function Ze(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),Qe(e.firstEffect,n),e.firstEffect=e.lastEffect=null,Qe(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function Qe(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;"function"!==typeof n&&i("191",n),n.call(r)}t=t.nextEffect}}function Je(t,e){return{value:t,source:e,stack:rt(e)}}function $e(t,e){var n=t.type._context;ve(aa,n._currentValue,t),n._currentValue=e}function tn(t){var e=aa.current;me(aa,t),t.type._context._currentValue=e}function en(t){sa=t,ca=ua=null,t.firstContextDependency=null}function nn(t,e){return ca!==t&&!1!==e&&0!==e&&("number"===typeof e&&1073741823!==e||(ca=t,e=1073741823),e={context:t,observedBits:e,next:null},null===ua?(null===sa&&i("293"),sa.firstContextDependency=ua=e):ua=ua.next=e),t._currentValue}function rn(t){return t===la&&i("174"),t}function on(t,e){ve(da,e,t),ve(fa,t,t),ve(ha,la,t);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ie(null,"");break;default:n=8===n?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ie(e,n)}me(ha,t),ve(ha,e,t)}function an(t){me(ha,t),me(fa,t),me(da,t)}function sn(t){rn(da.current);var e=rn(ha.current),n=ie(e,t.type);e!==n&&(ve(fa,t,t),ve(ha,n,t))}function un(t){fa.current===t&&(me(ha,t),me(fa,t))}function cn(t,e,n,r){e=t.memoizedState,n=n(r,e),n=null===n||void 0===n?e:kr({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}function ln(t,e,n,r,i,o,a){return t=t.stateNode,"function"===typeof t.shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Pt(n,r)||!Pt(i,o))}function hn(t,e,n){var r=!1,i=$o,o=e.contextType;return"object"===typeof o&&null!==o?o=pa.currentDispatcher.readContext(o):(i=ye(e)?na:ta.current,r=e.contextTypes,o=(r=null!==r&&void 0!==r)?ge(t,i):$o),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=va,t.stateNode=e,e._reactInternalFiber=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function fn(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&va.enqueueReplaceState(e,e.state,null)}function dn(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ma;var o=e.contextType;"object"===typeof o&&null!==o?i.context=pa.currentDispatcher.readContext(o):(o=ye(e)?na:ta.current,i.context=ge(t,o)),o=t.updateQueue,null!==o&&(Ke(t,o,n,i,r),i.state=t.memoizedState),o=e.getDerivedStateFromProps,"function"===typeof o&&(cn(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&va.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(Ke(t,o,n,i,r),i.state=t.memoizedState)),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}function pn(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&i("289"),r=n.stateNode),r||i("147",t);var o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;e===ma&&(e=r.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}"string"!==typeof t&&i("284"),n._owner||i("290",t)}return t}function mn(t,e){"textarea"!==t.type&&i("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function vn(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e,n){return t=Le(t,e,n),t.index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index,r<n?(e.effectTag=2,n):r):(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?(e=Ie(n,t.mode,r),e.return=t,e):(e=o(e,n,r),e.return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?(r=o(e,n.props,r),r.ref=pn(t,e,n),r.return=t,r):(r=Re(n.type,n.key,n.props,null,t.mode,r),r.ref=pn(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=je(n,t.mode,r),e.return=t,e):(e=o(e,n.children||[],r),e.return=t,e)}function h(t,e,n,r,i){return null===e||7!==e.tag?(e=ke(n,t.mode,r,i),e.return=t,e):(e=o(e,n,r),e.return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return e=Ie(""+e,t.mode,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Ri:return n=Re(e.type,e.key,e.props,null,t.mode,n),n.ref=pn(t,null,e),n.return=t,n;case ki:return e=je(e,t.mode,n),e.return=t,e}if(ga(e)||et(e))return e=ke(e,t.mode,n,null),e.return=t,e;mn(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ri:return n.key===i?n.type===Ni?h(t,e,n.props.children,r,i):c(t,e,n,r):null;case ki:return n.key===i?l(t,e,n,r):null}if(ga(n)||et(n))return null!==i?null:h(t,e,n,r,null);mn(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return t=t.get(n)||null,u(e,t,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Ri:return t=t.get(null===r.key?n:r.key)||null,r.type===Ni?h(e,t,r.props.children,i,r.key):c(e,t,r,i);case ki:return t=t.get(null===r.key?n:r.key)||null,l(e,t,r,i)}if(ga(r)||et(r))return t=t.get(n)||null,h(e,t,r,i,null);mn(e,r)}return null}function m(i,o,s,u){for(var c=null,l=null,h=o,m=o=0,v=null;null!==h&&m<s.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var g=d(i,h,s[m],u);if(null===g){null===h&&(h=v);break}t&&h&&null===g.alternate&&e(i,h),o=a(g,o,m),null===l?c=g:l.sibling=g,l=g,h=v}if(m===s.length)return n(i,h),c;if(null===h){for(;m<s.length;m++)(h=f(i,s[m],u))&&(o=a(h,o,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);m<s.length;m++)(v=p(h,i,m,s[m],u))&&(t&&null!==v.alternate&&h.delete(null===v.key?m:v.key),o=a(v,o,m),null===l?c=v:l.sibling=v,l=v);return t&&h.forEach(function(t){return e(i,t)}),c}function v(o,s,u,c){var l=et(u);"function"!==typeof l&&i("150"),null==(u=l.call(u))&&i("151");for(var h=l=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=d(o,m,y.value,c);if(null===b){m||(m=g);break}t&&m&&null===b.alternate&&e(o,m),s=a(b,s,v),null===h?l=b:h.sibling=b,h=b,m=g}if(y.done)return n(o,m),l;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=f(o,y.value,c))&&(s=a(y,s,v),null===h?l=y:h.sibling=y,h=y);return l}for(m=r(o,m);!y.done;v++,y=u.next())null!==(y=p(m,o,v,y.value,c))&&(t&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===h?l=y:h.sibling=y,h=y);return t&&m.forEach(function(t){return e(o,t)}),l}return function(t,r,a,u){var c="object"===typeof a&&null!==a&&a.type===Ni&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case Ri:t:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?a.type===Ni:c.elementType===a.type){n(t,c.sibling),r=o(c,a.type===Ni?a.props.children:a.props,u),r.ref=pn(t,c,a),r.return=t,t=r;break t}n(t,c);break}e(t,c),c=c.sibling}a.type===Ni?(r=ke(a.props.children,t.mode,u,a.key),r.return=t,t=r):(u=Re(a.type,a.key,a.props,null,t.mode,u),u.ref=pn(t,r,a),u.return=t,t=u)}return s(t);case ki:t:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(t,r.sibling),r=o(r,a.children||[],u),r.return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}r=je(a,t.mode,u),r.return=t,t=r}return s(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(t,r.sibling),r=o(r,a,u),r.return=t,t=r):(n(t,r),r=Ie(a,t.mode,u),r.return=t,t=r),s(t);if(ga(a))return m(t,r,a,u);if(et(a))return v(t,r,a,u);if(l&&mn(t,a),"undefined"===typeof a&&!c)switch(t.tag){case 1:case 0:u=t.type,i("152",u.displayName||u.name||"Component")}return n(t,r)}}function gn(t,e){var n=Ce(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function yn(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function bn(t){if(wa){var e=_a;if(e){var n=e;if(!yn(t,e)){if(!(e=de(n))||!yn(t,e))return t.effectTag|=2,wa=!1,void(xa=t);gn(xa,n)}xa=t,_a=pe(e)}else t.effectTag|=2,wa=!1,xa=t}}function xn(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;xa=t}function _n(t){if(t!==xa)return!1;if(!wa)return xn(t),wa=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!fe(e,t.memoizedProps))for(e=_a;e;)gn(t,e),e=de(e);return xn(t),_a=xa?de(t.stateNode):null,!0}function wn(){_a=xa=null,wa=!1}function En(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:throw t._status=0,e=t._ctor,e=e(),e.then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)}),t._result=e,e}}function Mn(t,e,n,r){e.child=null===t?ba(e,null,n,r):ya(e,t.child,n,r)}function Sn(t,e,n,r,i){n=n.render;var o=e.ref;return ea.current||e.memoizedProps!==r||o!==(null!==t?t.ref:null)?(r=n(r,o),Mn(t,e,r,i),e.child):In(t,e,i)}function Tn(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Oe(a)||void 0!==a.defaultProps||null!==n.compare?(t=Re(n.type,null,r,null,e.mode,o),t.ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,An(t,e,a,r,i,o))}return a=t.child,(0===i||i>o)&&(i=a.memoizedProps,n=n.compare,(n=null!==n?n:Pt)(i,r)&&t.ref===e.ref)?In(t,e,o):(t=Le(a,r,o),t.ref=e.ref,t.return=e,e.child=t)}function An(t,e,n,r,i,o){return null!==t&&(0===i||i>o)&&Pt(t.memoizedProps,r)&&t.ref===e.ref?In(t,e,o):On(t,e,n,r,o)}function Cn(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function On(t,e,n,r,i){var o=ye(n)?na:ta.current;return o=ge(e,o),en(e,i),n=n(r,o),e.effectTag|=1,Mn(t,e,n,i),e.child}function Pn(t,e,n,r,i){if(ye(n)){var o=!0;Ee(e)}else o=!1;if(en(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),hn(e,n,r,i),dn(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=pa.currentDispatcher.readContext(c):(c=ye(n)?na:ta.current,c=ge(e,c));var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&fn(e,a,r,c),oa=!1;var f=e.memoizedState;u=a.state=f;var d=e.updateQueue;null!==d&&(Ke(e,d,r,a,i),u=e.memoizedState),s!==r||f!==u||ea.current||oa?("function"===typeof l&&(cn(e,n,l,r),u=e.memoizedState),(s=oa||ln(e,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=s,u=a.context,c=n.contextType,"object"===typeof c&&null!==c?c=pa.currentDispatcher.readContext(c):(c=ye(n)?na:ta.current,c=ge(e,c)),l=n.getDerivedStateFromProps,(h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&fn(e,a,r,c),oa=!1,u=e.memoizedState,f=a.state=u,d=e.updateQueue,null!==d&&(Ke(e,d,r,a,i),f=e.memoizedState),s!==r||u!==f||ea.current||oa?("function"===typeof l&&(cn(e,n,l,r),f=e.memoizedState),(l=oa||ln(e,n,s,r,u,f,c))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Ln(t,e,n,r,o,i)}function Ln(t,e,n,r,i,o){Cn(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&Me(e,n,!1),In(t,e,o);r=e.stateNode,Ea.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=ya(e,t.child,null,o),e.child=ya(e,null,s,o)):Mn(t,e,s,o),e.memoizedState=r.state,i&&Me(e,n,!0),e.child}function Rn(t){var e=t.stateNode;e.pendingContext?_e(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_e(t,e.context,!1),on(t,e.containerInfo)}function kn(t,e){if(t&&t.defaultProps){e=kr({},e),t=t.defaultProps;for(var n in t)void 0===e[n]&&(e[n]=t[n])}return e}function Nn(t,e,n){var r=e.mode,i=e.pendingProps,o=e.memoizedState;null!==o&&(o.alreadyCaptured?null!==t&&o===t.memoizedState?o={alreadyCaptured:!0,didTimeout:!0,timedOutAt:o.timedOutAt}:(o.alreadyCaptured=!0,o.didTimeout=!0):o=null);var a=null!==o&&o.didTimeout;if(null===t)a?(a=i.fallback,i=ke(null,r,0,null),r=ke(a,r,n,null),i.sibling=r,n=i,n.return=r.return=e):n=r=ba(e,null,i.children,n);else{var s=t.memoizedState;null!==s&&s.didTimeout?(r=t.child,t=r.sibling,a?(n=i.fallback,r=Le(r,r.pendingProps,0),r.effectTag|=2,i=r.sibling=Le(t,n,t.expirationTime),i.effectTag|=2,n=r,r.childExpirationTime=0,r=i,n.return=r.return=e):(a=t.child,r=ya(e,r.child,i.children,n),ya(e,a,null,n),n=r)):(t=t.child,a?(a=i.fallback,i=ke(null,r,0,null),i.effectTag|=2,i.child=t,t.return=i,r=i.sibling=ke(a,r,n,null),r.effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=e):r=n=ya(e,t,i.children,n))}return e.memoizedState=o,e.child=n,r}function In(t,e,n){null!==t&&(e.firstContextDependency=t.firstContextDependency);var r=e.childExpirationTime;if(0===r||r>n)return null;if(null!==t&&e.child!==t.child&&i("153"),null!==e.child){for(t=e.child,n=Le(t,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=Le(t,t.pendingProps,t.expirationTime),n.return=e;n.sibling=null}return e.child}function jn(t,e,n){var r=e.expirationTime;if(null!==t&&t.memoizedProps===e.pendingProps&&!ea.current&&(0===r||r>n)){switch(e.tag){case 3:Rn(e),wn();break;case 5:sn(e);break;case 1:ye(e.type)&&Ee(e);break;case 4:on(e,e.stateNode.containerInfo);break;case 10:$e(e,e.memoizedProps.value);break;case 13:if(null!==(r=e.memoizedState)&&r.didTimeout)return 0!==(r=e.child.childExpirationTime)&&r<=n?Nn(t,e,n):(e=In(t,e,n),null!==e?e.sibling:null)}return In(t,e,n)}switch(e.expirationTime=0,e.tag){case 2:r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps;var o=ge(e,ta.current);if(en(e,n),o=r(t,o),e.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(e.tag=1,ye(r)){var a=!0;Ee(e)}else a=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&cn(e,r,s,t),o.updater=va,e.stateNode=o,o._reactInternalFiber=e,dn(e,r,t,n),e=Ln(null,e,r,!0,a,n)}else e.tag=0,Mn(null,e,o,n),e=e.child;return e;case 16:switch(o=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),a=e.pendingProps,t=En(o),e.type=t,o=e.tag=Pe(t),a=kn(t,a),s=void 0,o){case 0:s=On(null,e,t,a,n);break;case 1:s=Pn(null,e,t,a,n);break;case 11:s=Sn(null,e,t,a,n);break;case 14:s=Tn(null,e,t,kn(t.type,a),r,n);break;default:i("283",t)}return s;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:kn(r,o),On(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:kn(r,o),Pn(t,e,r,o,n);case 3:return Rn(e),r=e.updateQueue,null===r&&i("282"),o=e.memoizedState,o=null!==o?o.element:null,Ke(e,r,e.pendingProps,null,n),r=e.memoizedState.element,r===o?(wn(),e=In(t,e,n)):(o=e.stateNode,(o=(null===t||null===t.child)&&o.hydrate)&&(_a=pe(e.stateNode.containerInfo),xa=e,o=wa=!0),o?(e.effectTag|=2,e.child=ba(e,null,r,n)):(Mn(t,e,r,n),wn()),e=e.child),e;case 5:return sn(e),null===t&&bn(e),r=e.type,o=e.pendingProps,a=null!==t?t.memoizedProps:null,s=o.children,fe(r,o)?s=null:null!==a&&fe(r,a)&&(e.effectTag|=16),Cn(t,e),1073741823!==n&&1&e.mode&&o.hidden?(e.expirationTime=1073741823,e=null):(Mn(t,e,s,n),e=e.child),e;case 6:return null===t&&bn(e),null;case 13:return Nn(t,e,n);case 4:return on(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=ya(e,null,r,n):Mn(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:kn(r,o),Sn(t,e,r,o,n);case 7:return Mn(t,e,e.pendingProps,n),e.child;case 8:case 12:return Mn(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,a=o.value,$e(e,a),null!==s){var u=s.value;if(0===(a=u===a&&(0!==u||1/u===1/a)||u!==u&&a!==a?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!ea.current){e=In(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){if(null!==(u=s.firstContextDependency))do{if(u.context===r&&0!==(u.observedBits&a)){if(1===s.tag){var c=Ve(n);c.tag=2,We(s,c)}(0===s.expirationTime||s.expirationTime>n)&&(s.expirationTime=n),c=s.alternate,null!==c&&(0===c.expirationTime||c.expirationTime>n)&&(c.expirationTime=n);for(var l=s.return;null!==l;){if(c=l.alternate,0===l.childExpirationTime||l.childExpirationTime>n)l.childExpirationTime=n,null!==c&&(0===c.childExpirationTime||c.childExpirationTime>n)&&(c.childExpirationTime=n);else{if(null===c||!(0===c.childExpirationTime||c.childExpirationTime>n))break;c.childExpirationTime=n}l=l.return}}c=s.child,u=u.next}while(null!==u);else c=10===s.tag&&s.type===e.type?null:s.child;if(null!==c)c.return=s;else for(c=s;null!==c;){if(c===e){c=null;break}if(null!==(s=c.sibling)){s.return=c.return,c=s;break}c=c.return}s=c}}Mn(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,a=e.pendingProps,r=a.children,en(e,n),o=nn(o,a.unstable_observedBits),r=r(o),e.effectTag|=1,Mn(t,e,r,n),e.child;case 14:return o=e.type,a=kn(o.type,e.pendingProps),Tn(t,e,o,a,r,n);case 15:return An(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:kn(r,o),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,ye(r)?(t=!0,Ee(e)):t=!1,en(e,n),hn(e,r,o,n),dn(e,r,o,n),Ln(null,e,r,!0,t,n);default:i("156")}}function Dn(t){t.effectTag|=4}function Bn(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=rt(n)),null!==n&&nt(n.type),e=e.value,null!==t&&1===t.tag&&nt(t.type);try{console.error(e)}catch(t){setTimeout(function(){throw t})}}function Fn(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(e){Jn(t,e)}else e.current=null}function Un(t){switch("function"===typeof ia&&ia(t),t.tag){case 1:Fn(t);var e=t.stateNode;if("function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Jn(t,e)}break;case 5:Fn(t);break;case 4:Vn(t)}}function Gn(t){return 5===t.tag||3===t.tag||4===t.tag}function zn(t){t:{for(var e=t.return;null!==e;){if(Gn(e)){var n=e;break t}e=e.return}i("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:i("161")}16&n.effectTag&&(oe(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||Gn(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var o=t;;){if(5===o.tag||6===o.tag)if(n)if(r){var a=e,s=o.stateNode,u=n;8===a.nodeType?a.parentNode.insertBefore(s,u):a.insertBefore(s,u)}else e.insertBefore(o.stateNode,n);else r?(s=e,u=o.stateNode,8===s.nodeType?(a=s.parentNode,a.insertBefore(u,s)):(a=s,a.appendChild(u)),null!==(s=s._reactRootContainer)&&void 0!==s||null!==a.onclick||(a.onclick=le)):e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Vn(t){for(var e=t,n=!1,r=void 0,o=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&i("160"),n.tag){case 5:r=n.stateNode,o=!1;break t;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var a=e,s=a;;)if(Un(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===a)break;for(;null===s.sibling;){if(null===s.return||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(a=r,s=e.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):r.removeChild(e.stateNode)}else if(4===e.tag?(r=e.stateNode.containerInfo,o=!0):Un(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return,4===e.tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function Hn(t,e){switch(e.tag){case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,o=null!==t?t.memoizedProps:r;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,null!==a){for(n[$r]=r,"input"===t&&"radio"===r.type&&null!=r.name&&dt(n,r),ue(t,o),e=ue(t,r),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?ae(n,u):"dangerouslySetInnerHTML"===s?Vo(n,u):"children"===s?oe(n,u):ct(n,s,u,e)}switch(t){case"input":pt(n,r);break;case"textarea":ee(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,a=r.value,null!=a?Jt(n,!!r.multiple,a,!1):t!==!!r.multiple&&(null!=r.defaultValue?Jt(n,!!r.multiple,r.defaultValue,!0):Jt(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:null===e.stateNode&&i("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:case 13:case 17:break;default:i("163")}}function Wn(t,e,n){n=Ve(n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gr(r),Bn(t,e)},n}function qn(t,e,n){n=Ve(n),n.tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ua?Ua=new Set([this]):Ua.add(this));var n=e.value,i=e.stack;Bn(t,e),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function Xn(t){switch(t.tag){case 1:ye(t.type)&&be(t);var e=t.effectTag;return 1024&e?(t.effectTag=-1025&e|64,t):null;case 3:return an(t),xe(t),e=t.effectTag,0!==(64&e)&&i("285"),t.effectTag=-1025&e|64,t;case 5:return un(t),null;case 13:if(1024&(e=t.effectTag)){t.effectTag=-1025&e|64,e=t.alternate,e=null!==e?e.memoizedState:null;var n=t.memoizedState;return null===n?n={alreadyCaptured:!0,didTimeout:!1,timedOutAt:0}:e===n?n={alreadyCaptured:!0,didTimeout:n.didTimeout,timedOutAt:n.timedOutAt}:n.alreadyCaptured=!0,t.memoizedState=n,t}return null;case 4:return an(t),null;case 10:return tn(t),null;default:return null}}function Yn(){if(null!==ka)for(var t=ka.return;null!==t;){var e=t;switch(e.tag){case 1:var n=e.type.childContextTypes;null!==n&&void 0!==n&&be(e);break;case 3:an(e),xe(e);break;case 5:un(e);break;case 4:an(e);break;case 10:tn(e)}t=t.return}Na=null,Ia=0,ja=-1,Da=!1,ka=null}function Kn(t){for(;;){var e=t.alternate,n=t.return,r=t.sibling;if(0===(512&t.effectTag)){var o=e;e=t;var a=e.pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:ye(e.type)&&be(e);break;case 3:an(e),xe(e),a=e.stateNode,a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==o&&null!==o.child||(_n(e),e.effectTag&=-3),Sa(e);break;case 5:un(e);var s=rn(da.current),u=e.type;if(null!==o&&null!=e.stateNode)Ta(o,e,u,a,s),o.ref!==e.ref&&(e.effectTag|=128);else if(a){var c=rn(ha.current);if(_n(e)){a=e,o=a.stateNode;var l=a.type,h=a.memoizedProps,f=s;switch(o[Jr]=a,o[$r]=h,u=void 0,s=l){case"iframe":case"object":Bt("load",o);break;case"video":case"audio":for(l=0;l<ui.length;l++)Bt(ui[l],o);break;case"source":Bt("error",o);break;case"img":case"image":case"link":Bt("error",o),Bt("load",o);break;case"form":Bt("reset",o),Bt("submit",o);break;case"details":Bt("toggle",o);break;case"input":ft(o,h),Bt("invalid",o),ce(f,"onChange");break;case"select":o._wrapperState={wasMultiple:!!h.multiple},Bt("invalid",o),ce(f,"onChange");break;case"textarea":te(o,h),Bt("invalid",o),ce(f,"onChange")}se(s,h),l=null;for(u in h)h.hasOwnProperty(u)&&(c=h[u],"children"===u?"string"===typeof c?o.textContent!==c&&(l=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(l=["children",""+c]):Hr.hasOwnProperty(u)&&null!=c&&ce(f,u));switch(s){case"input":$(o),mt(o,h,!0);break;case"textarea":$(o),ne(o,h);break;case"select":case"option":break;default:"function"===typeof h.onClick&&(o.onclick=le)}u=l,a.updateQueue=u,a=null!==u,a&&Dn(e)}else{h=e,o=u,f=a,l=9===s.nodeType?s:s.ownerDocument,c===Go.html&&(c=re(o)),c===Go.html?"script"===o?(o=l.createElement("div"),o.innerHTML="<script><\/script>",l=o.removeChild(o.firstChild)):"string"===typeof f.is?l=l.createElement(o,{is:f.is}):(l=l.createElement(o),"select"===o&&f.multiple&&(l.multiple=!0)):l=l.createElementNS(c,o),o=l,o[Jr]=h,o[$r]=a,Ma(o,e,!1,!1),f=o,l=u,h=a;var d=s,p=ue(l,h);switch(l){case"iframe":case"object":Bt("load",f),s=h;break;case"video":case"audio":for(s=0;s<ui.length;s++)Bt(ui[s],f);s=h;break;case"source":Bt("error",f),s=h;break;case"img":case"image":case"link":Bt("error",f),Bt("load",f),s=h;break;case"form":Bt("reset",f),Bt("submit",f),s=h;break;case"details":Bt("toggle",f),s=h;break;case"input":ft(f,h),s=ht(f,h),Bt("invalid",f),ce(d,"onChange");break;case"option":s=Qt(f,h);break;case"select":f._wrapperState={wasMultiple:!!h.multiple},s=kr({},h,{value:void 0}),Bt("invalid",f),ce(d,"onChange");break;case"textarea":te(f,h),s=$t(f,h),Bt("invalid",f),ce(d,"onChange");break;default:s=h}se(l,s),c=void 0;var m=l,v=f,g=s;for(c in g)if(g.hasOwnProperty(c)){var y=g[c];"style"===c?ae(v,y):"dangerouslySetInnerHTML"===c?null!=(y=y?y.__html:void 0)&&Vo(v,y):"children"===c?"string"===typeof y?("textarea"!==m||""!==y)&&oe(v,y):"number"===typeof y&&oe(v,""+y):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(Hr.hasOwnProperty(c)?null!=y&&ce(d,c):null!=y&&ct(v,c,y,p))}switch(l){case"input":$(f),mt(f,h,!1);break;case"textarea":$(f),ne(f,h);break;case"option":null!=h.value&&f.setAttribute("value",""+lt(h.value));break;case"select":s=f,s.multiple=!!h.multiple,f=h.value,null!=f?Jt(s,!!h.multiple,f,!1):null!=h.defaultValue&&Jt(s,!!h.multiple,h.defaultValue,!0);break;default:"function"===typeof s.onClick&&(f.onclick=le)}(a=he(u,a))&&Dn(e),e.stateNode=o}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&i("166");break;case 6:o&&null!=e.stateNode?Aa(o,e,o.memoizedProps,a):("string"!==typeof a&&(null===e.stateNode&&i("166")),o=rn(da.current),rn(ha.current),_n(e)?(a=e,u=a.stateNode,o=a.memoizedProps,u[Jr]=a,(a=u.nodeValue!==o)&&Dn(e)):(u=e,a=(9===o.nodeType?o:o.ownerDocument).createTextNode(a),a[Jr]=e,u.stateNode=a));break;case 11:break;case 13:a=e.memoizedState,u=null!==o?o.memoizedState:null,(null!==a&&a.didTimeout)!==(null!==u&&u.didTimeout)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:an(e),Sa(e);break;case 10:tn(e);break;case 9:case 14:break;case 17:ye(e.type)&&be(e);break;default:i("156")}if(ka=null,e=t,1073741823===Ia||1073741823!==e.childExpirationTime){for(a=0,u=e.child;null!==u;)o=u.expirationTime,s=u.childExpirationTime,(0===a||0!==o&&o<a)&&(a=o),(0===a||0!==s&&s<a)&&(a=s),u=u.sibling;e.childExpirationTime=a}null!==n&&0===(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(null!==(t=Xn(t,Ia)))return t.effectTag&=511,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512)}if(null!==r)return r;if(null===n)break;t=n}return null}function Zn(t){var e=jn(t.alternate,t,Ia);return t.memoizedProps=t.pendingProps,null===e&&(e=Kn(t)),Oa.current=null,e}function Qn(t,e,n){Ra&&i("243"),Ra=!0,Oa.currentDispatcher=Ca;var r=t.nextExpirationTimeToWorkOn;r===Ia&&t===Na&&null!==ka||(Yn(),Na=t,Ia=r,ka=Le(Na.current,null,Ia),t.pendingCommitExpirationTime=0);for(var o=!1;;){try{if(e)for(;null!==ka&&!vr();)ka=Zn(ka);else for(;null!==ka;)ka=Zn(ka)}catch(e){if(null===ka)o=!0,gr(e);else{null===ka&&i("271");var a=ka,s=a.return;if(null!==s){t:{var u=t,c=s,l=a,h=e;if(s=Ia,l.effectTag|=512,l.firstEffect=l.lastEffect=null,null!==h&&"object"===typeof h&&"function"===typeof h.then){var f=h;h=c;var d=-1,p=-1;do{if(13===h.tag){var m=h.alternate;if(null!==m&&null!==(m=m.memoizedState)&&m.didTimeout){p=10*(m.timedOutAt-2);break}m=h.pendingProps.maxDuration,"number"===typeof m&&(0>=m?d=0:(-1===d||m<d)&&(d=m))}h=h.return}while(null!==h);h=c;do{if((m=13===h.tag)&&(void 0===h.memoizedProps.fallback?m=!1:(m=h.memoizedState,m=null===m||!m.didTimeout)),m){if(c=tr.bind(null,u,h,l,0===(1&h.mode)?1:s),f.then(c,c),0===(1&h.mode)){h.effectTag|=32,Mn(l.alternate,l,null,s),l.effectTag&=-513,1===l.tag&&(l.effectTag&=-421,null===l.alternate&&(l.tag=17));break t}-1===d?u=1073741823:(-1===p&&(p=10*(Fe(u,s)-2)-5e3),u=p+d),0<=u&&ja<u&&(ja=u),h.effectTag|=1024,h.expirationTime=s;break t}h=h.return}while(null!==h);h=Error("An update was suspended, but no placeholder UI was provided.")}Da=!0,h=Je(h,l),u=c;do{switch(u.tag){case 3:l=h,u.effectTag|=1024,u.expirationTime=s,s=Wn(u,l,s),qe(u,s);break t;case 1:if(l=h,c=u.type,f=u.stateNode,0===(64&u.effectTag)&&("function"===typeof c.getDerivedStateFromError||null!==f&&"function"===typeof f.componentDidCatch&&(null===Ua||!Ua.has(f)))){u.effectTag|=1024,u.expirationTime=s,s=qn(u,l,s),qe(u,s);break t}}u=u.return}while(null!==u)}ka=Kn(a);continue}o=!0,gr(e)}}break}if(Ra=!1,ca=ua=sa=Oa.currentDispatcher=null,o)Na=null,t.finishedWork=null;else if(null!==ka)t.finishedWork=null;else{if(e=t.current.alternate,null===e&&i("281"),Na=null,Da){if(o=t.latestPendingTime,a=t.latestSuspendedTime,s=t.latestPingedTime,0!==o&&o>r||0!==a&&a>r||0!==s&&s>r)return Be(t,r),void ar(t,e,r,t.expirationTime,-1);if(!t.didError&&!n)return t.didError=!0,r=t.nextExpirationTimeToWorkOn=r,n=t.expirationTime=1,void ar(t,e,r,n,-1)}n||-1===ja?(t.pendingCommitExpirationTime=r,t.finishedWork=e):(Be(t,r),n=10*(Fe(t,r)-2),n<ja&&(ja=n),n=10*(ur()-2),n=ja-n,ar(t,e,r,t.expirationTime,0>n?0:n))}}function Jn(t,e){var n;t:{for(Ra&&!Fa&&i("263"),n=t.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ua||!Ua.has(r))){t=Je(e,t),t=qn(n,t,1),We(n,t),nr(n,1),n=void 0;break t}break;case 3:t=Je(e,t),t=Wn(n,t,1),We(n,t),nr(n,1),n=void 0;break t}n=n.return}3===t.tag&&(n=Je(e,t),n=Wn(t,n,1),We(t,n),nr(t,1)),n=void 0}return n}function $n(t,e){return 0!==La?t=La:Ra?t=Fa?1:Ia:1&e.mode?(t=es?2+10*(1+((t-2+15)/10|0)):2+25*(1+((t-2+500)/25|0)),null!==Na&&t===Ia&&(t+=1)):t=1,es&&t>Ya&&(Ya=t),t}function tr(t,e,n,r){var i=t.earliestSuspendedTime,o=t.latestSuspendedTime;if(0!==i&&r>=i&&r<=o){o=i=r,t.didError=!1;var a=t.latestPingedTime;(0===a||a<o)&&(t.latestPingedTime=o),Ue(o,t)}else i=ur(),i=$n(i,e),De(t,i);0!==(1&e.mode)&&t===Na&&Ia===r&&(Na=null),er(e,i),0===(1&e.mode)&&(er(n,i),1===n.tag&&null!==n.stateNode&&(e=Ve(i),e.tag=2,We(n,e))),0!==(n=t.expirationTime)&&cr(t,n)}function er(t,e){(0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e);var n=t.alternate;null!==n&&(0===n.expirationTime||n.expirationTime>e)&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,(0===r.childExpirationTime||r.childExpirationTime>e)&&(r.childExpirationTime=e),null!==n&&(0===n.childExpirationTime||n.childExpirationTime>e)&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null===i?null:i}function nr(t,e){null!==(t=er(t,e))&&(!Ra&&0!==Ia&&e<Ia&&Yn(),De(t,e),Ra&&!Fa&&Na===t||cr(t,t.expirationTime),ss>as&&(ss=0,i("185")))}function rr(t,e,n,r,i){var o=La;La=1;try{return t(e,n,r,i)}finally{La=o}}function ir(){is=2+((Nr.unstable_now()-rs)/10|0)}function or(t,e){if(0!==Va){if(e>Va)return;null!==Ha&&Nr.unstable_cancelCallback(Ha)}Va=e,t=Nr.unstable_now()-rs,Ha=Nr.unstable_scheduleCallback(hr,{timeout:10*(e-2)-t})}function ar(t,e,n,r,i){t.expirationTime=r,0!==i||vr()?0<i&&(t.timeoutHandle=Ko(sr.bind(null,t,e,n),i)):(t.pendingCommitExpirationTime=n,t.finishedWork=e)}function sr(t,e,n){t.pendingCommitExpirationTime=n,t.finishedWork=e,ir(),os=is,dr(t,n)}function ur(){return Wa?os:(lr(),0!==Xa&&1073741823!==Xa||(ir(),os=is),os)}function cr(t,e){if(null===t.nextScheduledRoot)t.expirationTime=e,null===za?(Ga=za=t,t.nextScheduledRoot=t):(za=za.nextScheduledRoot=t,za.nextScheduledRoot=Ga);else{var n=t.expirationTime;(0===n||e<n)&&(t.expirationTime=e)}Wa||($a?ts&&(qa=t,Xa=1,pr(t,1,!0)):1===e?fr(1,null):or(t,e))}function lr(){var t=0,e=null;if(null!==za)for(var n=za,r=Ga;null!==r;){var o=r.expirationTime;if(0===o){if((null===n||null===za)&&i("244"),r===r.nextScheduledRoot){Ga=za=r.nextScheduledRoot=null;break}if(r===Ga)Ga=o=r.nextScheduledRoot,za.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===za){za=n,za.nextScheduledRoot=Ga,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===t||o<t)&&(t=o,e=r),r===za)break;if(1===t)break;n=r,r=r.nextScheduledRoot}}qa=e,Xa=t}function hr(t){if(t.didTimeout&&null!==Ga){ir();var e=Ga;do{var n=e.expirationTime;0!==n&&is>=n&&(e.nextExpirationTimeToWorkOn=is),e=e.nextScheduledRoot}while(e!==Ga)}fr(0,t)}function fr(t,e){if(Ja=e,lr(),null!==Ja)for(ir(),os=is;null!==qa&&0!==Xa&&(0===t||t>=Xa)&&(!Ka||is>=Xa);)pr(qa,Xa,is>=Xa),lr(),ir(),os=is;else for(;null!==qa&&0!==Xa&&(0===t||t>=Xa);)pr(qa,Xa,!0),lr();if(null!==Ja&&(Va=0,Ha=null),0!==Xa&&or(qa,Xa),Ja=null,Ka=!1,ss=0,us=null,null!==ns)for(t=ns,ns=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(t){Za||(Za=!0,Qa=t)}}if(Za)throw t=Qa,Qa=null,Za=!1,t}function dr(t,e){Wa&&i("253"),qa=t,Xa=e,pr(t,e,!0),fr(1,null)}function pr(t,e,n){if(Wa&&i("245"),Wa=!0,null===Ja||n){var r=t.finishedWork;null!==r?mr(t,r,e):(t.finishedWork=null,r=t.timeoutHandle,-1!==r&&(t.timeoutHandle=-1,Zo(r)),Qn(t,!1,n),null!==(r=t.finishedWork)&&mr(t,r,e))}else r=t.finishedWork,null!==r?mr(t,r,e):(t.finishedWork=null,r=t.timeoutHandle,-1!==r&&(t.timeoutHandle=-1,Zo(r)),Qn(t,!0,n),null!==(r=t.finishedWork)&&(vr()?t.finishedWork=r:mr(t,r,e)));Wa=!1}function mr(t,e,n){var r=t.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===ns?ns=[r]:ns.push(r),r._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===us?ss++:(us=t,ss=0),Fa=Ra=!0,t.current===e&&i("177");var o=t.pendingCommitExpirationTime;0===o&&i("261"),t.pendingCommitExpirationTime=0;var a=e.expirationTime,s=e.childExpirationTime,u=0===a||0!==s&&s<a?s:a;if(t.didError=!1,0===u)t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0;else{var c=t.latestPendingTime;0!==c&&(c<u?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime<u&&(t.earliestPendingTime=t.latestPendingTime));var l=t.earliestSuspendedTime;0===l?De(t,u):u>t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,De(t,u)):u<l&&De(t,u)}if(Ue(0,t),Oa.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var h=e.firstEffect}else h=e;else h=e.firstEffect;Xo=Po;var f=Xt();if(Yt(f)){if("selectionStart"in f)var d={start:f.selectionStart,end:f.selectionEnd};else t:{var p=f.ownerDocument,m=p&&p.defaultView||window,v=m.getSelection&&m.getSelection();if(v&&0!==v.rangeCount){var g=v.anchorNode,y=v.anchorOffset,b=v.focusNode,x=v.focusOffset;try{g.nodeType,b.nodeType}catch(t){d=null;break t}var _=0,w=-1,E=-1,M=0,S=0,T=f,A=null;e:for(;;){for(var C;T!==g||0!==y&&3!==T.nodeType||(w=_+y),T!==b||0!==x&&3!==T.nodeType||(E=_+x),3===T.nodeType&&(_+=T.nodeValue.length),null!==(C=T.firstChild);)A=T,T=C;for(;;){if(T===f)break e;if(A===g&&++M===y&&(w=_),A===b&&++S===x&&(E=_),null!==(C=T.nextSibling))break;T=A,A=T.parentNode}T=C}d=-1===w||-1===E?null:{start:w,end:E}}else d=null}var O=d||{start:0,end:0}}else O=null;for(Yo={focusedElem:f,selectionRange:O},Po=!1,Ba=h;null!==Ba;){var P=!1,L=void 0;try{for(;null!==Ba;){if(256&Ba.effectTag){var R=Ba.alternate;t:{var k=Ba;switch(k.tag){case 1:if(256&k.effectTag&&null!==R){var N=R.memoizedProps,I=R.memoizedState,j=k.stateNode;j.props=k.memoizedProps,j.state=k.memoizedState;var D=j.getSnapshotBeforeUpdate(N,I);j.__reactInternalSnapshotBeforeUpdate=D}break t;case 3:case 5:case 6:case 4:case 17:break t;default:i("163")}}}Ba=Ba.nextEffect}}catch(t){P=!0,L=t}P&&(null===Ba&&i("178"),Jn(Ba,L),null!==Ba&&(Ba=Ba.nextEffect))}for(Ba=h;null!==Ba;){var B=!1,F=void 0;try{for(;null!==Ba;){var U=Ba.effectTag;if(16&U&&oe(Ba.stateNode,""),128&U){var G=Ba.alternate;if(null!==G){var z=G.ref;null!==z&&("function"===typeof z?z(null):z.current=null)}}switch(14&U){case 2:zn(Ba),Ba.effectTag&=-3;break;case 6:zn(Ba),Ba.effectTag&=-3,Hn(Ba.alternate,Ba);break;case 4:Hn(Ba.alternate,Ba);break;case 8:var V=Ba;Vn(V);var H=V;H.return=null,H.child=null,H.alternate&&(H.alternate.child=null,H.alternate.return=null)}Ba=Ba.nextEffect}}catch(t){B=!0,F=t}B&&(null===Ba&&i("178"),Jn(Ba,F),null!==Ba&&(Ba=Ba.nextEffect))}var W=Yo,q=Xt(),X=W.focusedElem,Y=W.selectionRange;if(q!==X&&X&&X.ownerDocument&&qt(X.ownerDocument.documentElement,X)){if(null!==Y&&Yt(X)){var K=Y.start,Z=Y.end;if(void 0===Z&&(Z=K),"selectionStart"in X)X.selectionStart=K,X.selectionEnd=Math.min(Z,X.value.length);else{var Q=X.ownerDocument||document,J=(Q&&Q.defaultView||window).getSelection(),$=X.textContent.length,tt=Math.min(Y.start,$),et=void 0===Y.end?tt:Math.min(Y.end,$);if(!J.extend&&tt>et){var nt=et;et=tt,tt=nt}var rt=Wt(X,tt),it=Wt(X,et);if(rt&&it&&(1!==J.rangeCount||J.anchorNode!==rt.node||J.anchorOffset!==rt.offset||J.focusNode!==it.node||J.focusOffset!==it.offset)){var ot=Q.createRange();ot.setStart(rt.node,rt.offset),J.removeAllRanges(),tt>et?(J.addRange(ot),J.extend(it.node,it.offset)):(ot.setEnd(it.node,it.offset),J.addRange(ot))}}}for(var at=[],st=X;st=st.parentNode;)1===st.nodeType&&at.push({element:st,left:st.scrollLeft,top:st.scrollTop});"function"===typeof X.focus&&X.focus();for(var ut=0;ut<at.length;ut++){var ct=at[ut];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}for(Yo=null,Po=!!Xo,Xo=null,t.current=e,Ba=h;null!==Ba;){var lt=!1,ht=void 0;try{for(var ft=o;null!==Ba;){var dt=Ba.effectTag;if(36&dt){var pt=void 0,mt=Ba.alternate,vt=Ba,gt=ft;switch(vt.tag){case 1:var yt=vt.stateNode;if(4&vt.effectTag)if(null===mt)yt.props=vt.memoizedProps,yt.state=vt.memoizedState,yt.componentDidMount();else{var bt=mt.memoizedProps,xt=mt.memoizedState;yt.props=vt.memoizedProps,yt.state=vt.memoizedState,yt.componentDidUpdate(bt,xt,yt.__reactInternalSnapshotBeforeUpdate)}var _t=vt.updateQueue;null!==_t&&(yt.props=vt.memoizedProps,yt.state=vt.memoizedState,Ze(vt,_t,yt,gt));break;case 3:var wt=vt.updateQueue;if(null!==wt){var Et=null;if(null!==vt.child)switch(vt.child.tag){case 5:Et=vt.child.stateNode;break;case 1:Et=vt.child.stateNode}Ze(vt,wt,Et,gt)}break;case 5:var Mt=vt.stateNode;null===mt&&4&vt.effectTag&&he(vt.type,vt.memoizedProps)&&Mt.focus();break;case 6:case 4:case 12:break;case 13:if(32&vt.effectTag){vt.memoizedState={alreadyCaptured:!0,didTimeout:!1,timedOutAt:0},nr(vt,1);break}var St=null!==mt?mt.memoizedState:null,Tt=vt.memoizedState,At=null!==St&&St.didTimeout,Ct=vt;if(null===Tt?pt=!1:(pt=Tt.didTimeout)&&(Ct=vt.child,Tt.alreadyCaptured=!1,0===Tt.timedOutAt&&(Tt.timedOutAt=ur())),pt!==At&&null!==Ct)t:for(var Ot=Ct,Pt=pt,Lt=Ot;;){if(5===Lt.tag){var Rt=Lt.stateNode;if(Pt)Rt.style.display="none";else{var kt=Lt.stateNode,Nt=Lt.memoizedProps.style,It=void 0!==Nt&&null!==Nt&&Nt.hasOwnProperty("display")?Nt.display:null;kt.style.display=It}}else if(6===Lt.tag)Lt.stateNode.nodeValue=Pt?"":Lt.memoizedProps;else if(null!==Lt.child){Lt.child.return=Lt,Lt=Lt.child;continue}if(Lt===Ot)break t;for(;null===Lt.sibling;){if(null===Lt.return||Lt.return===Ot)break t;Lt=Lt.return}Lt.sibling.return=Lt.return,Lt=Lt.sibling}break;case 17:break;default:i("163")}}if(128&dt){var jt=Ba.ref;if(null!==jt){var Dt=Ba.stateNode;switch(Ba.tag){case 5:var Bt=Dt;break;default:Bt=Dt}"function"===typeof jt?jt(Bt):jt.current=Bt}}var Ft=Ba.nextEffect;Ba.nextEffect=null,Ba=Ft}}catch(t){lt=!0,ht=t}lt&&(null===Ba&&i("178"),Jn(Ba,ht),null!==Ba&&(Ba=Ba.nextEffect))}Ra=Fa=!1,"function"===typeof ra&&ra(e.stateNode);var Ut=e.expirationTime,Gt=e.childExpirationTime,zt=0===Ut||0!==Gt&&Gt<Ut?Gt:Ut;0===zt&&(Ua=null),t.expirationTime=zt,t.finishedWork=null}function vr(){return!!Ka||!(null===Ja||Ja.timeRemaining()>cs)&&(Ka=!0)}function gr(t){null===qa&&i("246"),qa.expirationTime=0,Za||(Za=!0,Qa=t)}function yr(t,e){var n=$a;$a=!0;try{return t(e)}finally{($a=n)||Wa||fr(1,null)}}function br(t,e){if($a&&!ts){ts=!0;try{return t(e)}finally{ts=!1}}return t(e)}function xr(t,e,n){if(es)return t(e,n);$a||Wa||0===Ya||(fr(Ya,null),Ya=0);var r=es,i=$a;$a=es=!0;try{return t(e,n)}finally{es=r,($a=i)||Wa||fr(1,null)}}function _r(t,e,n,r,o){var a=e.current;t:if(n){n=n._reactInternalFiber;e:{2===Lt(n)&&1===n.tag||i("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ye(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);i("171"),s=void 0}if(1===n.tag){var u=n.type;if(ye(u)){n=we(n,u,s);break t}}n=s}else n=$o;return null===e.context?e.context=n:e.pendingContext=n,e=o,o=Ve(r),o.payload={element:t},e=void 0===e?null:e,null!==e&&(o.callback=e),We(a,o),nr(a,r),r}function wr(t,e,n,r){var i=e.current;return i=$n(ur(),i),_r(t,e,n,i,r)}function Er(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Mr(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ki,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Sr(t){var e=2+25*(1+((ur()-2+500)/25|0));e<=Pa&&(e=Pa+1),this._expirationTime=Pa=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Tr(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ar(t,e,n){e=Ce(3,null,null,e?3:0),t={current:e,containerInfo:t,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Cr(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Or(t,e){if(e||(e=t?9===t.nodeType?t.documentElement:t.firstChild:null,e=!(!e||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Ar(t,!1,e)}function Pr(t,e,n,r,o){Cr(n)||i("200");var a=n._reactRootContainer;if(a){if("function"===typeof o){var s=o;o=function(){var t=Er(a._internalRoot);s.call(t)}}null!=t?a.legacy_renderSubtreeIntoContainer(t,e,o):a.render(e,o)}else{if(a=n._reactRootContainer=Or(n,r),"function"===typeof o){var u=o;o=function(){var t=Er(a._internalRoot);u.call(t)}}br(function(){null!=t?a.legacy_renderSubtreeIntoContainer(t,e,o):a.render(e,o)})}return Er(a._internalRoot)}function Lr(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Cr(e)||i("200"),Mr(t,e,null,n)}var Rr=n(0),kr=n(188),Nr=n(535);Rr||i("227");var Ir=!1,jr=null,Dr=!1,Br=null,Fr={onError:function(t){Ir=!0,jr=t}},Ur=null,Gr={},zr=[],Vr={},Hr={},Wr={},qr=null,Xr=null,Yr=null,Kr=null,Zr={injectEventPluginOrder:function(t){Ur&&i("101"),Ur=Array.prototype.slice.call(t),u()},injectEventPluginsByName:function(t){var e=!1,n;for(n in t)if(t.hasOwnProperty(n)){var r=t[n];Gr.hasOwnProperty(n)&&Gr[n]===r||(Gr[n]&&i("102",n),Gr[n]=r,e=!0)}e&&u()}},Qr=Math.random().toString(36).slice(2),Jr="__reactInternalInstance$"+Qr,$r="__reactEventHandlers$"+Qr,ti=!("undefined"===typeof window||!window.document||!window.document.createElement),ei={animationend:C("Animation","AnimationEnd"),animationiteration:C("Animation","AnimationIteration"),animationstart:C("Animation","AnimationStart"),transitionend:C("Transition","TransitionEnd")},ni={},ri={};ti&&(ri=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);var ii=O("animationend"),oi=O("animationiteration"),ai=O("animationstart"),si=O("transitionend"),ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ci=null,li=null,hi=null;kr(k.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=L)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=L)},persist:function(){this.isPersistent=L},isPersistent:R,destructor:function(){var t=this.constructor.Interface,e;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=R,this._dispatchInstances=this._dispatchListeners=null}}),k.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},k.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return kr(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=kr({},r.Interface,t),n.extend=r.extend,j(n),n},j(k);var fi=k.extend({data:null}),di=k.extend({data:null}),pi=[9,13,27,32],mi=ti&&"CompositionEvent"in window,vi=null;ti&&"documentMode"in document&&(vi=document.documentMode);var gi=ti&&"TextEvent"in window&&!vi,yi=ti&&(!mi||vi&&8<vi&&11>=vi),bi=String.fromCharCode(32),xi={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},_i=!1,wi=!1,Ei={eventTypes:xi,extractEvents:function(t,e,n,r){var i=void 0,o=void 0;if(mi)t:{switch(t){case"compositionstart":i=xi.compositionStart;break t;case"compositionend":i=xi.compositionEnd;break t;case"compositionupdate":i=xi.compositionUpdate;break t}i=void 0}else wi?D(t,n)&&(i=xi.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=xi.compositionStart);return i?(yi&&"ko"!==n.locale&&(wi||i!==xi.compositionStart?i===xi.compositionEnd&&wi&&(o=P()):(ci=r,li="value"in ci?ci.value:ci.textContent,wi=!0)),i=fi.getPooled(i,e,n,r),o?i.data=o:null!==(o=B(n))&&(i.data=o),A(i),o=i):o=null,(t=gi?F(t,n):U(t,n))?(e=di.getPooled(xi.beforeInput,e,n,r),e.data=t,A(e)):e=null,null===o?e:null===e?o:[o,e]}},Mi=null,Si=null,Ti=null,Ai=!1,Ci={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Oi=Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pi=/^(.*)[\\\/]/,Li="function"===typeof Symbol&&Symbol.for,Ri=Li?Symbol.for("react.element"):60103,ki=Li?Symbol.for("react.portal"):60106,Ni=Li?Symbol.for("react.fragment"):60107,Ii=Li?Symbol.for("react.strict_mode"):60108,ji=Li?Symbol.for("react.profiler"):60114,Di=Li?Symbol.for("react.provider"):60109,Bi=Li?Symbol.for("react.context"):60110,Fi=Li?Symbol.for("react.concurrent_mode"):60111,Ui=Li?Symbol.for("react.forward_ref"):60112,Gi=Li?Symbol.for("react.suspense"):60113,zi=Li?Symbol.for("react.memo"):60115,Vi=Li?Symbol.for("react.lazy"):60116,Hi="function"===typeof Symbol&&Symbol.iterator,Wi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qi=Object.prototype.hasOwnProperty,Xi={},Yi={},Ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ki[t]=new st(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ki[e]=new st(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ki[t]=new st(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ki[t]=new st(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ki[t]=new st(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){Ki[t]=new st(t,3,!0,t,null)}),["capture","download"].forEach(function(t){Ki[t]=new st(t,4,!1,t,null)}),["cols","rows","size","span"].forEach(function(t){Ki[t]=new st(t,6,!1,t,null)}),["rowSpan","start"].forEach(function(t){Ki[t]=new st(t,5,!1,t.toLowerCase(),null)});var Zi=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zi,ut);Ki[e]=new st(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zi,ut);Ki[e]=new st(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zi,ut);Ki[e]=new st(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),Ki.tabIndex=new st("tabIndex",1,!1,"tabindex",null);var Qi={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Ji=null,$i=null,to=!1;ti&&(to=Z("input")&&(!document.documentMode||9<document.documentMode));var eo={eventTypes:Qi,_isInputEventSupported:to,extractEvents:function(t,e,n,r){var i=e?x(e):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=xt:Y(i)?to?o=Tt:(o=Mt,a=Et):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=St),o&&(o=o(t,e)))return gt(o,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&vt(i,"number",i.value)}},no=k.extend({view:null,detail:null}),ro={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},io=0,oo=0,ao=!1,so=!1,uo=no.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ct,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=io;return io=t.screenX,ao?"mousemove"===t.type?t.screenX-e:0:(ao=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=oo;return oo=t.screenY,so?"mousemove"===t.type?t.screenY-e:0:(so=!0,0)}}),co=uo.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),lo={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ho={eventTypes:lo,extractEvents:function(t,e,n,r){var i="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?y(e):null):o=null,o===e)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===t||"mouseover"===t?(a=uo,s=lo.mouseLeave,u=lo.mouseEnter,c="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=co,s=lo.pointerLeave,u=lo.pointerEnter,c="pointer");var l=null==o?i:x(o);if(i=null==e?i:x(e),t=a.getPooled(s,o,n,r),t.type=c+"leave",t.target=l,t.relatedTarget=i,n=a.getPooled(u,e,n,r),n.type=c+"enter",n.target=i,n.relatedTarget=l,r=e,o&&r)t:{for(e=o,i=r,c=0,a=e;a;a=w(a))c++;for(a=0,u=i;u;u=w(u))a++;for(;0<c-a;)e=w(e),c--;for(;0<a-c;)i=w(i),a--;for(;c--;){if(e===i||e===i.alternate)break t;e=w(e),i=w(i)}e=null}else e=null;for(i=e,e=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)e.push(o),o=w(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=w(r);for(r=0;r<e.length;r++)S(e[r],"bubbled",t);for(r=o.length;0<r--;)S(o[r],"captured",n);return[t,n]}},fo=Object.prototype.hasOwnProperty,po=k.extend({animationName:null,elapsedTime:null,pseudoElement:null}),mo=k.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vo=no.extend({relatedTarget:null}),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bo=no.extend({key:function(t){if(t.key){var e=go[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=It(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?yo[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ct,charCode:function(t){return"keypress"===t.type?It(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?It(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),xo=uo.extend({dataTransfer:null}),_o=no.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ct}),wo=k.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Eo=uo.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),Mo=[["abort","abort"],[ii,"animationEnd"],[oi,"animationIteration"],[ai,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[si,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],So={},To={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){jt(t,!0)}),Mo.forEach(function(t){jt(t,!1)});var Ao={eventTypes:So,isInteractiveTopLevelEventType:function(t){return void 0!==(t=To[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,r){var i=To[t];if(!i)return null;switch(t){case"keypress":if(0===It(n))return null;case"keydown":case"keyup":t=bo;break;case"blur":case"focus":t=vo;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=xo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=_o;break;case ii:case oi:case ai:t=po;break;case si:t=wo;break;case"scroll":t=no;break;case"wheel":t=Eo;break;case"copy":case"cut":case"paste":t=mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=co;break;default:t=k}return e=t.getPooled(i,e,n,r),A(e),e}},Co=Ao.isInteractiveTopLevelEventType,Oo=[],Po=!0,Lo={},Ro=0,ko="_reactListenersID"+(""+Math.random()).slice(2),No=ti&&"documentMode"in document&&11>=document.documentMode,Io={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},jo=null,Do=null,Bo=null,Fo=!1,Uo={eventTypes:Io,extractEvents:function(t,e,n,r){var i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument,o;if(!(o=!i)){t:{i=zt(i),o=Wr.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break t}}i=!0}o=!i}if(o)return null;switch(i=e?x(e):window,t){case"focus":(Y(i)||"true"===i.contentEditable)&&(jo=i,Do=e,Bo=null);break;case"blur":Bo=Do=jo=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":return Fo=!1,Kt(n,r);case"selectionchange":if(No)break;case"keydown":case"keyup":return Kt(n,r)}return null}};Zr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),qr=_,Xr=b,Yr=x,Zr.injectEventPluginsByName({SimpleEventPlugin:Ao,EnterLeaveEventPlugin:ho,ChangeEventPlugin:eo,SelectEventPlugin:Uo,BeforeInputEventPlugin:Ei});var Go={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},zo=void 0,Vo=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==Go.svg||"innerHTML"in t)t.innerHTML=e;else{for(zo=zo||document.createElement("div"),zo.innerHTML="<svg>"+e+"</svg>",e=zo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}),Ho={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wo=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(t){Wo.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ho[e]=Ho[t]})});var qo=kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Xo=null,Yo=null,Ko=setTimeout,Zo=clearTimeout;new Set;var Qo=[],Jo=-1,$o={},ta={current:$o},ea={current:!1},na=$o,ra=null,ia=null,oa=!1,aa={current:null},sa=null,ua=null,ca=null,la={},ha={current:la},fa={current:la},da={current:la},pa=Oi.ReactCurrentOwner,ma=(new Rr.Component).refs,va={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===Lt(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=ur();r=$n(r,t);var i=Ve(r);i.payload=e,void 0!==n&&null!==n&&(i.callback=n),We(t,i),nr(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=ur();r=$n(r,t);var i=Ve(r);i.tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),We(t,i),nr(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ur();n=$n(n,t);var r=Ve(n);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),We(t,r),nr(t,n)}},ga=Array.isArray,ya=vn(!0),ba=vn(!1),xa=null,_a=null,wa=!1,Ea=Oi.ReactCurrentOwner,Ma=void 0,Sa=void 0,Ta=void 0,Aa=void 0;Ma=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Sa=function(){},Ta=function(t,e,n,r,i){var o=t.memoizedProps;if(o!==r){var a=e.stateNode;switch(rn(ha.current),t=null,n){case"input":o=ht(a,o),r=ht(a,r),t=[];break;case"option":o=Qt(a,o),r=Qt(a,r),t=[];break;case"select":o=kr({},o,{value:void 0}),r=kr({},r,{value:void 0}),t=[];break;case"textarea":o=$t(a,o),r=$t(a,r),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(a.onclick=le)}se(n,r),a=n=void 0;var s=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var u=o[n];for(a in u)u.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(Hr.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(s||(s={}),s[a]=c[a])}else s||(t||(t=[]),t.push(n,s)),s=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(n,""+c)):"children"===n?u===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(Hr.hasOwnProperty(n)?(null!=c&&ce(i,n),t||u===c||(t=[])):(t=t||[]).push(n,c))}s&&(t=t||[]).push("style",s),i=t,(e.updateQueue=i)&&Dn(e)}},Aa=function(t,e,n,r){n!==r&&Dn(e)};var Ca={readContext:nn},Oa=Oi.ReactCurrentOwner,Pa=0,La=0,Ra=!1,ka=null,Na=null,Ia=0,ja=-1,Da=!1,Ba=null,Fa=!1,Ua=null,Ga=null,za=null,Va=0,Ha=void 0,Wa=!1,qa=null,Xa=0,Ya=0,Ka=!1,Za=!1,Qa=null,Ja=null,$a=!1,ts=!1,es=!1,ns=null,rs=Nr.unstable_now(),is=2+(rs/10|0),os=is,as=50,ss=0,us=null,cs=1;Mi=function(t,e,n){switch(e){case"input":if(pt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=_(r);o||i("90"),tt(r),pt(r,o)}}}break;case"textarea":ee(t,n);break;case"select":null!=(e=n.value)&&Jt(t,!!n.multiple,e,!1)}},Sr.prototype.render=function(t){this._defer||i("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new Tr;return _r(t,e,null,n,r._onCommit),r},Sr.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Sr.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||i("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,o=e;o!==this;)r=o,o=o._next;null===r&&i("251"),r._next=o._next,this._next=e,t.firstBatch=this}this._defer=!1,dr(t,n),e=this._next,this._next=null,e=t.firstBatch=e,null!==e&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},Sr.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},Tr.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Tr.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n&&i("191",n),n()}}},Ar.prototype.render=function(t,e){var n=this._internalRoot,r=new Tr;return e=void 0===e?null:e,null!==e&&r.then(e),wr(t,n,null,r._onCommit),r},Ar.prototype.unmount=function(t){var e=this._internalRoot,n=new Tr;return t=void 0===t?null:t,null!==t&&n.then(t),wr(null,e,null,n._onCommit),n},Ar.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var r=this._internalRoot,i=new Tr;return n=void 0===n?null:n,null!==n&&i.then(n),wr(e,r,t,i._onCommit),i},Ar.prototype.createBatch=function(){var t=new Sr(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime<=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},H=yr,W=xr,q=function(){Wa||0===Ya||(fr(Ya,null),Ya=0)};var ls={createPortal:Lr,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?i("188"):i("268",Object.keys(t))),t=Nt(e),t=null===t?null:t.stateNode},hydrate:function(t,e,n){return Pr(null,t,e,!0,n)},render:function(t,e,n){return Pr(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return(null==t||void 0===t._reactInternalFiber)&&i("38"),Pr(t,e,n,!1,r)},unmountComponentAtNode:function(t){return Cr(t)||i("40"),!!t._reactRootContainer&&(br(function(){Pr(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Lr.apply(void 0,arguments)},unstable_batchedUpdates:yr,unstable_interactiveUpdates:xr,flushSync:function(t,e){Wa&&i("187");var n=$a;$a=!0;try{return rr(t,e)}finally{$a=n,fr(1,null)}},unstable_flushControlled:function(t){var e=$a;$a=!0;try{rr(t)}finally{($a=e)||Wa||fr(1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[b,x,_,Zr.injectEventPluginsByName,Vr,A,function(t){f(t,T)},z,V,Gt,g]},unstable_createRoot:function(t,e){return Cr(t)||i("278"),new Ar(t,!0,null!=e&&!0===e.hydrate)}};!function(t){var e=t.findFiberByHostInstance;Te(kr({},t,{findHostInstanceByFiber:function(t){return t=Nt(t),null===t?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:y,bundleType:0,version:"16.6.0",rendererPackageName:"react-dom"});var hs={default:ls},fs=hs&&ls||hs;t.exports=fs.default||fs},function(t,e,n){"use strict";t.exports=n(536)},function(t,e,n){"use strict";function r(){if(!f){var t=u.expirationTime;d?S():d=!0,M(a,t)}}function i(){var t=u,e=u.next;if(u===e)u=null;else{var n=u.previous;u=n.next=e,e.previous=n}t.next=t.previous=null,n=t.callback,e=t.expirationTime,t=t.priorityLevel;var i=c,o=h;c=t,h=e;try{var a=n(m)}finally{c=i,h=o}if("function"===typeof a)if(a={callback:a,priorityLevel:t,expirationTime:e,next:null,previous:null},null===u)u=a.next=a.previous=a;else{n=null,t=u;do{if(t.expirationTime>=e){n=t;break}t=t.next}while(t!==u);null===n?n=u:n===u&&(u=a,r()),e=n.previous,e.next=n.previous=a,a.next=n,a.previous=e}}function o(){if(-1===l&&null!==u&&1===u.priorityLevel){f=!0,m.didTimeout=!0;try{do{i()}while(null!==u&&1===u.priorityLevel)}finally{f=!1,null!==u?r():d=!1}}}function a(t){f=!0,m.didTimeout=t;try{if(t)for(;null!==u;){var n=e.unstable_now();if(!(u.expirationTime<=n))break;do{i()}while(null!==u&&u.expirationTime<=n)}else if(null!==u)do{i()}while(null!==u&&0<T()-e.unstable_now())}finally{f=!1,null!==u?r():d=!1,o()}}function s(t){_=b(function(e){y(w),t(e)}),w=g(function(){x(_),t(e.unstable_now())},100)}Object.defineProperty(e,"__esModule",{value:!0});var u=null,c=3,l=-1,h=-1,f=!1,d=!1,p="object"===typeof performance&&"function"===typeof performance.now,m={timeRemaining:p?function(){if(null!==u&&u.expirationTime<h)return 0;var t=T()-performance.now();return 0<t?t:0}:function(){if(null!==u&&u.expirationTime<h)return 0;var t=T()-Date.now();return 0<t?t:0},didTimeout:!1},v=Date,g="function"===typeof setTimeout?setTimeout:void 0,y="function"===typeof clearTimeout?clearTimeout:void 0,b="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,x="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0,_,w;if(p){var E=performance;e.unstable_now=function(){return E.now()}}else e.unstable_now=function(){return v.now()};var M,S,T;if("undefined"!==typeof window&&window._schedMock){var A=window._schedMock;M=A[0],S=A[1],T=A[2]}else if("undefined"===typeof window||"function"!==typeof window.addEventListener){var C=null,O=-1,P=function(t,e){if(null!==C){var n=C;C=null;try{O=e,n(t)}finally{O=-1}}};M=function(t,e){-1!==O?setTimeout(M,0,t,e):(C=t,setTimeout(P,e,!0,e),setTimeout(P,1073741823,!1,1073741823))},S=function(){C=null},T=function(){return 1/0},e.unstable_now=function(){return-1===O?0:O}}else{"undefined"!==typeof console&&("function"!==typeof b&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof x&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var L=null,R=!1,k=-1,N=!1,I=!1,j=0,D=33,B=33;T=function(){return j};var F="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===F){R=!1,t=L;var n=k;L=null,k=-1;var r=e.unstable_now(),i=!1;if(0>=j-r){if(!(-1!==n&&n<=r))return N||(N=!0,s(U)),L=t,void(k=n);i=!0}if(null!==t){I=!0;try{t(i)}finally{I=!1}}}},!1);var U=function(t){if(null!==L){s(U);var e=t-j+B;e<B&&D<B?(8>e&&(e=8),B=e<D?D:e):D=e,j=t+B,R||(R=!0,window.postMessage(F,"*"))}else N=!1};M=function(t,e){L=t,k=e,I||0>e?window.postMessage(F,"*"):N||(N=!0,s(U))},S=function(){L=null,R=!1,k=-1}}e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=4,e.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:break;default:t=3}var r=c,i=l;c=t,l=e.unstable_now();try{return n()}finally{c=r,l=i,o()}},e.unstable_scheduleCallback=function(t,n){var i=-1!==l?l:e.unstable_now();if("object"===typeof n&&null!==n&&"number"===typeof n.timeout)n=i+n.timeout;else switch(c){case 1:n=i+-1;break;case 2:n=i+250;break;case 4:n=i+1073741823;break;default:n=i+5e3}if(t={callback:t,priorityLevel:c,expirationTime:n,next:null,previous:null},null===u)u=t.next=t.previous=t,r();else{i=null;var o=u;do{if(o.expirationTime>n){i=o;break}o=o.next}while(o!==u);null===i?i=u:i===u&&(u=t,r()),n=i.previous,n.next=i.previous=t,t.next=i,t.previous=n}return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(e===t)u=null;else{t===u&&(u=e);var n=t.previous;n.next=e,e.previous=n}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var n=c;return function(){var r=c,i=l;c=n,l=e.unstable_now();try{return t.apply(this,arguments)}finally{c=r,l=i,o()}}},e.unstable_getCurrentPriorityLevel=function(){return c}},function(t,e){},function(t,e,n){"use strict";function r(){return Object(i.d)(o.a,Object(i.a)(s))}n.d(e,"b",function(){return s}),e.a=r;var i=n(64),o=n(553),a=n(190),s=Object(a.b)()},function(t,e,n){"use strict";function r(t){return null==t?void 0===t?u:s:c&&c in Object(t)?Object(o.a)(t):Object(a.a)(t)}var i=n(291),o=n(542),a=n(543),s="[object Null]",u="[object Undefined]",c=i.a?i.a.toStringTag:void 0;e.a=r},function(t,e,n){"use strict";var r=n(541),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();e.a=o},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(e,n(33))},function(t,e,n){"use strict";function r(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[u]=n:delete t[u]),i}var i=n(291),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i.a?i.a.toStringTag:void 0;e.a=r},function(t,e,n){"use strict";function r(t){return o.call(t)}var i=Object.prototype,o=i.toString;e.a=r},function(t,e,n){"use strict";var r=n(545),i=Object(r.a)(Object.getPrototypeOf,Object);e.a=i},function(t,e,n){"use strict";function r(t,e){return function(n){return t(e(n))}}e.a=r},function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}e.a=r},function(t,e,n){"use strict";(function(t,r){var i=n(549),o;o="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:r;var a=Object(i.a)(o);e.a=a}).call(e,n(33),n(548)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}e.a=r},function(t,e,n){"use strict";function r(t,e){var n=e&&e.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function i(t,e,n,r){var i=Object.keys(e),o=n&&n.type===s.a.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===i.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!Object(u.a)(t))return"The "+o+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+i.join('", "')+'"';var a=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)&&!r[t]});return a.forEach(function(t){r[t]=!0}),a.length>0?"Unexpected "+(a.length>1?"keys":"key")+' "'+a.join('", "')+'" found in '+o+'. Expected to find one of the known reducer keys instead: "'+i.join('", "')+'". Unexpected keys will be ignored.':void 0}function o(t){Object.keys(t).forEach(function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:s.a.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+s.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function a(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var a=e[i];"function"===typeof t[a]&&(n[a]=t[a])}var s=Object.keys(n),u=void 0,c=void 0;try{o(n)}catch(t){c=t}return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1];if(c)throw c;for(var o,a=!1,u={},l=0;l<s.length;l++){var h=s[l],f=n[h],d=e[h],p=f(d,i);if("undefined"===typeof p){var m=r(h,i);throw new Error(m)}u[h]=p,a=a||p!==d}return a?u:e}}e.a=a;var s=n(289),u=n(290),c=n(292)},function(t,e,n){"use strict";function r(t,e){return function(){return e(t.apply(void 0,arguments))}}function i(t,e){if("function"===typeof t)return r(t,e);if("object"!==typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),i={},o=0;o<n.length;o++){var a=n[o],s=t[a];"function"===typeof s&&(i[a]=r(s,e))}return i}e.a=i},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,a){var s=t(n,r,a),u=s.dispatch,c=[],l={getState:s.getState,dispatch:function t(e){return u(e)}};return c=e.map(function(t){return t(l)}),u=i.a.apply(void 0,c)(s.dispatch),o({},s,{dispatch:u})}}}e.a=r;var i=n(293),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments[1];switch(e.type){case o.t:return Object.assign({},t,{mesh:{loaded:!0,progress:"Complete",object3D:e.payload.val}});case o.E:return Object.assign({},t,{mesh:Object.assign({},t.mesh,{progress:{label:e.payload.val,percent:e.payload.percent}})});case o.F:return Object.assign({},t,{texture:Object.assign({},t.texture,{progress:{label:e.payload.val,percent:e.payload.percent}})});case o.z:return Object.assign({},t,{texture:Object.assign({},t.texture,{loaded:!0,progress:"Complete",image:e.payload.val})});case o.B:return Object.assign({},t,{threeAsset:e.threeAsset});case o.C:return Object.assign({},t,{metadata:e.metadata});default:return t}}var i=n(64),o=n(43),a=n(93),s=n(554),u=n(555),c=n(556),l={mesh:{loaded:!1,progress:{label:"Loading Mesh",percent:null},object3D:null},texture:{loaded:!1,progress:{label:"Loading Texture",percent:null},image:null},metadata:[],threeAsset:{}},h=Object(i.c)({views:s.a,ui:r,user:c.a,converter:u.a});e.a=h},function(t,e,n){"use strict";var r=n(43),i={views:[],view:{},file:{}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments[1];switch(e.type){case r.P:return Object.assign({},t);case r.O:return Object.assign({},t,{views:e.views});case r.Q:return Object.assign({},t,{view:e.view});case r.K:return Object.assign({},t,{user:e.user});case r.I:return Object.assign({},t,{user:Object.assign({},t.user,{loggedIn:e.loggedIn})});case r.q:return Object.assign({},t,{user:Object.assign({},t.user,{loginError:!0})});case r.v:return Object.assign({},t,{user:Object.assign({},t.user,{loginError:!1})});default:return t}}},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments[1];switch(e.type){case i.g:return Object.assign({},t,{conversionStarted:!0});case i.D:return Object.assign({},t,{progress:{label:e.payload.val,percent:e.payload.percent}});case i.e:return Object.assign({},t,{conversionComplete:!0,file:e.file});case i.f:return console.log("ere"),Object.assign({},t,{error:!0,progress:{label:e.message,percent:100}});case i.w:return Object.assign({},o);default:return Object.assign({},t)}}e.a=r;var i=n(43),o={conversionComplete:!1,conversionStarted:!1,error:!1,file:null,progress:{label:"performing conversion (this will take a while).",percent:null}}},function(t,e,n){"use strict";var r=n(43),i={loggedIn:!1,loginError:!1,authenticateAttempted:!1,info:{}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments[1];switch(e.type){case r.K:return Object.assign({},t,{loggedIn:!0,info:e.user});case r.L:return Object.assign({},t,{loggedIn:!1,info:{}});case r.d:return Object.assign({},t,{authenticateAttempted:e.value});case r.I:return Object.assign({},t,{loggedIn:e.loggedIn});case r.q:return Object.assign({},t,{loginError:!0});case r.v:return Object.assign({},t,{loginError:!1});case r.H:return Object.assign({},t,{loggedIn:!1,info:e.info});case r.J:case r.M:return Object.assign({},t,{info:e.info});default:return t}}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(){function t(t){function e(t,e,i){return Object(s.a)(t.apply(void 0,r(e)),f.subscribe,d,n,o,c,i,t.name)}var n=t.getState,i=t.dispatch;l=e;var f=Object(u.b)();f.emit=(c.emitter||a.k)(f.emit);var d=Object(a.w)(i);return function(t){return function(e){h&&h.actionDispatched(e);var n=t(e);return f.emit(e),n}}}var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.context,o=void 0===n?{}:n,c=i(e,["context"]),l=void 0,h=c.sagaMonitor;if(h&&(h.effectTriggered=h.effectTriggered||a.r,h.effectResolved=h.effectResolved||a.r,h.effectRejected=h.effectRejected||a.r,h.effectCancelled=h.effectCancelled||a.r,h.actionDispatched=h.actionDispatched||a.r),a.m.func(c))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(c.logger&&!a.m.func(c.logger))throw new Error("`options.logger` passed to the Saga middleware is not a function!");if(c.onerror&&(a.n&&Object(a.p)("warn","`options.onerror` is deprecated. Use `options.onError` instead."),c.onError=c.onerror,delete c.onerror),c.onError&&!a.m.func(c.onError))throw new Error("`options.onError` passed to the Saga middleware is not a function!");if(c.emitter&&!a.m.func(c.emitter))throw new Error("`options.emitter` passed to the Saga middleware is not a function!");return t.run=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];Object(a.f)(l,a.m.notUndef,"Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware"),Object(a.f)(t,a.m.func,"sagaMiddleware.run(saga, ...args): saga argument must be a Generator function!");var i=Object(a.v)();h&&h.effectTriggered({effectId:i,root:!0,parentEffectId:0,effect:{root:!0,saga:t,args:n}});var o=l(t,n,i);return h&&h.effectResolved(i,o),o},t.setContext=function(t){Object(a.f)(t,a.m.object,Object(a.g)("sagaMiddleware",t)),a.s.assign(o,t)},t}e.a=o;var a=n(44),s=n(191),u=n(122)},function(t,e,n){"use strict";function r(t,e){var n=e.subscribe,r=e.dispatch,a=e.getState,s=e.context,u=e.sagaMonitor,c=e.logger,l=e.onError;Object(i.f)(t,i.m.iterator,"runSaga must be called on an iterator");var h=Object(i.v)();u&&u.effectTriggered({effectId:h,root:!0,parentEffectId:0,effect:{root:!0,saga:t,args:[]}});var f=Object(o.a)(t,n,Object(i.w)(r),a,s,{sagaMonitor:u,logger:c,onError:l},h,t.name);return u&&u.effectResolved(h,f),f}var i=n(44),o=n(191)},function(t,e,n){"use strict";var r=n(44),i=n(121),o=n(191)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t){var e,n,r,i,o;return W.a.wrap(function a(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,qt.getThreeAsset(t.id);case 3:return e=s.sent,n=e.viewerSettings,void 0!==n&&(e.viewerSettings=Object(ot.a)(n)),s.next=8,qt.getThreeFileURL(e.threeFile);case 8:return r=s.sent,i=Object(ut.b)(e.threeFile),o=void 0,o=qt.isOmekaBackend?t.id:e._id,s.next=14,Object(q.b)({type:Z.n,payload:r,ext:i,fileId:e.threeFile,id:o});case 14:return s.next=16,Object(q.b)({type:Z.B,threeAsset:e});case 16:s.next=21;break;case 18:s.prev=18,s.t0=s.catch(0),console.log(s.t0);case 21:case"end":return s.stop()}},ct,this,[[0,18]])}function o(t){var e,n,r;return W.a.wrap(function i(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,e=t.id,n=t.settings,o.next=4,qt.saveViewerSettings(e,n);case 4:r=o.sent,o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),console.log(o.t0);case 10:case"end":return o.stop()}},lt,this,[[0,7]])}function a(t){switch(t.eventType){case"progress":return"texture"===t.loaderType?Z.F:"converter"===t.loaderType?Z.D:Z.E;case"loaded":return"texture"===t.loaderType?Z.z:"converter"===t.loaderType?Z.e:Z.t;default:return"texture"===t.loaderType?Z.A:"converter"===t.loaderType?Z.f:Z.u}}function s(t,e){return Object(X.c)(function(n){return t.onmessage=function(t){var r=t.data;r.type===J.O?n({eventType:"progress",val:r.payload,loaderType:e}):(n({eventType:"loaded",val:r.payload,loaderType:e}),n(X.a))},function e(){t.onmessage=null}})}function u(t,e,n){return Object(X.c)(function(r){return t.load(n,function(t){t.mapping=Q.EquirectangularReflectionMapping,t.magFilter=Q.LinearFilter,t.minFilter=Q.LinearMipMapLinearFilter,r({eventType:"loaded",val:t,loaderType:e}),r(X.a)},function(t){var n=Yt(t);r({eventType:"progress",val:n,loaderType:e})},function(t){r({eventType:"error",val:t,loaderType:e})}),function e(){t.onLoad=null}})}function c(t){var e,n;return W.a.wrap(function r(i){for(;;)switch(i.prev=i.next){case 0:return e=new Q.ObjectLoader,n=e.parse(t),i.next=4,Object(q.b)({type:Z.E,payload:{val:"Building Scene",percent:null}});case 4:return i.next=6,Object(q.b)({type:Z.t,payload:{val:n}});case 6:case"end":return i.stop()}},ht,this)}function l(t){var e,n,r,i;return W.a.wrap(function o(a){for(;;)switch(a.prev=a.next){case 0:return e=t.payload,n=t.id,r=t.fileId,a.next=3,tt.a.fetchJSONAssetSaga(n,e,r);case 3:return i=a.sent,a.next=6,c(i);case 6:case"end":return a.stop()}},ft,this)}function h(t){var e,n,r,i,o,u;return W.a.wrap(function l(h){for(;;)switch(h.prev=h.next){case 0:return e=t.payload,n=t.id,r=t.fileId,i=void 0,h.next=4,tt.a.checkCache(n,r);case 4:if(!(o=h.sent)){h.next=11;break}return h.next=8,tt.a.gunzipAssetSaga(o.data.model.raw,s);case 8:i=h.sent,h.next=16;break;case 11:return h.next=13,Object(q.b)({type:Z.E,payload:{val:"Fetching Mesh From Server",percent:null}});case 13:return h.next=15,tt.a.fetchGZippedAssetSaga(n,e,r,s);case 15:i=h.sent;case 16:return h.next=19,Object(q.c)(i);case 19:if(u=h.sent,"loaded"!==u.eventType){h.next=28;break}return h.next=23,Object(q.b)({type:Z.E,payload:{val:"Building Scene",percent:null}});case 23:return h.next=25,c(u.val);case 25:i.close(),h.next=30;break;case 28:return h.next=30,Object(q.b)({type:a(u),payload:{val:"Decompressing Mesh Data",percent:u.val}});case 30:h.next=16;break;case 32:case"end":return h.stop()}},dt,this)}function f(t){return W.a.wrap(function e(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t.ext!==J.o){n.next=6;break}return n.next=4,h(t);case 4:n.next=8;break;case 6:return n.next=8,l(t);case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}},pt,this,[[0,10]])}function d(t){var e,n,r;return W.a.wrap(function i(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,e=new Q.TextureLoader,e.crossOrigin="anonymous",o.next=5,Object(q.a)(u,e,"texture",t.url);case 5:n=o.sent;case 6:return o.next=9,Object(q.c)(n);case 9:return r=o.sent,o.next=12,Object(q.b)({type:a(r),payload:r});case 12:o.next=6;break;case 14:o.next=19;break;case 16:o.prev=16,o.t0=o.catch(0),console.log(o.t0);case 19:case"end":return o.stop()}},mt,this,[[0,16]])}function p(t){var e,n,i,o;return W.a.wrap(function a(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!qt.hasAdminBackend){s.next=11;break}return s.next=4,qt.adminBackend.addUser(t.userInfo);case 4:if(e=s.sent,void 0===e.id){s.next=9;break}return n=e.token,i=e.id,o=r(e,["token","id"]),s.next=9,Object(q.b)({type:Z.H,info:o});case 9:s.next=12;break;case 11:console.warn(Xt);case 12:s.next=17;break;case 14:s.prev=14,s.t0=s.catch(0),console.log(s.t0);case 17:case"end":return s.stop()}},vt,this,[[0,14]])}function m(t){var e;return W.a.wrap(function n(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!qt.hasAdminBackend){r.next=13;break}return r.next=4,qt.adminBackend.deleteUser(t.id);case 4:return e=r.sent,r.next=7,Object(q.b)({type:Z.J,info:e});case 7:return r.next=9,Kt(5e3);case 9:return r.next=11,Object(q.b)({type:Z.L});case 11:r.next=14;break;case 13:console.warn(Xt);case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log(r.t0);case 19:case"end":return r.stop()}},gt,this,[[0,16]])}function v(t){var e;return W.a.wrap(function n(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!qt.hasAdminBackend){r.next=9;break}return r.next=4,qt.adminBackend.verifyUser(t.token);case 4:return e=r.sent,r.next=7,Object(q.b)({type:Z.M,info:e});case 7:r.next=10;break;case 9:console.warn(Xt);case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.log(r.t0);case 15:case"end":return r.stop()}},yt,this,[[0,12]])}function g(t){var e;return W.a.wrap(function n(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!qt.hasAdminBackend){r.next=14;break}return r.next=4,qt.adminBackend.login(t.loginInfo);case 4:if(e=r.sent,!e.error){r.next=10;break}return r.next=8,Object(q.b)({type:Z.q});case 8:r.next=12;break;case 10:return r.next=12,Object(q.b)({type:Z.K,user:Object.assign({},e,{loginError:!1})});case 12:r.next=15;break;case 14:console.warn(Xt);case 15:r.next=20;break;case 17:r.prev=17,r.t0=r.catch(0),console.log(r.t0);case 20:case"end":return r.stop()}},bt,this,[[0,17]])}function y(){var t;return W.a.wrap(function e(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!qt.hasAdminBackend){n.next=10;break}return n.next=4,qt.adminBackend.logout();case 4:if(t=n.sent,!0!==t.loggedOut){n.next=8;break}return n.next=8,Object(q.b)({type:Z.L});case 8:n.next=11;break;case 10:console.warn(Xt);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0);case 16:case"end":return n.stop()}},xt,this,[[0,13]])}function b(){var t;return W.a.wrap(function e(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,qt.authenticate();case 3:return t=n.sent,n.next=6,Object(q.b)({type:Z.I,loggedIn:t.authenticated});case 6:return n.next=8,Object(q.b)({type:Z.d,value:!0});case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}},_t,this,[[0,10]])}function x(t){var e;return W.a.wrap(function n(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!qt.hasAdminBackend){r.next=7;break}return r.next=4,qt.adminBackend.addView(t.viewData);case 4:e=r.sent,r.next=8;break;case 7:console.warn(Xt);case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.log(r.t0);case 13:case"end":return r.stop()}},wt,this,[[0,10]])}function _(t){var e;return W.a.wrap(function t(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!qt.hasAdminBackend){n.next=9;break}return n.next=4,qt.adminBackend.getViews();case 4:return e=n.sent,n.next=7,Object(q.b)({type:Z.O,views:e});case 7:n.next=10;break;case 9:console.warn(Xt);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0);case 15:case"end":return n.stop()}},Et,this,[[0,12]])}function w(t){var e;return W.a.wrap(function n(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!qt.hasAdminBackend){r.next=9;break}return r.next=4,qt.adminBackend.getView(t.id);case 4:return e=r.sent,r.next=7,Object(q.b)({type:Z.Q,view:e});case 7:r.next=10;break;case 9:console.warn(Xt);case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.log(r.t0);case 15:case"end":return r.stop()}},Mt,this,[[0,12]])}function E(t){var e;return W.a.wrap(function n(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!qt.hasAdminBackend){r.next=7;break}return r.next=4,qt.adminBackend.updateView(t.viewData);case 4:e=r.sent,r.next=8;break;case 7:console.warn(Xt);case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.log(r.t0);case 13:case"end":return r.stop()}},St,this,[[0,10]])}function M(t){var e;return W.a.wrap(function n(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!qt.hasAdminBackend){r.next=7;break}return r.next=4,qt.adminBackend.deleteView(t.id);case 4:e=r.sent,r.next=8;break;case 7:console.warn(Xt);case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.log(r.t0);case 13:case"end":return r.stop()}},Tt,this,[[0,10]])}function S(t){var e,n,r;return W.a.wrap(function i(o){for(;;)switch(o.prev=o.next){case 0:return e=new it.a,e.postMessage(t.threeFile),o.next=4,s(e,"converter");case 4:n=o.sent;case 5:return o.next=8,Object(q.c)(n);case 8:if(r=o.sent,"loaded"!==r.eventType){o.next=15;break}return o.next=12,Object(q.b)({type:a(r),file:r.val});case 12:n.close(),o.next=17;break;case 15:return o.next=17,Object(q.b)({type:a(r),payload:{val:"Compressing Mesh Data",percent:r.val}});case 17:o.next=5;break;case 19:case"end":return o.stop()}},At,this)}function T(t){var e,n,r;return W.a.wrap(function i(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(q.b)({type:Z.g});case 3:if(e=t.inputData,n=void 0,void 0!==e.mesh){o.next=11;break}return o.next=8,Object(st.a)(e);case 8:n=o.sent,o.next=14;break;case 11:return o.next=13,Object(at.a)(e);case 13:n=o.sent;case 14:if(r=e.options,void 0===n){o.next=23;break}if(!0!==r.zlib){o.next=21;break}return o.next=19,S(n);case 19:o.next=23;break;case 21:return o.next=23,Object(q.b)({type:Z.e,file:JSON.stringify(n.threeFile)});case 23:o.next=28;break;case 25:o.prev=25,o.t0=o.catch(0),console.log(o.t0);case 28:case"end":return o.stop()}},Ct,this,[[0,25]])}function A(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.k,i);case 2:case"end":return e.stop()}},Ot,this)}function C(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.x,o);case 2:case"end":return e.stop()}},Pt,this)}function O(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.n,f);case 2:case"end":return e.stop()}},Lt,this)}function P(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.o,d);case 2:case"end":return e.stop()}},Rt,this)}function L(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.a,p);case 2:case"end":return e.stop()}},kt,this)}function R(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.N,v);case 2:case"end":return e.stop()}},Nt,this)}function k(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.h,m);case 2:case"end":return e.stop()}},It,this)}function N(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.r,g);case 2:case"end":return e.stop()}},jt,this)}function I(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.s,y);case 2:case"end":return e.stop()}},Dt,this)}function j(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.c,b);case 2:case"end":return e.stop()}},Bt,this)}function D(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.b,x);case 2:case"end":return e.stop()}},Ft,this)}function B(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.m,_);case 2:case"end":return e.stop()}},Ut,this)}function F(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.l,w);case 2:case"end":return e.stop()}},Gt,this)}function U(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.G,E);case 2:case"end":return e.stop()}},zt,this)}function G(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.i,M);case 2:case"end":return e.stop()}},Vt,this)}function z(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Z.y,T);case 2:case"end":return e.stop()}},Ht,this)}function V(){return W.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[A(),C(),O(),P(),L(),R(),k(),N(),I(),j(),D(),B(),F(),U(),G(),z()];case 2:case"end":return e.stop()}},Wt,this)}e.a=V;var H=n(296),W=n.n(H),q=n(192),X=n(190),Y=n(0),K=n.n(Y),Z=n(43),Q=n(24),J=n(16),$=n(563),tt=n(124),et=n(630),nt=n.n(et),rt=n(631),it=n.n(rt),ot=n(127),at=n(632),st=n(661),ut=n(135),ct=W.a.mark(i),lt=W.a.mark(o),ht=W.a.mark(c),ft=W.a.mark(l),dt=W.a.mark(h),pt=W.a.mark(f),mt=W.a.mark(d),vt=W.a.mark(p),gt=W.a.mark(m),yt=W.a.mark(v),bt=W.a.mark(g),xt=W.a.mark(y),_t=W.a.mark(b),wt=W.a.mark(x),Et=W.a.mark(_),Mt=W.a.mark(w),St=W.a.mark(E),Tt=W.a.mark(M),At=W.a.mark(S),Ct=W.a.mark(T),Ot=W.a.mark(A),Pt=W.a.mark(C),Lt=W.a.mark(O),Rt=W.a.mark(P),kt=W.a.mark(L),Nt=W.a.mark(R),It=W.a.mark(k),jt=W.a.mark(N),Dt=W.a.mark(I),Bt=W.a.mark(j),Ft=W.a.mark(D),Ut=W.a.mark(B),Gt=W.a.mark(F),zt=W.a.mark(U),Vt=W.a.mark(G),Ht=W.a.mark(z),Wt=W.a.mark(V),qt=Object($.a)(),Xt="Attempting to access an API route that has not been registered in "+qt.constructor.name,Yt=function t(e){return parseFloat(e.loaded/1e6).toFixed(2)+" MB"},Kt=function t(e){return new Promise(function(t,n){setTimeout(function(){return t()},e)})}},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(562),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new d(r||[]);return a._invoke=c(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function e(n,i,o,a){var s=r(t[n],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function n(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function c(t,e,n){var i=S;return function o(a,s){if(i===A)throw new Error("Generator is already running");if(i===C){if("throw"===a)throw s;return m()}for(n.method=a,n.arg=s;;){var u=n.delegate;if(u){var c=l(u,n);if(c){if(c===O)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===S)throw i=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=A;var h=r(t,e,n);if("normal"===h.type){if(i=n.done?C:T,h.arg===O)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(i=C,n.method="throw",n.arg=h.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===y){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=y,l(t,e),"throw"===e.method))return O;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,O;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=y),e.delegate=null,O):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[x];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(g.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=y,e.done=!0,e};return r.next=r}}return{next:m}}function m(){return{value:y,done:!0}}var v=Object.prototype,g=v.hasOwnProperty,y,b="function"===typeof Symbol?Symbol:{},x=b.iterator||"@@iterator",_=b.asyncIterator||"@@asyncIterator",w=b.toStringTag||"@@toStringTag",E="object"===typeof t,M=e.regeneratorRuntime;if(M)return void(E&&(t.exports=M));M=e.regeneratorRuntime=E?t.exports:{},M.wrap=n;var S="suspendedStart",T="suspendedYield",A="executing",C="completed",O={},P={};P[x]=function(){return this};var L=Object.getPrototypeOf,R=L&&L(L(p([])));R&&R!==v&&g.call(R,x)&&(P=R);var k=a.prototype=i.prototype=Object.create(P);o.prototype=k.constructor=a,a.constructor=o,a[w]=o.displayName="GeneratorFunction",M.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},M.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(k),t},M.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[_]=function(){return this},M.AsyncIterator=u,M.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return M.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(k),k[w]="Generator",k[x]=function(){return this},k.toString=function(){return"[object Generator]"},M.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},M.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,O):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),f(n),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;f(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=y),O}}}(function(){return this}()||Function("return this")())},function(t,e,n){"use strict";function r(){switch(i.a){case i.b:return new o.a;case i.c:return new a.a;default:return new o.a}}e.a=r;var i=n(16),o=n(564),a=n(576)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(124),s=n(0),u=n.n(s),c=n(37),l=n(575),h=n(127),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.adminBackend=new l.a,n.hasAdminBackend=!0,n}return o(e,t),f(e,[{key:"authenticate",value:function t(){return this._get(c.a,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"getThreeAsset",value:function t(e){var n=this;return new Promise(function(t,r){n._get(c.i+e,{}).then(function(t){return t}).catch(function(t){return console.log(t)}).then(function(e){var r=n.formatAsset(e);t(r)})})}},{key:"getThreeFile",value:function t(e){return this._getBinary(c.c+e,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"getThreeFileURL",value:function t(e){return new Promise(function(t,n){return t(c.c+e)})}},{key:"formatAsset",value:function t(e){return function t(e){var n={};for(var r in e)null!==e[r]&&e[r].constructor===Object?n[r]=t(e[r]):("null"===e[r]&&(e[r]=null),n[r]=e[r]);return n}(e)}},{key:"saveViewerSettings",value:function t(e,n){var r=JSON.stringify({viewerSettings:Object(h.b)(n)});return this._put(c.i+e,r,{headers:{"Content-Type":"application/json"}}).then(function(t){return t}).catch(function(t){return console.error(t)})}}]),e}(a.a);e.a=d},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=u.assign({level:y,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==m)throw new Error(l[n]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"===typeof e.dictionary?c.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=s.deflateSetDictionary(this.strm,i))!==m)throw new Error(l[n]);this._dict_set=!0}}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||l[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}function a(t,e){return e=e||{},e.gzip=!0,i(t,e)}var s=n(566),u=n(56),c=n(299),l=n(193),h=n(300),f=Object.prototype.toString,d=0,p=4,m=0,v=1,g=2,y=-1,b=0,x=8;r.prototype.push=function(t,e){var n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"===typeof t?n.input=c.string2buf(t):"[object ArrayBuffer]"===f.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new u.Buf8(r),n.next_out=0,n.avail_out=r),1!==(i=s.deflate(n,o))&&i!==m)return this.onEnd(i),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(c.buf2binstring(u.shrinkBuf(n.output,n.next_out))):this.onData(u.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==i);return 4===o?(i=s.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===m):2!==o||(this.onEnd(m),n.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===m&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=r,e.deflate=i,e.deflateRaw=o,e.gzip=a},function(t,e,n){"use strict";function r(t,e){return t.msg=k[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(O.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){P._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function c(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function l(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,O.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=L(t.adler,e,i,n):2===t.state.wrap&&(t.adler=R(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function h(t,e){var n=t.max_chain_length,r=t.strstart,i,o,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-lt?t.strstart-(t.w_size-lt):0,c=t.window,l=t.w_mask,h=t.prev,f=t.strstart+ct,d=c[r+a-1],p=c[r+a];t.prev_length>=t.good_match&&(n>>=2),s>t.lookahead&&(s=t.lookahead);do{if(i=e,c[i+a]===p&&c[i+a-1]===d&&c[i]===c[r]&&c[++i]===c[r+1]){r+=2,i++;do{}while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<f);if(o=ct-(f-r),r=f-ct,o>a){if(t.match_start=e,a=o,o>=s)break;d=c[r+a-1],p=c[r+a]}}}while((e=h[e&l])>u&&0!==--n);return a<=t.lookahead?a:t.lookahead}function f(t){var e=t.w_size,n,r,i,o,a;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-lt)){O.arraySet(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do{i=t.head[--n],t.head[n]=i>=e?i-e:0}while(--r);r=e,n=r;do{i=t.prev[--n],t.prev[n]=i>=e?i-e:0}while(--r);o+=e}if(0===t.strm.avail_in)break;if(r=l(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=r,t.lookahead+t.insert>=ut)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+ut-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<ut)););}while(t.lookahead<lt&&0!==t.strm.avail_in)}function d(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===N)return bt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,s(t,!1),0===t.strm.avail_out))return bt;if(t.strstart-t.block_start>=t.w_size-lt&&(s(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,e===D?(s(t,!0),0===t.strm.avail_out?_t:wt):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),bt)}function p(t,e){for(var n,r;;){if(t.lookahead<lt){if(f(t),t.lookahead<lt&&e===N)return bt;if(0===t.lookahead)break}if(n=0,t.lookahead>=ut&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ut-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-lt&&(t.match_length=h(t,n)),t.match_length>=ut)if(r=P._tr_tally(t,t.strstart-t.match_start,t.match_length-ut),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ut){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ut-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=P._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(s(t,!1),0===t.strm.avail_out))return bt}return t.insert=t.strstart<ut-1?t.strstart:ut-1,e===D?(s(t,!0),0===t.strm.avail_out?_t:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?bt:xt}function m(t,e){for(var n,r,i;;){if(t.lookahead<lt){if(f(t),t.lookahead<lt&&e===N)return bt;if(0===t.lookahead)break}if(n=0,t.lookahead>=ut&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ut-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ut-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-lt&&(t.match_length=h(t,n),t.match_length<=5&&(t.strategy===W||t.match_length===ut&&t.strstart-t.match_start>4096)&&(t.match_length=ut-1)),t.prev_length>=ut&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ut,r=P._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ut),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ut-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ut-1,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return bt}else if(t.match_available){if(r=P._tr_tally(t,0,t.window[t.strstart-1]),r&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return bt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=P._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ut-1?t.strstart:ut-1,e===D?(s(t,!0),0===t.strm.avail_out?_t:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?bt:xt}function v(t,e){for(var n,r,i,o,a=t.window;;){if(t.lookahead<=ct){if(f(t),t.lookahead<=ct&&e===N)return bt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ut&&t.strstart>0&&(i=t.strstart-1,(r=a[i])===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+ct;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=ct-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ut?(n=P._tr_tally(t,1,t.match_length-ut),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=P._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,e===D?(s(t,!0),0===t.strm.avail_out?_t:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?bt:xt}function g(t,e){for(var n;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===N)return bt;break}if(t.match_length=0,n=P._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,e===D?(s(t,!0),0===t.strm.avail_out?_t:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?bt:xt}function y(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function b(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=Mt[t.level].max_lazy,t.good_match=Mt[t.level].good_length,t.nice_match=Mt[t.level].nice_length,t.max_chain_length=Mt[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ut-1,t.match_available=0,t.ins_h=0}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new O.Buf16(2*at),this.dyn_dtree=new O.Buf16(2*(2*it+1)),this.bl_tree=new O.Buf16(2*(2*ot+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new O.Buf16(st+1),this.heap=new O.Buf16(2*rt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new O.Buf16(2*rt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Z,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ft:gt,t.adler=2===e.wrap?0:1,e.last_flush=N,P._tr_init(e),F):r(t,G)}function w(t){var e=_(t);return e===F&&b(t.state),e}function E(t,e){return t&&t.state?2!==t.state.wrap?G:(t.state.gzhead=e,F):G}function M(t,e,n,i,o,a){if(!t)return G;var s=1;if(e===H&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>J||n!==Q||i<8||i>15||e<0||e>9||a<0||a>Y)return r(t,G);8===i&&(i=9);var u=new x;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+ut-1)/ut),u.window=new O.Buf8(2*u.w_size),u.head=new O.Buf16(u.hash_size),u.prev=new O.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new O.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,w(t)}function S(t,e){return M(t,e,Q,$,tt,K)}function T(t,e){var n,s,l,h;if(!t||!t.state||e>B||e<0)return t?r(t,G):G;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===yt&&e!==D)return r(t,0===t.avail_out?V:G);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===ft)if(2===s.wrap)t.adler=0,u(s,31),u(s,139),u(s,8),s.gzhead?(u(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),u(s,255&s.gzhead.time),u(s,s.gzhead.time>>8&255),u(s,s.gzhead.time>>16&255),u(s,s.gzhead.time>>24&255),u(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),u(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(u(s,255&s.gzhead.extra.length),u(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=R(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=dt):(u(s,0),u(s,0),u(s,0),u(s,0),u(s,0),u(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),u(s,Et),s.status=gt);else{var f=Q+(s.w_bits-8<<4)<<8,d=-1;d=s.strategy>=q||s.level<2?0:s.level<6?1:6===s.level?2:3,f|=d<<6,0!==s.strstart&&(f|=ht),f+=31-f%31,s.status=gt,c(s,f),0!==s.strstart&&(c(s,t.adler>>>16),c(s,65535&t.adler)),t.adler=1}if(s.status===dt)if(s.gzhead.extra){for(l=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>l&&(t.adler=R(t.adler,s.pending_buf,s.pending-l,l)),a(t),l=s.pending,s.pending!==s.pending_buf_size));)u(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>l&&(t.adler=R(t.adler,s.pending_buf,s.pending-l,l)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=pt)}else s.status=pt;if(s.status===pt)if(s.gzhead.name){l=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>l&&(t.adler=R(t.adler,s.pending_buf,s.pending-l,l)),a(t),l=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,u(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>l&&(t.adler=R(t.adler,s.pending_buf,s.pending-l,l)),0===h&&(s.gzindex=0,s.status=mt)}else s.status=mt;if(s.status===mt)if(s.gzhead.comment){l=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>l&&(t.adler=R(t.adler,s.pending_buf,s.pending-l,l)),a(t),l=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,u(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>l&&(t.adler=R(t.adler,s.pending_buf,s.pending-l,l)),0===h&&(s.status=vt)}else s.status=vt;if(s.status===vt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(u(s,255&t.adler),u(s,t.adler>>8&255),t.adler=0,s.status=gt)):s.status=gt),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,F}else if(0===t.avail_in&&i(e)<=i(n)&&e!==D)return r(t,V);if(s.status===yt&&0!==t.avail_in)return r(t,V);if(0!==t.avail_in||0!==s.lookahead||e!==N&&s.status!==yt){var p=s.strategy===q?g(s,e):s.strategy===X?v(s,e):Mt[s.level].func(s,e);if(p!==_t&&p!==wt||(s.status=yt),p===bt||p===_t)return 0===t.avail_out&&(s.last_flush=-1),F;if(p===xt&&(e===I?P._tr_align(s):e!==B&&(P._tr_stored_block(s,0,0,!1),e===j&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,F}return e!==D?F:s.wrap<=0?U:(2===s.wrap?(u(s,255&t.adler),u(s,t.adler>>8&255),u(s,t.adler>>16&255),u(s,t.adler>>24&255),u(s,255&t.total_in),u(s,t.total_in>>8&255),u(s,t.total_in>>16&255),u(s,t.total_in>>24&255)):(c(s,t.adler>>>16),c(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?F:U)}function A(t){var e;return t&&t.state?(e=t.state.status)!==ft&&e!==dt&&e!==pt&&e!==mt&&e!==vt&&e!==gt&&e!==yt?r(t,G):(t.state=null,e===gt?r(t,z):F):G}function C(t,e){var n=e.length,r,i,a,s,u,c,l,h;if(!t||!t.state)return G;if(r=t.state,2===(s=r.wrap)||1===s&&r.status!==ft||r.lookahead)return G;for(1===s&&(t.adler=L(t.adler,e,n,0)),r.wrap=0,n>=r.w_size&&(0===s&&(o(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new O.Buf8(r.w_size),O.arraySet(h,e,n-r.w_size,r.w_size,0),e=h,n=r.w_size),u=t.avail_in,c=t.next_in,l=t.input,t.avail_in=n,t.next_in=0,t.input=e,f(r);r.lookahead>=ut;){i=r.strstart,a=r.lookahead-(ut-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+ut-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++}while(--a);r.strstart=i,r.lookahead=ut-1,f(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ut-1,r.match_available=0,t.next_in=c,t.input=l,t.avail_in=u,r.wrap=s,F}var O=n(56),P=n(567),L=n(297),R=n(298),k=n(193),N=0,I=1,j=3,D=4,B=5,F=0,U=1,G=-2,z=-3,V=-5,H=-1,W=1,q=2,X=3,Y=4,K=0,Z=2,Q=8,J=9,$=15,tt=8,et=29,nt=256,rt=286,it=30,ot=19,at=2*rt+1,st=15,ut=3,ct=258,lt=ct+ut+1,ht=32,ft=42,dt=69,pt=73,mt=91,vt=103,gt=113,yt=666,bt=1,xt=2,_t=3,wt=4,Et=3,Mt;Mt=[new y(0,0,0,0,d),new y(4,4,8,4,p),new y(4,5,16,8,p),new y(4,6,32,32,p),new y(4,4,16,16,m),new y(8,16,32,32,m),new y(8,16,128,128,m),new y(8,32,128,256,m),new y(32,128,258,1024,m),new y(32,258,258,4096,m)],e.deflateInit=S,e.deflateInit2=M,e.deflateReset=w,e.deflateResetKeep=_,e.deflateSetHeader=E,e.deflate=T,e.deflateEnd=A,e.deflateSetDictionary=C,e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?ut[t]:ut[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,n){t.bi_valid>K-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>K-t.bi_valid,t.bi_valid+=n-K):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function c(t,e,n){u(t,n[2*e],n[2*e+1])}function l(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function h(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function f(t,e){var n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,u=e.stat_desc.max_length,c,l,h,f,d,p,m=0;for(f=0;f<=Y;f++)t.bl_count[f]=0;for(n[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<X;c++)l=t.heap[c],f=n[2*n[2*l+1]+1]+1,f>u&&(f=u,m++),n[2*l+1]=f,l>r||(t.bl_count[f]++,d=0,l>=s&&(d=a[l-s]),p=n[2*l],t.opt_len+=p*(f+d),o&&(t.static_len+=p*(i[2*l+1]+d)));if(0!==m){do{for(f=u-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[u]--,m-=2}while(m>0);for(f=u;0!==f;f--)for(l=t.bl_count[f];0!==l;)(h=t.heap[--c])>r||(n[2*h+1]!==f&&(t.opt_len+=(f-n[2*h+1])*n[2*h],n[2*h+1]=f),l--)}}function d(t,e,n){var r=new Array(Y+1),i=0,o,a;for(o=1;o<=Y;o++)r[o]=i=i+n[o-1]<<1;for(a=0;a<=e;a++){var s=t[2*a+1];0!==s&&(t[2*a]=l(r[s]++,s))}}function p(){var t,e,n,r,o,a=new Array(Y+1);for(n=0,r=0;r<z-1;r++)for(lt[r]=n,t=0;t<1<<et[r];t++)ct[n++]=r;for(ct[n-1]=r,o=0,r=0;r<16;r++)for(ht[r]=o,t=0;t<1<<nt[r];t++)ut[o++]=r;for(o>>=7;r<W;r++)for(ht[r]=o<<7,t=0;t<1<<nt[r]-7;t++)ut[256+o++]=r;for(e=0;e<=Y;e++)a[e]=0;for(t=0;t<=143;)at[2*t+1]=8,t++,a[8]++;for(;t<=255;)at[2*t+1]=9,t++,a[9]++;for(;t<=279;)at[2*t+1]=7,t++,a[7]++;for(;t<=287;)at[2*t+1]=8,t++,a[8]++;for(d(at,H+1,a),t=0;t<W;t++)st[2*t+1]=5,st[2*t]=l(t,5);ft=new i(at,et,V+1,H,Y),dt=new i(st,nt,0,W,Y),pt=new i(new Array(0),rt,0,q,Z)}function m(t){var e;for(e=0;e<H;e++)t.dyn_ltree[2*e]=0;for(e=0;e<W;e++)t.dyn_dtree[2*e]=0;for(e=0;e<q;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Q]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function v(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,e,n,r){v(t),r&&(s(t,n),s(t,~n)),R.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function y(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function b(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&y(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!y(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function x(t,e,n){var r,i,o=0,s,l;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===r?c(t,i,e):(s=ct[i],c(t,s+V+1,e),l=et[s],0!==l&&(i-=lt[s],u(t,i,l)),r--,s=a(r),c(t,s,n),0!==(l=nt[s])&&(r-=ht[s],u(t,r,l)))}while(o<t.last_lit);c(t,Q,e)}function _(t,e){var n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,a,s,u=-1,c;for(t.heap_len=0,t.heap_max=X,a=0;a<o;a++)0!==n[2*a]?(t.heap[++t.heap_len]=u=a,t.depth[a]=0):n[2*a+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=u<2?++u:0,n[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=r[2*c+1]);for(e.max_code=u,a=t.heap_len>>1;a>=1;a--)b(t,n,a);c=o;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],b(t,n,1),s=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=s,n[2*c]=n[2*a]+n[2*s],t.depth[c]=(t.depth[a]>=t.depth[s]?t.depth[a]:t.depth[s])+1,n[2*a+1]=n[2*s+1]=c,t.heap[1]=c++,b(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],f(t,e),d(n,u,t.bl_count)}function w(t,e,n){var r,i=-1,o,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=e[2*(r+1)+1],++s<u&&o===a||(s<c?t.bl_tree[2*o]+=s:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[2*J]++):s<=10?t.bl_tree[2*$]++:t.bl_tree[2*tt]++,s=0,i=o,0===a?(u=138,c=3):o===a?(u=6,c=3):(u=7,c=4))}function E(t,e,n){var r,i=-1,o,a=e[1],s=0,l=7,h=4;for(0===a&&(l=138,h=3),r=0;r<=n;r++)if(o=a,a=e[2*(r+1)+1],!(++s<l&&o===a)){if(s<h)do{c(t,o,t.bl_tree)}while(0!==--s);else 0!==o?(o!==i&&(c(t,o,t.bl_tree),s--),c(t,J,t.bl_tree),u(t,s-3,2)):s<=10?(c(t,$,t.bl_tree),u(t,s-3,3)):(c(t,tt,t.bl_tree),u(t,s-11,7));s=0,i=o,0===a?(l=138,h=3):o===a?(l=6,h=3):(l=7,h=4)}}function M(t){var e;for(w(t,t.dyn_ltree,t.l_desc.max_code),w(t,t.dyn_dtree,t.d_desc.max_code),_(t,t.bl_desc),e=q-1;e>=3&&0===t.bl_tree[2*it[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function S(t,e,n,r){var i;for(u(t,e-257,5),u(t,n-1,5),u(t,r-4,4),i=0;i<r;i++)u(t,t.bl_tree[2*it[i]+1],3);E(t,t.dyn_ltree,e-1),E(t,t.dyn_dtree,n-1)}function T(t){var e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(1&e&&0!==t.dyn_ltree[2*n])return N;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return I;for(n=32;n<V;n++)if(0!==t.dyn_ltree[2*n])return I;return N}function A(t){mt||(p(),mt=!0),t.l_desc=new o(t.dyn_ltree,ft),t.d_desc=new o(t.dyn_dtree,dt),t.bl_desc=new o(t.bl_tree,pt),t.bi_buf=0,t.bi_valid=0,m(t)}function C(t,e,n,r){u(t,(D<<1)+(r?1:0),3),g(t,e,n,!0)}function O(t){u(t,B<<1,3),c(t,Q,at),h(t)}function P(t,e,n,r){var i,o,a=0;t.level>0?(t.strm.data_type===j&&(t.strm.data_type=T(t)),_(t,t.l_desc),_(t,t.d_desc),a=M(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?C(t,e,n,r):t.strategy===k||o===i?(u(t,(B<<1)+(r?1:0),3),x(t,at,st)):(u(t,(F<<1)+(r?1:0),3),S(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),x(t,t.dyn_ltree,t.dyn_dtree)),m(t),r&&v(t)}function L(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(ct[n]+V+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1}var R=n(56),k=4,N=0,I=1,j=2,D=0,B=1,F=2,U=3,G=258,z=29,V=256,H=V+1+z,W=30,q=19,X=2*H+1,Y=15,K=16,Z=7,Q=256,J=16,$=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=512,at=new Array(2*(H+2));r(at);var st=new Array(2*W);r(st);var ut=new Array(512);r(ut);var ct=new Array(256);r(ct);var lt=new Array(z);r(lt);var ht=new Array(W);r(ht);var ft,dt,pt,mt=!1;e._tr_init=A,e._tr_stored_block=C,e._tr_flush_block=P,e._tr_tally=L,e._tr_align=O},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,e.windowBits);if(n!==c.Z_OK)throw new Error(l[n]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||l[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}var a=n(569),s=n(56),u=n(299),c=n(301),l=n(193),h=n(300),f=n(572),d=Object.prototype.toString;r.prototype.push=function(t,e){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,l,h,f,p,m,v=!1;if(this.ended)return!1;l=e===~~e?e:!0===e?c.Z_FINISH:c.Z_NO_FLUSH,"string"===typeof t?n.input=u.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new s.Buf8(r),n.next_out=0,n.avail_out=r),o=a.inflate(n,c.Z_NO_FLUSH),o===c.Z_NEED_DICT&&i&&(m="string"===typeof i?u.string2buf(i):"[object ArrayBuffer]"===d.call(i)?new Uint8Array(i):i,o=a.inflateSetDictionary(this.strm,m)),o===c.Z_BUF_ERROR&&!0===v&&(o=c.Z_OK,v=!1),o!==c.Z_STREAM_END&&o!==c.Z_OK)return this.onEnd(o),this.ended=!0,!1;n.next_out&&(0!==n.avail_out&&o!==c.Z_STREAM_END&&(0!==n.avail_in||l!==c.Z_FINISH&&l!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(h=u.utf8border(n.output,n.next_out),f=n.next_out-h,p=u.buf2string(n.output,h),n.next_out=f,n.avail_out=r-f,f&&s.arraySet(n.output,n.output,h,f,0),this.onData(p)):this.onData(s.shrinkBuf(n.output,n.next_out)))),0===n.avail_in&&0===n.avail_out&&(v=!0)}while((n.avail_in>0||0===n.avail_out)&&o!==c.Z_STREAM_END);return o===c.Z_STREAM_END&&(l=c.Z_FINISH),l===c.Z_FINISH?(o=a.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===c.Z_OK):l!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),n.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=r,e.inflate=i,e.inflateRaw=o,e.ungzip=i},function(t,e,n){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=I,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new v.Buf32(dt),e.distcode=e.distdyn=new v.Buf32(pt),e.sane=1,e.back=-1,A):P}function a(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):P}function s(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?P:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,a(t))):P}function u(t,e){var n,r;return t?(r=new i,t.state=r,r.window=null,n=s(t,e),n!==A&&(t.state=null),n):P}function c(t){return u(t,vt)}function l(t){if(gt){var e;for(yt=new v.Buf32(512),bt=new v.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(x(w,t.lens,0,288,yt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;x(E,t.lens,0,32,bt,0,t.work,{bits:5}),gt=!1}t.lencode=yt,t.lenbits=9,t.distcode=bt,t.distbits=5}function h(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new v.Buf8(o.wsize)),r>=o.wsize?(v.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),v.arraySet(o.window,e,n-r,i,o.wnext),r-=i,r?(v.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function f(t,e){var n,i,o,a,s,u,c,f,d,p,m,dt,pt,mt,vt=0,gt,yt,bt,xt,_t,wt,Et,Mt,St=new v.Buf8(4),Tt,At,Ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return P;n=t.state,n.mode===q&&(n.mode=X),s=t.next_out,o=t.output,c=t.avail_out,a=t.next_in,i=t.input,u=t.avail_in,f=n.hold,d=n.bits,p=u,m=c,Mt=A;t:for(;;)switch(n.mode){case I:if(0===n.wrap){n.mode=X;break}for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(2&n.wrap&&35615===f){n.check=0,St[0]=255&f,St[1]=f>>>8&255,n.check=y(n.check,St,2,0),f=0,d=0,n.mode=j;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=lt;break}if((15&f)!==N){t.msg="unknown compression method",n.mode=lt;break}if(f>>>=4,d-=4,Et=8+(15&f),0===n.wbits)n.wbits=Et;else if(Et>n.wbits){t.msg="invalid window size",n.mode=lt;break}n.dmax=1<<Et,t.adler=n.check=1,n.mode=512&f?H:q,f=0,d=0;break;case j:for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(n.flags=f,(255&n.flags)!==N){t.msg="unknown compression method",n.mode=lt;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=lt;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(St[0]=255&f,St[1]=f>>>8&255,n.check=y(n.check,St,2,0)),f=0,d=0,n.mode=D;case D:for(;d<32;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.head&&(n.head.time=f),512&n.flags&&(St[0]=255&f,St[1]=f>>>8&255,St[2]=f>>>16&255,St[3]=f>>>24&255,n.check=y(n.check,St,4,0)),f=0,d=0,n.mode=B;case B:for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(St[0]=255&f,St[1]=f>>>8&255,n.check=y(n.check,St,2,0)),f=0,d=0,n.mode=F;case F:if(1024&n.flags){for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(St[0]=255&f,St[1]=f>>>8&255,n.check=y(n.check,St,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=U;case U:if(1024&n.flags&&(dt=n.length,dt>u&&(dt=u),dt&&(n.head&&(Et=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,i,a,dt,Et)),512&n.flags&&(n.check=y(n.check,i,dt,a)),u-=dt,a+=dt,n.length-=dt),n.length))break t;n.length=0,n.mode=G;case G:if(2048&n.flags){if(0===u)break t;dt=0;do{Et=i[a+dt++],n.head&&Et&&n.length<65536&&(n.head.name+=String.fromCharCode(Et))}while(Et&&dt<u);if(512&n.flags&&(n.check=y(n.check,i,dt,a)),u-=dt,a+=dt,Et)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=z;case z:if(4096&n.flags){if(0===u)break t;dt=0;do{Et=i[a+dt++],n.head&&Et&&n.length<65536&&(n.head.comment+=String.fromCharCode(Et))}while(Et&&dt<u);if(512&n.flags&&(n.check=y(n.check,i,dt,a)),u-=dt,a+=dt,Et)break t}else n.head&&(n.head.comment=null);n.mode=V;case V:if(512&n.flags){for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(f!==(65535&n.check)){t.msg="header crc mismatch",n.mode=lt;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=q;break;case H:for(;d<32;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}t.adler=n.check=r(f),f=0,d=0,n.mode=W;case W:if(0===n.havedict)return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=u,n.hold=f,n.bits=d,O;t.adler=n.check=1,n.mode=q;case q:if(e===S||e===T)break t;case X:if(n.last){f>>>=7&d,d-=7&d,n.mode=st;break}for(;d<3;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}switch(n.last=1&f,f>>>=1,d-=1,3&f){case 0:n.mode=Y;break;case 1:if(l(n),n.mode=tt,e===T){f>>>=2,d-=2;break t}break;case 2:n.mode=Q;break;case 3:t.msg="invalid block type",n.mode=lt}f>>>=2,d-=2;break;case Y:for(f>>>=7&d,d-=7&d;d<32;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if((65535&f)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=lt;break}if(n.length=65535&f,f=0,d=0,n.mode=K,e===T)break t;case K:n.mode=Z;case Z:if(dt=n.length){if(dt>u&&(dt=u),dt>c&&(dt=c),0===dt)break t;v.arraySet(o,i,a,dt,s),u-=dt,a+=dt,c-=dt,s+=dt,n.length-=dt;break}n.mode=q;break;case Q:for(;d<14;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(n.nlen=257+(31&f),f>>>=5,d-=5,n.ndist=1+(31&f),f>>>=5,d-=5,n.ncode=4+(15&f),f>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=lt;break}n.have=0,n.mode=J;case J:for(;n.have<n.ncode;){for(;d<3;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.lens[Ct[n.have++]]=7&f,f>>>=3,d-=3}for(;n.have<19;)n.lens[Ct[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Tt={bits:n.lenbits},Mt=x(_,n.lens,0,19,n.lencode,0,n.work,Tt),n.lenbits=Tt.bits,Mt){t.msg="invalid code lengths set",n.mode=lt;break}n.have=0,n.mode=$;case $:for(;n.have<n.nlen+n.ndist;){for(;vt=n.lencode[f&(1<<n.lenbits)-1],gt=vt>>>24,yt=vt>>>16&255,bt=65535&vt,!(gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(bt<16)f>>>=gt,d-=gt,n.lens[n.have++]=bt;else{if(16===bt){for(At=gt+2;d<At;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(f>>>=gt,d-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=lt;break}Et=n.lens[n.have-1],dt=3+(3&f),f>>>=2,d-=2}else if(17===bt){for(At=gt+3;d<At;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}f>>>=gt,d-=gt,Et=0,dt=3+(7&f),f>>>=3,d-=3}else{for(At=gt+7;d<At;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}f>>>=gt,d-=gt,Et=0,dt=11+(127&f),f>>>=7,d-=7}if(n.have+dt>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=lt;break}for(;dt--;)n.lens[n.have++]=Et}}if(n.mode===lt)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=lt;break}if(n.lenbits=9,Tt={bits:n.lenbits},Mt=x(w,n.lens,0,n.nlen,n.lencode,0,n.work,Tt),n.lenbits=Tt.bits,Mt){t.msg="invalid literal/lengths set",n.mode=lt;break}if(n.distbits=6,n.distcode=n.distdyn,Tt={bits:n.distbits},Mt=x(E,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Tt),n.distbits=Tt.bits,Mt){t.msg="invalid distances set",n.mode=lt;break}if(n.mode=tt,e===T)break t;case tt:n.mode=et;case et:if(u>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=u,n.hold=f,n.bits=d,b(t,m),s=t.next_out,o=t.output,c=t.avail_out,a=t.next_in,i=t.input,u=t.avail_in,f=n.hold,d=n.bits,n.mode===q&&(n.back=-1);break}for(n.back=0;vt=n.lencode[f&(1<<n.lenbits)-1],gt=vt>>>24,yt=vt>>>16&255,bt=65535&vt,!(gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(yt&&0===(240&yt)){for(xt=gt,_t=yt,wt=bt;vt=n.lencode[wt+((f&(1<<xt+_t)-1)>>xt)],gt=vt>>>24,yt=vt>>>16&255,bt=65535&vt,!(xt+gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}f>>>=xt,d-=xt,n.back+=xt}if(f>>>=gt,d-=gt,n.back+=gt,n.length=bt,0===yt){n.mode=at;break}if(32&yt){n.back=-1,n.mode=q;break}if(64&yt){t.msg="invalid literal/length code",n.mode=lt;break}n.extra=15&yt,n.mode=nt;case nt:if(n.extra){for(At=n.extra;d<At;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=rt;case rt:for(;vt=n.distcode[f&(1<<n.distbits)-1],gt=vt>>>24,yt=vt>>>16&255,bt=65535&vt,!(gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(0===(240&yt)){for(xt=gt,_t=yt,wt=bt;vt=n.distcode[wt+((f&(1<<xt+_t)-1)>>xt)],gt=vt>>>24,yt=vt>>>16&255,bt=65535&vt,!(xt+gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}f>>>=xt,d-=xt,n.back+=xt}if(f>>>=gt,d-=gt,n.back+=gt,64&yt){t.msg="invalid distance code",n.mode=lt;break}n.offset=bt,n.extra=15&yt,n.mode=it;case it:if(n.extra){for(At=n.extra;d<At;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=lt;break}n.mode=ot;case ot:if(0===c)break t;if(dt=m-c,n.offset>dt){if((dt=n.offset-dt)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=lt;break}dt>n.wnext?(dt-=n.wnext,pt=n.wsize-dt):pt=n.wnext-dt,dt>n.length&&(dt=n.length),mt=n.window}else mt=o,pt=s-n.offset,dt=n.length;dt>c&&(dt=c),c-=dt,n.length-=dt;do{o[s++]=mt[pt++]}while(--dt);0===n.length&&(n.mode=et);break;case at:if(0===c)break t;o[s++]=n.length,c--,n.mode=et;break;case st:if(n.wrap){for(;d<32;){if(0===u)break t;u--,f|=i[a++]<<d,d+=8}if(m-=c,t.total_out+=m,n.total+=m,m&&(t.adler=n.check=n.flags?y(n.check,o,m,s-m):g(n.check,o,m,s-m)),m=c,(n.flags?f:r(f))!==n.check){t.msg="incorrect data check",n.mode=lt;break}f=0,d=0}n.mode=ut;case ut:if(n.wrap&&n.flags){for(;d<32;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(f!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=lt;break}f=0,d=0}n.mode=ct;case ct:Mt=C;break t;case lt:Mt=L;break t;case ht:return R;case ft:default:return P}return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=u,n.hold=f,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<lt&&(n.mode<st||e!==M))&&h(t,t.output,t.next_out,m-t.avail_out)?(n.mode=ht,R):(p-=t.avail_in,m-=t.avail_out,t.total_in+=p,t.total_out+=m,n.total+=m,n.wrap&&m&&(t.adler=n.check=n.flags?y(n.check,o,m,t.next_out-m):g(n.check,o,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===q?128:0)+(n.mode===tt||n.mode===K?256:0),(0===p&&0===m||e===M)&&Mt===A&&(Mt=k),Mt)}function d(t){if(!t||!t.state)return P;var e=t.state;return e.window&&(e.window=null),t.state=null,A}function p(t,e){var n;return t&&t.state?(n=t.state,0===(2&n.wrap)?P:(n.head=e,e.done=!1,A)):P}function m(t,e){var n=e.length,r,i,o;return t&&t.state?(r=t.state,0!==r.wrap&&r.mode!==W?P:r.mode===W&&(i=1,(i=g(i,e,n,0))!==r.check)?L:(o=h(t,e,n,n))?(r.mode=ht,R):(r.havedict=1,A)):P}var v=n(56),g=n(297),y=n(298),b=n(570),x=n(571),_=0,w=1,E=2,M=4,S=5,T=6,A=0,C=1,O=2,P=-2,L=-3,R=-4,k=-5,N=8,I=1,j=2,D=3,B=4,F=5,U=6,G=7,z=8,V=9,H=10,W=11,q=12,X=13,Y=14,K=15,Z=16,Q=17,J=18,$=19,tt=20,et=21,nt=22,rt=23,it=24,ot=25,at=26,st=27,ut=28,ct=29,lt=30,ht=31,ft=32,dt=852,pt=592,mt=15,vt=15,gt=!0,yt,bt;e.inflateReset=a,e.inflateReset2=s,e.inflateResetKeep=o,e.inflateInit=c,e.inflateInit2=u,e.inflate=f,e.inflateEnd=d,e.inflateGetHeader=p,e.inflateSetDictionary=m,e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";var r=30,i=12;t.exports=function t(e,n){var r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,b,x,_,w,E,M,S,T,A;r=e.state,i=e.next_in,T=e.input,o=i+(e.avail_in-5),a=e.next_out,A=e.output,s=a-(n-e.avail_out),u=a+(e.avail_out-257),c=r.dmax,l=r.wsize,h=r.whave,f=r.wnext,d=r.window,p=r.hold,m=r.bits,v=r.lencode,g=r.distcode,y=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{m<15&&(p+=T[i++]<<m,m+=8,p+=T[i++]<<m,m+=8),x=v[p&y];e:for(;;){if(_=x>>>24,p>>>=_,m-=_,0===(_=x>>>16&255))A[a++]=65535&x;else{if(!(16&_)){if(0===(64&_)){x=v[(65535&x)+(p&(1<<_)-1)];continue e}if(32&_){r.mode=12;break t}e.msg="invalid literal/length code",r.mode=30;break t}w=65535&x,_&=15,_&&(m<_&&(p+=T[i++]<<m,m+=8),w+=p&(1<<_)-1,p>>>=_,m-=_),m<15&&(p+=T[i++]<<m,m+=8,p+=T[i++]<<m,m+=8),x=g[p&b];n:for(;;){if(_=x>>>24,p>>>=_,m-=_,!(16&(_=x>>>16&255))){if(0===(64&_)){x=g[(65535&x)+(p&(1<<_)-1)];continue n}e.msg="invalid distance code",r.mode=30;break t}if(E=65535&x,_&=15,m<_&&(p+=T[i++]<<m,(m+=8)<_&&(p+=T[i++]<<m,m+=8)),(E+=p&(1<<_)-1)>c){e.msg="invalid distance too far back",r.mode=30;break t}if(p>>>=_,m-=_,_=a-s,E>_){if((_=E-_)>h&&r.sane){e.msg="invalid distance too far back",r.mode=30;break t}if(M=0,S=d,0===f){if(M+=l-_,_<w){w-=_;do{A[a++]=d[M++]}while(--_);M=a-E,S=A}}else if(f<_){if(M+=l+f-_,(_-=f)<w){w-=_;do{A[a++]=d[M++]}while(--_);if(M=0,f<w){_=f,w-=_;do{A[a++]=d[M++]}while(--_);M=a-E,S=A}}}else if(M+=f-_,_<w){w-=_;do{A[a++]=d[M++]}while(--_);M=a-E,S=A}for(;w>2;)A[a++]=S[M++],A[a++]=S[M++],A[a++]=S[M++],w-=3;w&&(A[a++]=S[M++],w>1&&(A[a++]=S[M++]))}else{M=a-E;do{A[a++]=A[M++],A[a++]=A[M++],A[a++]=A[M++],w-=3}while(w>2);w&&(A[a++]=A[M++],w>1&&(A[a++]=A[M++]))}break}}break}}while(i<o&&a<u);w=m>>3,i-=w,m-=w<<3,p&=(1<<m)-1,e.next_in=i,e.next_out=a,e.avail_in=i<o?o-i+5:5-(i-o),e.avail_out=a<u?u-a+257:257-(a-u),r.hold=p,r.bits=m}},function(t,e,n){"use strict";var r=n(56),i=15,o=852,a=592,s=0,u=1,c=2,l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function t(e,n,i,o,a,s,u,c){var p=c.bits,m=0,v=0,g=0,y=0,b=0,x=0,_=0,w=0,E=0,M=0,S,T,A,C,O,P=null,L=0,R,k=new r.Buf16(16),N=new r.Buf16(16),I=null,j=0,D,B,F;for(m=0;m<=15;m++)k[m]=0;for(v=0;v<o;v++)k[n[i+v]]++;for(b=p,y=15;y>=1&&0===k[y];y--);if(b>y&&(b=y),0===y)return a[s++]=20971520,a[s++]=20971520,c.bits=1,0;for(g=1;g<y&&0===k[g];g++);for(b<g&&(b=g),w=1,m=1;m<=15;m++)if(w<<=1,(w-=k[m])<0)return-1;if(w>0&&(0===e||1!==y))return-1;for(N[1]=0,m=1;m<15;m++)N[m+1]=N[m]+k[m];for(v=0;v<o;v++)0!==n[i+v]&&(u[N[n[i+v]]++]=v);if(0===e?(P=I=u,R=19):1===e?(P=l,L-=257,I=h,j-=257,R=256):(P=f,I=d,R=-1),M=0,v=0,m=g,O=s,x=b,_=0,A=-1,E=1<<b,C=E-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){D=m-_,u[v]<R?(B=0,F=u[v]):u[v]>R?(B=I[j+u[v]],F=P[L+u[v]]):(B=96,F=0),S=1<<m-_,T=1<<x,g=T;do{T-=S,a[O+(M>>_)+T]=D<<24|B<<16|F|0}while(0!==T);for(S=1<<m-1;M&S;)S>>=1;if(0!==S?(M&=S-1,M+=S):M=0,v++,0===--k[m]){if(m===y)break;m=n[i+u[v]]}if(m>b&&(M&C)!==A){for(0===_&&(_=b),O+=g,x=m-_,w=1<<x;x+_<y&&!((w-=k[x+_])<=0);)x++,w<<=1;if(E+=1<<x,1===e&&E>852||2===e&&E>592)return 1;A=M&C,a[A]=b<<24|x<<16|O-s|0}}return 0!==M&&(a[O+M]=m-_<<24|64<<16|0),c.bits=b,0}},function(t,e,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},function(t,e,n){t.exports=function(){return n(126)('!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function e(){return t.default}:function e(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=133)}([function(t,e,n){var r=n(2),i=n(18),o=n(11),a=n(12),s=n(19),c="prototype",u=function(t,e,n){var h=t&u.F,l=t&u.G,f=t&u.S,d=t&u.P,p=t&u.B,m=l?r:f?r[e]||(r[e]={}):(r[e]||{})[c],v=l?i:i[e]||(i[e]={}),g=v[c]||(v[c]={}),y,_,x,b;l&&(n=e);for(y in n)_=!h&&m&&void 0!==m[y],x=(_?m:n)[y],b=p&&_?s(x,r):d&&"function"==typeof x?s(Function.call,x):x,m&&a(m,y,x,t&u.U),v[y]!=x&&o(v,y,b),d&&g[y]!=x&&(g[y]=x)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){var r=n(50)("wks"),i=n(34),o=n(2).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(1),i=n(93),o=n(22),a=Object.defineProperty;e.f=n(6)?Object.defineProperty:function t(e,n,s){if(r(e),n=o(n,!0),r(s),i)try{return a(e,n,s)}catch(t){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(e[n]=s.value),e}},function(t,e,n){var r=n(24),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(23);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(7),i=n(33);t.exports=n(6)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(2),i=n(11),o=n(14),a=n(34)("src"),s="toString",c=Function[s],u=(""+c).split(s);n(18).inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,s,function t(){return"function"==typeof this&&this[a]||c.call(this)})},function(t,e,n){var r=n(0),i=n(3),o=n(23),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+\'="\'+String(r).replace(a,"&quot;")+\'"\'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t](\'"\');return e!==e.toLowerCase()||e.split(\'"\').length>3}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(47),i=n(23);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(48),i=n(33),o=n(15),a=n(22),s=n(14),c=n(93),u=Object.getOwnPropertyDescriptor;e.f=n(6)?u:function t(e,n){if(e=o(e),n=a(n,!0),c)try{return u(e,n)}catch(t){}if(s(e,n))return i(!r.f.call(e,n),e[n])}},function(t,e,n){var r=n(14),i=n(9),o=n(67)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(10);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can\'t convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can\'t call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(0),i=n(18),o=n(3);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(19),i=n(47),o=n(9),a=n(8),s=n(84);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,h=4==t,l=6==t,f=5==t||l,d=e||s;return function(e,s,p){for(var m=o(e),v=i(m),g=r(s,p,3),y=a(v.length),_=0,x=n?d(e,y):c?d(e,0):void 0,b,w;y>_;_++)if((f||_ in v)&&(b=v[_],w=g(b,_,m),t))if(n)x[_]=w;else if(w)switch(t){case 3:return!0;case 5:return b;case 6:return _;case 2:x.push(b)}else if(h)return!1;return l?-1:u||h?h:x}}},function(t,e,n){"use strict";if(n(6)){var r=n(30),i=n(2),o=n(3),a=n(0),s=n(61),c=n(90),u=n(19),h=n(40),l=n(33),f=n(11),d=n(42),p=n(24),m=n(8),v=n(119),g=n(36),y=n(22),_=n(14),x=n(49),b=n(4),w=n(9),M=n(81),E=n(37),S=n(17),T=n(38).f,A=n(83),R=n(34),L=n(5),P=n(26),C=n(51),I=n(58),O=n(86),N=n(45),U=n(55),D=n(39),F=n(85),z=n(109),B=n(7),k=n(16),G=B.f,H=k.f,j=i.RangeError,V=i.TypeError,W=i.Uint8Array,X="ArrayBuffer",Y="SharedArrayBuffer",q="BYTES_PER_ELEMENT",Z="prototype",J=Array[Z],K=c.ArrayBuffer,Q=c.DataView,$=P(0),tt=P(2),et=P(3),nt=P(4),rt=P(5),it=P(6),ot=C(!0),at=C(!1),st=O.values,ct=O.keys,ut=O.entries,ht=J.lastIndexOf,lt=J.reduce,ft=J.reduceRight,dt=J.join,pt=J.sort,mt=J.slice,vt=J.toString,gt=J.toLocaleString,yt=L("iterator"),_t=L("toStringTag"),xt=R("typed_constructor"),bt=R("def_constructor"),wt=s.CONSTR,Mt=s.TYPED,Et=s.VIEW,St="Wrong length!",Tt=P(1,function(t,e){return Ct(I(t,t[bt]),e)}),At=o(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),Rt=!!W&&!!W[Z].set&&o(function(){new W(1).set({})}),Lt=function(t,e){var n=p(t);if(n<0||n%e)throw j("Wrong offset!");return n},Pt=function(t){if(b(t)&&Mt in t)return t;throw V(t+" is not a typed array!")},Ct=function(t,e){if(!(b(t)&&xt in t))throw V("It is not a typed array constructor!");return new t(e)},It=function(t,e){return Ot(I(t,t[bt]),e)},Ot=function(t,e){for(var n=0,r=e.length,i=Ct(t,r);r>n;)i[n]=e[n++];return i},Nt=function(t,e,n){G(t,e,{get:function(){return this._d[n]}})},Ut=function t(e){var n=w(e),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i,a=A(n),s,c,h,l,f,d;if(void 0!=a&&!M(a)){for(d=a.call(n),h=[],s=0;!(f=d.next()).done;s++)h.push(f.value);n=h}for(o&&r>2&&(i=u(i,arguments[2],2)),s=0,c=m(n.length),l=Ct(this,c);c>s;s++)l[s]=o?i(n[s],s):n[s];return l},Dt=function t(){for(var e=0,n=arguments.length,r=Ct(this,n);n>e;)r[e]=arguments[e++];return r},Ft=!!W&&o(function(){gt.call(new W(1))}),zt=function t(){return gt.apply(Ft?mt.call(Pt(this)):Pt(this),arguments)},Bt={copyWithin:function t(e,n){return z.call(Pt(this),e,n,arguments.length>2?arguments[2]:void 0)},every:function t(e){return nt(Pt(this),e,arguments.length>1?arguments[1]:void 0)},fill:function t(e){return F.apply(Pt(this),arguments)},filter:function t(e){return It(this,tt(Pt(this),e,arguments.length>1?arguments[1]:void 0))},find:function t(e){return rt(Pt(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function t(e){return it(Pt(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function t(e){$(Pt(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function t(e){return at(Pt(this),e,arguments.length>1?arguments[1]:void 0)},includes:function t(e){return ot(Pt(this),e,arguments.length>1?arguments[1]:void 0)},join:function t(e){return dt.apply(Pt(this),arguments)},lastIndexOf:function t(e){return ht.apply(Pt(this),arguments)},map:function t(e){return Tt(Pt(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function t(e){return lt.apply(Pt(this),arguments)},reduceRight:function t(e){return ft.apply(Pt(this),arguments)},reverse:function t(){for(var e=this,n=Pt(e).length,r=Math.floor(n/2),i=0,o;i<r;)o=e[i],e[i++]=e[--n],e[n]=o;return e},some:function t(e){return et(Pt(this),e,arguments.length>1?arguments[1]:void 0)},sort:function t(e){return pt.call(Pt(this),e)},subarray:function t(e,n){var r=Pt(this),i=r.length,o=g(e,i);return new(I(r,r[bt]))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,m((void 0===n?i:g(n,i))-o))}},kt=function t(e,n){return It(this,mt.call(Pt(this),e,n))},Gt=function t(e){Pt(this);var n=Lt(arguments[1],1),r=this.length,i=w(e),o=m(i.length),a=0;if(o+n>r)throw j(St);for(;a<o;)this[n+a]=i[a++]},Ht={entries:function t(){return ut.call(Pt(this))},keys:function t(){return ct.call(Pt(this))},values:function t(){return st.call(Pt(this))}},jt=function(t,e){return b(t)&&t[Mt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Vt=function t(e,n){return jt(e,n=y(n,!0))?l(2,e[n]):H(e,n)},Wt=function t(e,n,r){return!(jt(e,n=y(n,!0))&&b(r)&&_(r,"value"))||_(r,"get")||_(r,"set")||r.configurable||_(r,"writable")&&!r.writable||_(r,"enumerable")&&!r.enumerable?G(e,n,r):(e[n]=r.value,e)};wt||(k.f=Vt,B.f=Wt),a(a.S+a.F*!wt,"Object",{getOwnPropertyDescriptor:Vt,defineProperty:Wt}),o(function(){vt.call({})})&&(vt=gt=function t(){return dt.call(this)});var Xt=d({},Bt);d(Xt,Ht),f(Xt,yt,Ht.values),d(Xt,{slice:kt,set:Gt,constructor:function(){},toString:vt,toLocaleString:zt}),Nt(Xt,"buffer","b"),Nt(Xt,"byteOffset","o"),Nt(Xt,"byteLength","l"),Nt(Xt,"length","e"),G(Xt,_t,{get:function(){return this[Mt]}}),t.exports=function(t,e,n,c){c=!!c;var u=t+(c?"Clamped":"")+"Array",l="get"+t,d="set"+t,p=i[u],g=p||{},y=p&&S(p),_=!p||!s.ABV,w={},M=p&&p[Z],A=function(t,n){var r=t._d;return r.v[l](n*e+r.o,At)},R=function(t,n,r){var i=t._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*e+i.o,r,At)},L=function(t,e){G(t,e,{get:function(){return A(this,e)},set:function(t){return R(this,e,t)},enumerable:!0})};_?(p=n(function(t,n,r,i){h(t,p,u,"_d");var o=0,a=0,s,c,l,d;if(b(n)){if(!(n instanceof K||(d=x(n))==X||d==Y))return Mt in n?Ot(p,n):Ut.call(p,n);s=n,a=Lt(r,e);var g=n.byteLength;if(void 0===i){if(g%e)throw j(St);if((c=g-a)<0)throw j(St)}else if((c=m(i)*e)+a>g)throw j(St);l=c/e}else l=v(n),c=l*e,s=new K(c);for(f(t,"_d",{b:s,o:a,l:c,e:l,v:new Q(s)});o<l;)L(t,o++)}),M=p[Z]=E(Xt),f(M,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&U(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,r,i){h(t,p,u);var o;return b(n)?n instanceof K||(o=x(n))==X||o==Y?void 0!==i?new g(n,Lt(r,e),i):void 0!==r?new g(n,Lt(r,e)):new g(n):Mt in n?Ot(p,n):Ut.call(p,n):new g(v(n))}),$(y!==Function.prototype?T(g).concat(T(y)):T(g),function(t){t in p||f(p,t,g[t])}),p[Z]=M,r||(M.constructor=p));var P=M[yt],C=!!P&&("values"==P.name||void 0==P.name),I=Ht.values;f(p,xt,!0),f(M,Mt,u),f(M,Et,!0),f(M,bt,p),(c?new p(1)[_t]==u:_t in M)||G(M,_t,{get:function(){return u}}),w[u]=p,a(a.G+a.W+a.F*(p!=g),w),a(a.S,u,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){g.of.call(p,1)}),u,{from:Ut,of:Dt}),q in M||f(M,q,e),a(a.P,u,Bt),D(u),a(a.P+a.F*Rt,u,{set:Gt}),a(a.P+a.F*!C,u,Ht),r||M.toString==vt||(M.toString=vt),a(a.P+a.F*o(function(){new p(1).slice()}),u,{slice:kt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){M.toLocaleString.call([1,2])})),u,{toLocaleString:zt}),N[u]=C?P:I,r||C||f(M,yt,I)}}else t.exports=function(){}},function(t,e,n){var r=n(114),i=n(0),o=n(50)("metadata"),a=o.store||(o.store=new(n(117))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o},c=function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},u=function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},h=function(t,e,n,r){s(n,r,!0).set(t,e)},l=function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},f=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},d=function(t){i(i.S,"Reflect",t)};t.exports={store:a,map:s,has:c,get:u,set:h,keys:l,key:f,exp:d}},function(t,e,n){var r=n(34)("meta"),i=n(4),o=n(14),a=n(7).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(3)(function(){return c(Object.preventExtensions({}))}),h=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},l=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!e)return"E";h(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!c(t))return!0;if(!e)return!1;h(t)}return t[r].w},d=function(t){return u&&p.NEED&&c(t)&&!o(t,r)&&h(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:f,onFreeze:d}},function(t,e){t.exports=!1},function(t,e,n){var r=n(5)("unscopables"),i=Array.prototype;void 0==i[r]&&n(11)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var i="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),i);for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(i)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(95),i=n(68);t.exports=Object.keys||function t(e){return r(e,i)}},function(t,e,n){var r=n(24),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(1),i=n(96),o=n(68),a=n(67)("IE_PROTO"),s=function(){},c="prototype",u=function(){var t=n(65)("iframe"),e=o.length,r="<",i=">",a;for(t.style.display="none",n(69).appendChild(t),t.src="javascript:",a=t.contentWindow.document,a.open(),a.write("<script>document.F=Object<\\/script>"),a.close(),u=a.F;e--;)delete u[c][o[e]];return u()};t.exports=Object.create||function t(e,n){var o;return null!==e?(s[c]=r(e),o=new s,s[c]=null,o[a]=e):o=u(),void 0===n?o:i(o,n)}},function(t,e,n){var r=n(95),i=n(68).concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(e){return r(e,i)}},function(t,e,n){"use strict";var r=n(2),i=n(7),o=n(6),a=n(5)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(19),i=n(107),o=n(81),a=n(1),s=n(8),c=n(83),u={},h={},e=t.exports=function(t,e,n,l,f){var d=f?function(){return t}:c(t),p=r(n,l,e?2:1),m=0,v,g,y,_;if("function"!=typeof d)throw TypeError(t+" is not iterable!");if(o(d)){for(v=s(t.length);v>m;m++)if((_=e?p(a(g=t[m])[0],g[1]):p(t[m]))===u||_===h)return _}else for(y=d.call(t);!(g=y.next()).done;)if((_=i(y,p,g.value,e))===u||_===h)return _};e.BREAK=u,e.RETURN=h},function(t,e,n){var r=n(12);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(7).f,i=n(14),o=n(5)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(0),i=n(23),o=n(3),a=n(71),s="["+a+"]",c="\\u200b\\x85",u=RegExp("^"+s+s+"*"),h=RegExp(s+s+"*$"),l=function(t,e,n){var i={},s=o(function(){return!!a[t]()||c[t]()!=c}),u=i[t]=s?e(f):a[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},f=l.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(h,"")),t};t.exports=l},function(t,e){t.exports={}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(20),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(18),i=n(2),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(30)?"pure":"global",copyright:"\\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(15),i=n(8),o=n(36);t.exports=function(t){return function(e,n,a){var s=r(e),c=i(s.length),u=o(a,c),h;if(t&&n!=n){for(;c>u;)if((h=s[u++])!=h)return!0}else for(;c>u;u++)if((t||u in s)&&s[u]===n)return t||u||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(20);t.exports=Array.isArray||function t(e){return"Array"==r(e)}},function(t,e,n){var r=n(4),i=n(20),o=n(5)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(1);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(11),i=n(12),o=n(3),a=n(23),s=n(5);t.exports=function(t,e,n){var c=s(t),u=n(a,c,""[t]),h=u[0],l=u[1];o(function(){var e={};return e[c]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,h),r(RegExp.prototype,c,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)}))}},function(t,e,n){var r=n(1),i=n(10),o=n(5)("species");t.exports=function(t,e){var n=r(t).constructor,a;return void 0===n||void 0==(a=r(n)[o])?e:i(a)}},function(t,e,n){var r=n(2),i=r.navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var r=n(2),i=n(0),o=n(12),a=n(42),s=n(29),c=n(41),u=n(40),h=n(4),l=n(3),f=n(55),d=n(43),p=n(72);t.exports=function(t,e,n,m,v,g){var y=r[t],_=y,x=v?"set":"add",b=_&&_.prototype,w={},M=function(t){var e=b[t];o(b,t,"delete"==t?function(t){return!(g&&!h(t))&&e.call(this,0===t?0:t)}:"has"==t?function t(n){return!(g&&!h(n))&&e.call(this,0===n?0:n)}:"get"==t?function t(n){return g&&!h(n)?void 0:e.call(this,0===n?0:n)}:"add"==t?function t(n){return e.call(this,0===n?0:n),this}:function t(n,r){return e.call(this,0===n?0:n,r),this})};if("function"==typeof _&&(g||b.forEach&&!l(function(){(new _).entries().next()}))){var E=new _,S=E[x](g?{}:-0,1)!=E,T=l(function(){E.has(1)}),A=f(function(t){new _(t)}),R=!g&&l(function(){for(var t=new _,e=5;e--;)t[x](e,e);return!t.has(-0)});A||(_=e(function(e,n){u(e,_,t);var r=p(new y,e,_);return void 0!=n&&c(n,v,r[x],r),r}),_.prototype=b,b.constructor=_),(T||R)&&(M("delete"),M("has"),v&&M("get")),(R||S)&&M(x),g&&b.clear&&delete b.clear}else _=m.getConstructor(e,t,v,x),a(_.prototype,n),s.NEED=!0;return d(_,t),w[t]=_,i(i.G+i.W+i.F*(_!=y),w),g||m.setStrong(_,t,v),_}},function(t,e,n){for(var r=n(2),i=n(11),o=n(34),a=o("typed_array"),s=o("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,h=0,l=9,f,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(f=r[d[h++]])?(i(f.prototype,a,!0),i(f.prototype,s,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:a,VIEW:s}},function(t,e,n){"use strict";t.exports=n(30)||!n(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(2)[t]})},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){r(r.S,t,{of:function t(){for(var e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return new this(n)}})}},function(t,e,n){"use strict";var r=n(0),i=n(10),o=n(19),a=n(41);t.exports=function(t){r(r.S,t,{from:function t(e){var n=arguments[1],r,s,c,u;return i(this),r=void 0!==n,r&&i(n),void 0==e?new this:(s=[],r?(c=0,u=o(n,arguments[2],2),a(e,!1,function(t){s.push(u(t,c++))})):a(e,!1,s.push,s),new this(s))}})}},function(t,e,n){var r=n(4),i=n(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(2),i=n(18),o=n(30),a=n(94),s=n(7).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(50)("keys"),i=n(34);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(2).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(4),i=n(1),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can\'t set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(19)(Function.call,n(16).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function t(n,i){return o(n,i),e?n.__proto__=i:r(n,i),n}}({},!1):void 0),check:o}},function(t,e){t.exports="\\t\\n\\v\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff"},function(t,e,n){var r=n(4),i=n(70).set;t.exports=function(t,e,n){var o=e.constructor,a;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&r(a)&&i&&i(t,a),t}},function(t,e,n){"use strict";var r=n(24),i=n(23);t.exports=function t(e){var n=String(i(this)),o="",a=r(e);if(a<0||a==1/0)throw RangeError("Count can\'t be negative");for(;a>0;(a>>>=1)&&(n+=n))1&a&&(o+=n);return o}},function(t,e){t.exports=Math.sign||function t(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function t(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(t,e,n){var r=n(24),i=n(23);t.exports=function(t){return function(e,n){var o=String(i(e)),a=r(n),s=o.length,c,u;return a<0||a>=s?t?"":void 0:(c=o.charCodeAt(a),c<55296||c>56319||a+1===s||(u=o.charCodeAt(a+1))<56320||u>57343?t?o.charAt(a):c:t?o.slice(a,a+2):u-56320+(c-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(30),i=n(0),o=n(12),a=n(11),s=n(45),c=n(78),u=n(43),h=n(17),l=n(5)("iterator"),f=!([].keys&&"next"in[].keys()),d="keys",p="values",m=function(){return this};t.exports=function(t,e,n,v,g,y,_){c(n,e,v);var x=function(t){if(!f&&t in E)return E[t];switch(t){case d:return function e(){return new n(this,t)};case p:return function e(){return new n(this,t)}}return function e(){return new n(this,t)}},b=e+" Iterator",w=g==p,M=!1,E=t.prototype,S=E[l]||E["@@iterator"]||g&&E[g],T=S||x(g),A=g?w?x("entries"):T:void 0,R="Array"==e?E.entries||S:S,L,P,C;if(R&&(C=h(R.call(new t)))!==Object.prototype&&C.next&&(u(C,b,!0),r||"function"==typeof C[l]||a(C,l,m)),w&&S&&S.name!==p&&(M=!0,T=function t(){return S.call(this)}),r&&!_||!f&&!M&&E[l]||a(E,l,T),s[e]=T,s[b]=m,g)if(L={values:w?T:x(p),keys:y?T:x(d),entries:A},_)for(P in L)P in E||o(E,P,L[P]);else i(i.P+i.F*(f||M),e,L);return L}},function(t,e,n){"use strict";var r=n(37),i=n(33),o=n(43),a={};n(11)(a,n(5)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(54),i=n(23);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn\'t accept regex!");return String(i(t))}},function(t,e,n){var r=n(5)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(45),i=n(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(7),i=n(33);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(49),i=n(5)("iterator"),o=n(45);t.exports=n(18).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(226);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(9),i=n(36),o=n(8);t.exports=function t(e){for(var n=r(this),a=o(n.length),s=arguments.length,c=i(s>1?arguments[1]:void 0,a),u=s>2?arguments[2]:void 0,h=void 0===u?a:i(u,a);h>c;)n[c++]=e;return n}},function(t,e,n){"use strict";var r=n(31),i=n(110),o=n(45),a=n(15);t.exports=n(77)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(19),i=n(100),o=n(69),a=n(65),s=n(2),c=s.process,u=s.setImmediate,h=s.clearImmediate,l=s.MessageChannel,f=s.Dispatch,d=0,p={},m="onreadystatechange",v,g,y,_=function(){var t=+this;if(p.hasOwnProperty(t)){var e=p[t];delete p[t],e()}},x=function(t){_.call(t.data)};u&&h||(u=function t(e){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return p[++d]=function(){i("function"==typeof e?e:Function(e),n)},v(d),d},h=function t(e){delete p[e]},"process"==n(20)(c)?v=function(t){c.nextTick(r(_,t,1))}:f&&f.now?v=function(t){f.now(r(_,t,1))}:l?(g=new l,y=g.port2,g.port1.onmessage=x,v=r(y.postMessage,y,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(v=function(t){s.postMessage(t+"","*")},s.addEventListener("message",x,!1)):v=m in a("script")?function(t){o.appendChild(a("script"))[m]=function(){o.removeChild(this),_.call(t)}}:function(t){setTimeout(r(_,t,1),0)}),t.exports={set:u,clear:h}},function(t,e,n){var r=n(2),i=n(87).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(20)(a);t.exports=function(){var t,e,n,u=function(){var r,i;for(c&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var h=s.resolve(void 0);n=function(){h.then(u)}}else n=function(){i.call(r,u)};else{var l=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(10);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e,n){var r=new Array(n),i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=23===e?B(2,-24)-B(2,-77):0,c=0,u=t<0||0===t&&1/t<0?1:0,h,l,f;for(t=z(t),t!=t||t===D?(l=t!=t?1:0,h=o):(h=k(G(t)/H),t*(f=B(2,-h))<1&&(h--,f*=2),t+=h+a>=1?s/f:s*B(2,1-a),t*f>=2&&(h++,f/=2),h+a>=o?(l=0,h=o):h+a>=1?(l=(t*f-1)*B(2,e),h+=a):(l=t*B(2,a-1)*B(2,e),h=0));e>=8;r[c++]=255&l,l/=256,e-=8);for(h=h<<e|l,i+=e;i>0;r[c++]=255&h,h/=256,i-=8);return r[--c]|=128*u,r}function i(t,e,n){var r=8*n-e-1,i=(1<<r)-1,o=i>>1,a=r-7,s=n-1,c=t[s--],u=127&c,h;for(c>>=7;a>0;u=256*u+t[s],s--,a-=8);for(h=u&(1<<-a)-1,u>>=-a,a+=e;a>0;h=256*h+t[s],s--,a-=8);if(0===u)u=1-o;else{if(u===i)return h?NaN:c?-D:D;h+=B(2,e),u-=o}return(c?-1:1)*h*B(2,u-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function c(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function u(t){return r(t,52,8)}function h(t){return r(t,23,4)}function l(t,e,n){T(t[C],e,{get:function(){return this[n]}})}function f(t,e,n,r){var i=+n,o=E(i);if(o+e>t[Y])throw U(I);var a=t[X]._b,s=o+t[q],c=a.slice(s,s+e);return r?c:c.reverse()}function d(t,e,n,r,i,o){var a=+n,s=E(a);if(s+e>t[Y])throw U(I);for(var c=t[X]._b,u=s+t[q],h=r(+i),l=0;l<e;l++)c[u+l]=h[o?l:e-l-1]}var p=n(2),m=n(6),v=n(30),g=n(61),y=n(11),_=n(42),x=n(3),b=n(40),w=n(24),M=n(8),E=n(119),S=n(38).f,T=n(7).f,A=n(85),R=n(43),L="ArrayBuffer",P="DataView",C="prototype",I="Wrong index!",O=p[L],N=p[P],Math=p.Math,U=p.RangeError,D=p.Infinity,F=O,z=Math.abs,B=Math.pow,k=Math.floor,G=Math.log,H=Math.LN2,j="buffer",V="byteLength",W="byteOffset",X=m?"_b":j,Y=m?"_l":V,q=m?"_o":W;if(g.ABV){if(!x(function(){O(1)})||!x(function(){new O(-1)})||x(function(){return new O,new O(1.5),new O(NaN),O.name!=L})){O=function t(e){return b(this,O),new F(E(e))};for(var Z=O[C]=F[C],J=S(F),K=0,Q;J.length>K;)(Q=J[K++])in O||y(O,Q,F[Q]);v||(Z.constructor=O)}var $=new N(new O(2)),tt=N[C].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||_(N[C],{setInt8:function t(e,n){tt.call(this,e,n<<24>>24)},setUint8:function t(e,n){tt.call(this,e,n<<24>>24)}},!0)}else O=function t(e){b(this,O,L);var n=E(e);this._b=A.call(new Array(n),0),this[Y]=n},N=function t(e,n,r){b(this,N,P),b(e,O,P);var i=e[Y],o=w(n);if(o<0||o>i)throw U("Wrong offset!");if(r=void 0===r?i-o:M(r),o+r>i)throw U("Wrong length!");this[X]=e,this[q]=o,this[Y]=r},m&&(l(O,V,"_l"),l(N,j,"_b"),l(N,V,"_l"),l(N,W,"_o")),_(N[C],{getInt8:function t(e){return f(this,1,e)[0]<<24>>24},getUint8:function t(e){return f(this,1,e)[0]},getInt16:function t(e){var n=f(this,2,e,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function t(e){var n=f(this,2,e,arguments[1]);return n[1]<<8|n[0]},getInt32:function t(e){return o(f(this,4,e,arguments[1]))},getUint32:function t(e){return o(f(this,4,e,arguments[1]))>>>0},getFloat32:function t(e){return i(f(this,4,e,arguments[1]),23,4)},getFloat64:function t(e){return i(f(this,8,e,arguments[1]),52,8)},setInt8:function t(e,n){d(this,1,e,a,n)},setUint8:function t(e,n){d(this,1,e,a,n)},setInt16:function t(e,n){d(this,2,e,s,n,arguments[2])},setUint16:function t(e,n){d(this,2,e,s,n,arguments[2])},setInt32:function t(e,n){d(this,4,e,c,n,arguments[2])},setUint32:function t(e,n){d(this,4,e,c,n,arguments[2])},setFloat32:function t(e,n){d(this,4,e,h,n,arguments[2])},setFloat64:function t(e,n){d(this,8,e,u,n,arguments[2])}});R(O,L),R(N,P),y(N[C],g.VIEW,!0),e[L]=O,e[P]=N},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=!n(6)&&!n(3)(function(){return 7!=Object.defineProperty(n(65)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(5)},function(t,e,n){var r=n(14),i=n(15),o=n(51)(!1),a=n(67)("IE_PROTO");t.exports=function(t,e){var n=i(t),s=0,c=[],u;for(u in n)u!=a&&r(n,u)&&c.push(u);for(;e.length>s;)r(n,u=e[s++])&&(~o(c,u)||c.push(u));return c}},function(t,e,n){var r=n(7),i=n(1),o=n(35);t.exports=n(6)?Object.defineProperties:function t(e,n){i(e);for(var a=o(n),s=a.length,c=0,u;s>c;)r.f(e,u=a[c++],n[u]);return e}},function(t,e,n){var r=n(15),i=n(38).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function t(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(t,e,n){"use strict";var r=n(35),i=n(52),o=n(48),a=n(9),s=n(47),c=Object.assign;t.exports=!c||n(3)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function t(e,n){for(var c=a(e),u=arguments.length,h=1,l=i.f,f=o.f;u>h;)for(var d=s(arguments[h++]),p=l?r(d).concat(l(d)):r(d),m=p.length,v=0,g;m>v;)f.call(d,g=p[v++])&&(c[g]=d[g]);return c}:c},function(t,e,n){"use strict";var r=n(10),i=n(4),o=n(100),a=[].slice,s={},c=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function t(e){var n=r(this),s=a.call(arguments,1),u=function(){var t=s.concat(a.call(arguments));return this instanceof u?c(n,t.length,t):o(n,t,e)};return i(n.prototype)&&(u.prototype=n.prototype),u}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(2).parseInt,i=n(44).trim,o=n(71),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function t(e,n){var o=i(String(e),3);return r(o,n>>>0||(a.test(o)?16:10))}:r},function(t,e,n){var r=n(2).parseFloat,i=n(44).trim;t.exports=1/r(n(71)+"-0")!==-1/0?function t(e){var n=i(String(e),3),o=r(n);return 0===o&&"-"==n.charAt(0)?-0:o}:r},function(t,e,n){var r=n(20);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(4),i=Math.floor;t.exports=function t(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(t,e){t.exports=Math.log1p||function t(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(t,e,n){var r=n(74),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),c=i(2,-126),u=function(t){return t+1/o-1/o};t.exports=Math.fround||function t(e){var n=Math.abs(e),i=r(e),h,l;return n<c?i*u(n/c/a)*c*a:(h=(1+a/o)*n,l=h-(h-n),l>s||l!=l?i*(1/0):i*l)}},function(t,e,n){var r=n(1);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(10),i=n(9),o=n(47),a=n(8);t.exports=function(t,e,n,s,c){r(e);var u=i(t),h=o(u),l=a(u.length),f=c?l-1:0,d=c?-1:1;if(n<2)for(;;){if(f in h){s=h[f],f+=d;break}if(f+=d,c?f<0:l<=f)throw TypeError("Reduce of empty array with no initial value")}for(;c?f>=0:l>f;f+=d)f in h&&(s=e(s,h[f],f,u));return s}},function(t,e,n){"use strict";var r=n(9),i=n(36),o=n(8);t.exports=[].copyWithin||function t(e,n){var a=r(this),s=o(a.length),c=i(e,s),u=i(n,s),h=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===h?s:i(h,s))-u,s-c),f=1;for(u<c&&c<u+l&&(f=-1,u+=l-1,c+=l-1);l-- >0;)u in a?a[c]=a[u]:delete a[c],c+=f,u+=f;return a}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(6)&&"g"!=/./g.flags&&n(7).f(RegExp.prototype,"flags",{configurable:!0,get:n(56)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(1),i=n(4),o=n(89);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(115),i=n(46),o="Map";t.exports=n(60)(o,function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function t(e){var n=r.getEntry(i(this,o),e);return n&&n.v},set:function t(e,n){return r.def(i(this,o),0===e?0:e,n)}},r,!0)},function(t,e,n){"use strict";var r=n(7).f,i=n(37),o=n(42),a=n(19),s=n(40),c=n(41),u=n(77),h=n(110),l=n(39),f=n(6),d=n(29).fastKey,p=n(46),m=f?"_s":"size",v=function(t,e){var n=d(e),r;if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,n,u){var h=t(function(t,r){s(t,h,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=r&&c(r,n,t[u],t)});return o(h.prototype,{clear:function t(){for(var n=p(this,e),r=n._i,i=n._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];n._f=n._l=void 0,n[m]=0},delete:function(t){var n=p(this,e),r=v(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function t(n){p(this,e);for(var r=a(n,arguments.length>1?arguments[1]:void 0,3),i;i=i?i.n:this._f;)for(r(i.v,i.k,this);i&&i.r;)i=i.p},has:function t(n){return!!v(p(this,e),n)}}),f&&r(h.prototype,"size",{get:function(){return p(this,e)[m]}}),h},def:function(t,e,n){var r=v(t,e),i,o;return r?r.v=n:(t._l=r={i:o=d(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=r),i&&(i.n=r),t[m]++,"F"!==o&&(t._i[o]=r)),t},getEntry:v,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?h(0,n.k):"values"==e?h(0,n.v):h(0,[n.k,n.v]):(t._t=void 0,h(1))},n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){"use strict";var r=n(115),i=n(46),o="Set";t.exports=n(60)(o,function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function t(e){return r.def(i(this,o),e=0===e?0:e,e)}},r)},function(t,e,n){"use strict";var r=n(26)(0),i=n(12),o=n(29),a=n(98),s=n(118),c=n(4),u=n(3),h=n(46),l="WeakMap",f=o.getWeak,d=Object.isExtensible,p=s.ufstore,m={},v,g=function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function t(e){if(c(e)){var n=f(e);return!0===n?p(h(this,l)).get(e):n?n[this._i]:void 0}},set:function t(e,n){return s.def(h(this,l),e,n)}},_=t.exports=n(60)(l,g,y,s,!0,!0);u(function(){return 7!=(new _).set((Object.freeze||Object)(m),7).get(m)})&&(v=s.getConstructor(g,l),a(v.prototype,y),o.NEED=!0,r(["delete","has","get","set"],function(t){var e=_.prototype,n=e[t];i(e,t,function(e,r){if(c(e)&&!d(e)){this._f||(this._f=new v);var i=this._f[t](e,r);return"set"==t?this:i}return n.call(this,e,r)})}))},function(t,e,n){"use strict";var r=n(42),i=n(29).getWeak,o=n(1),a=n(4),s=n(40),c=n(41),u=n(26),h=n(14),l=n(46),f=u(5),d=u(6),p=0,m=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},g=function(t,e){return f(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var u=t(function(t,r){s(t,u,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=r&&c(r,n,t[o],t)});return r(u.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?m(l(this,e)).delete(t):n&&h(n,this._i)&&delete n[this._i]},has:function t(n){if(!a(n))return!1;var r=i(n);return!0===r?m(l(this,e)).has(n):r&&h(r,this._i)}}),u},def:function(t,e,n){var r=i(o(e),!0);return!0===r?m(t).set(e,n):r[t._i]=n,t},ufstore:m}},function(t,e,n){var r=n(24),i=n(8);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(38),i=n(52),o=n(1),a=n(2).Reflect;t.exports=a&&a.ownKeys||function t(e){var n=r.f(o(e)),a=i.f;return a?n.concat(a(e)):n}},function(t,e,n){"use strict";function r(t,e,n,u,h,l,f,d){for(var p=h,m=0,v=!!f&&s(f,d,3),g,y;m<u;){if(m in n){if(g=v?v(n[m],m,e):n[m],y=!1,o(g)&&(y=g[c],y=void 0!==y?!!y:i(g)),y&&l>0)p=r(t,e,g,a(g.length),p,l-1)-1;else{if(p>=9007199254740991)throw TypeError();t[p]=g}p++}m++}return p}var i=n(53),o=n(4),a=n(8),s=n(19),c=n(5)("isConcatSpreadable");t.exports=r},function(t,e,n){var r=n(8),i=n(73),o=n(23);t.exports=function(t,e,n,a){var s=String(o(t)),c=s.length,u=void 0===n?" ":String(n),h=r(e);if(h<=c||""==u)return s;var l=h-c,f=i.call(u,Math.ceil(l/u.length));return f.length>l&&(f=f.slice(0,l)),a?f+s:s+f}},function(t,e,n){var r=n(35),i=n(15),o=n(48).f;t.exports=function(t){return function(e){for(var n=i(e),a=r(n),s=a.length,c=0,u=[],h;s>c;)o.call(n,h=a[c++])&&u.push(t?[h,n[h]]:n[h]);return u}}},function(t,e,n){var r=n(49),i=n(125);t.exports=function(t){return function e(){if(r(this)!=t)throw TypeError(t+"#toJSON isn\'t generic");return i(this)}}},function(t,e,n){var r=n(41);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function t(e,n,r,i,o){return 0===arguments.length||e!=e||n!=n||r!=r||i!=i||o!=o?NaN:e===1/0||e===-1/0?e:(e-n)*(o-i)/(r-n)+i}},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+e[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},function(t,e,n){"use strict";function r(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function i(t,e,n,r){var i=o,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}var o=r();t.exports=i},function(t,e,n){"use strict";function r(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var i=n(32),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new i.Buf8(256),c=0;c<256;c++)s[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;s[254]=s[254]=1,e.string2buf=function(t){var e,n,r,o,a,s=t.length,c=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296===(64512&n)&&o+1<s&&56320===(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(c),a=0,o=0;a<c;o++)n=t.charCodeAt(o),55296===(64512&n)&&o+1<s&&56320===(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return r(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,o,a,c=e||t.length,u=new Array(2*c);for(i=0,n=0;n<c;)if((o=t[n++])<128)u[i++]=o;else if((a=s[o])>4)u[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<c;)o=o<<6|63&t[n++],a--;a>1?u[i++]=65533:o<65536?u[i++]=o:(o-=65536,u[i++]=55296|o>>10&1023,u[i++]=56320|1023&o)}return r(u,i)},e.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";n.d(e,"c",function(){return F}),n.d(e,"b",function(){return z}),n.d(e,"a",function(){return B});var r="BUILD_ENV_OMEKA",i="BUILD_ENV_NODE",o=r,a="GROUP",s="COMPONENT",c="CM",u="MM",h="IN",l="FT",f=[u,c,h,l],d={inner:"rgb(105, 105, 105)",outer:"rgb(35, 35, 35)"},p=0,m=2.5,v="pinchend",g="pinchstart",y="zoomin",_="zoomout",x=.25,b=6710886,w=function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}}(),M={ANDROID_SMARTPHONE:function t(){return navigator.userAgent.match(/Android/i)&&matchMedia("only screen and (max-width: 1024px)")},ANDROID_TABLET:function t(){return navigator.userAgent.match(/Android/i)&&matchMedia("only screen and (max-width: 768px)")},IPHONE:function t(){return navigator.userAgent.match(/iPhone/i)},IPAD:function t(){return navigator.userAgent.match(/iPad/i)},SMARTPHONE:function t(){return M.ANDROID_SMARTPHONE()||M.IPHONE()},TABLET:function t(){return M.ANDROID_TABLET()||M.IPAD()}},E={MM_TO_CM:function t(e){return e/10},MM_TO_IN:function t(e){return e/25.4},MM_TO_FT:function t(e){return e/304.8},CM_TO_IN:function t(e){return e/2.54},CM_TO_MM:function t(e){return 10*e},CM_TO_FT:function t(e){return e/30.48},IN_TO_FT:function t(e){return e/12},IN_TO_CM:function t(e){return 2.54*e},IN_TO_MM:function t(e){return 25.4*e},FT_TO_IN:function t(e){return 12*e},FT_TO_CM:function t(e){return 30.48*e},FT_TO_MM:function t(e){return 304.8*e}},S={DIFFUSE_MAP:0,NORMAL_MAP:1,ROUGHNESS_MAP:2,METALNESS_MAP:3},T=".obj",A=".stl",R=".mtl",L=".zip",P=".gz",C=".js",I=0,O=1,N="ThreeModelCache",U="ThreeModelCacheIndex",D=["id"],F="WORKER_PROGRESS",z="WORKER_DATA",B=524288,k="Color",G="Vector2",H="Vector3",j="Group",V="Mesh",W="map",X=new Set(["Color","Vector2","Vector3","Group","Mesh"]),Y="MeshStandardMaterial",q="CONVERSION_TYPE_MESH",Z="CONVERSION_TYPE_RTI",J=".jpg,.png,.bmp,.gif,.jpeg",K=".obj",Q=".ptm",$=".mtl",tt="checkbox",et="map",nt="file",rt="data:image/jpeg;base64,",it="data:image/jpeg;base64,"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(134),i=n.n(r),o=n(336),a=n.n(o),s=n(345),c=n(132),u=function t(e,n){for(var r=new a.a.Inflate({to:"string"}),i=!1,o=0;o<e.length;o+=n){var s=o+n,u=Math.floor(s/e.length*100);postMessage({type:c.c,payload:u<=100?u:100}),s>=e.length&&(i=!0),r.push(e.slice(o,o+n),i)}return r.err?(console.warn(r.msg),null):r.result};self.onmessage=function(t){var e=t.data,n=new Uint8Array(e),r=u(n,c.a);null!==r&&postMessage({type:c.b,payload:JSON.parse(r)})}},function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[r](t,e,{writable:!0,configurable:!0,value:n})}if(n(135),n(332),n(333),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(92))},function(t,e,n){n(136),n(138),n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(216),n(217),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(86),n(240),n(241),n(111),n(242),n(243),n(244),n(245),n(246),n(114),n(116),n(117),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),t.exports=n(18)},function(t,e,n){"use strict";var r=n(2),i=n(14),o=n(6),a=n(0),s=n(12),c=n(29).KEY,u=n(3),h=n(50),l=n(43),f=n(34),d=n(5),p=n(94),m=n(66),v=n(137),g=n(53),y=n(1),_=n(4),x=n(15),b=n(22),w=n(33),M=n(37),E=n(97),S=n(16),T=n(7),A=n(35),R=S.f,L=T.f,P=E.f,C=r.Symbol,I=r.JSON,O=I&&I.stringify,N="prototype",U=d("_hidden"),D=d("toPrimitive"),F={}.propertyIsEnumerable,z=h("symbol-registry"),B=h("symbols"),k=h("op-symbols"),G=Object[N],H="function"==typeof C,j=r.QObject,V=!j||!j[N]||!j[N].findChild,W=o&&u(function(){return 7!=M(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=R(G,e);r&&delete G[e],L(t,e,n),r&&t!==G&&L(G,e,r)}:L,X=function(t){var e=B[t]=M(C[N]);return e._k=t,e},Y=H&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},q=function t(e,n,r){return e===G&&q(k,n,r),y(e),n=b(n,!0),y(r),i(B,n)?(r.enumerable?(i(e,U)&&e[U][n]&&(e[U][n]=!1),r=M(r,{enumerable:w(0,!1)})):(i(e,U)||L(e,U,w(1,{})),e[U][n]=!0),W(e,n,r)):L(e,n,r)},Z=function t(e,n){y(e);for(var r=v(n=x(n)),i=0,o=r.length,a;o>i;)q(e,a=r[i++],n[a]);return e},J=function t(e,n){return void 0===n?M(e):Z(M(e),n)},K=function t(e){var n=F.call(this,e=b(e,!0));return!(this===G&&i(B,e)&&!i(k,e))&&(!(n||!i(this,e)||!i(B,e)||i(this,U)&&this[U][e])||n)},Q=function t(e,n){if(e=x(e),n=b(n,!0),e!==G||!i(B,n)||i(k,n)){var r=R(e,n);return!r||!i(B,n)||i(e,U)&&e[U][n]||(r.enumerable=!0),r}},$=function t(e){for(var n=P(x(e)),r=[],o=0,a;n.length>o;)i(B,a=n[o++])||a==U||a==c||r.push(a);return r},tt=function t(e){for(var n=e===G,r=P(n?k:x(e)),o=[],a=0,s;r.length>a;)!i(B,s=r[a++])||n&&!i(G,s)||o.push(B[s]);return o};H||(C=function t(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),n=function(t){this===G&&n.call(k,t),i(this,U)&&i(this[U],e)&&(this[U][e]=!1),W(this,e,w(1,t))};return o&&V&&W(G,e,{configurable:!0,set:n}),X(e)},s(C[N],"toString",function t(){return this._k}),S.f=Q,T.f=q,n(38).f=E.f=$,n(48).f=K,n(52).f=tt,o&&!n(30)&&s(G,"propertyIsEnumerable",K,!0),p.f=function(t){return X(d(t))}),a(a.G+a.W+a.F*!H,{Symbol:C});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=A(d.store),it=0;rt.length>it;)m(rt[it++]);a(a.S+a.F*!H,"Symbol",{for:function(t){return i(z,t+="")?z[t]:z[t]=C(t)},keyFor:function t(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var n in z)if(z[n]===e)return n},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!H,"Object",{create:J,defineProperty:q,defineProperties:Z,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),I&&a(a.S+a.F*(!H||u(function(){var t=C();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function t(e){for(var n=[e],r=1,i,o;arguments.length>r;)n.push(arguments[r++]);if(o=i=n[1],(_(i)||void 0!==e)&&!Y(e))return g(i)||(i=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!Y(e))return e}),n[1]=i,O.apply(I,n)}}),C[N][D]||n(11)(C[N],D,C[N].valueOf),l(C,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var r=n(35),i=n(52),o=n(48);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a=n(t),s=o.f,c=0,u;a.length>c;)s.call(t,u=a[c++])&&e.push(u);return e}},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(37)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperty:n(7).f})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperties:n(96)})},function(t,e,n){var r=n(15),i=n(16).f;n(25)("getOwnPropertyDescriptor",function(){return function t(e,n){return i(r(e),n)}})},function(t,e,n){var r=n(9),i=n(17);n(25)("getPrototypeOf",function(){return function t(e){return i(r(e))}})},function(t,e,n){var r=n(9),i=n(35);n(25)("keys",function(){return function t(e){return i(r(e))}})},function(t,e,n){n(25)("getOwnPropertyNames",function(){return n(97).f})},function(t,e,n){var r=n(4),i=n(29).onFreeze;n(25)("freeze",function(t){return function e(n){return t&&r(n)?t(i(n)):n}})},function(t,e,n){var r=n(4),i=n(29).onFreeze;n(25)("seal",function(t){return function e(n){return t&&r(n)?t(i(n)):n}})},function(t,e,n){var r=n(4),i=n(29).onFreeze;n(25)("preventExtensions",function(t){return function e(n){return t&&r(n)?t(i(n)):n}})},function(t,e,n){var r=n(4);n(25)("isFrozen",function(t){return function e(n){return!r(n)||!!t&&t(n)}})},function(t,e,n){var r=n(4);n(25)("isSealed",function(t){return function e(n){return!r(n)||!!t&&t(n)}})},function(t,e,n){var r=n(4);n(25)("isExtensible",function(t){return function e(n){return!!r(n)&&(!t||t(n))}})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(98)})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(153)})},function(t,e){t.exports=Object.is||function t(e,n){return e===n?0!==e||1/e===1/n:e!=e&&n!=n}},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(70).set})},function(t,e,n){"use strict";var r=n(49),i={};i[n(5)("toStringTag")]="z",i+""!="[object z]"&&n(12)(Object.prototype,"toString",function t(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(99)})},function(t,e,n){var r=n(7).f,i=Function.prototype,o=/^\\s*function ([^ (]*)/,a="name";a in i||n(6)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(4),i=n(17),o=n(5)("hasInstance"),a=Function.prototype;o in a||n(7).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(0),i=n(101);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(0),i=n(102);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(2),i=n(14),o=n(20),a=n(72),s=n(22),c=n(3),u=n(38).f,h=n(16).f,l=n(7).f,f=n(44).trim,d="Number",p=r[d],m=p,v=p.prototype,g=o(n(37)(v))==d,y="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():f(e,3);var n=e.charCodeAt(0),r,i,o;if(43===n||45===n){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+e}for(var a=e.slice(2),c=0,u=a.length,h;c<u;c++)if((h=a.charCodeAt(c))<48||h>o)return NaN;return parseInt(a,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function t(e){var n=arguments.length<1?0:e,r=this;return r instanceof p&&(g?c(function(){v.valueOf.call(r)}):o(r)!=d)?a(new m(_(n)),r,p):_(n)};for(var x=n(6)?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0,w;x.length>b;b++)i(m,w=x[b])&&!i(p,w)&&l(p,w,h(m,w));p.prototype=v,v.constructor=p,n(12)(r,d,p)}},function(t,e,n){"use strict";var r=n(0),i=n(24),o=n(103),a=n(73),s=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!",l="0",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*u[n],u[n]=r%1e7,r=c(r/1e7)},d=function(t){for(var e=6,n=0;--e>=0;)n+=u[e],u[e]=c(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var n=String(u[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},m=function(t,e,n){return 0===e?n:e%2===1?m(t,e-1,n*t):m(t*t,e/2,n)},v=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){s.call({})})),"Number",{toFixed:function t(e){var n=o(this,h),r=i(e),s="",c="0",u,l,g,y;if(r<0||r>20)throw RangeError(h);if(n!=n)return"NaN";if(n<=-1e21||n>=1e21)return String(n);if(n<0&&(s="-",n=-n),n>1e-21)if(u=v(n*m(2,69,1))-69,l=u<0?n*m(2,-u,1):n/m(2,u,1),l*=4503599627370496,(u=52-u)>0){for(f(0,l),g=r;g>=7;)f(1e7,0),g-=7;for(f(m(10,g,1),0),g=u-1;g>=23;)d(1<<23),g-=23;d(1<<g),f(1,1),d(2),c=p()}else f(0,l),f(1<<-u,0),c=p()+a.call("0",r);return r>0?(y=c.length,c=s+(y<=r?"0."+a.call("0",r-y)+c:c.slice(0,y-r)+"."+c.slice(y-r))):c=s+c,c}})},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(103),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function t(e){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(n):a.call(n,e)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),i=n(2).isFinite;r(r.S,"Number",{isFinite:function t(e){return"number"==typeof e&&i(e)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(104)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function t(e){return e!=e}})},function(t,e,n){var r=n(0),i=n(104),o=Math.abs;r(r.S,"Number",{isSafeInteger:function t(e){return i(e)&&o(e)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),i=n(102);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(0),i=n(101);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(0),i=n(105),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function t(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function t(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(t,e,n){var r=n(0),i=n(74);r(r.S,"Math",{cbrt:function t(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function t(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function t(e){return(i(e=+e)+i(-e))/2}})},function(t,e,n){var r=n(0),i=n(75);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(106)})},function(t,e,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function t(e,n){for(var r=0,o=0,a=arguments.length,s=0,c,u;o<a;)c=i(arguments[o++]),s<c?(u=s/c,r=r*u*u+1,s=c):c>0?(u=c/s,r+=u*u):r+=c;return s===1/0?1/0:s*Math.sqrt(r)}})},function(t,e,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function t(e,n){var r=65535,i=+e,o=+n,a=65535&i,s=65535&o;return 0|a*s+((65535&i>>>16)*s+a*(65535&o>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function t(e){return Math.log(e)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(105)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function t(e){return Math.log(e)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(74)})},function(t,e,n){var r=n(0),i=n(75),o=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function t(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),i=n(75),o=Math.exp;r(r.S,"Math",{tanh:function t(e){var n=i(e=+e),r=i(-e);return n==1/0?1:r==1/0?-1:(n-r)/(o(e)+o(-e))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function t(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(t,e,n){var r=n(0),i=n(36),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function t(e){for(var n=[],r=arguments.length,a=0,s;r>a;){if(s=+arguments[a++],i(s,1114111)!==s)throw RangeError(s+" is not a valid code point");n.push(s<65536?o(s):o(55296+((s-=65536)>>10),s%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0),i=n(15),o=n(8);r(r.S,"String",{raw:function t(e){for(var n=i(e.raw),r=o(n.length),a=arguments.length,s=[],c=0;r>c;)s.push(String(n[c++])),c<a&&s.push(String(arguments[c]));return s.join("")}})},function(t,e,n){"use strict";n(44)("trim",function(t){return function e(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(76)(!0);n(77)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i,n;return e>=t.length?{value:void 0,done:!0}:(n=r(t,e),this._i+=n.length,{value:n,done:!1})})},function(t,e,n){"use strict";var r=n(0),i=n(76)(!1);r(r.P,"String",{codePointAt:function t(e){return i(this,e)}})},function(t,e,n){"use strict";var r=n(0),i=n(8),o=n(79),a="endsWith",s=""[a];r(r.P+r.F*n(80)(a),"String",{endsWith:function t(e){var n=o(this,e,a),r=arguments.length>1?arguments[1]:void 0,c=i(n.length),u=void 0===r?c:Math.min(i(r),c),h=String(e);return s?s.call(n,h,u):n.slice(u-h.length,u)===h}})},function(t,e,n){"use strict";var r=n(0),i=n(79),o="includes";r(r.P+r.F*n(80)(o),"String",{includes:function t(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(73)})},function(t,e,n){"use strict";var r=n(0),i=n(8),o=n(79),a="startsWith",s=""[a];r(r.P+r.F*n(80)(a),"String",{startsWith:function t(e){var n=o(this,e,a),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),c=String(e);return s?s.call(n,c,r):n.slice(r,r+c.length)===c}})},function(t,e,n){"use strict";n(13)("anchor",function(t){return function e(n){return t(this,"a","name",n)}})},function(t,e,n){"use strict";n(13)("big",function(t){return function e(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(13)("blink",function(t){return function e(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(13)("bold",function(t){return function e(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(13)("fixed",function(t){return function e(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(13)("fontcolor",function(t){return function e(n){return t(this,"font","color",n)}})},function(t,e,n){"use strict";n(13)("fontsize",function(t){return function e(n){return t(this,"font","size",n)}})},function(t,e,n){"use strict";n(13)("italics",function(t){return function e(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(13)("link",function(t){return function e(n){return t(this,"a","href",n)}})},function(t,e,n){"use strict";n(13)("small",function(t){return function e(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(13)("strike",function(t){return function e(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(13)("sub",function(t){return function e(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(13)("sup",function(t){return function e(){return t(this,"sup","","")}})},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(22);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function t(e){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(t,e,n){var r=n(0),i=n(215);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(3),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function t(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,n=e.getUTCFullYear(),r=e.getUTCMilliseconds(),o=n<0?"-":n>9999?"+":"";return o+("00000"+Math.abs(n)).slice(o?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(r>99?r:"0"+a(r))+"Z"}:o},function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&n(12)(r,o,function t(){var e=s.call(this);return e===e?a.call(this):i})},function(t,e,n){var r=n(5)("toPrimitive"),i=Date.prototype;r in i||n(11)(i,r,n(218))},function(t,e,n){"use strict";var r=n(1),i=n(22),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(53)})},function(t,e,n){"use strict";var r=n(19),i=n(0),o=n(9),a=n(107),s=n(81),c=n(8),u=n(82),h=n(83);i(i.S+i.F*!n(55)(function(t){Array.from(t)}),"Array",{from:function t(e){var n=o(e),i="function"==typeof this?this:Array,l=arguments.length,f=l>1?arguments[1]:void 0,d=void 0!==f,p=0,m=h(n),v,g,y,_;if(d&&(f=r(f,l>2?arguments[2]:void 0,2)),void 0==m||i==Array&&s(m))for(v=c(n.length),g=new i(v);v>p;p++)u(g,p,d?f(n[p],p):n[p]);else for(_=m.call(n),g=new i;!(y=_.next()).done;p++)u(g,p,d?a(_,f,[y.value,p],!0):y.value);return g.length=p,g}})},function(t,e,n){"use strict";var r=n(0),i=n(82);r(r.S+r.F*n(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function t(){for(var e=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>e;)i(r,e,arguments[e++]);return r.length=n,r}})},function(t,e,n){"use strict";var r=n(0),i=n(15),o=[].join;r(r.P+r.F*(n(47)!=Object||!n(21)(o)),"Array",{join:function t(e){return o.call(i(this),void 0===e?",":e)}})},function(t,e,n){"use strict";var r=n(0),i=n(69),o=n(20),a=n(36),s=n(8),c=[].slice;r(r.P+r.F*n(3)(function(){i&&c.call(i)}),"Array",{slice:function t(e,n){var r=s(this.length),i=o(this);if(n=void 0===n?r:n,"Array"==i)return c.call(this,e,n);for(var u=a(e,r),h=a(n,r),l=s(h-u),f=new Array(l),d=0;d<l;d++)f[d]="String"==i?this.charAt(u+d):this[u+d];return f}})},function(t,e,n){"use strict";var r=n(0),i=n(10),o=n(9),a=n(3),s=[].sort,c=[1,2,3];r(r.P+r.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!n(21)(s)),"Array",{sort:function t(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(t,e,n){"use strict";var r=n(0),i=n(26)(0),o=n(21)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function t(e){return i(this,e,arguments[1])}})},function(t,e,n){var r=n(4),i=n(53),o=n(5)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(0),i=n(26)(1);r(r.P+r.F*!n(21)([].map,!0),"Array",{map:function t(e){return i(this,e,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(26)(2);r(r.P+r.F*!n(21)([].filter,!0),"Array",{filter:function t(e){return i(this,e,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(26)(3);r(r.P+r.F*!n(21)([].some,!0),"Array",{some:function t(e){return i(this,e,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(26)(4);r(r.P+r.F*!n(21)([].every,!0),"Array",{every:function t(e){return i(this,e,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(108);r(r.P+r.F*!n(21)([].reduce,!0),"Array",{reduce:function t(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),i=n(108);r(r.P+r.F*!n(21)([].reduceRight,!0),"Array",{reduceRight:function t(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(51)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(21)(o)),"Array",{indexOf:function t(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(15),o=n(24),a=n(8),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(21)(s)),"Array",{lastIndexOf:function t(e){if(c)return s.apply(this,arguments)||0;var n=i(this),r=a(n.length),u=r-1;for(arguments.length>1&&(u=Math.min(u,o(arguments[1]))),u<0&&(u=r+u);u>=0;u--)if(u in n&&n[u]===e)return u||0;return-1}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(109)}),n(31)("copyWithin")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(85)}),n(31)("fill")},function(t,e,n){"use strict";var r=n(0),i=n(26)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function t(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(31)(o)},function(t,e,n){"use strict";var r=n(0),i=n(26)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function t(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(31)(o)},function(t,e,n){n(39)("Array")},function(t,e,n){var r=n(2),i=n(72),o=n(7).f,a=n(38).f,s=n(54),c=n(56),u=r.RegExp,h=u,l=u.prototype,f=/a/g,d=/a/g,p=new u(f)!==f;if(n(6)&&(!p||n(3)(function(){return d[n(5)("match")]=!1,u(f)!=f||u(d)==d||"/a/i"!=u(f,"i")}))){u=function t(e,n){var r=this instanceof u,o=s(e),a=void 0===n;return!r&&o&&e.constructor===u&&a?e:i(p?new h(o&&!a?e.source:e,n):h((o=e instanceof u)?e.source:e,o&&a?c.call(e):n),r?this:l,u)};for(var m=(function(t){t in u||o(u,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})}),v=a(h),g=0;v.length>g;)m(v[g++]);l.constructor=u,u.prototype=l,n(12)(r,"RegExp",u)}n(39)("RegExp")},function(t,e,n){"use strict";n(111);var r=n(1),i=n(56),o=n(6),a="toString",s=/./[a],c=function(t){n(12)(RegExp.prototype,a,t,!0)};n(3)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function t(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):s.name!=a&&c(function t(){return s.call(this)})},function(t,e,n){n(57)("match",1,function(t,e,n){return[function n(r){"use strict";var i=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,i):new RegExp(r)[e](String(i))},n]})},function(t,e,n){n(57)("replace",2,function(t,e,n){return[function r(i,o){"use strict";var a=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,a,o):n.call(String(a),i,o)},n]})},function(t,e,n){n(57)("search",1,function(t,e,n){return[function n(r){"use strict";var i=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,i):new RegExp(r)[e](String(i))},n]})},function(t,e,n){n(57)("split",2,function(t,e,r){"use strict";var i=n(54),o=r,a=[].push,s="split",c="length",u="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[c]||2!="ab"[s](/(?:ab)*/)[c]||4!="."[s](/(.?)(.?)/)[c]||"."[s](/()()/)[c]>1||""[s](/.?/)[c]){var h=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return o.call(n,t,e);var r=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,f=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,s+"g"),p,m,v,g,y;for(h||(p=new RegExp("^"+d.source+"$(?!\\\\s)",s));(m=d.exec(n))&&!((v=m.index+m[0][c])>l&&(r.push(n.slice(l,m.index)),!h&&m[c]>1&&m[0].replace(p,function(){for(y=1;y<arguments[c]-2;y++)void 0===arguments[y]&&(m[y]=void 0)}),m[c]>1&&m.index<n[c]&&a.apply(r,m.slice(1)),g=m[0][c],l=v,r[c]>=f));)d[u]===m.index&&d[u]++;return l===n[c]?!g&&d.test("")||r.push(""):r.push(n.slice(l)),r[c]>f?r.slice(0,f):r}}else"0"[s](void 0,0)[c]&&(r=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function n(i,o){var a=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,a,o):r.call(String(a),i,o)},r]})},function(t,e,n){"use strict";var r=n(30),i=n(2),o=n(19),a=n(49),s=n(0),c=n(4),u=n(10),h=n(40),l=n(41),f=n(58),d=n(87).set,p=n(88)(),m=n(89),v=n(112),g=n(59),y=n(113),_="Promise",x=i.TypeError,b=i.process,w=b&&b.versions,M=w&&w.v8||"",E=i[_],S="process"==a(b),T=function(){},A,R,L,P,C=R=m.f,I=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(T,T)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e&&0!==M.indexOf("6.6")&&-1===g.indexOf("Chrome/66")}catch(t){}}(),O=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;p(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n=i?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain,c,u,h;try{n?(i||(2==t._h&&F(t),t._h=1),!0===n?c=r:(s&&s.enter(),c=n(r),s&&(s.exit(),h=!0)),c===e.promise?a(x("Promise-chain cycle")):(u=O(c))?u.call(c,o,a):o(c)):a(r)}catch(t){s&&!h&&s.exit(),a(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&U(t)})}},U=function(t){d.call(i,function(){var e=t._v,n=D(t),r,o,a;if(n&&(r=v(function(){S?b.emit("unhandledRejection",e,t):(o=i.onunhandledrejection)?o({promise:t,reason:e}):(a=i.console)&&a.error&&a.error("Unhandled promise rejection",e)}),t._h=S||D(t)?2:1),t._a=void 0,n&&r.e)throw r.v})},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){d.call(i,function(){var e;S?b.emit("rejectionHandled",t):(e=i.onrejectionhandled)&&e({promise:t,reason:t._v})})},z=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},B=function(t){var e=this,n;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw x("Promise can\'t be resolved itself");(n=O(t))?p(function(){var r={_w:e,_d:!1};try{n.call(t,o(B,r,1),o(z,r,1))}catch(t){z.call(r,t)}}):(e._v=t,e._s=1,N(e,!1))}catch(t){z.call({_w:e,_d:!1},t)}}};I||(E=function t(e){h(this,E,_,"_h"),u(e),A.call(this);try{e(o(B,this,1),o(z,this,1))}catch(t){z.call(this,t)}},A=function t(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},A.prototype=n(42)(E.prototype,{then:function t(e,n){var r=C(f(this,E));return r.ok="function"!=typeof e||e,r.fail="function"==typeof n&&n,r.domain=S?b.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&N(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),L=function(){var t=new A;this.promise=t,this.resolve=o(B,t,1),this.reject=o(z,t,1)},m.f=C=function(t){return t===E||t===P?new L(t):R(t)}),s(s.G+s.W+s.F*!I,{Promise:E}),n(43)(E,_),n(39)(_),P=n(18)[_],s(s.S+s.F*!I,_,{reject:function t(e){var n=C(this);return(0,n.reject)(e),n.promise}}),s(s.S+s.F*(r||!I),_,{resolve:function t(e){return y(r&&this===P?E:this,e)}}),s(s.S+s.F*!(I&&n(55)(function(t){E.all(t).catch(T)})),_,{all:function t(e){var n=this,r=C(n),i=r.resolve,o=r.reject,a=v(function(){var t=[],r=0,a=1;l(e,!1,function(e){var s=r++,c=!1;t.push(void 0),a++,n.resolve(e).then(function(e){c||(c=!0,t[s]=e,--a||i(t))},o)}),--a||i(t)});return a.e&&o(a.v),r.promise},race:function t(e){var n=this,r=C(n),i=r.reject,o=v(function(){l(e,!1,function(t){n.resolve(t).then(r.resolve,i)})});return o.e&&i(o.v),r.promise}})},function(t,e,n){"use strict";var r=n(118),i=n(46),o="WeakSet";n(60)(o,function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function t(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(0),i=n(61),o=n(90),a=n(1),s=n(36),c=n(8),u=n(4),h=n(2).ArrayBuffer,l=n(58),f=o.ArrayBuffer,d=o.DataView,p=i.ABV&&h.isView,m=f.prototype.slice,v=i.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(h!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,g,{isView:function t(e){return p&&p(e)||u(e)&&v in e}}),r(r.P+r.U+r.F*n(3)(function(){return!new f(2).slice(1,void 0).byteLength}),g,{slice:function t(e,n){if(void 0!==m&&void 0===n)return m.call(a(this),e);for(var r=a(this).byteLength,i=s(e,r),o=s(void 0===n?r:n,r),u=new(l(this,f))(c(o-i)),h=new d(this),p=new d(u),v=0;i<o;)p.setUint8(v++,h.getUint8(i++));return u}}),n(39)(g)},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(61).ABV,{DataView:n(90).DataView})},function(t,e,n){n(27)("Int8",1,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Uint8",1,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Uint8",1,function(t){return function e(n,r,i){return t(this,n,r,i)}},!0)},function(t,e,n){n(27)("Int16",2,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Uint16",2,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Int32",4,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Uint32",4,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Float32",4,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Float64",8,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){var r=n(0),i=n(10),o=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(3)(function(){a(function(){})}),"Reflect",{apply:function t(e,n,r){var c=i(e),u=o(r);return a?a(c,n,u):s.call(c,n,u)}})},function(t,e,n){var r=n(0),i=n(37),o=n(10),a=n(1),s=n(4),c=n(3),u=n(99),h=(n(2).Reflect||{}).construct,l=c(function(){function t(){}return!(h(function(){},[],t)instanceof t)}),f=!c(function(){h(function(){})});r(r.S+r.F*(l||f),"Reflect",{construct:function t(e,n){o(e),a(n);var r=arguments.length<3?e:o(arguments[2]);if(f&&!l)return h(e,n,r);if(e==r){switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3])}var c=[null];return c.push.apply(c,n),new(u.apply(e,c))}var d=r.prototype,p=i(s(d)?d:Object.prototype),m=Function.apply.call(e,p,n);return s(m)?m:p}})},function(t,e,n){var r=n(7),i=n(0),o=n(1),a=n(22);i(i.S+i.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function t(e,n,i){o(e),n=a(n,!0),o(i);try{return r.f(e,n,i),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(16).f,o=n(1);r(r.S,"Reflect",{deleteProperty:function t(e,n){var r=i(o(e),n);return!(r&&!r.configurable)&&delete e[n]}})},function(t,e,n){"use strict";var r=n(0),i=n(1),o=function(t){this._t=i(t),this._i=0;var e=this._k=[],n;for(n in t)e.push(n)};n(78)(o,"Object",function(){var t=this,e=t._k,n;do{if(t._i>=e.length)return{value:void 0,done:!0}}while(!((n=e[t._i++])in t._t));return{value:n,done:!1}}),r(r.S,"Reflect",{enumerate:function t(e){return new o(e)}})},function(t,e,n){function r(t,e){var n=arguments.length<3?t:arguments[2],s,h;return u(t)===n?t[e]:(s=i.f(t,e))?a(s,"value")?s.value:void 0!==s.get?s.get.call(n):void 0:c(h=o(t))?r(h,e,n):void 0}var i=n(16),o=n(17),a=n(14),s=n(0),c=n(4),u=n(1);s(s.S,"Reflect",{get:r})},function(t,e,n){var r=n(16),i=n(0),o=n(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function t(e,n){return r.f(o(e),n)}})},function(t,e,n){var r=n(0),i=n(17),o=n(1);r(r.S,"Reflect",{getPrototypeOf:function t(e){return i(o(e))}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function t(e,n){return n in e}})},function(t,e,n){var r=n(0),i=n(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function t(e){return i(e),!o||o(e)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(120)})},function(t,e,n){var r=n(0),i=n(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function t(e){i(e);try{return o&&o(e),!0}catch(t){return!1}}})},function(t,e,n){function r(t,e,n){var c=arguments.length<4?t:arguments[3],f=o.f(h(t),e),d,p;if(!f){if(l(p=a(t)))return r(p,e,n,c);f=u(0)}if(s(f,"value")){if(!1===f.writable||!l(c))return!1;if(d=o.f(c,e)){if(d.get||d.set||!1===d.writable)return!1;d.value=n,i.f(c,e,d)}else i.f(c,e,u(0,n));return!0}return void 0!==f.set&&(f.set.call(c,n),!0)}var i=n(7),o=n(16),a=n(17),s=n(14),c=n(0),u=n(33),h=n(1),l=n(4);c(c.S,"Reflect",{set:r})},function(t,e,n){var r=n(0),i=n(70);i&&r(r.S,"Reflect",{setPrototypeOf:function t(e,n){i.check(e,n);try{return i.set(e,n),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var r=n(0),i=n(51)(!0);r(r.P,"Array",{includes:function t(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(31)("includes")},function(t,e,n){"use strict";var r=n(0),i=n(121),o=n(9),a=n(8),s=n(10),c=n(84);r(r.P,"Array",{flatMap:function t(e){var n=o(this),r,u;return s(e),r=a(n.length),u=c(n,0),i(u,n,n,r,0,1,e,arguments[1]),u}}),n(31)("flatMap")},function(t,e,n){"use strict";var r=n(0),i=n(121),o=n(9),a=n(8),s=n(24),c=n(84);r(r.P,"Array",{flatten:function t(){var e=arguments[0],n=o(this),r=a(n.length),u=c(n,0);return i(u,n,n,r,0,void 0===e?1:s(e)),u}}),n(31)("flatten")},function(t,e,n){"use strict";var r=n(0),i=n(76)(!0);r(r.P,"String",{at:function t(e){return i(this,e)}})},function(t,e,n){"use strict";var r=n(0),i=n(122),o=n(59);r(r.P+r.F*/Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(o),"String",{padStart:function t(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(122),o=n(59);r(r.P+r.F*/Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(o),"String",{padEnd:function t(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(44)("trimLeft",function(t){return function e(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(44)("trimRight",function(t){return function e(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(0),i=n(23),o=n(8),a=n(54),s=n(56),c=RegExp.prototype,u=function(t,e){this._r=t,this._s=e};n(78)(u,"RegExp String",function t(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function t(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var n=String(this),r="flags"in c?String(e.flags):s.call(e),h=new RegExp(e.source,~r.indexOf("g")?r:"g"+r);return h.lastIndex=o(e.lastIndex),new u(h,n)}})},function(t,e,n){n(66)("asyncIterator")},function(t,e,n){n(66)("observable")},function(t,e,n){var r=n(0),i=n(120),o=n(15),a=n(16),s=n(82);r(r.S,"Object",{getOwnPropertyDescriptors:function t(e){for(var n=o(e),r=a.f,c=i(n),u={},h=0,l,f;c.length>h;)void 0!==(f=r(n,l=c[h++]))&&s(u,l,f);return u}})},function(t,e,n){var r=n(0),i=n(123)(!1);r(r.S,"Object",{values:function t(e){return i(e)}})},function(t,e,n){var r=n(0),i=n(123)(!0);r(r.S,"Object",{entries:function t(e){return i(e)}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(10),a=n(7);n(6)&&r(r.P+n(62),"Object",{__defineGetter__:function t(e,n){a.f(i(this),e,{get:o(n),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(10),a=n(7);n(6)&&r(r.P+n(62),"Object",{__defineSetter__:function t(e,n){a.f(i(this),e,{set:o(n),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(22),a=n(17),s=n(16).f;n(6)&&r(r.P+n(62),"Object",{__lookupGetter__:function t(e){var n=i(this),r=o(e,!0),c;do{if(c=s(n,r))return c.get}while(n=a(n))}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(22),a=n(17),s=n(16).f;n(6)&&r(r.P+n(62),"Object",{__lookupSetter__:function t(e){var n=i(this),r=o(e,!0),c;do{if(c=s(n,r))return c.set}while(n=a(n))}})},function(t,e,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(124)("Map")})},function(t,e,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(124)("Set")})},function(t,e,n){n(63)("Map")},function(t,e,n){n(63)("Set")},function(t,e,n){n(63)("WeakMap")},function(t,e,n){n(63)("WeakSet")},function(t,e,n){n(64)("Map")},function(t,e,n){n(64)("Set")},function(t,e,n){n(64)("WeakMap")},function(t,e,n){n(64)("WeakSet")},function(t,e,n){var r=n(0);r(r.G,{global:n(2)})},function(t,e,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(t,e,n){var r=n(0),i=n(20);r(r.S,"Error",{isError:function t(e){return"Error"===i(e)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clamp:function t(e,n,r){return Math.min(r,Math.max(n,e))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function t(e){return e*i}})},function(t,e,n){var r=n(0),i=n(126),o=n(106);r(r.S,"Math",{fscale:function t(e,n,r,a,s){return o(i(e,n,r,a,s))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{iaddh:function t(e,n,r,i){var o=e>>>0,a=n>>>0,s=r>>>0;return a+(i>>>0)+((o&s|(o|s)&~(o+s>>>0))>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{isubh:function t(e,n,r,i){var o=e>>>0,a=n>>>0,s=r>>>0;return a-(i>>>0)-((~o&s|~(o^s)&o-s>>>0)>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{imulh:function t(e,n){var r=65535,i=+e,o=+n,a=65535&i,s=65535&o,c=i>>16,u=o>>16,h=(c*s>>>0)+(a*s>>>16);return c*u+(h>>16)+((a*u>>>0)+(65535&h)>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function t(e){return e*i}})},function(t,e,n){var r=n(0);r(r.S,"Math",{scale:n(126)})},function(t,e,n){var r=n(0);r(r.S,"Math",{umulh:function t(e,n){var r=65535,i=+e,o=+n,a=65535&i,s=65535&o,c=i>>>16,u=o>>>16,h=(c*s>>>0)+(a*s>>>16);return c*u+(h>>>16)+((a*u>>>0)+(65535&h)>>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{signbit:function t(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(t,e,n){"use strict";var r=n(0),i=n(18),o=n(2),a=n(58),s=n(113);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(0),i=n(89),o=n(112);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(28),i=n(1),o=r.key,a=r.set;r.exp({defineMetadata:function t(e,n,r,s){a(e,n,i(r),o(s))}})},function(t,e,n){var r=n(28),i=n(1),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function t(e,n){var r=arguments.length<3?void 0:o(arguments[2]),c=a(i(n),r,!1);if(void 0===c||!c.delete(e))return!1;if(c.size)return!0;var u=s.get(n);return u.delete(r),!!u.size||s.delete(n)}})},function(t,e,n){var r=n(28),i=n(1),o=n(17),a=r.has,s=r.get,c=r.key,u=function(t,e,n){if(a(t,e,n))return s(t,e,n);var r=o(e);return null!==r?u(t,r,n):void 0};r.exp({getMetadata:function t(e,n){return u(e,i(n),arguments.length<3?void 0:c(arguments[2]))}})},function(t,e,n){var r=n(116),i=n(125),o=n(28),a=n(1),s=n(17),c=o.keys,u=o.key,h=function(t,e){var n=c(t,e),o=s(t);if(null===o)return n;var a=h(o,e);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function t(e){return h(a(e),arguments.length<2?void 0:u(arguments[1]))}})},function(t,e,n){var r=n(28),i=n(1),o=r.get,a=r.key;r.exp({getOwnMetadata:function t(e,n){return o(e,i(n),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(28),i=n(1),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function t(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(28),i=n(1),o=n(17),a=r.has,s=r.key,c=function(t,e,n){if(a(t,e,n))return!0;var r=o(e);return null!==r&&c(t,r,n)};r.exp({hasMetadata:function t(e,n){return c(e,i(n),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(28),i=n(1),o=r.has,a=r.key;r.exp({hasOwnMetadata:function t(e,n){return o(e,i(n),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(28),i=n(1),o=n(10),a=r.key,s=r.set;r.exp({metadata:function t(e,n){return function t(r,c){s(e,n,(void 0!==c?i:o)(r),a(c))}}})},function(t,e,n){var r=n(0),i=n(88)(),o=n(2).process,a="process"==n(20)(o);r(r.G,{asap:function t(e){var n=a&&o.domain;i(n?n.bind(e):e)}})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(18),a=n(88)(),s=n(5)("observable"),c=n(10),u=n(1),h=n(40),l=n(42),f=n(11),d=n(41),p=d.RETURN,m=function(t){return null==t?void 0:c(t)},v=function(t){var e=t._c;e&&(t._c=void 0,e())},g=function(t){return void 0===t._o},y=function(t){g(t)||(t._o=void 0,v(t))},_=function(t,e){u(t),this._c=void 0,this._o=t,t=new x(this);try{var n=e(t),r=n;null!=n&&("function"===typeof n.unsubscribe?n=function(){r.unsubscribe()}:c(n),this._c=n)}catch(e){return void t.error(e)}g(this)&&v(this)};_.prototype=l({},{unsubscribe:function t(){y(this)}});var x=function(t){this._s=t};x.prototype=l({},{next:function t(e){var n=this._s;if(!g(n)){var r=n._o;try{var i=m(r.next);if(i)return i.call(r,e)}catch(t){try{y(n)}finally{throw t}}}},error:function t(e){var n=this._s;if(g(n))throw e;var r=n._o;n._o=void 0;try{var i=m(r.error);if(!i)throw e;e=i.call(r,e)}catch(t){try{v(n)}finally{throw t}}return v(n),e},complete:function t(e){var n=this._s;if(!g(n)){var r=n._o;n._o=void 0;try{var i=m(r.complete);e=i?i.call(r,e):void 0}catch(t){try{v(n)}finally{throw t}}return v(n),e}}});var b=function t(e){h(this,b,"Observable","_f")._f=c(e)};l(b.prototype,{subscribe:function t(e){return new _(e,this._f)},forEach:function t(e){var n=this;return new(o.Promise||i.Promise)(function(t,r){c(e);var i=n.subscribe({next:function(t){try{return e(t)}catch(t){r(t),i.unsubscribe()}},error:r,complete:t})})}}),l(b,{from:function t(e){var n="function"===typeof this?this:b,r=m(u(e)[s]);if(r){var i=u(r.call(e));return i.constructor===n?i:new n(function(t){return i.subscribe(t)})}return new n(function(t){var n=!1;return a(function(){if(!n){try{if(d(e,!1,function(e){if(t.next(e),n)return p})===p)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function t(){for(var e=0,n=arguments.length,r=new Array(n);e<n;)r[e]=arguments[e++];return new("function"===typeof this?this:b)(function(t){var e=!1;return a(function(){if(!e){for(var n=0;n<r.length;++n)if(t.next(r[n]),e)return;t.complete()}}),function(){e=!0}})}}),f(b.prototype,s,function(){return this}),r(r.G,{Observable:b}),n(39)("Observable")},function(t,e,n){var r=n(2),i=n(0),o=n(59),a=[].slice,s=/MSIE .\\./.test(o),c=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(t,e,n){var r=n(0),i=n(87);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(86),i=n(35),o=n(12),a=n(2),s=n(11),c=n(45),u=n(5),h=u("iterator"),l=u("toStringTag"),f=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),m=0;m<p.length;m++){var v=p[m],g=d[v],y=a[v],_=y&&y.prototype,x;if(_&&(_[h]||s(_,h,f),_[l]||s(_,l,v),c[v]=f,g))for(x in r)_[x]||o(_,x,r[x],!0)}},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new d(r||[]);return a._invoke=u(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function c(t){function n(e,i,o,a){var s=r(t[e],t,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"===typeof u&&g.call(u,"__await")?Promise.resolve(u.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(u).then(function(t){c.value=t,o(c)},a)}a(s.arg)}function i(t,e){function r(){return new Promise(function(r,i){n(t,e,r,i)})}return o=o?o.then(r,r):r()}"object"===typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=i}function u(t,e,n){var i=S;return function o(a,s){if(i===A)throw new Error("Generator is already running");if(i===R){if("throw"===a)throw s;return m()}for(n.method=a,n.arg=s;;){var c=n.delegate;if(c){var u=h(c,n);if(u){if(u===L)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===S)throw i=R,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=A;var l=r(t,e,n);if("normal"===l.type){if(i=n.done?R:T,l.arg===L)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=R,n.method="throw",n.arg=l.arg)}}}function h(t,e){var n=t.iterator[e.method];if(n===y){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=y,h(t,e),"throw"===e.method))return L;e.method="throw",e.arg=new TypeError("The iterator does not provide a \'throw\' method")}return L}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,L;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=y),e.delegate=null,L):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,L)}function l(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(l,this),this.reset(!0)}function p(t){if(t){var e=t[x];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(g.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=y,e.done=!0,e};return r.next=r}}return{next:m}}function m(){return{value:y,done:!0}}var v=Object.prototype,g=v.hasOwnProperty,y,_="function"===typeof Symbol?Symbol:{},x=_.iterator||"@@iterator",b=_.asyncIterator||"@@asyncIterator",w=_.toStringTag||"@@toStringTag",M="object"===typeof t,E=e.regeneratorRuntime;if(E)return void(M&&(t.exports=E));E=e.regeneratorRuntime=M?t.exports:{},E.wrap=n;var S="suspendedStart",T="suspendedYield",A="executing",R="completed",L={},P={};P[x]=function(){return this};var C=Object.getPrototypeOf,I=C&&C(C(p([])));I&&I!==v&&g.call(I,x)&&(P=I);var O=a.prototype=i.prototype=Object.create(P);o.prototype=O.constructor=a,a.constructor=o,a[w]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(O),t},E.awrap=function(t){return{__await:t}},s(c.prototype),c.prototype[b]=function(){return this},E.AsyncIterator=c,E.async=function(t,e,r,i){var o=new c(n(t,e,r,i));return E.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(O),O[w]="Generator",O[x]=function(){return this},O.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,L):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),L},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),f(n),L}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;f(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=y),L}}}("object"===typeof e?e:"object"===typeof window?window:"object"===typeof self?self:this)}).call(e,n(92))},function(t,e,n){n(334),t.exports=n(18).RegExp.escape},function(t,e,n){var r=n(0),i=n(335)(/[\\\\^$*+?.()|[\\]{}]/g,"\\\\$&");r(r.S,"RegExp",{escape:function t(e){return i(e)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){"use strict";var r=n(32).assign,i=n(337),o=n(340),a=n(131),s={};r(s,i,o,a),t.exports=s},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=c.assign({level:y,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==m)throw new Error(h[n]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"===typeof e.dictionary?u.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=s.deflateSetDictionary(this.strm,i))!==m)throw new Error(h[n]);this._dict_set=!0}}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||h[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}function a(t,e){return e=e||{},e.gzip=!0,i(t,e)}var s=n(338),c=n(32),u=n(129),h=n(91),l=n(130),f=Object.prototype.toString,d=0,p=4,m=0,v=1,g=2,y=-1,_=0,x=8;r.prototype.push=function(t,e){var n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"===typeof t?n.input=u.string2buf(t):"[object ArrayBuffer]"===f.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new c.Buf8(r),n.next_out=0,n.avail_out=r),1!==(i=s.deflate(n,o))&&i!==m)return this.onEnd(i),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(u.buf2binstring(c.shrinkBuf(n.output,n.next_out))):this.onData(c.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==i);return 4===o?(i=s.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===m):2!==o||(this.onEnd(m),n.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===m&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=r,e.deflate=i,e.deflateRaw=o,e.gzip=a},function(t,e,n){"use strict";function r(t,e){return t.msg=O[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(L.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){P._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function c(t,e){t.pending_buf[t.pending++]=e}function u(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function h(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,L.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=C(t.adler,e,i,n):2===t.state.wrap&&(t.adler=I(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function l(t,e){var n=t.max_chain_length,r=t.strstart,i,o,a=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-ht?t.strstart-(t.w_size-ht):0,u=t.window,h=t.w_mask,l=t.prev,f=t.strstart+ut,d=u[r+a-1],p=u[r+a];t.prev_length>=t.good_match&&(n>>=2),s>t.lookahead&&(s=t.lookahead);do{if(i=e,u[i+a]===p&&u[i+a-1]===d&&u[i]===u[r]&&u[++i]===u[r+1]){r+=2,i++;do{}while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<f);if(o=ut-(f-r),r=f-ut,o>a){if(t.match_start=e,a=o,o>=s)break;d=u[r+a-1],p=u[r+a]}}}while((e=l[e&h])>c&&0!==--n);return a<=t.lookahead?a:t.lookahead}function f(t){var e=t.w_size,n,r,i,o,a;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ht)){L.arraySet(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do{i=t.head[--n],t.head[n]=i>=e?i-e:0}while(--r);r=e,n=r;do{i=t.prev[--n],t.prev[n]=i>=e?i-e:0}while(--r);o+=e}if(0===t.strm.avail_in)break;if(r=h(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=r,t.lookahead+t.insert>=ct)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+ct-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<ct)););}while(t.lookahead<ht&&0!==t.strm.avail_in)}function d(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===N)return _t;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,s(t,!1),0===t.strm.avail_out))return _t;if(t.strstart-t.block_start>=t.w_size-ht&&(s(t,!1),0===t.strm.avail_out))return _t}return t.insert=0,e===F?(s(t,!0),0===t.strm.avail_out?bt:wt):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),_t)}function p(t,e){for(var n,r;;){if(t.lookahead<ht){if(f(t),t.lookahead<ht&&e===N)return _t;if(0===t.lookahead)break}if(n=0,t.lookahead>=ct&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-ht&&(t.match_length=l(t,n)),t.match_length>=ct)if(r=P._tr_tally(t,t.strstart-t.match_start,t.match_length-ct),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ct){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=P._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(s(t,!1),0===t.strm.avail_out))return _t}return t.insert=t.strstart<ct-1?t.strstart:ct-1,e===F?(s(t,!0),0===t.strm.avail_out?bt:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?_t:xt}function m(t,e){for(var n,r,i;;){if(t.lookahead<ht){if(f(t),t.lookahead<ht&&e===N)return _t;if(0===t.lookahead)break}if(n=0,t.lookahead>=ct&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ct-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-ht&&(t.match_length=l(t,n),t.match_length<=5&&(t.strategy===W||t.match_length===ct&&t.strstart-t.match_start>4096)&&(t.match_length=ct-1)),t.prev_length>=ct&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ct,r=P._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ct),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ct-1,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return _t}else if(t.match_available){if(r=P._tr_tally(t,0,t.window[t.strstart-1]),r&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return _t}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=P._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ct-1?t.strstart:ct-1,e===F?(s(t,!0),0===t.strm.avail_out?bt:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?_t:xt}function v(t,e){for(var n,r,i,o,a=t.window;;){if(t.lookahead<=ut){if(f(t),t.lookahead<=ut&&e===N)return _t;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ct&&t.strstart>0&&(i=t.strstart-1,(r=a[i])===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+ut;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=ut-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ct?(n=P._tr_tally(t,1,t.match_length-ct),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=P._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return _t}return t.insert=0,e===F?(s(t,!0),0===t.strm.avail_out?bt:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?_t:xt}function g(t,e){for(var n;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===N)return _t;break}if(t.match_length=0,n=P._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return _t}return t.insert=0,e===F?(s(t,!0),0===t.strm.avail_out?bt:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?_t:xt}function y(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function _(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=Et[t.level].max_lazy,t.good_match=Et[t.level].good_length,t.nice_match=Et[t.level].nice_length,t.max_chain_length=Et[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ct-1,t.match_available=0,t.ins_h=0}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new L.Buf16(2*at),this.dyn_dtree=new L.Buf16(2*(2*it+1)),this.bl_tree=new L.Buf16(2*(2*ot+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new L.Buf16(st+1),this.heap=new L.Buf16(2*rt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new L.Buf16(2*rt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=J,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ft:gt,t.adler=2===e.wrap?0:1,e.last_flush=N,P._tr_init(e),B):r(t,G)}function w(t){var e=b(t);return e===B&&_(t.state),e}function M(t,e){return t&&t.state?2!==t.state.wrap?G:(t.state.gzhead=e,B):G}function E(t,e,n,i,o,a){if(!t)return G;var s=1;if(e===V&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>Q||n!==K||i<8||i>15||e<0||e>9||a<0||a>q)return r(t,G);8===i&&(i=9);var c=new x;return t.state=c,c.strm=t,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+ct-1)/ct),c.window=new L.Buf8(2*c.w_size),c.head=new L.Buf16(c.hash_size),c.prev=new L.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new L.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=a,c.method=n,w(t)}function S(t,e){return E(t,e,K,$,tt,Z)}function T(t,e){var n,s,h,l;if(!t||!t.state||e>z||e<0)return t?r(t,G):G;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===yt&&e!==F)return r(t,0===t.avail_out?j:G);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===ft)if(2===s.wrap)t.adler=0,c(s,31),c(s,139),c(s,8),s.gzhead?(c(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),c(s,255&s.gzhead.time),c(s,s.gzhead.time>>8&255),c(s,s.gzhead.time>>16&255),c(s,s.gzhead.time>>24&255),c(s,9===s.level?2:s.strategy>=X||s.level<2?4:0),c(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(c(s,255&s.gzhead.extra.length),c(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=I(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=dt):(c(s,0),c(s,0),c(s,0),c(s,0),c(s,0),c(s,9===s.level?2:s.strategy>=X||s.level<2?4:0),c(s,Mt),s.status=gt);else{var f=K+(s.w_bits-8<<4)<<8,d=-1;d=s.strategy>=X||s.level<2?0:s.level<6?1:6===s.level?2:3,f|=d<<6,0!==s.strstart&&(f|=lt),f+=31-f%31,s.status=gt,u(s,f),0!==s.strstart&&(u(s,t.adler>>>16),u(s,65535&t.adler)),t.adler=1}if(s.status===dt)if(s.gzhead.extra){for(h=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>h&&(t.adler=I(t.adler,s.pending_buf,s.pending-h,h)),a(t),h=s.pending,s.pending!==s.pending_buf_size));)c(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>h&&(t.adler=I(t.adler,s.pending_buf,s.pending-h,h)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=pt)}else s.status=pt;if(s.status===pt)if(s.gzhead.name){h=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>h&&(t.adler=I(t.adler,s.pending_buf,s.pending-h,h)),a(t),h=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,c(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>h&&(t.adler=I(t.adler,s.pending_buf,s.pending-h,h)),0===l&&(s.gzindex=0,s.status=mt)}else s.status=mt;if(s.status===mt)if(s.gzhead.comment){h=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>h&&(t.adler=I(t.adler,s.pending_buf,s.pending-h,h)),a(t),h=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,c(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>h&&(t.adler=I(t.adler,s.pending_buf,s.pending-h,h)),0===l&&(s.status=vt)}else s.status=vt;if(s.status===vt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(c(s,255&t.adler),c(s,t.adler>>8&255),t.adler=0,s.status=gt)):s.status=gt),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,B}else if(0===t.avail_in&&i(e)<=i(n)&&e!==F)return r(t,j);if(s.status===yt&&0!==t.avail_in)return r(t,j);if(0!==t.avail_in||0!==s.lookahead||e!==N&&s.status!==yt){var p=s.strategy===X?g(s,e):s.strategy===Y?v(s,e):Et[s.level].func(s,e);if(p!==bt&&p!==wt||(s.status=yt),p===_t||p===bt)return 0===t.avail_out&&(s.last_flush=-1),B;if(p===xt&&(e===U?P._tr_align(s):e!==z&&(P._tr_stored_block(s,0,0,!1),e===D&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,B}return e!==F?B:s.wrap<=0?k:(2===s.wrap?(c(s,255&t.adler),c(s,t.adler>>8&255),c(s,t.adler>>16&255),c(s,t.adler>>24&255),c(s,255&t.total_in),c(s,t.total_in>>8&255),c(s,t.total_in>>16&255),c(s,t.total_in>>24&255)):(u(s,t.adler>>>16),u(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?B:k)}function A(t){var e;return t&&t.state?(e=t.state.status)!==ft&&e!==dt&&e!==pt&&e!==mt&&e!==vt&&e!==gt&&e!==yt?r(t,G):(t.state=null,e===gt?r(t,H):B):G}function R(t,e){var n=e.length,r,i,a,s,c,u,h,l;if(!t||!t.state)return G;if(r=t.state,2===(s=r.wrap)||1===s&&r.status!==ft||r.lookahead)return G;for(1===s&&(t.adler=C(t.adler,e,n,0)),r.wrap=0,n>=r.w_size&&(0===s&&(o(r.head),r.strstart=0,r.block_start=0,r.insert=0),l=new L.Buf8(r.w_size),L.arraySet(l,e,n-r.w_size,r.w_size,0),e=l,n=r.w_size),c=t.avail_in,u=t.next_in,h=t.input,t.avail_in=n,t.next_in=0,t.input=e,f(r);r.lookahead>=ct;){i=r.strstart,a=r.lookahead-(ct-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+ct-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++}while(--a);r.strstart=i,r.lookahead=ct-1,f(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ct-1,r.match_available=0,t.next_in=u,t.input=h,t.avail_in=c,r.wrap=s,B}var L=n(32),P=n(339),C=n(127),I=n(128),O=n(91),N=0,U=1,D=3,F=4,z=5,B=0,k=1,G=-2,H=-3,j=-5,V=-1,W=1,X=2,Y=3,q=4,Z=0,J=2,K=8,Q=9,$=15,tt=8,et=29,nt=256,rt=286,it=30,ot=19,at=2*rt+1,st=15,ct=3,ut=258,ht=ut+ct+1,lt=32,ft=42,dt=69,pt=73,mt=91,vt=103,gt=113,yt=666,_t=1,xt=2,bt=3,wt=4,Mt=3,Et;Et=[new y(0,0,0,0,d),new y(4,4,8,4,p),new y(4,5,16,8,p),new y(4,6,32,32,p),new y(4,4,16,16,m),new y(8,16,32,32,m),new y(8,16,128,128,m),new y(8,32,128,256,m),new y(32,128,258,1024,m),new y(32,258,258,4096,m)],e.deflateInit=S,e.deflateInit2=E,e.deflateReset=w,e.deflateResetKeep=b,e.deflateSetHeader=M,e.deflate=T,e.deflateEnd=A,e.deflateSetDictionary=R,e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?ct[t]:ct[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function c(t,e,n){t.bi_valid>Z-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>Z-t.bi_valid,t.bi_valid+=n-Z):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function u(t,e,n){c(t,n[2*e],n[2*e+1])}function h(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function l(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function f(t,e){var n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,c=e.stat_desc.max_length,u,h,l,f,d,p,m=0;for(f=0;f<=q;f++)t.bl_count[f]=0;for(n[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<Y;u++)h=t.heap[u],f=n[2*n[2*h+1]+1]+1,f>c&&(f=c,m++),n[2*h+1]=f,h>r||(t.bl_count[f]++,d=0,h>=s&&(d=a[h-s]),p=n[2*h],t.opt_len+=p*(f+d),o&&(t.static_len+=p*(i[2*h+1]+d)));if(0!==m){do{for(f=c-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[c]--,m-=2}while(m>0);for(f=c;0!==f;f--)for(h=t.bl_count[f];0!==h;)(l=t.heap[--u])>r||(n[2*l+1]!==f&&(t.opt_len+=(f-n[2*l+1])*n[2*l],n[2*l+1]=f),h--)}}function d(t,e,n){var r=new Array(q+1),i=0,o,a;for(o=1;o<=q;o++)r[o]=i=i+n[o-1]<<1;for(a=0;a<=e;a++){var s=t[2*a+1];0!==s&&(t[2*a]=h(r[s]++,s))}}function p(){var t,e,n,r,o,a=new Array(q+1);for(n=0,r=0;r<H-1;r++)for(ht[r]=n,t=0;t<1<<et[r];t++)ut[n++]=r;for(ut[n-1]=r,o=0,r=0;r<16;r++)for(lt[r]=o,t=0;t<1<<nt[r];t++)ct[o++]=r;for(o>>=7;r<W;r++)for(lt[r]=o<<7,t=0;t<1<<nt[r]-7;t++)ct[256+o++]=r;for(e=0;e<=q;e++)a[e]=0;for(t=0;t<=143;)at[2*t+1]=8,t++,a[8]++;for(;t<=255;)at[2*t+1]=9,t++,a[9]++;for(;t<=279;)at[2*t+1]=7,t++,a[7]++;for(;t<=287;)at[2*t+1]=8,t++,a[8]++;for(d(at,V+1,a),t=0;t<W;t++)st[2*t+1]=5,st[2*t]=h(t,5);ft=new i(at,et,j+1,V,q),dt=new i(st,nt,0,W,q),pt=new i(new Array(0),rt,0,X,J)}function m(t){var e;for(e=0;e<V;e++)t.dyn_ltree[2*e]=0;for(e=0;e<W;e++)t.dyn_dtree[2*e]=0;for(e=0;e<X;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*K]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function v(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,e,n,r){v(t),r&&(s(t,n),s(t,~n)),I.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function y(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function _(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&y(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!y(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function x(t,e,n){var r,i,o=0,s,h;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===r?u(t,i,e):(s=ut[i],u(t,s+j+1,e),h=et[s],0!==h&&(i-=ht[s],c(t,i,h)),r--,s=a(r),u(t,s,n),0!==(h=nt[s])&&(r-=lt[s],c(t,r,h)))}while(o<t.last_lit);u(t,K,e)}function b(t,e){var n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,a,s,c=-1,u;for(t.heap_len=0,t.heap_max=Y,a=0;a<o;a++)0!==n[2*a]?(t.heap[++t.heap_len]=c=a,t.depth[a]=0):n[2*a+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,n[2*u]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[2*u+1]);for(e.max_code=c,a=t.heap_len>>1;a>=1;a--)_(t,n,a);u=o;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],_(t,n,1),s=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=s,n[2*u]=n[2*a]+n[2*s],t.depth[u]=(t.depth[a]>=t.depth[s]?t.depth[a]:t.depth[s])+1,n[2*a+1]=n[2*s+1]=u,t.heap[1]=u++,_(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],f(t,e),d(n,c,t.bl_count)}function w(t,e,n){var r,i=-1,o,a=e[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=e[2*(r+1)+1],++s<c&&o===a||(s<u?t.bl_tree[2*o]+=s:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[2*Q]++):s<=10?t.bl_tree[2*$]++:t.bl_tree[2*tt]++,s=0,i=o,0===a?(c=138,u=3):o===a?(c=6,u=3):(c=7,u=4))}function M(t,e,n){var r,i=-1,o,a=e[1],s=0,h=7,l=4;for(0===a&&(h=138,l=3),r=0;r<=n;r++)if(o=a,a=e[2*(r+1)+1],!(++s<h&&o===a)){if(s<l)do{u(t,o,t.bl_tree)}while(0!==--s);else 0!==o?(o!==i&&(u(t,o,t.bl_tree),s--),u(t,Q,t.bl_tree),c(t,s-3,2)):s<=10?(u(t,$,t.bl_tree),c(t,s-3,3)):(u(t,tt,t.bl_tree),c(t,s-11,7));s=0,i=o,0===a?(h=138,l=3):o===a?(h=6,l=3):(h=7,l=4)}}function E(t){var e;for(w(t,t.dyn_ltree,t.l_desc.max_code),w(t,t.dyn_dtree,t.d_desc.max_code),b(t,t.bl_desc),e=X-1;e>=3&&0===t.bl_tree[2*it[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function S(t,e,n,r){var i;for(c(t,e-257,5),c(t,n-1,5),c(t,r-4,4),i=0;i<r;i++)c(t,t.bl_tree[2*it[i]+1],3);M(t,t.dyn_ltree,e-1),M(t,t.dyn_dtree,n-1)}function T(t){var e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(1&e&&0!==t.dyn_ltree[2*n])return N;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return U;for(n=32;n<j;n++)if(0!==t.dyn_ltree[2*n])return U;return N}function A(t){mt||(p(),mt=!0),t.l_desc=new o(t.dyn_ltree,ft),t.d_desc=new o(t.dyn_dtree,dt),t.bl_desc=new o(t.bl_tree,pt),t.bi_buf=0,t.bi_valid=0,m(t)}function R(t,e,n,r){c(t,(F<<1)+(r?1:0),3),g(t,e,n,!0)}function L(t){c(t,z<<1,3),u(t,K,at),l(t)}function P(t,e,n,r){var i,o,a=0;t.level>0?(t.strm.data_type===D&&(t.strm.data_type=T(t)),b(t,t.l_desc),b(t,t.d_desc),a=E(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?R(t,e,n,r):t.strategy===O||o===i?(c(t,(z<<1)+(r?1:0),3),x(t,at,st)):(c(t,(B<<1)+(r?1:0),3),S(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),x(t,t.dyn_ltree,t.dyn_dtree)),m(t),r&&v(t)}function C(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(ut[n]+j+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1}var I=n(32),O=4,N=0,U=1,D=2,F=0,z=1,B=2,k=3,G=258,H=29,j=256,V=j+1+H,W=30,X=19,Y=2*V+1,q=15,Z=16,J=7,K=256,Q=16,$=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=512,at=new Array(2*(V+2));r(at);var st=new Array(2*W);r(st);var ct=new Array(512);r(ct);var ut=new Array(256);r(ut);var ht=new Array(H);r(ht);var lt=new Array(W);r(lt);var ft,dt,pt,mt=!1;e._tr_init=A,e._tr_stored_block=R,e._tr_flush_block=P,e._tr_tally=C,e._tr_align=L},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,e.windowBits);if(n!==u.Z_OK)throw new Error(h[n]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||h[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}var a=n(341),s=n(32),c=n(129),u=n(131),h=n(91),l=n(130),f=n(344),d=Object.prototype.toString;r.prototype.push=function(t,e){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,h,l,f,p,m,v=!1;if(this.ended)return!1;h=e===~~e?e:!0===e?u.Z_FINISH:u.Z_NO_FLUSH,"string"===typeof t?n.input=c.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new s.Buf8(r),n.next_out=0,n.avail_out=r),o=a.inflate(n,u.Z_NO_FLUSH),o===u.Z_NEED_DICT&&i&&(m="string"===typeof i?c.string2buf(i):"[object ArrayBuffer]"===d.call(i)?new Uint8Array(i):i,o=a.inflateSetDictionary(this.strm,m)),o===u.Z_BUF_ERROR&&!0===v&&(o=u.Z_OK,v=!1),o!==u.Z_STREAM_END&&o!==u.Z_OK)return this.onEnd(o),this.ended=!0,!1;n.next_out&&(0!==n.avail_out&&o!==u.Z_STREAM_END&&(0!==n.avail_in||h!==u.Z_FINISH&&h!==u.Z_SYNC_FLUSH)||("string"===this.options.to?(l=c.utf8border(n.output,n.next_out),f=n.next_out-l,p=c.buf2string(n.output,l),n.next_out=f,n.avail_out=r-f,f&&s.arraySet(n.output,n.output,l,f,0),this.onData(p)):this.onData(s.shrinkBuf(n.output,n.next_out)))),0===n.avail_in&&0===n.avail_out&&(v=!0)}while((n.avail_in>0||0===n.avail_out)&&o!==u.Z_STREAM_END);return o===u.Z_STREAM_END&&(h=u.Z_FINISH),h===u.Z_FINISH?(o=a.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===u.Z_OK):h!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),n.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=r,e.inflate=i,e.inflateRaw=o,e.ungzip=i},function(t,e,n){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=U,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new v.Buf32(dt),e.distcode=e.distdyn=new v.Buf32(pt),e.sane=1,e.back=-1,A):P}function a(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):P}function s(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?P:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,a(t))):P}function c(t,e){var n,r;return t?(r=new i,t.state=r,r.window=null,n=s(t,e),n!==A&&(t.state=null),n):P}function u(t){return c(t,vt)}function h(t){if(gt){var e;for(yt=new v.Buf32(512),_t=new v.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(x(w,t.lens,0,288,yt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;x(M,t.lens,0,32,_t,0,t.work,{bits:5}),gt=!1}t.lencode=yt,t.lenbits=9,t.distcode=_t,t.distbits=5}function l(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new v.Buf8(o.wsize)),r>=o.wsize?(v.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),v.arraySet(o.window,e,n-r,i,o.wnext),r-=i,r?(v.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function f(t,e){var n,i,o,a,s,c,u,f,d,p,m,dt,pt,mt,vt=0,gt,yt,_t,xt,bt,wt,Mt,Et,St=new v.Buf8(4),Tt,At,Rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return P;n=t.state,n.mode===X&&(n.mode=Y),s=t.next_out,o=t.output,u=t.avail_out,a=t.next_in,i=t.input,c=t.avail_in,f=n.hold,d=n.bits,p=c,m=u,Et=A;t:for(;;)switch(n.mode){case U:if(0===n.wrap){n.mode=Y;break}for(;d<16;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}if(2&n.wrap&&35615===f){n.check=0,St[0]=255&f,St[1]=f>>>8&255,n.check=y(n.check,St,2,0),f=0,d=0,n.mode=D;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=ht;break}if((15&f)!==N){t.msg="unknown compression method",n.mode=ht;break}if(f>>>=4,d-=4,Mt=8+(15&f),0===n.wbits)n.wbits=Mt;else if(Mt>n.wbits){t.msg="invalid window size",n.mode=ht;break}n.dmax=1<<Mt,t.adler=n.check=1,n.mode=512&f?V:X,f=0,d=0;break;case D:for(;d<16;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}if(n.flags=f,(255&n.flags)!==N){t.msg="unknown compression method",n.mode=ht;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ht;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(St[0]=255&f,St[1]=f>>>8&255,n.check=y(n.check,St,2,0)),f=0,d=0,n.mode=F;case F:for(;d<32;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}n.head&&(n.head.time=f),512&n.flags&&(St[0]=255&f,St[1]=f>>>8&255,St[2]=f>>>16&255,St[3]=f>>>24&255,n.check=y(n.check,St,4,0)),f=0,d=0,n.mode=z;case z:for(;d<16;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(St[0]=255&f,St[1]=f>>>8&255,n.check=y(n.check,St,2,0)),f=0,d=0,n.mode=B;case B:if(1024&n.flags){for(;d<16;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(St[0]=255&f,St[1]=f>>>8&255,n.check=y(n.check,St,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=k;case k:if(1024&n.flags&&(dt=n.length,dt>c&&(dt=c),dt&&(n.head&&(Mt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,i,a,dt,Mt)),512&n.flags&&(n.check=y(n.check,i,dt,a)),c-=dt,a+=dt,n.length-=dt),n.length))break t;n.length=0,n.mode=G;case G:if(2048&n.flags){if(0===c)break t;dt=0;do{Mt=i[a+dt++],n.head&&Mt&&n.length<65536&&(n.head.name+=String.fromCharCode(Mt))}while(Mt&&dt<c);if(512&n.flags&&(n.check=y(n.check,i,dt,a)),c-=dt,a+=dt,Mt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===c)break t;dt=0;do{Mt=i[a+dt++],n.head&&Mt&&n.length<65536&&(n.head.comment+=String.fromCharCode(Mt))}while(Mt&&dt<c);if(512&n.flags&&(n.check=y(n.check,i,dt,a)),c-=dt,a+=dt,Mt)break t}else n.head&&(n.head.comment=null);n.mode=j;case j:if(512&n.flags){for(;d<16;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}if(f!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ht;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=X;break;case V:for(;d<32;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}t.adler=n.check=r(f),f=0,d=0,n.mode=W;case W:if(0===n.havedict)return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=c,n.hold=f,n.bits=d,L;t.adler=n.check=1,n.mode=X;case X:if(e===S||e===T)break t;case Y:if(n.last){f>>>=7&d,d-=7&d,n.mode=st;break}for(;d<3;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}switch(n.last=1&f,f>>>=1,d-=1,3&f){case 0:n.mode=q;break;case 1:if(h(n),n.mode=tt,e===T){f>>>=2,d-=2;break t}break;case 2:n.mode=K;break;case 3:t.msg="invalid block type",n.mode=ht}f>>>=2,d-=2;break;case q:for(f>>>=7&d,d-=7&d;d<32;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}if((65535&f)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ht;break}if(n.length=65535&f,f=0,d=0,n.mode=Z,e===T)break t;case Z:n.mode=J;case J:if(dt=n.length){if(dt>c&&(dt=c),dt>u&&(dt=u),0===dt)break t;v.arraySet(o,i,a,dt,s),c-=dt,a+=dt,u-=dt,s+=dt,n.length-=dt;break}n.mode=X;break;case K:for(;d<14;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}if(n.nlen=257+(31&f),f>>>=5,d-=5,n.ndist=1+(31&f),f>>>=5,d-=5,n.ncode=4+(15&f),f>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ht;break}n.have=0,n.mode=Q;case Q:for(;n.have<n.ncode;){for(;d<3;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}n.lens[Rt[n.have++]]=7&f,f>>>=3,d-=3}for(;n.have<19;)n.lens[Rt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Tt={bits:n.lenbits},Et=x(b,n.lens,0,19,n.lencode,0,n.work,Tt),n.lenbits=Tt.bits,Et){t.msg="invalid code lengths set",n.mode=ht;break}n.have=0,n.mode=$;case $:for(;n.have<n.nlen+n.ndist;){for(;vt=n.lencode[f&(1<<n.lenbits)-1],gt=vt>>>24,yt=vt>>>16&255,_t=65535&vt,!(gt<=d);){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}if(_t<16)f>>>=gt,d-=gt,n.lens[n.have++]=_t;else{if(16===_t){for(At=gt+2;d<At;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}if(f>>>=gt,d-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=ht;break}Mt=n.lens[n.have-1],dt=3+(3&f),f>>>=2,d-=2}else if(17===_t){for(At=gt+3;d<At;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}f>>>=gt,d-=gt,Mt=0,dt=3+(7&f),f>>>=3,d-=3}else{for(At=gt+7;d<At;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}f>>>=gt,d-=gt,Mt=0,dt=11+(127&f),f>>>=7,d-=7}if(n.have+dt>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ht;break}for(;dt--;)n.lens[n.have++]=Mt}}if(n.mode===ht)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ht;break}if(n.lenbits=9,Tt={bits:n.lenbits},Et=x(w,n.lens,0,n.nlen,n.lencode,0,n.work,Tt),n.lenbits=Tt.bits,Et){t.msg="invalid literal/lengths set",n.mode=ht;break}if(n.distbits=6,n.distcode=n.distdyn,Tt={bits:n.distbits},Et=x(M,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Tt),n.distbits=Tt.bits,Et){t.msg="invalid distances set",n.mode=ht;break}if(n.mode=tt,e===T)break t;case tt:n.mode=et;case et:if(c>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=c,n.hold=f,n.bits=d,_(t,m),s=t.next_out,o=t.output,u=t.avail_out,a=t.next_in,i=t.input,c=t.avail_in,f=n.hold,d=n.bits,n.mode===X&&(n.back=-1);break}for(n.back=0;vt=n.lencode[f&(1<<n.lenbits)-1],gt=vt>>>24,yt=vt>>>16&255,_t=65535&vt,!(gt<=d);){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}if(yt&&0===(240&yt)){for(xt=gt,bt=yt,wt=_t;vt=n.lencode[wt+((f&(1<<xt+bt)-1)>>xt)],gt=vt>>>24,yt=vt>>>16&255,_t=65535&vt,!(xt+gt<=d);){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}f>>>=xt,d-=xt,n.back+=xt}if(f>>>=gt,d-=gt,n.back+=gt,n.length=_t,0===yt){n.mode=at;break}if(32&yt){n.back=-1,n.mode=X;break}if(64&yt){t.msg="invalid literal/length code",n.mode=ht;break}n.extra=15&yt,n.mode=nt;case nt:if(n.extra){for(At=n.extra;d<At;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=rt;case rt:for(;vt=n.distcode[f&(1<<n.distbits)-1],gt=vt>>>24,yt=vt>>>16&255,_t=65535&vt,!(gt<=d);){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}if(0===(240&yt)){for(xt=gt,bt=yt,wt=_t;vt=n.distcode[wt+((f&(1<<xt+bt)-1)>>xt)],gt=vt>>>24,yt=vt>>>16&255,_t=65535&vt,!(xt+gt<=d);){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}f>>>=xt,d-=xt,n.back+=xt}if(f>>>=gt,d-=gt,n.back+=gt,64&yt){t.msg="invalid distance code",n.mode=ht;break}n.offset=_t,n.extra=15&yt,n.mode=it;case it:if(n.extra){for(At=n.extra;d<At;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ht;break}n.mode=ot;case ot:if(0===u)break t;if(dt=m-u,n.offset>dt){if((dt=n.offset-dt)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ht;break}dt>n.wnext?(dt-=n.wnext,pt=n.wsize-dt):pt=n.wnext-dt,dt>n.length&&(dt=n.length),mt=n.window}else mt=o,pt=s-n.offset,dt=n.length;dt>u&&(dt=u),u-=dt,n.length-=dt;do{o[s++]=mt[pt++]}while(--dt);0===n.length&&(n.mode=et);break;case at:if(0===u)break t;o[s++]=n.length,u--,n.mode=et;break;case st:if(n.wrap){for(;d<32;){if(0===c)break t;c--,f|=i[a++]<<d,d+=8}if(m-=u,t.total_out+=m,n.total+=m,m&&(t.adler=n.check=n.flags?y(n.check,o,m,s-m):g(n.check,o,m,s-m)),m=u,(n.flags?f:r(f))!==n.check){t.msg="incorrect data check",n.mode=ht;break}f=0,d=0}n.mode=ct;case ct:if(n.wrap&&n.flags){for(;d<32;){if(0===c)break t;c--,f+=i[a++]<<d,d+=8}if(f!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ht;break}f=0,d=0}n.mode=ut;case ut:Et=R;break t;case ht:Et=C;break t;case lt:return I;case ft:default:return P}return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=c,n.hold=f,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<ht&&(n.mode<st||e!==E))&&l(t,t.output,t.next_out,m-t.avail_out)?(n.mode=lt,I):(p-=t.avail_in,m-=t.avail_out,t.total_in+=p,t.total_out+=m,n.total+=m,n.wrap&&m&&(t.adler=n.check=n.flags?y(n.check,o,m,t.next_out-m):g(n.check,o,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===X?128:0)+(n.mode===tt||n.mode===Z?256:0),(0===p&&0===m||e===E)&&Et===A&&(Et=O),Et)}function d(t){if(!t||!t.state)return P;var e=t.state;return e.window&&(e.window=null),t.state=null,A}function p(t,e){var n;return t&&t.state?(n=t.state,0===(2&n.wrap)?P:(n.head=e,e.done=!1,A)):P}function m(t,e){var n=e.length,r,i,o;return t&&t.state?(r=t.state,0!==r.wrap&&r.mode!==W?P:r.mode===W&&(i=1,(i=g(i,e,n,0))!==r.check)?C:(o=l(t,e,n,n))?(r.mode=lt,I):(r.havedict=1,A)):P}var v=n(32),g=n(127),y=n(128),_=n(342),x=n(343),b=0,w=1,M=2,E=4,S=5,T=6,A=0,R=1,L=2,P=-2,C=-3,I=-4,O=-5,N=8,U=1,D=2,F=3,z=4,B=5,k=6,G=7,H=8,j=9,V=10,W=11,X=12,Y=13,q=14,Z=15,J=16,K=17,Q=18,$=19,tt=20,et=21,nt=22,rt=23,it=24,ot=25,at=26,st=27,ct=28,ut=29,ht=30,lt=31,ft=32,dt=852,pt=592,mt=15,vt=15,gt=!0,yt,_t;e.inflateReset=a,e.inflateReset2=s,e.inflateResetKeep=o,e.inflateInit=u,e.inflateInit2=c,e.inflate=f,e.inflateEnd=d,e.inflateGetHeader=p,e.inflateSetDictionary=m,e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";var r=30,i=12;t.exports=function t(e,n){var r,i,o,a,s,c,u,h,l,f,d,p,m,v,g,y,_,x,b,w,M,E,S,T,A;r=e.state,i=e.next_in,T=e.input,o=i+(e.avail_in-5),a=e.next_out,A=e.output,s=a-(n-e.avail_out),c=a+(e.avail_out-257),u=r.dmax,h=r.wsize,l=r.whave,f=r.wnext,d=r.window,p=r.hold,m=r.bits,v=r.lencode,g=r.distcode,y=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;t:do{m<15&&(p+=T[i++]<<m,m+=8,p+=T[i++]<<m,m+=8),x=v[p&y];e:for(;;){if(b=x>>>24,p>>>=b,m-=b,0===(b=x>>>16&255))A[a++]=65535&x;else{if(!(16&b)){if(0===(64&b)){x=v[(65535&x)+(p&(1<<b)-1)];continue e}if(32&b){r.mode=12;break t}e.msg="invalid literal/length code",r.mode=30;break t}w=65535&x,b&=15,b&&(m<b&&(p+=T[i++]<<m,m+=8),w+=p&(1<<b)-1,p>>>=b,m-=b),m<15&&(p+=T[i++]<<m,m+=8,p+=T[i++]<<m,m+=8),x=g[p&_];n:for(;;){if(b=x>>>24,p>>>=b,m-=b,!(16&(b=x>>>16&255))){if(0===(64&b)){x=g[(65535&x)+(p&(1<<b)-1)];continue n}e.msg="invalid distance code",r.mode=30;break t}if(M=65535&x,b&=15,m<b&&(p+=T[i++]<<m,(m+=8)<b&&(p+=T[i++]<<m,m+=8)),(M+=p&(1<<b)-1)>u){e.msg="invalid distance too far back",r.mode=30;break t}if(p>>>=b,m-=b,b=a-s,M>b){if((b=M-b)>l&&r.sane){e.msg="invalid distance too far back",r.mode=30;break t}if(E=0,S=d,0===f){if(E+=h-b,b<w){w-=b;do{A[a++]=d[E++]}while(--b);E=a-M,S=A}}else if(f<b){if(E+=h+f-b,(b-=f)<w){w-=b;do{A[a++]=d[E++]}while(--b);if(E=0,f<w){b=f,w-=b;do{A[a++]=d[E++]}while(--b);E=a-M,S=A}}}else if(E+=f-b,b<w){w-=b;do{A[a++]=d[E++]}while(--b);E=a-M,S=A}for(;w>2;)A[a++]=S[E++],A[a++]=S[E++],A[a++]=S[E++],w-=3;w&&(A[a++]=S[E++],w>1&&(A[a++]=S[E++]))}else{E=a-M;do{A[a++]=A[E++],A[a++]=A[E++],A[a++]=A[E++],w-=3}while(w>2);w&&(A[a++]=A[E++],w>1&&(A[a++]=A[E++]))}break}}break}}while(i<o&&a<c);w=m>>3,i-=w,m-=w<<3,p&=(1<<m)-1,e.next_in=i,e.next_out=a,e.avail_in=i<o?o-i+5:5-(i-o),e.avail_out=a<c?c-a+257:257-(a-c),r.hold=p,r.bits=m}},function(t,e,n){"use strict";var r=n(32),i=15,o=852,a=592,s=0,c=1,u=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function t(e,n,i,o,a,s,c,u){var p=u.bits,m=0,v=0,g=0,y=0,_=0,x=0,b=0,w=0,M=0,E=0,S,T,A,R,L,P=null,C=0,I,O=new r.Buf16(16),N=new r.Buf16(16),U=null,D=0,F,z,B;for(m=0;m<=15;m++)O[m]=0;for(v=0;v<o;v++)O[n[i+v]]++;for(_=p,y=15;y>=1&&0===O[y];y--);if(_>y&&(_=y),0===y)return a[s++]=20971520,a[s++]=20971520,u.bits=1,0;for(g=1;g<y&&0===O[g];g++);for(_<g&&(_=g),w=1,m=1;m<=15;m++)if(w<<=1,(w-=O[m])<0)return-1;if(w>0&&(0===e||1!==y))return-1;for(N[1]=0,m=1;m<15;m++)N[m+1]=N[m]+O[m];for(v=0;v<o;v++)0!==n[i+v]&&(c[N[n[i+v]]++]=v);if(0===e?(P=U=c,I=19):1===e?(P=h,C-=257,U=l,D-=257,I=256):(P=f,U=d,I=-1),E=0,v=0,m=g,L=s,x=_,b=0,A=-1,M=1<<_,R=M-1,1===e&&M>852||2===e&&M>592)return 1;for(;;){F=m-b,c[v]<I?(z=0,B=c[v]):c[v]>I?(z=U[D+c[v]],B=P[C+c[v]]):(z=96,B=0),S=1<<m-b,T=1<<x,g=T;do{T-=S,a[L+(E>>b)+T]=F<<24|z<<16|B|0}while(0!==T);for(S=1<<m-1;E&S;)S>>=1;if(0!==S?(E&=S-1,E+=S):E=0,v++,0===--O[m]){if(m===y)break;m=n[i+c[v]]}if(m>_&&(E&R)!==A){for(0===b&&(b=_),L+=g,x=m-b,w=1<<x;x+b<y&&!((w-=O[x+b])<=0);)x++,w<<=1;if(M+=1<<x,1===e&&M>852||2===e&&M>592)return 1;A=E&R,a[A]=_<<24|x<<16|L-s|0}}return 0!==E&&(a[L+E]=m-b<<24|64<<16|0),u.bits=_,0}},function(t,e,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},function(t,e,n){"use strict";function EventDispatcher(){}function Vector2(t,e){this.x=t||0,this.y=e||0}function Texture(t,e,n,r,i,o,a,s,c,u){Object.defineProperty(this,"id",{value:Dt++}),this.uuid=Ut.generateUUID(),this.name="",this.image=void 0!==t?t:Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Texture.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:ClampToEdgeWrapping,this.wrapT=void 0!==r?r:ClampToEdgeWrapping,this.magFilter=void 0!==i?i:LinearFilter,this.minFilter=void 0!==o?o:LinearMipMapLinearFilter,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:RGBAFormat,this.type=void 0!==s?s:UnsignedByteType,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:LinearEncoding,this.version=0,this.onUpdate=null}function Vector4(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function WebGLRenderTarget(t,e,n){this.uuid=Ut.generateUUID(),this.width=t,this.height=e,this.scissor=new Vector4(0,0,t,e),this.scissorTest=!1,this.viewport=new Vector4(0,0,t,e),n=n||{},void 0===n.minFilter&&(n.minFilter=LinearFilter),this.texture=new Texture(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function WebGLRenderTargetCube(t,e,n){WebGLRenderTarget.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function Quaternion(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function Vector3(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function Matrix4(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function DataTexture(t,e,n,r,i,o,a,s,c,u,h,l){Texture.call(this,null,o,a,s,c,u,r,i,h,l),this.image={data:t,width:e,height:n},this.magFilter=void 0!==c?c:NearestFilter,this.minFilter=void 0!==u?u:NearestFilter,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function CubeTexture(t,e,n,r,i,o,a,s,c,u){t=void 0!==t?t:[],e=void 0!==e?e:CubeReflectionMapping,Texture.call(this,t,e,n,r,i,o,a,s,c,u),this.flipY=!1}function r(){this.seq=[],this.map={}}function i(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,o=Bt[i];if(void 0===o&&(o=new Float32Array(i),Bt[i]=o),0!==e){r.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function o(t,e){var n=kt[e];void 0===n&&(n=new Int32Array(e),kt[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function a(t,e){t.uniform1f(this.addr,e)}function s(t,e){t.uniform1i(this.addr,e)}function c(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function u(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function h(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function l(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function f(t,e){void 0===e.elements?t.uniformMatrix3fv(this.addr,!1,e):(Ht.set(e.elements),t.uniformMatrix3fv(this.addr,!1,Ht))}function d(t,e){void 0===e.elements?t.uniformMatrix4fv(this.addr,!1,e):(Gt.set(e.elements),t.uniformMatrix4fv(this.addr,!1,Gt))}function p(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTexture2D(e||Ft,r)}function m(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTextureCube(e||zt,r)}function v(t,e){t.uniform2iv(this.addr,e)}function g(t,e){t.uniform3iv(this.addr,e)}function y(t,e){t.uniform4iv(this.addr,e)}function _(t){switch(t){case 5126:return a;case 35664:return c;case 35665:return u;case 35666:return h;case 35674:return l;case 35675:return f;case 35676:return d;case 35678:return p;case 35680:return m;case 5124:case 35670:return s;case 35667:case 35671:return v;case 35668:case 35672:return g;case 35669:case 35673:return y}}function x(t,e){t.uniform1fv(this.addr,e)}function b(t,e){t.uniform1iv(this.addr,e)}function w(t,e){t.uniform2fv(this.addr,i(e,this.size,2))}function M(t,e){t.uniform3fv(this.addr,i(e,this.size,3))}function E(t,e){t.uniform4fv(this.addr,i(e,this.size,4))}function S(t,e){t.uniformMatrix2fv(this.addr,!1,i(e,this.size,4))}function T(t,e){t.uniformMatrix3fv(this.addr,!1,i(e,this.size,9))}function A(t,e){t.uniformMatrix4fv(this.addr,!1,i(e,this.size,16))}function R(t,e,n){var r=e.length,i=o(n,r);t.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTexture2D(e[a]||Ft,i[a])}function L(t,e,n){var r=e.length,i=o(n,r);t.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTextureCube(e[a]||zt,i[a])}function P(t){switch(t){case 5126:return x;case 35664:return w;case 35665:return M;case 35666:return E;case 35674:return S;case 35675:return T;case 35676:return A;case 35678:return R;case 35680:return L;case 5124:case 35670:return b;case 35667:case 35671:return v;case 35668:case 35672:return g;case 35669:case 35673:return y}}function C(t,e,n){this.id=t,this.addr=n,this.setValue=_(e.type)}function I(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=P(e.type)}function O(t){this.id=t,r.call(this)}function N(t,e){t.seq.push(e),t.map[e.id]=e}function U(t,e,n){var r=t.name,i=r.length;for(jt.lastIndex=0;;){var o=jt.exec(r),a=jt.lastIndex,s=o[1],c="]"===o[2],u=o[3];if(c&&(s|=0),void 0===u||"["===u&&a+2===i){N(n,void 0===u?new C(s,t,e):new I(s,t,e));break}var h=n.map,l=h[s];void 0===l&&(l=new O(s),N(n,l)),n=l}}function D(t,e,n){r.call(this),this.renderer=n;for(var i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=0;o<i;++o){var a=t.getActiveUniform(e,o),s=a.name;U(a,t.getUniformLocation(e,s),this)}}function Color(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function Box2(t,e){this.min=void 0!==t?t:new Vector2(1/0,1/0),this.max=void 0!==e?e:new Vector2(-1/0,-1/0)}function F(t,e){function n(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);a=i.createBuffer(),s=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,a),i.bufferData(i.ARRAY_BUFFER,t,i.STATIC_DRAW),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,s),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e,i.STATIC_DRAW),f=i.createTexture(),d=i.createTexture(),o.bindTexture(i.TEXTURE_2D,f),i.texImage2D(i.TEXTURE_2D,0,i.RGB,16,16,0,i.RGB,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),o.bindTexture(i.TEXTURE_2D,d),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,16,16,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),c={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\\n")},u=r(c),h={vertex:i.getAttribLocation(u,"position"),uv:i.getAttribLocation(u,"uv")},l={renderType:i.getUniformLocation(u,"renderType"),map:i.getUniformLocation(u,"map"),occlusionMap:i.getUniformLocation(u,"occlusionMap"),opacity:i.getUniformLocation(u,"opacity"),color:i.getUniformLocation(u,"color"),scale:i.getUniformLocation(u,"scale"),rotation:i.getUniformLocation(u,"rotation"),screenPosition:i.getUniformLocation(u,"screenPosition")}}function r(e){var n=i.createProgram(),r=i.createShader(i.FRAGMENT_SHADER),o=i.createShader(i.VERTEX_SHADER),a="precision "+t.getPrecision()+" float;\\n";return i.shaderSource(r,a+e.fragmentShader),i.shaderSource(o,a+e.vertexShader),i.compileShader(r),i.compileShader(o),i.attachShader(n,r),i.attachShader(n,o),i.linkProgram(n),n}var i=t.context,o=t.state,a,s,c,u,h,l,f,d;this.render=function(r,c,p){if(0!==e.length){var m=new Vector3,v=p.w/p.z,g=.5*p.z,y=.5*p.w,_=16/p.w,x=new Vector2(_*v,_),b=new Vector3(1,1,0),w=new Vector2(1,1),M=new Box2;M.min.set(p.x,p.y),M.max.set(p.x+(p.z-16),p.y+(p.w-16)),void 0===u&&n(),i.useProgram(u),o.initAttributes(),o.enableAttribute(h.vertex),o.enableAttribute(h.uv),o.disableUnusedAttributes(),i.uniform1i(l.occlusionMap,0),i.uniform1i(l.map,1),i.bindBuffer(i.ARRAY_BUFFER,a),i.vertexAttribPointer(h.vertex,2,i.FLOAT,!1,16,0),i.vertexAttribPointer(h.uv,2,i.FLOAT,!1,16,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,s),o.disable(i.CULL_FACE),o.buffers.depth.setMask(!1);for(var E=0,S=e.length;E<S;E++){_=16/p.w,x.set(_*v,_);var T=e[E];if(m.set(T.matrixWorld.elements[12],T.matrixWorld.elements[13],T.matrixWorld.elements[14]),m.applyMatrix4(c.matrixWorldInverse),m.applyMatrix4(c.projectionMatrix),b.copy(m),w.x=p.x+b.x*g+g-8,w.y=p.y+b.y*y+y-8,!0===M.containsPoint(w)){o.activeTexture(i.TEXTURE0),o.bindTexture(i.TEXTURE_2D,null),o.activeTexture(i.TEXTURE1),o.bindTexture(i.TEXTURE_2D,f),i.copyTexImage2D(i.TEXTURE_2D,0,i.RGB,w.x,w.y,16,16,0),i.uniform1i(l.renderType,0),i.uniform2f(l.scale,x.x,x.y),i.uniform3f(l.screenPosition,b.x,b.y,b.z),o.disable(i.BLEND),o.enable(i.DEPTH_TEST),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),o.activeTexture(i.TEXTURE0),o.bindTexture(i.TEXTURE_2D,d),i.copyTexImage2D(i.TEXTURE_2D,0,i.RGBA,w.x,w.y,16,16,0),i.uniform1i(l.renderType,1),o.disable(i.DEPTH_TEST),o.activeTexture(i.TEXTURE1),o.bindTexture(i.TEXTURE_2D,f),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),T.positionScreen.copy(b),T.customUpdateCallback?T.customUpdateCallback(T):T.updateLensFlares(),i.uniform1i(l.renderType,2),o.enable(i.BLEND);for(var A=0,R=T.lensFlares.length;A<R;A++){var L=T.lensFlares[A];L.opacity>.001&&L.scale>.001&&(b.x=L.x,b.y=L.y,b.z=L.z,_=L.size*L.scale/p.w,x.x=_*v,x.y=_,i.uniform3f(l.screenPosition,b.x,b.y,b.z),i.uniform2f(l.scale,x.x,x.y),i.uniform1f(l.rotation,L.rotation),i.uniform1f(l.opacity,L.opacity),i.uniform3f(l.color,L.color.r,L.color.g,L.color.b),o.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),t.setTexture2D(L.texture,1),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0))}}}o.enable(i.CULL_FACE),o.enable(i.DEPTH_TEST),o.buffers.depth.setMask(!0),t.resetGLState()}}}function z(t,e){function n(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);s=o.createBuffer(),c=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,s),o.bufferData(o.ARRAY_BUFFER,t,o.STATIC_DRAW),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,c),o.bufferData(o.ELEMENT_ARRAY_BUFFER,e,o.STATIC_DRAW),u=r(),h={position:o.getAttribLocation(u,"position"),uv:o.getAttribLocation(u,"uv")},l={uvOffset:o.getUniformLocation(u,"uvOffset"),uvScale:o.getUniformLocation(u,"uvScale"),rotation:o.getUniformLocation(u,"rotation"),scale:o.getUniformLocation(u,"scale"),color:o.getUniformLocation(u,"color"),map:o.getUniformLocation(u,"map"),opacity:o.getUniformLocation(u,"opacity"),modelViewMatrix:o.getUniformLocation(u,"modelViewMatrix"),projectionMatrix:o.getUniformLocation(u,"projectionMatrix"),fogType:o.getUniformLocation(u,"fogType"),fogDensity:o.getUniformLocation(u,"fogDensity"),fogNear:o.getUniformLocation(u,"fogNear"),fogFar:o.getUniformLocation(u,"fogFar"),fogColor:o.getUniformLocation(u,"fogColor"),alphaTest:o.getUniformLocation(u,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var i=n.getContext("2d");i.fillStyle="white",i.fillRect(0,0,8,8),f=new Texture(n),f.needsUpdate=!0}function r(){var e=o.createProgram(),n=o.createShader(o.VERTEX_SHADER),r=o.createShader(o.FRAGMENT_SHADER);return o.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\\n")),o.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\\n")),o.compileShader(n),o.compileShader(r),o.attachShader(e,n),o.attachShader(e,r),o.linkProgram(e),e}function i(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var o=t.context,a=t.state,s,c,u,h,l,f,d=new Vector3,p=new Quaternion,m=new Vector3;this.render=function(r,v){if(0!==e.length){void 0===u&&n(),o.useProgram(u),a.initAttributes(),a.enableAttribute(h.position),a.enableAttribute(h.uv),a.disableUnusedAttributes(),a.disable(o.CULL_FACE),a.enable(o.BLEND),o.bindBuffer(o.ARRAY_BUFFER,s),o.vertexAttribPointer(h.position,2,o.FLOAT,!1,16,0),o.vertexAttribPointer(h.uv,2,o.FLOAT,!1,16,8),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,c),o.uniformMatrix4fv(l.projectionMatrix,!1,v.projectionMatrix.elements),a.activeTexture(o.TEXTURE0),o.uniform1i(l.map,0);var g=0,y=0,_=r.fog;_?(o.uniform3f(l.fogColor,_.color.r,_.color.g,_.color.b),_.isFog?(o.uniform1f(l.fogNear,_.near),o.uniform1f(l.fogFar,_.far),o.uniform1i(l.fogType,1),g=1,y=1):_.isFogExp2&&(o.uniform1f(l.fogDensity,_.density),o.uniform1i(l.fogType,2),g=2,y=2)):(o.uniform1i(l.fogType,0),g=0,y=0);for(var x=0,b=e.length;x<b;x++){var w=e[x];w.modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,w.matrixWorld),w.z=-w.modelViewMatrix.elements[14]}e.sort(i);for(var M=[],x=0,b=e.length;x<b;x++){var w=e[x],E=w.material;if(!1!==E.visible){o.uniform1f(l.alphaTest,E.alphaTest),o.uniformMatrix4fv(l.modelViewMatrix,!1,w.modelViewMatrix.elements),w.matrixWorld.decompose(d,p,m),M[0]=m.x,M[1]=m.y;var S=0;r.fog&&E.fog&&(S=y),g!==S&&(o.uniform1i(l.fogType,S),g=S),null!==E.map?(o.uniform2f(l.uvOffset,E.map.offset.x,E.map.offset.y),o.uniform2f(l.uvScale,E.map.repeat.x,E.map.repeat.y)):(o.uniform2f(l.uvOffset,0,0),o.uniform2f(l.uvScale,1,1)),o.uniform1f(l.opacity,E.opacity),o.uniform3f(l.color,E.color.r,E.color.g,E.color.b),o.uniform1f(l.rotation,E.rotation),o.uniform2fv(l.scale,M),a.setBlending(E.blending,E.blendEquation,E.blendSrc,E.blendDst),a.buffers.depth.setTest(E.depthTest),a.buffers.depth.setMask(E.depthWrite),E.map?t.setTexture2D(E.map,0):t.setTexture2D(f,0),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0)}}a.enable(o.CULL_FACE),t.resetGLState()}}}function Material(){Object.defineProperty(this,"id",{value:qn++}),this.uuid=Ut.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=NormalBlending,this.side=FrontSide,this.shading=SmoothShading,this.vertexColors=NoColors,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.needsUpdate=!0}function ShaderMaterial(t){Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}",this.fragmentShader="void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function MeshDepthMaterial(t){Material.call(this),this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Box3(t,e){this.min=void 0!==t?t:new Vector3(1/0,1/0,1/0),this.max=void 0!==e?e:new Vector3(-1/0,-1/0,-1/0)}function Sphere(t,e){this.center=void 0!==t?t:new Vector3,this.radius=void 0!==e?e:0}function Matrix3(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function Plane(t,e){this.normal=void 0!==t?t:new Vector3(1,0,0),this.constant=void 0!==e?e:0}function Frustum(t,e,n,r,i,o){this.planes=[void 0!==t?t:new Plane,void 0!==e?e:new Plane,void 0!==n?n:new Plane,void 0!==r?r:new Plane,void 0!==i?i:new Plane,void 0!==o?o:new Plane]}function B(t,e,n,r){function i(e,n,r,i){var o=e.geometry,a=null,s=y,c=e.customDepthMaterial;if(r&&(s=_,c=e.customDistanceMaterial),c)a=c;else{var u=!1;n.morphTargets&&(o&&o.isBufferGeometry?u=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(u=o.morphTargets&&o.morphTargets.length>0)),e.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var h=e.isSkinnedMesh&&n.skinning,l=0;u&&(l|=m),h&&(l|=v),a=s[l]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var f=a.uuid,d=n.uuid,p=x[f];void 0===p&&(p={},x[f]=p);var g=p[d];void 0===g&&(g=a.clone(),p[d]=g),a=g}a.visible=n.visible,a.wireframe=n.wireframe;var b=n.side;return I.renderSingleSided&&b==DoubleSide&&(b=FrontSide),I.renderReverseSided&&(b===FrontSide?b=BackSide:b===BackSide&&(b=FrontSide)),a.side=b,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function o(e,r,a,s){if(!1!==e.visible){if(e.layers.test(r.layers)&&(e.isMesh||e.isLine||e.isPoints)&&e.castShadow&&(!e.frustumCulled||c.intersectsObject(e))){e.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,e.matrixWorld);var u=n.update(e),h=e.material;if(Array.isArray(h))for(var l=u.groups,f=0,d=l.length;f<d;f++){var m=l[f],v=h[m.materialIndex];if(v&&v.visible){var g=i(e,v,s,p);t.renderBufferDirect(a,null,u,g,e,m)}}else if(h.visible){var g=i(e,h,s,p);t.renderBufferDirect(a,null,u,g,e,null)}}for(var y=e.children,_=0,x=y.length;_<x;_++)o(y[_],r,a,s)}}var a=t.context,s=t.state,c=new Frustum,u=new Matrix4,h=e.shadows,l=new Vector2,f=new Vector2(r.maxTextureSize,r.maxTextureSize),d=new Vector3,p=new Vector3,m=1,v=2,g=1+(m|v),y=new Array(g),_=new Array(g),x={},b=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],w=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)],M=[new Vector4,new Vector4,new Vector4,new Vector4,new Vector4,new Vector4],E=new MeshDepthMaterial;E.depthPacking=RGBADepthPacking,E.clipping=!0;for(var S=ShaderLib.distanceRGBA,T=UniformsUtils.clone(S.uniforms),A=0;A!==g;++A){var R=0!==(A&m),L=0!==(A&v),P=E.clone();P.morphTargets=R,P.skinning=L,y[A]=P;var C=new ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:T,vertexShader:S.vertexShader,fragmentShader:S.fragmentShader,morphTargets:R,skinning:L,clipping:!0});_[A]=C}var I=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,n){if(!1!==I.enabled&&(!1!==I.autoUpdate||!1!==I.needsUpdate)&&0!==h.length){s.disable(a.BLEND),s.buffers.color.setClear(1,1,1,1),s.buffers.depth.setTest(!0),s.setScissorTest(!1);for(var r,i,m=0,v=h.length;m<v;m++){var g=h[m],y=g.shadow;if(void 0!==y){var _=y.camera,x=y.matrix;if(p.setFromMatrixPosition(g.matrixWorld),_.position.copy(p),l.copy(y.mapSize),l.min(f),g&&g.isPointLight){r=6,i=!0;var E=l.x,S=l.y;M[0].set(2*E,S,E,S),M[1].set(0,S,E,S),M[2].set(3*E,S,E,S),M[3].set(E,S,E,S),M[4].set(3*E,0,E,S),M[5].set(E,0,E,S),l.x*=4,l.y*=2,x.makeTranslation(-p.x,-p.y,-p.z)}else r=1,i=!1,d.setFromMatrixPosition(g.target.matrixWorld),_.lookAt(d),_.updateMatrixWorld(),_.matrixWorldInverse.getInverse(_.matrixWorld),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(_.projectionMatrix),x.multiply(_.matrixWorldInverse);if(null===y.map){var T={minFilter:NearestFilter,magFilter:NearestFilter,format:RGBAFormat};y.map=new WebGLRenderTarget(l.x,l.y,T),y.map.texture.name=g.name+".shadowMap",_.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(g);var A=y.map;t.setRenderTarget(A),t.clear();for(var R=0;R<r;R++){if(i){d.copy(_.position),d.add(b[R]),_.up.copy(w[R]),_.lookAt(d),_.updateMatrixWorld(),_.matrixWorldInverse.getInverse(_.matrixWorld);var L=M[R];s.viewport(L)}u.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),c.setFromMatrix(u),o(e,n,_,i)}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}var P=t.getClearColor(),C=t.getClearAlpha();t.setClearColor(P,C),I.needsUpdate=!1}}}function Ray(t,e){this.origin=void 0!==t?t:new Vector3,this.direction=void 0!==e?e:new Vector3}function Euler(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||Euler.DefaultOrder}function Layers(){this.mask=1}function Object3D(){function t(){i.setFromEuler(r,!1)}function e(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:Zn++}),this.uuid=Ut.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();var n=new Vector3,r=new Euler,i=new Quaternion,o=new Vector3(1,1,1);r.onChange(t),i.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function Line3(t,e){this.start=void 0!==t?t:new Vector3,this.end=void 0!==e?e:new Vector3}function Triangle(t,e,n){this.a=void 0!==t?t:new Vector3,this.b=void 0!==e?e:new Vector3,this.c=void 0!==n?n:new Vector3}function Face3(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new Vector3,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Color,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function MeshBasicMaterial(t){Material.call(this),this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function BufferAttribute(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Ut.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Int8BufferAttribute(t,e){BufferAttribute.call(this,new Int8Array(t),e)}function Uint8BufferAttribute(t,e){BufferAttribute.call(this,new Uint8Array(t),e)}function Uint8ClampedBufferAttribute(t,e){BufferAttribute.call(this,new Uint8ClampedArray(t),e)}function Int16BufferAttribute(t,e){BufferAttribute.call(this,new Int16Array(t),e)}function Uint16BufferAttribute(t,e){BufferAttribute.call(this,new Uint16Array(t),e)}function Int32BufferAttribute(t,e){BufferAttribute.call(this,new Int32Array(t),e)}function Uint32BufferAttribute(t,e){BufferAttribute.call(this,new Uint32Array(t),e)}function Float32BufferAttribute(t,e){BufferAttribute.call(this,new Float32Array(t),e)}function Float64BufferAttribute(t,e){BufferAttribute.call(this,new Float64Array(t),e)}function k(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function G(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}function GeometryIdCount(){return Jn++}function Geometry(){Object.defineProperty(this,"id",{value:GeometryIdCount()}),this.uuid=Ut.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function BufferGeometry(){Object.defineProperty(this,"id",{value:GeometryIdCount()}),this.uuid=Ut.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Mesh(t,e){Object3D.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new BufferGeometry,this.material=void 0!==e?e:new MeshBasicMaterial({color:16777215*Math.random()}),this.drawMode=TrianglesDrawMode,this.updateMorphTargets()}function BoxGeometry(t,e,n,r,i,o){Geometry.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new BoxBufferGeometry(t,e,n,r,i,o)),this.mergeVertices()}function BoxBufferGeometry(t,e,n,r,i,o){function a(t,e,n,r,i,o,a,p,m,v,g){var y=o/m,_=a/v,x=o/2,b=a/2,w=p/2,M=m+1,E=v+1,S=0,T=0,A,R,L=new Vector3;for(R=0;R<E;R++){var P=R*_-b;for(A=0;A<M;A++){var C=A*y-x;L[t]=C*r,L[e]=P*i,L[n]=w,u.push(L.x,L.y,L.z),L[t]=0,L[e]=0,L[n]=p>0?1:-1,h.push(L.x,L.y,L.z),l.push(A/m),l.push(1-R/v),S+=1}}for(R=0;R<v;R++)for(A=0;A<m;A++){var I=f+A+M*R,O=f+A+M*(R+1),N=f+(A+1)+M*(R+1),U=f+(A+1)+M*R;c.push(I,O,U),c.push(O,N,U),T+=6}s.addGroup(d,T,g),d+=T,f+=S}BufferGeometry.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var s=this;r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var c=[],u=[],h=[],l=[],f=0,d=0;a("z","y","x",-1,-1,n,e,t,o,i,0),a("z","y","x",1,-1,n,e,-t,o,i,1),a("x","z","y",1,1,t,n,e,r,o,2),a("x","z","y",1,-1,t,n,-e,r,o,3),a("x","y","z",1,-1,t,e,n,r,i,4),a("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(c),this.addAttribute("position",new Float32BufferAttribute(u,3)),this.addAttribute("normal",new Float32BufferAttribute(h,3)),this.addAttribute("uv",new Float32BufferAttribute(l,2))}function PlaneGeometry(t,e,n,r){Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new PlaneBufferGeometry(t,e,n,r)),this.mergeVertices()}function PlaneBufferGeometry(t,e,n,r){BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i=t/2,o=e/2,a=Math.floor(n)||1,s=Math.floor(r)||1,c=a+1,u=s+1,h=t/a,l=e/s,f,d,p=[],m=[],v=[],g=[];for(d=0;d<u;d++){var y=d*l-o;for(f=0;f<c;f++){var _=f*h-i;m.push(_,-y,0),v.push(0,0,1),g.push(f/a),g.push(1-d/s)}}for(d=0;d<s;d++)for(f=0;f<a;f++){var x=f+c*d,b=f+c*(d+1),w=f+1+c*(d+1),M=f+1+c*d;p.push(x,b,M),p.push(b,w,M)}this.setIndex(p),this.addAttribute("position",new Float32BufferAttribute(m,3)),this.addAttribute("normal",new Float32BufferAttribute(v,3)),this.addAttribute("uv",new Float32BufferAttribute(g,2))}function Camera(){Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4}function PerspectiveCamera(t,e,n,r){Camera.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function OrthographicCamera(t,e,n,r,i,o){Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function H(t){function e(e,n){var r=e.array,i=e.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW,o=t.createBuffer();t.bindBuffer(n,o),t.bufferData(n,r,i),e.onUploadCallback();var a=t.FLOAT;return r instanceof Float32Array?a=t.FLOAT:r instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):r instanceof Uint16Array?a=t.UNSIGNED_SHORT:r instanceof Int16Array?a=t.SHORT:r instanceof Uint32Array?a=t.UNSIGNED_INT:r instanceof Int32Array?a=t.INT:r instanceof Int8Array?a=t.BYTE:r instanceof Uint8Array&&(a=t.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}function n(e,n,r){var i=n.array,o=n.updateRange;t.bindBuffer(r,e),!1===n.dynamic?t.bufferData(r,i,t.STATIC_DRAW):-1===o.count?t.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=0)}function r(t){return t.isInterleavedBufferAttribute&&(t=t.data),a[t.uuid]}function i(e){var n=a[e.uuid];n&&(t.deleteBuffer(n.buffer),delete a[e.uuid])}function o(t,r){t.isInterleavedBufferAttribute&&(t=t.data);var i=a[t.uuid];void 0===i?a[t.uuid]=e(t,r):i.version<t.version&&(n(i.buffer,t,r),i.version=t.version)}var a={};return{get:r,remove:i,update:o}}function j(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function V(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function W(){function t(){o=-1,s=-1}function e(t,e,n,r,c){var u,h;n.transparent?(u=a,h=++s):(u=i,h=++o);var l=u[h];l?(l.id=t.id,l.object=t,l.geometry=e,l.material=n,l.program=n.program,l.renderOrder=t.renderOrder,l.z=r,l.group=c):(l={id:t.id,object:t,geometry:e,material:n,program:n.program,renderOrder:t.renderOrder,z:r,group:c},u.push(l))}function n(){i.length=o+1,a.length=s+1}function r(){i.sort(j),a.sort(V)}var i=[],o=-1,a=[],s=-1;return{opaque:i,transparent:a,init:t,push:e,finish:n,sort:r}}function X(){function t(t,e){var r=t.id+","+e.id,i=n[r];return void 0===i&&(i=new W,n[r]=i),i}function e(){n={}}var n={};return{get:t,dispose:e}}function Y(t,e,n){function r(t){s=t}function i(n){n.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(c=t.UNSIGNED_INT,u=4):n.array instanceof Uint16Array?(c=t.UNSIGNED_SHORT,u=2):(c=t.UNSIGNED_BYTE,u=1)}function o(e,r){t.drawElements(s,r,c,e*u),n.calls++,n.vertices+=r,s===t.TRIANGLES&&(n.faces+=r/3)}function a(r,i,o){var a=e.get("ANGLE_instanced_arrays");if(null===a)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");a.drawElementsInstancedANGLE(s,o,c,i*u,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,s===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)}var s,c,u;this.setMode=r,this.setIndex=i,this.render=o,this.renderInstances=a}function q(t,e,n){function r(t){a=t}function i(e,r){t.drawArrays(a,e,r),n.calls++,n.vertices+=r,a===t.TRIANGLES&&(n.faces+=r/3)}function o(r,i,o){var s=e.get("ANGLE_instanced_arrays");if(null===s)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var c=r.attributes.position;c.isInterleavedBufferAttribute?(o=c.data.count,s.drawArraysInstancedANGLE(a,0,o,r.maxInstancedCount)):s.drawArraysInstancedANGLE(a,i,o,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,a===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)}var a;this.setMode=r,this.render=i,this.renderInstances=o}function Z(t,e,n){function r(t){var i=t.target,o=s[i.id];null!==o.index&&e.remove(o.index);for(var a in o.attributes)e.remove(o.attributes[a]);i.removeEventListener("dispose",r),delete s[i.id];var u=c[i.id];u&&(e.remove(u),delete c[i.id]),u=c[o.id],u&&(e.remove(u),delete c[o.id]),n.geometries--}function i(t,e){var i=s[e.id];return i||(e.addEventListener("dispose",r),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new BufferGeometry).setFromObject(t)),i=e._bufferGeometry),s[e.id]=i,n.geometries++,i)}function o(n){var r=n.index,i=n.attributes;null!==r&&e.update(r,t.ELEMENT_ARRAY_BUFFER);for(var o in i)e.update(i[o],t.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],c=0,u=s.length;c<u;c++)e.update(s[c],t.ARRAY_BUFFER)}function a(n){var r=c[n.id];if(r)return r;var i=[],o=n.index,a=n.attributes;if(null!==o)for(var s=o.array,u=0,h=s.length;u<h;u+=3){var l=s[u+0],f=s[u+1],d=s[u+2];i.push(l,f,f,d,d,l)}else for(var s=a.position.array,u=0,h=s.length/3-1;u<h;u+=3){var l=u+0,f=u+1,d=u+2;i.push(l,f,f,d,d,l)}return r=new(G(i)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(i,1),e.update(r,t.ELEMENT_ARRAY_BUFFER),c[n.id]=r,r}var s={},c={};return{get:i,update:o,getWireframeAttribute:a}}function J(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new Vector3,color:new Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":n={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":n={position:new Vector3,color:new Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"HemisphereLight":n={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":n={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3}}return t[e.id]=n,n}}}function K(t,e,n){function r(t){var r=n.frame,i=t.geometry,a=e.get(t,i);return o[a.id]!==r&&(i.isGeometry&&a.updateFromObject(t),e.update(a),o[a.id]=r),a}function i(){o={}}var o={};return{update:r,clear:i}}function Q(t){for(var e=t.split("\\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\\n")}function $(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn\'t compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),Q(n)),r}function tt(t){switch(t){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];case RGBEEncoding:return["RGBE","( value )"];case RGBM7Encoding:return["RGBM","( value, 7.0 )"];case RGBM16Encoding:return["RGBM","( value, 16.0 )"];case RGBDEncoding:return["RGBD","( value, 256.0 )"];case GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function et(t,e){var n=tt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function nt(t,e){var n=tt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function rt(t,e){var n;switch(e){case LinearToneMapping:n="Linear";break;case ReinhardToneMapping:n="Reinhard";break;case Uncharted2ToneMapping:n="Uncharted2";break;case CineonToneMapping:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function it(t,e,n){return t=t||{},[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(st).join("\\n")}function ot(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\\n")}function at(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o),s=a.name;r[s]=t.getAttribLocation(e,s)}return r}function st(t){return""!==t}function ct(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function ut(t){function e(t,e){var n=ShaderChunk[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return ut(n)}var n=/^[ \\t]*#include +<([\\w\\d.]+)>/gm;return t.replace(n,e)}function ht(t){function e(t,e,n,r){for(var i="",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\\[ i \\]/g,"[ "+o+" ]");return i}var n=/for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;return t.replace(n,e)}function lt(t,e,n,r){var i=t.context,o=n.extensions,a=n.defines,s=n.__webglShader.vertexShader,c=n.__webglShader.fragmentShader,u="SHADOWMAP_TYPE_BASIC";r.shadowMapType===PCFShadowMap?u="SHADOWMAP_TYPE_PCF":r.shadowMapType===PCFSoftShadowMap&&(u="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",l="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(n.envMap.mapping){case CubeReflectionMapping:case CubeRefractionMapping:h="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:case CubeUVRefractionMapping:h="ENVMAP_TYPE_CUBE_UV";break;case EquirectangularReflectionMapping:case EquirectangularRefractionMapping:h="ENVMAP_TYPE_EQUIREC";break;case SphericalReflectionMapping:h="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case CubeRefractionMapping:case EquirectangularRefractionMapping:l="ENVMAP_MODE_REFRACTION"}switch(n.combine){case MultiplyOperation:f="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:f="ENVMAP_BLENDING_MIX";break;case AddOperation:f="ENVMAP_BLENDING_ADD"}}var d=t.gammaFactor>0?t.gammaFactor:1,p=it(o,r,t.extensions),m=ot(a),v=i.createProgram(),g,y;n.isRawShaderMaterial?(g=[m,"\\n"].filter(st).join("\\n"),y=[p,m,"\\n"].filter(st).join("\\n")):(g=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,m,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+l:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\\tattribute vec3 morphTarget0;","\\tattribute vec3 morphTarget1;","\\tattribute vec3 morphTarget2;","\\tattribute vec3 morphTarget3;","\\t#ifdef USE_MORPHNORMALS","\\t\\tattribute vec3 morphNormal0;","\\t\\tattribute vec3 morphNormal1;","\\t\\tattribute vec3 morphNormal2;","\\t\\tattribute vec3 morphNormal3;","\\t#else","\\t\\tattribute vec3 morphTarget4;","\\t\\tattribute vec3 morphTarget5;","\\t\\tattribute vec3 morphTarget6;","\\t\\tattribute vec3 morphTarget7;","\\t#endif","#endif","#ifdef USE_SKINNING","\\tattribute vec4 skinIndex;","\\tattribute vec4 skinWeight;","#endif","\\n"].filter(st).join("\\n"),y=[p,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,m,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+d,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.envMap?"#define "+l:"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",r.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",r.toneMapping!==NoToneMapping?rt("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?ShaderChunk.encodings_pars_fragment:"",r.mapEncoding?et("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?et("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?et("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?nt("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\\n"].filter(st).join("\\n")),s=ut(s,r),s=ct(s,r),c=ut(c,r),c=ct(c,r),n.isShaderMaterial||(s=ht(s),c=ht(c));var _=g+s,x=y+c,b=$(i,i.VERTEX_SHADER,_),w=$(i,i.FRAGMENT_SHADER,x);i.attachShader(v,b),i.attachShader(v,w),void 0!==n.index0AttributeName?i.bindAttribLocation(v,0,n.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);var M=i.getProgramInfoLog(v),E=i.getShaderInfoLog(b),S=i.getShaderInfoLog(w),T=!0,A=!0;!1===i.getProgramParameter(v,i.LINK_STATUS)?(T=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(v,i.VALIDATE_STATUS),"gl.getProgramInfoLog",M,E,S)):""!==M?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",M):""!==E&&""!==S||(A=!1),A&&(this.diagnostics={runnable:T,material:n,programLog:M,vertexShader:{log:E,prefix:g},fragmentShader:{log:S,prefix:y}}),i.deleteShader(b),i.deleteShader(w);var R;this.getUniforms=function(){return void 0===R&&(R=new D(i,v,t)),R};var L;return this.getAttributes=function(){return void 0===L&&(L=at(i,v)),L},this.destroy=function(){i.deleteProgram(v),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Kn++,this.code=e,this.usedTimes=1,this.program=v,this.vertexShader=b,this.fragmentShader=w,this}function ft(t,e){function n(t){var n=t.skeleton,r=n.bones;if(e.floatVertexTextures)return 1024;var i=e.maxVertexUniforms,o=Math.floor((i-20)/4),a=Math.min(o,r.length);return a<r.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+r.length+" bones. This GPU supports "+a+"."),0):a}function r(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don\'t use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=LinearEncoding,n===LinearEncoding&&e&&(n=GammaEncoding),n}var i=[],o={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(i,a,s,c,u,h){var l=o[i.type],f=h.isSkinnedMesh?n(h):0,d=t.getPrecision();null!==i.precision&&(d=e.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead.");var p=t.getRenderTarget();return{shaderID:l,precision:d,supportsVertexTextures:e.vertexTextures,outputEncoding:r(p?p.texture:null,t.gammaOutput),map:!!i.map,mapEncoding:r(i.map,t.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:r(i.envMap,t.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===CubeUVReflectionMapping||i.envMap.mapping===CubeUVRefractionMapping),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:r(i.emissiveMap,t.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!s,useFog:i.fog,fogExp:s&&s.isFogExp2,flatShading:i.shading===FlatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:i.skinning&&f>0,maxBones:f,useVertexTexture:e.floatVertexTextures,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numClippingPlanes:c,numClipIntersection:u,dithering:i.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&a.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===DoubleSide,flipSided:i.side===BackSide,depthPacking:void 0!==i.depthPacking&&i.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var i=0;i<a.length;i++)n.push(e[a[i]]);return n.join()},this.acquireProgram=function(e,n,r){for(var o,a=0,s=i.length;a<s;a++){var c=i[a];if(c.code===r){o=c,++o.usedTimes;break}}return void 0===o&&(o=new lt(t,r,e,n),i.push(o)),o},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function dt(t,e,n,r,i,o,a){function s(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n);return r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height,t),r}return t}function c(t){return Ut.isPowerOfTwo(t.width)&&Ut.isPowerOfTwo(t.height)}function u(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=Ut.nearestPowerOfTwo(t.width),e.height=Ut.nearestPowerOfTwo(t.height);return e.getContext("2d").drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}function h(t){return t.wrapS!==ClampToEdgeWrapping||t.wrapT!==ClampToEdgeWrapping||t.minFilter!==NearestFilter&&t.minFilter!==LinearFilter}function l(e){return e===NearestFilter||e===NearestMipMapNearestFilter||e===NearestMipMapLinearFilter?t.NEAREST:t.LINEAR}function f(t){var e=t.target;e.removeEventListener("dispose",f),p(e),a.textures--}function d(t){var e=t.target;e.removeEventListener("dispose",d),m(e),a.textures--}function p(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.remove(e)}function m(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}function v(e,i){var o=r.get(e);if(e.version>0&&o.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==a.complete)return void x(o,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function g(e,u){var h=r.get(e);if(6===e.image.length)if(e.version>0&&h.__version!==e.version){h.__image__webglTextureCube||(e.addEventListener("dispose",f),h.__image__webglTextureCube=t.createTexture(),a.textures++),n.activeTexture(t.TEXTURE0+u),n.bindTexture(t.TEXTURE_CUBE_MAP,h.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var l=e&&e.isCompressedTexture,d=e.image[0]&&e.image[0].isDataTexture,p=[],m=0;m<6;m++)p[m]=l||d?d?e.image[m].image:e.image[m]:s(e.image[m],i.maxCubemapSize);var v=p[0],g=c(v),y=o(e.format),x=o(e.type);_(t.TEXTURE_CUBE_MAP,e,g);for(var m=0;m<6;m++)if(l)for(var b,w=p[m].mipmaps,M=0,E=w.length;M<E;M++)b=w[M],e.format!==RGBAFormat&&e.format!==RGBFormat?n.getCompressedTextureFormats().indexOf(y)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,M,y,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,M,y,b.width,b.height,0,y,x,b.data);else d?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,p[m].width,p[m].height,0,y,x,p[m].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,y,x,p[m]);e.generateMipmaps&&g&&t.generateMipmap(t.TEXTURE_CUBE_MAP),h.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+u),n.bindTexture(t.TEXTURE_CUBE_MAP,h.__image__webglTextureCube)}function y(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)}function _(n,a,s){var c;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,o(a.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o(a.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o(a.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===ClampToEdgeWrapping&&a.wrapT===ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),t.texParameteri(n,t.TEXTURE_MAG_FILTER,l(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,l(a.minFilter)),a.minFilter!==NearestFilter&&a.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),c=e.get("EXT_texture_filter_anisotropic")){if(a.type===FloatType&&null===e.get("OES_texture_float_linear"))return;if(a.type===HalfFloatType&&null===e.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(t.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function x(e,r,l){void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener("dispose",f),e.__webglTexture=t.createTexture(),a.textures++),n.activeTexture(t.TEXTURE0+l),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var d=s(r.image,i.maxTextureSize);h(r)&&!1===c(d)&&(d=u(d));var p=c(d),m=o(r.format),v=o(r.type);_(t.TEXTURE_2D,r,p);var g,y=r.mipmaps;if(r.isDepthTexture){var x=t.DEPTH_COMPONENT;if(r.type===FloatType){if(!A)throw new Error("Float Depth Texture only supported in WebGL2.0");x=t.DEPTH_COMPONENT32F}else A&&(x=t.DEPTH_COMPONENT16);r.format===DepthFormat&&x===t.DEPTH_COMPONENT&&r.type!==UnsignedShortType&&r.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=UnsignedShortType,v=o(r.type)),r.format===DepthStencilFormat&&(x=t.DEPTH_STENCIL,r.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=UnsignedInt248Type,v=o(r.type))),n.texImage2D(t.TEXTURE_2D,0,x,d.width,d.height,0,m,v,null)}else if(r.isDataTexture)if(y.length>0&&p){for(var b=0,w=y.length;b<w;b++)g=y[b],n.texImage2D(t.TEXTURE_2D,b,m,g.width,g.height,0,m,v,g.data);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,m,d.width,d.height,0,m,v,d.data);else if(r.isCompressedTexture)for(var b=0,w=y.length;b<w;b++)g=y[b],r.format!==RGBAFormat&&r.format!==RGBFormat?n.getCompressedTextureFormats().indexOf(m)>-1?n.compressedTexImage2D(t.TEXTURE_2D,b,m,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,b,m,g.width,g.height,0,m,v,g.data);else if(y.length>0&&p){for(var b=0,w=y.length;b<w;b++)g=y[b],n.texImage2D(t.TEXTURE_2D,b,m,m,v,g);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,m,m,v,d);r.generateMipmaps&&p&&t.generateMipmap(t.TEXTURE_2D),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function b(e,i,a,s){var c=o(i.texture.format),u=o(i.texture.type);n.texImage2D(s,0,c,i.width,i.height,0,c,u,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function w(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function M(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===DepthFormat)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==DepthStencilFormat)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}function E(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");M(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),w(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),w(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function S(e){var i=r.get(e),o=r.get(e.texture);e.addEventListener("dispose",d),o.__webglTexture=t.createTexture(),a.textures++;var s=!0===e.isWebGLRenderTargetCube,u=c(e);if(s){i.__webglFramebuffer=[];for(var h=0;h<6;h++)i.__webglFramebuffer[h]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(s){n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),_(t.TEXTURE_CUBE_MAP,e.texture,u);for(var h=0;h<6;h++)b(i.__webglFramebuffer[h],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+h);e.texture.generateMipmaps&&u&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),_(t.TEXTURE_2D,e.texture,u),b(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&u&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&E(e)}function T(e){var i=e.texture;if(i.generateMipmaps&&c(e)&&i.minFilter!==NearestFilter&&i.minFilter!==LinearFilter){var o=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),t.generateMipmap(o),n.bindTexture(o,null)}}var A="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=v,this.setTextureCube=g,this.setTextureCubeDynamic=y,this.setupRenderTarget=S,this.updateRenderTargetMipmap=T}function pt(){function t(t){var e=t.uuid,n=r[e];return void 0===n&&(n={},r[e]=n),n}function e(t){delete r[t.uuid]}function n(){r={}}var r={};return{get:t,remove:e,clear:n}}function mt(t,e,n){function r(){var e=!1,n=new Vector4,r=null,i=new Vector4;return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,a,s){!0===s&&(e*=a,r*=a,o*=a),n.set(e,r,o,a),!1===i.equals(n)&&(t.clearColor(e,r,o,a),i.copy(n))},reset:function(){e=!1,r=null,i.set(0,0,0,1)}}}function i(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?f(t.DEPTH_TEST):d(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case NeverDepth:t.depthFunc(t.NEVER);break;case AlwaysDepth:t.depthFunc(t.ALWAYS);break;case LessDepth:t.depthFunc(t.LESS);break;case LessEqualDepth:t.depthFunc(t.LEQUAL);break;case EqualDepth:t.depthFunc(t.EQUAL);break;case GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case GreaterDepth:t.depthFunc(t.GREATER);break;case NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}}function o(){var e=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,u=null;return{setTest:function(e){e?f(t.STENCIL_TEST):d(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&c===r||(t.stencilOp(e,n,r),a=e,s=n,c=r)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,u=null}}}function a(e,n,r){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<r;a++)t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}function s(){P.setClear(0,0,0,1),C.setClear(1),I.setClear(0),f(t.DEPTH_TEST),C.setFunc(LessEqualDepth),g(!1),y(CullFaceBack),f(t.CULL_FACE),f(t.BLEND),m(NormalBlending)}function c(){for(var t=0,e=N.length;t<e;t++)N[t]=0}function u(n){if(N[n]=1,0===U[n]&&(t.enableVertexAttribArray(n),U[n]=1),0!==D[n]){e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),D[n]=0}}function h(n,r){if(N[n]=1,0===U[n]&&(t.enableVertexAttribArray(n),U[n]=1),D[n]!==r){e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,r),D[n]=r}}function l(){for(var e=0,n=U.length;e!==n;++e)U[e]!==N[e]&&(t.disableVertexAttribArray(e),U[e]=0)}function f(e){!0!==F[e]&&(t.enable(e),F[e]=!0)}function d(e){!1!==F[e]&&(t.disable(e),F[e]=!1)}function p(){if(null===z&&(z=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)z.push(n[r]);return z}function m(e,r,i,o,a,s,c,u){e!==NoBlending?f(t.BLEND):d(t.BLEND),e===B&&u===X||(e===AdditiveBlending?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===SubtractiveBlending?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===MultiplyBlending?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),B=e,X=u),e===CustomBlending?(a=a||r,s=s||i,c=c||o,r===k&&a===j||(t.blendEquationSeparate(n(r),n(a)),k=r,j=a),i===G&&o===H&&s===V&&c===W||(t.blendFuncSeparate(n(i),n(o),n(s),n(c)),G=i,H=o,V=s,W=c)):(k=null,G=null,H=null,j=null,V=null,W=null)}function v(e){e.side===DoubleSide?d(t.CULL_FACE):f(t.CULL_FACE),g(e.side===BackSide),!0===e.transparent?m(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):m(NoBlending),C.setFunc(e.depthFunc),C.setTest(e.depthTest),C.setMask(e.depthWrite),P.setMask(e.colorWrite),x(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function g(e){Y!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),Y=e)}function y(e){e!==CullFaceNone?(f(t.CULL_FACE),e!==q&&(e===CullFaceBack?t.cullFace(t.BACK):e===CullFaceFront?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):d(t.CULL_FACE),q=e}function _(e){e!==Z&&(et&&t.lineWidth(e),Z=e)}function x(e,n,r){e?(f(t.POLYGON_OFFSET_FILL),J===n&&K===r||(t.polygonOffset(n,r),J=n,K=r)):d(t.POLYGON_OFFSET_FILL)}function b(){return Q}function w(e){Q=e,e?f(t.SCISSOR_TEST):d(t.SCISSOR_TEST)}function M(e){void 0===e&&(e=t.TEXTURE0+$-1),nt!==e&&(t.activeTexture(e),nt=e)}function E(e,n){null===nt&&M();var r=rt[nt];void 0===r&&(r={type:void 0,texture:void 0},rt[nt]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||at[e]),r.type=e,r.texture=n)}function S(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}}function T(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}}function A(e){!1===it.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),it.copy(e))}function R(e){!1===ot.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),ot.copy(e))}function L(){for(var e=0;e<U.length;e++)1===U[e]&&(t.disableVertexAttribArray(e),U[e]=0);F={},z=null,nt=null,rt={},B=null,Y=null,q=null,P.reset(),C.reset(),I.reset()}var P=new r,C=new i,I=new o,O=t.getParameter(t.MAX_VERTEX_ATTRIBS),N=new Uint8Array(O),U=new Uint8Array(O),D=new Uint8Array(O),F={},z=null,B=null,k=null,G=null,H=null,j=null,V=null,W=null,X=!1,Y=null,q=null,Z=null,J=null,K=null,Q=null,$=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),tt=parseFloat(/^WebGL\\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),et=parseFloat(tt)>=1,nt=null,rt={},it=new Vector4,ot=new Vector4,at={};return at[t.TEXTURE_2D]=a(t.TEXTURE_2D,t.TEXTURE_2D,1),at[t.TEXTURE_CUBE_MAP]=a(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:P,depth:C,stencil:I},init:s,initAttributes:c,enableAttribute:u,enableAttributeAndDivisor:h,disableUnusedAttributes:l,enable:f,disable:d,getCompressedTextureFormats:p,setBlending:m,setMaterial:v,setFlipSided:g,setCullFace:y,setLineWidth:_,setPolygonOffset:x,getScissorTest:b,setScissorTest:w,activeTexture:M,bindTexture:E,compressedTexImage2D:S,texImage2D:T,scissor:A,viewport:R,reset:L}}function vt(t,e,n){function r(){if(void 0!==o)return o;var n=e.get("EXT_texture_filter_anisotropic");return o=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var c=!0===n.logarithmicDepthBuffer&&!!e.get("EXT_frag_depth"),u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_TEXTURE_SIZE),f=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=h>0,y=!!e.get("OES_texture_float");return{getMaxAnisotropy:r,getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:h,maxTextureSize:l,maxCubemapSize:f,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y}}function gt(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=t.getExtension("WEBGL_compressed_texture_etc1");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}function yt(){function t(){u.value!==r&&(u.value=r,u.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function e(t,e,r,i){var o=null!==t?t.length:0,a=null;if(0!==o){if(a=u.value,!0!==i||null===a){var h=r+4*o,l=e.matrixWorldInverse;c.getNormalMatrix(l),(null===a||a.length<h)&&(a=new Float32Array(h));for(var f=0,d=r;f!==o;++f,d+=4)s.copy(t[f]).applyMatrix4(l,c),s.normal.toArray(a,d),a[d+3]=s.constant}u.value=a,u.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new Plane,c=new Matrix3,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var s=0!==t.length||n||0!==i||o;return o=n,r=e(t,a,0),i=t.length,s},this.beginShadows=function(){a=!0,e(null)},this.endShadows=function(){a=!1,t()},this.setState=function(n,s,c,h,l,f){if(!o||null===n||0===n.length||a&&!c)a?e(null):t();else{var d=a?0:i,p=4*d,m=l.clippingState||null;u.value=m,m=e(n,h,p,f);for(var v=0;v!==p;++v)m[v]=r[v];l.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=d}}}function WebGLRenderer(t){function e(){return null===it?Et:1}function n(){Vt.init(),Vt.scissor(ut.copy(St).multiplyScalar(Et)),Vt.viewport(lt.copy(At).multiplyScalar(Et)),Vt.buffers.color.setClear(xt.r,xt.g,xt.b,bt,j)}function r(){rt=null,ct=null,st="",at=-1,Vt.reset()}function i(t){t.preventDefault(),r(),n(),Wt.clear(),Zt.clear()}function o(t){var e=t.target;e.removeEventListener("dispose",o),a(e)}function a(t){s(t),Wt.remove(t)}function s(t){var e=Wt.get(t).program;t.program=void 0,void 0!==e&&Jt.releaseProgram(e)}function c(t,e,n){t.render(function(t){nt.renderBufferImmediate(t,e,n)})}function u(t,e){return Math.abs(e[0])-Math.abs(t[0])}function h(t,e,n,r){if(n&&n.isInstancedBufferGeometry&&null===Ht.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),Vt.initAttributes();var i=n.attributes,o=e.getAttributes(),a=t.defaultAttributeValues;for(var s in o){var c=o[s];if(c>=0){var u=i[s];if(void 0!==u){var h=u.normalized,l=u.itemSize,f=Yt.get(u),d=f.buffer,p=f.type,m=f.bytesPerElement;if(u.isInterleavedBufferAttribute){var v=u.data,g=v.stride,y=u.offset;v&&v.isInstancedInterleavedBuffer?(Vt.enableAttributeAndDivisor(c,v.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=v.meshPerAttribute*v.count)):Vt.enableAttribute(c),kt.bindBuffer(kt.ARRAY_BUFFER,d),kt.vertexAttribPointer(c,l,p,h,g*m,(r*g+y)*m)}else u.isInstancedBufferAttribute?(Vt.enableAttributeAndDivisor(c,u.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=u.meshPerAttribute*u.count)):Vt.enableAttribute(c),kt.bindBuffer(kt.ARRAY_BUFFER,d),kt.vertexAttribPointer(c,l,p,h,0,r*l*m)}else if(void 0!==a){var _=a[s];if(void 0!==_)switch(_.length){case 2:kt.vertexAttrib2fv(c,_);break;case 3:kt.vertexAttrib3fv(c,_);break;case 4:kt.vertexAttrib4fv(c,_);break;default:kt.vertexAttrib1fv(c,_)}}}}Vt.disableUnusedAttributes()}function l(t,e,n){if(t.visible){if(t.layers.test(e.layers))if(t.isLight)W.push(t);else if(t.isSprite)t.frustumCulled&&!Rt.intersectsSprite(t)||tt.push(t);else if(t.isLensFlare)et.push(t);else if(t.isImmediateRenderObject)n&&Ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(It),Q.push(t,null,t.material,Ot.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||Rt.intersectsObject(t))){n&&Ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(It);var r=Zt.update(t),i=t.material;if(Array.isArray(i))for(var o=r.groups,a=0,s=o.length;a<s;a++){var c=o[a],u=i[c.materialIndex];u&&u.visible&&Q.push(t,r,u,Ot.z,c)}else i.visible&&Q.push(t,r,i,Ot.z,null)}for(var h=t.children,a=0,s=h.length;a<s;a++)l(h[a],e,n)}}function f(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,c=a.geometry,u=void 0===r?a.material:r,h=a.group;if(s.onBeforeRender(nt,e,n,c,u,h),n.isArrayCamera&&n.enabled)for(var l=n.cameras,f=0,p=l.length;f<p;f++){var m=l[f],v=m.bounds;nt.setViewport(v.x*wt*Et,v.y*Mt*Et,v.z*wt*Et,v.w*Mt*Et),nt.setScissor(v.x*wt*Et,v.y*Mt*Et,v.z*wt*Et,v.w*Mt*Et),nt.setScissorTest(!0),d(s,e,m,c,u,h)}else d(s,e,n,c,u,h);s.onAfterRender(nt,e,n,c,u,h)}}function d(t,e,n,r,i,o){if(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){Vt.setMaterial(i);var a=m(n,e.fog,i,t);st="",c(t,a,i)}else nt.renderBufferDirect(n,e.fog,r,i,t,o)}function p(t,e,n){var r=Wt.get(t),i=Jt.getParameters(t,Ft,e,Lt.numPlanes,Lt.numIntersection,n),a=Jt.getProgramCode(t,i),c=r.program,u=!0;if(void 0===c)t.addEventListener("dispose",o);else if(c.code!==a)s(t);else{if(void 0!==i.shaderID)return;u=!1}if(u){if(i.shaderID){var h=ShaderLib[i.shaderID];r.__webglShader={name:t.type,uniforms:UniformsUtils.clone(h.uniforms),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,c=Jt.acquireProgram(t,i,a),r.program=c,t.program=c}var l=c.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var f=0;f<nt.maxMorphTargets;f++)l["morphTarget"+f]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var f=0;f<nt.maxMorphNormals;f++)l["morphNormal"+f]>=0&&t.numSupportedMorphNormals++}var d=r.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=Lt.numPlanes,r.numIntersection=Lt.numIntersection,d.clippingPlanes=Lt.uniform),r.fog=e,r.lightsHash=Ft.hash,t.lights&&(d.ambientLightColor.value=Ft.ambient,d.directionalLights.value=Ft.directional,d.spotLights.value=Ft.spot,d.rectAreaLights.value=Ft.rectArea,d.pointLights.value=Ft.point,d.hemisphereLights.value=Ft.hemi,d.directionalShadowMap.value=Ft.directionalShadowMap,d.directionalShadowMatrix.value=Ft.directionalShadowMatrix,d.spotShadowMap.value=Ft.spotShadowMap,d.spotShadowMatrix.value=Ft.spotShadowMatrix,d.pointShadowMap.value=Ft.pointShadowMap,d.pointShadowMatrix.value=Ft.pointShadowMatrix);var p=r.program.getUniforms(),m=D.seqWithValue(p.seq,d);r.uniformsList=m}function m(t,e,n,r){_t=0;var i=Wt.get(n);if(Pt&&(Ct||t!==ct)){var o=t===ct&&n.id===at;Lt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:n.lights&&i.lightsHash!==Ft.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===Lt.numPlanes&&i.numIntersection===Lt.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(p(n,e,r),n.needsUpdate=!1);var a=!1,s=!1,c=!1,u=i.program,h=u.getUniforms(),l=i.__webglShader.uniforms;if(u.id!==rt&&(kt.useProgram(u.program),rt=u.id,a=!0,s=!0,c=!0),n.id!==at&&(at=n.id,s=!0),a||t!==ct){if(h.setValue(kt,"projectionMatrix",t.projectionMatrix),jt.logarithmicDepthBuffer&&h.setValue(kt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==ct&&(ct=t,s=!0,c=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var f=h.map.cameraPosition;void 0!==f&&f.setValue(kt,Ot.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&h.setValue(kt,"viewMatrix",t.matrixWorldInverse),h.setValue(kt,"toneMappingExposure",nt.toneMappingExposure),h.setValue(kt,"toneMappingWhitePoint",nt.toneMappingWhitePoint)}if(n.skinning){h.setOptional(kt,r,"bindMatrix"),h.setOptional(kt,r,"bindMatrixInverse");var d=r.skeleton;if(d){var m=d.bones;if(jt.floatVertexTextures){if(void 0===d.boneTexture){var R=Math.sqrt(4*m.length);R=Ut.nextPowerOfTwo(Math.ceil(R)),R=Math.max(R,4);var L=new Float32Array(R*R*4);L.set(d.boneMatrices);var P=new DataTexture(L,R,R,RGBAFormat,FloatType);d.boneMatrices=L,d.boneTexture=P,d.boneTextureSize=R}h.setValue(kt,"boneTexture",d.boneTexture),h.setValue(kt,"boneTextureSize",d.boneTextureSize)}else h.setOptional(kt,d,"boneMatrices")}}return s&&(n.lights&&A(l,c),e&&n.fog&&x(l,e),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&v(l,n),n.isLineBasicMaterial?g(l,n):n.isLineDashedMaterial?(g(l,n),y(l,n)):n.isPointsMaterial?_(l,n):n.isMeshLambertMaterial?b(l,n):n.isMeshToonMaterial?M(l,n):n.isMeshPhongMaterial?w(l,n):n.isMeshPhysicalMaterial?S(l,n):n.isMeshStandardMaterial?E(l,n):n.isMeshDepthMaterial?n.displacementMap&&(l.displacementMap.value=n.displacementMap,l.displacementScale.value=n.displacementScale,l.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&T(l,n),void 0!==l.ltcMat&&(l.ltcMat.value=UniformsLib.LTC_MAT_TEXTURE),void 0!==l.ltcMag&&(l.ltcMag.value=UniformsLib.LTC_MAG_TEXTURE),D.upload(kt,i.uniformsList,l,nt)),h.setValue(kt,"modelViewMatrix",r.modelViewMatrix),h.setValue(kt,"normalMatrix",r.normalMatrix),h.setValue(kt,"modelMatrix",r.matrixWorld),u}function v(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;if(e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function g(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function y(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function _(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*Et,t.scale.value=.5*Mt,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function x(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function b(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function w(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function M(t,e){w(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function E(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function S(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,E(t,e)}function T(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function A(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function R(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(Ft.shadows[e]=i,e++)}Ft.shadows.length=e}function L(t,e){var n,r,i,o,a=0,s=0,c=0,u,h,l,f,d=e.matrixWorldInverse,p=0,m=0,v=0,g=0,y=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],u=i.color,h=i.intensity,l=i.distance,f=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)a+=u.r*h,s+=u.g*h,c+=u.b*h;else if(i.isDirectionalLight){var _=Kt.get(i);_.color.copy(i.color).multiplyScalar(i.intensity),_.direction.setFromMatrixPosition(i.matrixWorld),Ot.setFromMatrixPosition(i.target.matrixWorld),_.direction.sub(Ot),_.direction.transformDirection(d),_.shadow=i.castShadow,i.castShadow&&(o=i.shadow,_.shadowBias=o.bias,_.shadowRadius=o.radius,_.shadowMapSize=o.mapSize),Ft.directionalShadowMap[p]=f,Ft.directionalShadowMatrix[p]=i.shadow.matrix,Ft.directional[p]=_,p++}else if(i.isSpotLight){var _=Kt.get(i);_.position.setFromMatrixPosition(i.matrixWorld),_.position.applyMatrix4(d),_.color.copy(u).multiplyScalar(h),_.distance=l,_.direction.setFromMatrixPosition(i.matrixWorld),Ot.setFromMatrixPosition(i.target.matrixWorld),_.direction.sub(Ot),_.direction.transformDirection(d),_.coneCos=Math.cos(i.angle),_.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),_.decay=0===i.distance?0:i.decay,_.shadow=i.castShadow,i.castShadow&&(o=i.shadow,_.shadowBias=o.bias,_.shadowRadius=o.radius,_.shadowMapSize=o.mapSize),Ft.spotShadowMap[v]=f,Ft.spotShadowMatrix[v]=i.shadow.matrix,Ft.spot[v]=_,v++}else if(i.isRectAreaLight){var _=Kt.get(i);_.color.copy(u).multiplyScalar(h/(i.width*i.height)),_.position.setFromMatrixPosition(i.matrixWorld),_.position.applyMatrix4(d),Dt.identity(),Nt.copy(i.matrixWorld),Nt.premultiply(d),Dt.extractRotation(Nt),_.halfWidth.set(.5*i.width,0,0),_.halfHeight.set(0,.5*i.height,0),_.halfWidth.applyMatrix4(Dt),_.halfHeight.applyMatrix4(Dt),Ft.rectArea[g]=_,g++}else if(i.isPointLight){var _=Kt.get(i);_.position.setFromMatrixPosition(i.matrixWorld),_.position.applyMatrix4(d),_.color.copy(i.color).multiplyScalar(i.intensity),_.distance=i.distance,_.decay=0===i.distance?0:i.decay,_.shadow=i.castShadow,i.castShadow&&(o=i.shadow,_.shadowBias=o.bias,_.shadowRadius=o.radius,_.shadowMapSize=o.mapSize),Ft.pointShadowMap[m]=f,Ft.pointShadowMatrix[m]=i.shadow.matrix,Ft.point[m]=_,m++}else if(i.isHemisphereLight){var _=Kt.get(i);_.direction.setFromMatrixPosition(i.matrixWorld),_.direction.transformDirection(d),_.direction.normalize(),_.skyColor.copy(i.color).multiplyScalar(h),_.groundColor.copy(i.groundColor).multiplyScalar(h),Ft.hemi[y]=_,y++}Ft.ambient[0]=a,Ft.ambient[1]=s,Ft.ambient[2]=c,Ft.directional.length=p,Ft.spot.length=v,Ft.rectArea.length=g,Ft.point.length=m,Ft.hemi.length=y,Ft.hash=p+","+m+","+v+","+g+","+y+","+Ft.shadows.length}function P(){var t=_t;return t>=jt.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+jt.maxTextures),_t+=1,t}function C(t){var e;if(t===RepeatWrapping)return kt.REPEAT;if(t===ClampToEdgeWrapping)return kt.CLAMP_TO_EDGE;if(t===MirroredRepeatWrapping)return kt.MIRRORED_REPEAT;if(t===NearestFilter)return kt.NEAREST;if(t===NearestMipMapNearestFilter)return kt.NEAREST_MIPMAP_NEAREST;if(t===NearestMipMapLinearFilter)return kt.NEAREST_MIPMAP_LINEAR;if(t===LinearFilter)return kt.LINEAR;if(t===LinearMipMapNearestFilter)return kt.LINEAR_MIPMAP_NEAREST;if(t===LinearMipMapLinearFilter)return kt.LINEAR_MIPMAP_LINEAR;if(t===UnsignedByteType)return kt.UNSIGNED_BYTE;if(t===UnsignedShort4444Type)return kt.UNSIGNED_SHORT_4_4_4_4;if(t===UnsignedShort5551Type)return kt.UNSIGNED_SHORT_5_5_5_1;if(t===UnsignedShort565Type)return kt.UNSIGNED_SHORT_5_6_5;if(t===ByteType)return kt.BYTE;if(t===ShortType)return kt.SHORT;if(t===UnsignedShortType)return kt.UNSIGNED_SHORT;if(t===IntType)return kt.INT;if(t===UnsignedIntType)return kt.UNSIGNED_INT;if(t===FloatType)return kt.FLOAT;if(t===HalfFloatType&&null!==(e=Ht.get("OES_texture_half_float")))return e.HALF_FLOAT_OES;if(t===AlphaFormat)return kt.ALPHA;if(t===RGBFormat)return kt.RGB;if(t===RGBAFormat)return kt.RGBA;if(t===LuminanceFormat)return kt.LUMINANCE;if(t===LuminanceAlphaFormat)return kt.LUMINANCE_ALPHA;if(t===DepthFormat)return kt.DEPTH_COMPONENT;if(t===DepthStencilFormat)return kt.DEPTH_STENCIL;if(t===AddEquation)return kt.FUNC_ADD;if(t===SubtractEquation)return kt.FUNC_SUBTRACT;if(t===ReverseSubtractEquation)return kt.FUNC_REVERSE_SUBTRACT;if(t===ZeroFactor)return kt.ZERO;if(t===OneFactor)return kt.ONE;if(t===SrcColorFactor)return kt.SRC_COLOR;if(t===OneMinusSrcColorFactor)return kt.ONE_MINUS_SRC_COLOR;if(t===SrcAlphaFactor)return kt.SRC_ALPHA;if(t===OneMinusSrcAlphaFactor)return kt.ONE_MINUS_SRC_ALPHA;if(t===DstAlphaFactor)return kt.DST_ALPHA;if(t===OneMinusDstAlphaFactor)return kt.ONE_MINUS_DST_ALPHA;if(t===DstColorFactor)return kt.DST_COLOR;if(t===OneMinusDstColorFactor)return kt.ONE_MINUS_DST_COLOR;if(t===SrcAlphaSaturateFactor)return kt.SRC_ALPHA_SATURATE;if((t===RGB_S3TC_DXT1_Format||t===RGBA_S3TC_DXT1_Format||t===RGBA_S3TC_DXT3_Format||t===RGBA_S3TC_DXT5_Format)&&null!==(e=Ht.get("WEBGL_compressed_texture_s3tc"))){if(t===RGB_S3TC_DXT1_Format)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===RGBA_S3TC_DXT1_Format)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===RGBA_S3TC_DXT3_Format)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===RGBA_S3TC_DXT5_Format)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===RGB_PVRTC_4BPPV1_Format||t===RGB_PVRTC_2BPPV1_Format||t===RGBA_PVRTC_4BPPV1_Format||t===RGBA_PVRTC_2BPPV1_Format)&&null!==(e=Ht.get("WEBGL_compressed_texture_pvrtc"))){if(t===RGB_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===RGB_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===RGBA_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===RGBA_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===RGB_ETC1_Format&&null!==(e=Ht.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===MinEquation||t===MaxEquation)&&null!==(e=Ht.get("EXT_blend_minmax"))){if(t===MinEquation)return e.MIN_EXT;if(t===MaxEquation)return e.MAX_EXT}return t===UnsignedInt248Type&&null!==(e=Ht.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer",REVISION),t=t||{};var I=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),O=void 0!==t.context?t.context:null,N=void 0!==t.alpha&&t.alpha,U=void 0===t.depth||t.depth,k=void 0===t.stencil||t.stencil,G=void 0!==t.antialias&&t.antialias,j=void 0===t.premultipliedAlpha||t.premultipliedAlpha,V=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,W=[],Q=null,$=new Float32Array(8),tt=[],et=[];this.domElement=I,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=LinearToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var nt=this,rt=null,it=null,ot=null,at=-1,st="",ct=null,ut=new Vector4,ht=null,lt=new Vector4,_t=0,xt=new Color(0),bt=0,wt=I.width,Mt=I.height,Et=1,St=new Vector4(0,0,wt,Mt),Tt=!1,At=new Vector4(0,0,wt,Mt),Rt=new Frustum,Lt=new yt,Pt=!1,Ct=!1,It=new Matrix4,Ot=new Vector3,Nt=new Matrix4,Dt=new Matrix4,Ft={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},zt={geometries:0,textures:0},Bt={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:Bt,memory:zt,programs:null};var kt;try{var Gt={alpha:N,depth:U,stencil:k,antialias:G,premultipliedAlpha:j,preserveDrawingBuffer:V};if(null===(kt=O||I.getContext("webgl",Gt)||I.getContext("experimental-webgl",Gt)))throw null!==I.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===kt.getShaderPrecisionFormat&&(kt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),I.addEventListener("webglcontextlost",i,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var Ht=new gt(kt);Ht.get("WEBGL_depth_texture"),Ht.get("OES_texture_float"),Ht.get("OES_texture_float_linear"),Ht.get("OES_texture_half_float"),Ht.get("OES_texture_half_float_linear"),Ht.get("OES_standard_derivatives"),Ht.get("ANGLE_instanced_arrays"),Ht.get("OES_element_index_uint")&&(BufferGeometry.MaxIndex=4294967296);var jt=new vt(kt,Ht,t),Vt=new mt(kt,Ht,C),Wt=new pt,Xt=new dt(kt,Ht,Vt,Wt,jt,C,zt),Yt=new H(kt),qt=new Z(kt,Yt,zt),Zt=new K(kt,qt,Bt),Jt=new ft(this,jt),Kt=new J,Qt=new X;this.info.programs=Jt.programs;var $t=new q(kt,Ht,Bt),te=new Y(kt,Ht,Bt),ee,ne,re,ie;n(),this.context=kt,this.capabilities=jt,this.extensions=Ht,this.properties=Wt,this.state=Vt;var oe=new B(this,Ft,Zt,jt);this.shadowMap=oe;var ae=new z(this,tt),se=new F(this,et);this.getContext=function(){return kt},this.getContextAttributes=function(){return kt.getContextAttributes()},this.forceContextLoss=function(){var t=Ht.get("WEBGL_lose_context");t&&t.loseContext()},this.getMaxAnisotropy=function(){return jt.getMaxAnisotropy()},this.getPrecision=function(){return jt.precision},this.getPixelRatio=function(){return Et},this.setPixelRatio=function(t){void 0!==t&&(Et=t,this.setSize(At.z,At.w,!1))},this.getSize=function(){return{width:wt,height:Mt}},this.setSize=function(t,e,n){wt=t,Mt=e,I.width=t*Et,I.height=e*Et,!1!==n&&(I.style.width=t+"px",I.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,r){Vt.viewport(At.set(t,e,n,r))},this.setScissor=function(t,e,n,r){Vt.scissor(St.set(t,e,n,r))},this.setScissorTest=function(t){Vt.setScissorTest(Tt=t)},this.getClearColor=function(){return xt},this.setClearColor=function(t,e){xt.set(t),bt=void 0!==e?e:1,Vt.buffers.color.setClear(xt.r,xt.g,xt.b,bt,j)},this.getClearAlpha=function(){return bt},this.setClearAlpha=function(t){bt=t,Vt.buffers.color.setClear(xt.r,xt.g,xt.b,bt,j)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=kt.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=kt.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=kt.STENCIL_BUFFER_BIT),kt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=r,this.dispose=function(){I.removeEventListener("webglcontextlost",i,!1),Qt.dispose()},this.renderBufferImmediate=function(t,e,n){Vt.initAttributes();var r=Wt.get(t);t.hasPositions&&!r.position&&(r.position=kt.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=kt.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=kt.createBuffer()),t.hasColors&&!r.color&&(r.color=kt.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(kt.bindBuffer(kt.ARRAY_BUFFER,r.position),kt.bufferData(kt.ARRAY_BUFFER,t.positionArray,kt.DYNAMIC_DRAW),Vt.enableAttribute(i.position),kt.vertexAttribPointer(i.position,3,kt.FLOAT,!1,0,0)),t.hasNormals){if(kt.bindBuffer(kt.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===FlatShading)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,c=(s[o+0]+s[o+3]+s[o+6])/3,u=(s[o+1]+s[o+4]+s[o+7])/3,h=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=c,s[o+1]=u,s[o+2]=h,s[o+3]=c,s[o+4]=u,s[o+5]=h,s[o+6]=c,s[o+7]=u,s[o+8]=h}kt.bufferData(kt.ARRAY_BUFFER,t.normalArray,kt.DYNAMIC_DRAW),Vt.enableAttribute(i.normal),kt.vertexAttribPointer(i.normal,3,kt.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(kt.bindBuffer(kt.ARRAY_BUFFER,r.uv),kt.bufferData(kt.ARRAY_BUFFER,t.uvArray,kt.DYNAMIC_DRAW),Vt.enableAttribute(i.uv),kt.vertexAttribPointer(Yt.uv,2,kt.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==NoColors&&(kt.bindBuffer(kt.ARRAY_BUFFER,r.color),kt.bufferData(kt.ARRAY_BUFFER,t.colorArray,kt.DYNAMIC_DRAW),Vt.enableAttribute(i.color),kt.vertexAttribPointer(i.color,3,kt.FLOAT,!1,0,0)),Vt.disableUnusedAttributes(),kt.drawArrays(kt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,r,i,o,a){Vt.setMaterial(i);var s=m(t,n,i,o),c=r.id+"_"+s.id+"_"+(!0===i.wireframe),l=!1;c!==st&&(st=c,l=!0);var f=o.morphTargetInfluences;if(void 0!==f){for(var d=[],p=0,v=f.length;p<v;p++){var g=f[p];d.push([g,p])}d.sort(u),d.length>8&&(d.length=8);for(var y=r.morphAttributes,p=0,v=d.length;p<v;p++){var g=d[p];if($[p]=g[0],0!==g[0]){var _=g[1];!0===i.morphTargets&&y.position&&r.addAttribute("morphTarget"+p,y.position[_]),!0===i.morphNormals&&y.normal&&r.addAttribute("morphNormal"+p,y.normal[_])}else!0===i.morphTargets&&r.removeAttribute("morphTarget"+p),!0===i.morphNormals&&r.removeAttribute("morphNormal"+p)}for(var p=d.length,x=$.length;p<x;p++)$[p]=0;s.getUniforms().setValue(kt,"morphTargetInfluences",$),l=!0}var _=r.index,b=r.attributes.position,w=1;!0===i.wireframe&&(_=qt.getWireframeAttribute(r),w=2);var M=$t;null!==_&&(M=te,M.setIndex(_)),l&&(h(i,s,r),null!==_&&kt.bindBuffer(kt.ELEMENT_ARRAY_BUFFER,Yt.get(_).buffer));var E=0;null!==_?E=_.count:void 0!==b&&(E=b.count);var S=r.drawRange.start*w,T=r.drawRange.count*w,A=null!==a?a.start*w:0,R=null!==a?a.count*w:1/0,L=Math.max(S,A),P=Math.min(E,S+T,A+R)-1,C=Math.max(0,P-L+1);if(0!==C){if(o.isMesh)if(!0===i.wireframe)Vt.setLineWidth(i.wireframeLinewidth*e()),M.setMode(kt.LINES);else switch(o.drawMode){case TrianglesDrawMode:M.setMode(kt.TRIANGLES);break;case TriangleStripDrawMode:M.setMode(kt.TRIANGLE_STRIP);break;case TriangleFanDrawMode:M.setMode(kt.TRIANGLE_FAN)}else if(o.isLine){var I=i.linewidth;void 0===I&&(I=1),Vt.setLineWidth(I*e()),o.isLineSegments?M.setMode(kt.LINES):o.isLineLoop?M.setMode(kt.LINE_LOOP):M.setMode(kt.LINE_STRIP)}else o.isPoints&&M.setMode(kt.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&M.renderInstances(r,L,C):M.render(L,C)}},this.compile=function(t,e){W=[],t.traverse(function(t){t.isLight&&W.push(t)}),L(W,e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)p(e.material[n],t.fog,e);else p(e.material,t.fog,e)})},this.render=function(t,e,n,r){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");st="",at=-1,ct=null,!0===t.autoUpdate&&t.updateMatrixWorld(),e.onBeforeRender(nt),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),It.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Rt.setFromMatrix(It),W.length=0,tt.length=0,et.length=0,Ct=this.localClippingEnabled,Pt=Lt.init(this.clippingPlanes,Ct,e),Q=Qt.get(t,e),Q.init(),l(t,e,nt.sortObjects),Q.finish(),!0===nt.sortObjects&&Q.sort(),Pt&&Lt.beginShadows(),R(W),oe.render(t,e),L(W,e),Pt&&Lt.endShadows(),Bt.frame++,Bt.calls=0,Bt.vertices=0,Bt.faces=0,Bt.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var i=t.background;null===i?Vt.buffers.color.setClear(xt.r,xt.g,xt.b,bt,j):i&&i.isColor&&(Vt.buffers.color.setClear(i.r,i.g,i.b,1,j),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(void 0===re&&(re=new PerspectiveCamera,ie=new Mesh(new BoxBufferGeometry(5,5,5),new ShaderMaterial({uniforms:ShaderLib.cube.uniforms,vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1}))),re.projectionMatrix.copy(e.projectionMatrix),re.matrixWorld.extractRotation(e.matrixWorld),re.matrixWorldInverse.getInverse(re.matrixWorld),ie.material.uniforms.tCube.value=i,ie.modelViewMatrix.multiplyMatrices(re.matrixWorldInverse,ie.matrixWorld),Zt.update(ie),nt.renderBufferDirect(re,null,ie.geometry,ie.material,ie,null)):i&&i.isTexture&&(void 0===ee&&(ee=new OrthographicCamera(-1,1,1,-1,0,1),ne=new Mesh(new PlaneBufferGeometry(2,2),new MeshBasicMaterial({depthTest:!1,depthWrite:!1,fog:!1}))),ne.material.map=i,Zt.update(ne),nt.renderBufferDirect(ee,null,ne.geometry,ne.material,ne,null));var o=Q.opaque,a=Q.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;o.length&&f(o,t,e,s),a.length&&f(a,t,e,s)}else o.length&&f(o,t,e),a.length&&f(a,t,e);ae.render(t,e),se.render(t,e,lt),n&&Xt.updateRenderTargetMipmap(n),Vt.buffers.depth.setTest(!0),Vt.buffers.depth.setMask(!0),Vt.buffers.color.setMask(!0),e.isArrayCamera&&e.enabled&&nt.setScissorTest(!1),e.onAfterRender(nt)},this.setFaceCulling=function(t,e){Vt.setCullFace(t),Vt.setFlipSided(e===FrontFaceDirectionCW)},this.allocTextureUnit=P,this.setTexture2D=function(){var t=!1;return function e(n,r){n&&n.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don\'t use render targets as textures. Use their .texture property instead."),t=!0),n=n.texture),Xt.setTexture2D(n,r)}}(),this.setTexture=function(){var t=!1;return function e(n,r){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),Xt.setTexture2D(n,r)}}(),this.setTextureCube=function(){var t=!1;return function e(n,r){n&&n.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don\'t use cube render targets as textures. Use their .texture property instead."),t=!0),n=n.texture),n&&n.isCubeTexture||Array.isArray(n.image)&&6===n.image.length?Xt.setTextureCube(n,r):Xt.setTextureCubeDynamic(n,r)}}(),this.getRenderTarget=function(){return it},this.setRenderTarget=function(t){it=t,t&&void 0===Wt.get(t).__webglFramebuffer&&Xt.setupRenderTarget(t);var e=t&&t.isWebGLRenderTargetCube,n;if(t){var r=Wt.get(t);n=e?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,ut.copy(t.scissor),ht=t.scissorTest,lt.copy(t.viewport)}else n=null,ut.copy(St).multiplyScalar(Et),ht=Tt,lt.copy(At).multiplyScalar(Et);if(ot!==n&&(kt.bindFramebuffer(kt.FRAMEBUFFER,n),ot=n),Vt.scissor(ut),Vt.setScissorTest(ht),Vt.viewport(lt),e){var i=Wt.get(t.texture);kt.framebufferTexture2D(kt.FRAMEBUFFER,kt.COLOR_ATTACHMENT0,kt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if(!1===(t&&t.isWebGLRenderTarget))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=Wt.get(t).__webglFramebuffer;if(a){var s=!1;a!==ot&&(kt.bindFramebuffer(kt.FRAMEBUFFER,a),s=!0);try{var c=t.texture,u=c.format,h=c.type;if(u!==RGBAFormat&&C(u)!==kt.getParameter(kt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(h!==UnsignedByteType&&C(h)!==kt.getParameter(kt.IMPLEMENTATION_COLOR_READ_TYPE)&&(h!==FloatType||!Ht.get("OES_texture_float")&&!Ht.get("WEBGL_color_buffer_float"))&&(h!==HalfFloatType||!Ht.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");kt.checkFramebufferStatus(kt.FRAMEBUFFER)===kt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&kt.readPixels(e,n,r,i,C(u),C(h),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&kt.bindFramebuffer(kt.FRAMEBUFFER,ot)}}}}function FogExp2(t,e){this.name="",this.color=new Color(t),this.density=void 0!==e?e:25e-5}function Fog(t,e,n){this.name="",this.color=new Color(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Scene(){Object3D.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function LensFlare(t,e,n,r,i){Object3D.call(this),this.lensFlares=[],this.positionScreen=new Vector3,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)}function SpriteMaterial(t){Material.call(this),this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Sprite(t){Object3D.call(this),this.type="Sprite",this.material=void 0!==t?t:new SpriteMaterial}function LOD(){Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Skeleton(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Matrix4)}}function Bone(){Object3D.call(this),this.type="Bone"}function SkinnedMesh(t,e){Mesh.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4;var n=this.initBones(),r=new Skeleton(n);this.bind(r,this.matrixWorld),this.normalizeSkinWeights()}function LineBasicMaterial(t){Material.call(this),this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Line(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new LineSegments(t,e);Object3D.call(this),this.type="Line",this.geometry=void 0!==t?t:new BufferGeometry,this.material=void 0!==e?e:new LineBasicMaterial({color:16777215*Math.random()})}function LineSegments(t,e){Line.call(this,t,e),this.type="LineSegments"}function LineLoop(t,e){Line.call(this,t,e),this.type="LineLoop"}function PointsMaterial(t){Material.call(this),this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Points(t,e){Object3D.call(this),this.type="Points",this.geometry=void 0!==t?t:new BufferGeometry,this.material=void 0!==e?e:new PointsMaterial({color:16777215*Math.random()})}function Group(){Object3D.call(this),this.type="Group"}function VideoTexture(t,e,n,r,i,o,a,s,c){function u(){requestAnimationFrame(u),t.readyState>=t.HAVE_CURRENT_DATA&&(h.needsUpdate=!0)}Texture.call(this,t,e,n,r,i,o,a,s,c),this.generateMipmaps=!1;var h=this;u()}function CompressedTexture(t,e,n,r,i,o,a,s,c,u,h,l){Texture.call(this,null,o,a,s,c,u,r,i,h,l),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function CanvasTexture(t,e,n,r,i,o,a,s,c){Texture.call(this,t,e,n,r,i,o,a,s,c),this.needsUpdate=!0}function DepthTexture(t,e,n,r,i,o,a,s,c,u){if((u=void 0!==u?u:DepthFormat)!==DepthFormat&&u!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===DepthFormat&&(n=UnsignedShortType),void 0===n&&u===DepthStencilFormat&&(n=UnsignedInt248Type),Texture.call(this,null,r,i,o,a,s,u,n,c),this.image={width:t,height:e},this.magFilter=void 0!==a?a:NearestFilter,this.minFilter=void 0!==s?s:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}function WireframeGeometry(t){BufferGeometry.call(this),this.type="WireframeGeometry";var e=[],n,r,i,o,a,s=[0,0],c={},u,h,l,f,d=["a","b","c"],p;if(t&&t.isGeometry){var m=t.faces;for(n=0,i=m.length;n<i;n++){var v=m[n];for(r=0;r<3;r++)h=v[d[r]],l=v[d[(r+1)%3]],s[0]=Math.min(h,l),s[1]=Math.max(h,l),f=s[0]+","+s[1],void 0===c[f]&&(c[f]={index1:s[0],index2:s[1]})}for(f in c)u=c[f],p=t.vertices[u.index1],e.push(p.x,p.y,p.z),p=t.vertices[u.index2],e.push(p.x,p.y,p.z)}else if(t&&t.isBufferGeometry){var g,y,_,x,b,w,M,E;if(p=new Vector3,null!==t.index){for(g=t.attributes.position,y=t.index,_=t.groups,0===_.length&&(_=[{start:0,count:y.count,materialIndex:0}]),o=0,a=_.length;o<a;++o)for(x=_[o],b=x.start,w=x.count,n=b,i=b+w;n<i;n+=3)for(r=0;r<3;r++)h=y.getX(n+r),l=y.getX(n+(r+1)%3),s[0]=Math.min(h,l),s[1]=Math.max(h,l),f=s[0]+","+s[1],void 0===c[f]&&(c[f]={index1:s[0],index2:s[1]});for(f in c)u=c[f],p.fromBufferAttribute(g,u.index1),e.push(p.x,p.y,p.z),p.fromBufferAttribute(g,u.index2),e.push(p.x,p.y,p.z)}else for(g=t.attributes.position,n=0,i=g.count/3;n<i;n++)for(r=0;r<3;r++)M=3*n+r,p.fromBufferAttribute(g,M),e.push(p.x,p.y,p.z),E=3*n+(r+1)%3,p.fromBufferAttribute(g,E),e.push(p.x,p.y,p.z)}this.addAttribute("position",new Float32BufferAttribute(e,3))}function ParametricGeometry(t,e,n){Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new ParametricBufferGeometry(t,e,n)),this.mergeVertices()}function ParametricBufferGeometry(t,e,n){BufferGeometry.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r=[],i=[],o=[],a=[],s=1e-5,c=new Vector3,u=new Vector3,h=new Vector3,l=new Vector3,f=new Vector3,d,p,m=e+1;for(d=0;d<=n;d++){var v=d/n;for(p=0;p<=e;p++){var g=p/e;u=t(g,v,u),i.push(u.x,u.y,u.z),g-s>=0?(h=t(g-s,v,h),l.subVectors(u,h)):(h=t(g+s,v,h),l.subVectors(h,u)),v-s>=0?(h=t(g,v-s,h),f.subVectors(u,h)):(h=t(g,v+s,h),f.subVectors(h,u)),c.crossVectors(l,f).normalize(),o.push(c.x,c.y,c.z),a.push(g,v)}}for(d=0;d<n;d++)for(p=0;p<e;p++){var y=d*m+p,_=d*m+p+1,x=(d+1)*m+p+1,b=(d+1)*m+p;r.push(y,_,b),r.push(_,x,b)}this.setIndex(r),this.addAttribute("position",new Float32BufferAttribute(i,3)),this.addAttribute("normal",new Float32BufferAttribute(o,3)),this.addAttribute("uv",new Float32BufferAttribute(a,2))}function PolyhedronGeometry(t,e,n,r){Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new PolyhedronBufferGeometry(t,e,n,r)),this.mergeVertices()}function PolyhedronBufferGeometry(t,e,n,r){function i(t){for(var n=new Vector3,r=new Vector3,i=new Vector3,a=0;a<e.length;a+=3)h(e[a+0],n),h(e[a+1],r),h(e[a+2],i),o(n,r,i,t)}function o(t,e,n,r){var i=Math.pow(2,r),o=[],a,s;for(a=0;a<=i;a++){o[a]=[];var c=t.clone().lerp(n,a/i),h=e.clone().lerp(n,a/i),l=i-a;for(s=0;s<=l;s++)o[a][s]=0===s&&a===i?c:c.clone().lerp(h,s/l)}for(a=0;a<i;a++)for(s=0;s<2*(i-a)-1;s++){var f=Math.floor(s/2);s%2===0?(u(o[a][f+1]),u(o[a+1][f]),u(o[a][f])):(u(o[a][f+1]),u(o[a+1][f+1]),u(o[a+1][f]))}}function a(t){for(var e=new Vector3,n=0;n<m.length;n+=3)e.x=m[n+0],e.y=m[n+1],e.z=m[n+2],e.normalize().multiplyScalar(t),m[n+0]=e.x,m[n+1]=e.y,m[n+2]=e.z}function s(){for(var t=new Vector3,e=0;e<m.length;e+=3){t.x=m[e+0],t.y=m[e+1],t.z=m[e+2];var n=d(t)/2/Math.PI+.5,r=p(t)/Math.PI+.5;v.push(n,1-r)}l(),c()}function c(){for(var t=0;t<v.length;t+=6){var e=v[t+0],n=v[t+2],r=v[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);i>.9&&o<.1&&(e<.2&&(v[t+0]+=1),n<.2&&(v[t+2]+=1),r<.2&&(v[t+4]+=1))}}function u(t){m.push(t.x,t.y,t.z)}function h(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function l(){for(var t=new Vector3,e=new Vector3,n=new Vector3,r=new Vector3,i=new Vector2,o=new Vector2,a=new Vector2,s=0,c=0;s<m.length;s+=9,c+=6){t.set(m[s+0],m[s+1],m[s+2]),e.set(m[s+3],m[s+4],m[s+5]),n.set(m[s+6],m[s+7],m[s+8]),i.set(v[c+0],v[c+1]),o.set(v[c+2],v[c+3]),a.set(v[c+4],v[c+5]),r.copy(t).add(e).add(n).divideScalar(3);var u=d(r);f(i,c+0,t,u),f(o,c+2,e,u),f(a,c+4,n,u)}}function f(t,e,n,r){r<0&&1===t.x&&(v[e]=t.x-1),0===n.x&&0===n.z&&(v[e]=r/2/Math.PI+.5)}function d(t){return Math.atan2(t.z,-t.x)}function p(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}BufferGeometry.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1,r=r||0;var m=[],v=[];i(r),a(n),s(),this.addAttribute("position",new Float32BufferAttribute(m,3)),this.addAttribute("normal",new Float32BufferAttribute(m.slice(),3)),this.addAttribute("uv",new Float32BufferAttribute(v,2)),this.normalizeNormals()}function TetrahedronGeometry(t,e){Geometry.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new TetrahedronBufferGeometry(t,e)),this.mergeVertices()}function TetrahedronBufferGeometry(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];PolyhedronBufferGeometry.call(this,n,r,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function OctahedronGeometry(t,e){Geometry.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new OctahedronBufferGeometry(t,e)),this.mergeVertices()}function OctahedronBufferGeometry(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];PolyhedronBufferGeometry.call(this,n,r,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function IcosahedronGeometry(t,e){Geometry.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new IcosahedronBufferGeometry(t,e)),this.mergeVertices()}function IcosahedronBufferGeometry(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];PolyhedronBufferGeometry.call(this,r,i,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function DodecahedronGeometry(t,e){Geometry.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new DodecahedronBufferGeometry(t,e)),this.mergeVertices()}function DodecahedronBufferGeometry(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];PolyhedronBufferGeometry.call(this,i,o,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function TubeGeometry(t,e,n,r,i,o){Geometry.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new TubeBufferGeometry(t,e,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function TubeBufferGeometry(t,e,n,r,i){function o(){for(d=0;d<e;d++)a(d);a(!1===i?e:0),c(),s()}function a(i){var o=t.getPointAt(i/e),a=u.normals[i],s=u.binormals[i];for(p=0;p<=r;p++){var c=p/r*Math.PI*2,f=Math.sin(c),d=-Math.cos(c);l.x=d*a.x+f*s.x,l.y=d*a.y+f*s.y,l.z=d*a.z+f*s.z,l.normalize(),v.push(l.x,l.y,l.z),h.x=o.x+n*l.x,h.y=o.y+n*l.y,h.z=o.z+n*l.z,m.push(h.x,h.y,h.z)}}function s(){for(p=1;p<=e;p++)for(d=1;d<=r;d++){var t=(r+1)*(p-1)+(d-1),n=(r+1)*p+(d-1),i=(r+1)*p+d,o=(r+1)*(p-1)+d;y.push(t,n,o),y.push(n,i,o)}}function c(){for(d=0;d<=e;d++)for(p=0;p<=r;p++)f.x=d/e,f.y=p/r,g.push(f.x,f.y)}BufferGeometry.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},e=e||64,n=n||1,r=r||8,i=i||!1;var u=t.computeFrenetFrames(e,i);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals;var h=new Vector3,l=new Vector3,f=new Vector2,d,p,m=[],v=[],g=[],y=[];o(),this.setIndex(y),this.addAttribute("position",new Float32BufferAttribute(m,3)),this.addAttribute("normal",new Float32BufferAttribute(v,3)),this.addAttribute("uv",new Float32BufferAttribute(g,2))}function TorusKnotGeometry(t,e,n,r,i,o,a){Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new TorusKnotBufferGeometry(t,e,n,r,i,o)),this.mergeVertices()}function TorusKnotBufferGeometry(t,e,n,r,i,o){function a(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,c=Math.cos(s);i.x=r*(2+c)*.5*o,i.y=r*(2+c)*a*.5,i.z=r*Math.sin(s)*.5}BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},t=t||100,e=e||40,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var s=[],c=[],u=[],h=[],l,f,d=new Vector3,p=new Vector3,m=new Vector3,v=new Vector3,g=new Vector3,y=new Vector3,_=new Vector3;for(l=0;l<=n;++l){var x=l/n*i*Math.PI*2;for(a(x,i,o,t,m),a(x+.01,i,o,t,v),y.subVectors(v,m),_.addVectors(v,m),g.crossVectors(y,_),_.crossVectors(g,y),g.normalize(),_.normalize(),f=0;f<=r;++f){var b=f/r*Math.PI*2,w=-e*Math.cos(b),M=e*Math.sin(b);d.x=m.x+(w*_.x+M*g.x),d.y=m.y+(w*_.y+M*g.y),d.z=m.z+(w*_.z+M*g.z),c.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),u.push(p.x,p.y,p.z),h.push(l/n),h.push(f/r)}}for(f=1;f<=n;f++)for(l=1;l<=r;l++){var E=(r+1)*(f-1)+(l-1),S=(r+1)*f+(l-1),T=(r+1)*f+l,A=(r+1)*(f-1)+l;s.push(E,S,A),s.push(S,T,A)}this.setIndex(s),this.addAttribute("position",new Float32BufferAttribute(c,3)),this.addAttribute("normal",new Float32BufferAttribute(u,3)),this.addAttribute("uv",new Float32BufferAttribute(h,2))}function TorusGeometry(t,e,n,r,i){Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new TorusBufferGeometry(t,e,n,r,i)),this.mergeVertices()}function TorusBufferGeometry(t,e,n,r,i){BufferGeometry.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o=[],a=[],s=[],c=[],u=new Vector3,h=new Vector3,l=new Vector3,f,d;for(f=0;f<=n;f++)for(d=0;d<=r;d++){var p=d/r*i,m=f/n*Math.PI*2;h.x=(t+e*Math.cos(m))*Math.cos(p),h.y=(t+e*Math.cos(m))*Math.sin(p),h.z=e*Math.sin(m),a.push(h.x,h.y,h.z),u.x=t*Math.cos(p),u.y=t*Math.sin(p),l.subVectors(h,u).normalize(),s.push(l.x,l.y,l.z),c.push(d/r),c.push(f/n)}for(f=1;f<=n;f++)for(d=1;d<=r;d++){var v=(r+1)*f+d-1,g=(r+1)*(f-1)+d-1,y=(r+1)*(f-1)+d,_=(r+1)*f+d;o.push(v,g,_),o.push(g,y,_)}this.setIndex(o),this.addAttribute("position",new Float32BufferAttribute(a,3)),this.addAttribute("normal",new Float32BufferAttribute(s,3)),this.addAttribute("uv",new Float32BufferAttribute(c,2))}function ExtrudeGeometry(t,e){Geometry.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new ExtrudeBufferGeometry(t,e)),this.mergeVertices()}function ExtrudeBufferGeometry(t,e){if("undefined"===typeof t)return void(t=[]);BufferGeometry.call(this),this.type="ExtrudeBufferGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeVertexNormals()}function TextGeometry(t,e){Geometry.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new TextBufferGeometry(t,e)),this.mergeVertices()}function TextBufferGeometry(t,e){e=e||{};var n=e.font;if(!1===(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Geometry;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),ExtrudeBufferGeometry.call(this,r,e),this.type="TextBufferGeometry"}function SphereGeometry(t,e,n,r,i,o,a){Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new SphereBufferGeometry(t,e,n,r,i,o,a)),this.mergeVertices()}function SphereBufferGeometry(t,e,n,r,i,o,a){BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s=o+a,c,u,h=0,l=[],f=new Vector3,d=new Vector3,p=[],m=[],v=[],g=[];for(u=0;u<=n;u++){var y=[],_=u/n;for(c=0;c<=e;c++){var x=c/e;f.x=-t*Math.cos(r+x*i)*Math.sin(o+_*a),f.y=t*Math.cos(o+_*a),f.z=t*Math.sin(r+x*i)*Math.sin(o+_*a),m.push(f.x,f.y,f.z),d.set(f.x,f.y,f.z).normalize(),v.push(d.x,d.y,d.z),g.push(x,1-_),y.push(h++)}l.push(y)}for(u=0;u<n;u++)for(c=0;c<e;c++){var b=l[u][c+1],w=l[u][c],M=l[u+1][c],E=l[u+1][c+1];(0!==u||o>0)&&p.push(b,w,E),(u!==n-1||s<Math.PI)&&p.push(w,M,E)}this.setIndex(p),this.addAttribute("position",new Float32BufferAttribute(m,3)),this.addAttribute("normal",new Float32BufferAttribute(v,3)),this.addAttribute("uv",new Float32BufferAttribute(g,2))}function RingGeometry(t,e,n,r,i,o){Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new RingBufferGeometry(t,e,n,r,i,o)),this.mergeVertices()}function RingBufferGeometry(t,e,n,r,i,o){BufferGeometry.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},t=t||20,e=e||50,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var a=[],s=[],c=[],u=[],h,l=t,f=(e-t)/r,d=new Vector3,p=new Vector2,m,v;for(m=0;m<=r;m++){for(v=0;v<=n;v++)h=i+v/n*o,d.x=l*Math.cos(h),d.y=l*Math.sin(h),s.push(d.x,d.y,d.z),c.push(0,0,1),p.x=(d.x/e+1)/2,p.y=(d.y/e+1)/2,u.push(p.x,p.y);l+=f}for(m=0;m<r;m++){var g=m*(n+1);for(v=0;v<n;v++){h=v+g;var y=h,_=h+n+1,x=h+n+2,b=h+1;a.push(y,_,b),a.push(_,x,b)}}this.setIndex(a),this.addAttribute("position",new Float32BufferAttribute(s,3)),this.addAttribute("normal",new Float32BufferAttribute(c,3)),this.addAttribute("uv",new Float32BufferAttribute(u,2))}function LatheGeometry(t,e,n,r){Geometry.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new LatheBufferGeometry(t,e,n,r)),this.mergeVertices()}function LatheBufferGeometry(t,e,n,r){BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=Ut.clamp(r,0,2*Math.PI);var i=[],o=[],a=[],s,c=1/e,u=new Vector3,h=new Vector2,l,f;for(l=0;l<=e;l++){var d=n+l*c*r,p=Math.sin(d),m=Math.cos(d);for(f=0;f<=t.length-1;f++)u.x=t[f].x*p,u.y=t[f].y,u.z=t[f].x*m,o.push(u.x,u.y,u.z),h.x=l/e,h.y=f/(t.length-1),a.push(h.x,h.y)}for(l=0;l<e;l++)for(f=0;f<t.length-1;f++){s=f+l*t.length;var v=s,g=s+t.length,y=s+t.length+1,_=s+1;i.push(v,g,_),i.push(g,y,_)}if(this.setIndex(i),this.addAttribute("position",new Float32BufferAttribute(o,3)),this.addAttribute("uv",new Float32BufferAttribute(a,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,b=new Vector3,w=new Vector3,M=new Vector3;for(s=e*t.length*3,l=0,f=0;l<t.length;l++,f+=3)b.x=x[f+0],b.y=x[f+1],b.z=x[f+2],w.x=x[s+f+0],w.y=x[s+f+1],w.z=x[s+f+2],M.addVectors(b,w).normalize(),x[f+0]=x[s+f+0]=M.x,x[f+1]=x[s+f+1]=M.y,x[f+2]=x[s+f+2]=M.z}}function ShapeGeometry(t,e){Geometry.call(this),this.type="ShapeGeometry","object"===typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new ShapeBufferGeometry(t,e)),this.mergeVertices()}function ShapeBufferGeometry(t,e){function n(t){var n,s,u,h=i.length/3,l=t.extractPoints(e),f=l.shape,d=l.holes;if(!1===ShapeUtils.isClockWise(f))for(f=f.reverse(),n=0,s=d.length;n<s;n++)u=d[n],!0===ShapeUtils.isClockWise(u)&&(d[n]=u.reverse());var p=ShapeUtils.triangulateShape(f,d);for(n=0,s=d.length;n<s;n++)u=d[n],f=f.concat(u);for(n=0,s=f.length;n<s;n++){var m=f[n];i.push(m.x,m.y,0),o.push(0,0,1),a.push(m.x,m.y)}for(n=0,s=p.length;n<s;n++){var v=p[n],g=v[0]+h,y=v[1]+h,_=v[2]+h;r.push(g,y,_),c+=3}}BufferGeometry.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],i=[],o=[],a=[],s=0,c=0;if(!1===Array.isArray(t))n(t);else for(var u=0;u<t.length;u++)n(t[u]),this.addGroup(s,c,u),s+=c,c=0;this.setIndex(r),this.addAttribute("position",new Float32BufferAttribute(i,3)),this.addAttribute("normal",new Float32BufferAttribute(o,3)),this.addAttribute("uv",new Float32BufferAttribute(a,2))}function EdgesGeometry(t,e){BufferGeometry.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n=[],r=Math.cos(Ut.DEG2RAD*e),i=[0,0],o={},a,s,c,u=["a","b","c"],h;t.isBufferGeometry?(h=new Geometry,h.fromBufferGeometry(t)):h=t.clone(),h.mergeVertices(),h.computeFaceNormals();for(var l=h.vertices,f=h.faces,d=0,p=f.length;d<p;d++)for(var m=f[d],v=0;v<3;v++)a=m[u[v]],s=m[u[(v+1)%3]],i[0]=Math.min(a,s),i[1]=Math.max(a,s),c=i[0]+","+i[1],void 0===o[c]?o[c]={index1:i[0],index2:i[1],face1:d,face2:void 0}:o[c].face2=d;for(c in o){var g=o[c];if(void 0===g.face2||f[g.face1].normal.dot(f[g.face2].normal)<=r){var y=l[g.index1];n.push(y.x,y.y,y.z),y=l[g.index2],n.push(y.x,y.y,y.z)}}this.addAttribute("position",new Float32BufferAttribute(n,3))}function CylinderGeometry(t,e,n,r,i,o,a,s){Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new CylinderBufferGeometry(t,e,n,r,i,o,a,s)),this.mergeVertices()}function CylinderBufferGeometry(t,e,n,r,i,o,a,s){function c(){var o,c,u=new Vector3,_=new Vector3,x=0,b=(e-t)/n;for(c=0;c<=i;c++){var w=[],M=c/i,E=M*(e-t)+t;for(o=0;o<=r;o++){var S=o/r,T=S*s+a,A=Math.sin(T),R=Math.cos(T);_.x=E*A,_.y=-M*n+g,_.z=E*R,f.push(_.x,_.y,_.z),u.set(A,b,R).normalize(),d.push(u.x,u.y,u.z),p.push(S,1-M),w.push(m++)}v.push(w)}for(o=0;o<r;o++)for(c=0;c<i;c++){var L=v[c][o],P=v[c+1][o],C=v[c+1][o+1],I=v[c][o+1];l.push(L,P,I),l.push(P,C,I),x+=6}h.addGroup(y,x,0),y+=x}function u(n){var i,o,c,u=new Vector2,v=new Vector3,_=0,x=!0===n?t:e,b=!0===n?1:-1;for(o=m,i=1;i<=r;i++)f.push(0,g*b,0),d.push(0,b,0),p.push(.5,.5),m++;for(c=m,i=0;i<=r;i++){var w=i/r,M=w*s+a,E=Math.cos(M),S=Math.sin(M);v.x=x*S,v.y=g*b,v.z=x*E,f.push(v.x,v.y,v.z),d.push(0,b,0),u.x=.5*E+.5,u.y=.5*S*b+.5,p.push(u.x,u.y),m++}for(i=0;i<r;i++){var T=o+i,A=c+i;!0===n?l.push(A,A+1,T):l.push(A+1,A,T),_+=3}h.addGroup(y,_,!0===n?1:2),y+=_}BufferGeometry.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var h=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var l=[],f=[],d=[],p=[],m=0,v=[],g=n/2,y=0;c(),!1===o&&(t>0&&u(!0),e>0&&u(!1)),this.setIndex(l),this.addAttribute("position",new Float32BufferAttribute(f,3)),this.addAttribute("normal",new Float32BufferAttribute(d,3)),this.addAttribute("uv",new Float32BufferAttribute(p,2))}function ConeGeometry(t,e,n,r,i,o,a){CylinderGeometry.call(this,0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function ConeBufferGeometry(t,e,n,r,i,o,a){CylinderBufferGeometry.call(this,0,t,e,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function CircleGeometry(t,e,n,r){Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new CircleBufferGeometry(t,e,n,r)),this.mergeVertices()}function CircleBufferGeometry(t,e,n,r){BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i=[],o=[],a=[],s=[],c,u,h=new Vector3,l=new Vector2;for(o.push(0,0,0),a.push(0,0,1),s.push(.5,.5),u=0,c=3;u<=e;u++,c+=3){var f=n+u/e*r;h.x=t*Math.cos(f),h.y=t*Math.sin(f),o.push(h.x,h.y,h.z),a.push(0,0,1),l.x=(o[c]/t+1)/2,l.y=(o[c+1]/t+1)/2,s.push(l.x,l.y)}for(c=1;c<=e;c++)i.push(c,c+1,0);this.setIndex(i),this.addAttribute("position",new Float32BufferAttribute(o,3)),this.addAttribute("normal",new Float32BufferAttribute(a,3)),this.addAttribute("uv",new Float32BufferAttribute(s,2))}function ShadowMaterial(t){ShaderMaterial.call(this,{uniforms:UniformsUtils.merge([UniformsLib.lights,{opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}}),this.setValues(t)}function RawShaderMaterial(t){ShaderMaterial.call(this,t),this.type="RawShaderMaterial"}function MeshStandardMaterial(t){Material.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function MeshPhysicalMaterial(t){MeshStandardMaterial.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function MeshPhongMaterial(t){Material.call(this),this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function MeshToonMaterial(t){MeshPhongMaterial.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function MeshNormalMaterial(t){Material.call(this,t),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function MeshLambertMaterial(t){Material.call(this),this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function LineDashedMaterial(t){Material.call(this),this.type="LineDashedMaterial",this.color=new Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function LoadingManager(t,e,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}}function FileLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function CompressedTextureLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager,this._parser=null}function DataTextureLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager,this._parser=null}function ImageLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function CubeTextureLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function TextureLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function Light(t,e){Object3D.call(this),this.type="Light",this.color=new Color(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function HemisphereLight(t,e,n){Light.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color(e)}function LightShadow(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new Vector2(512,512),this.map=null,this.matrix=new Matrix4}function SpotLightShadow(){LightShadow.call(this,new PerspectiveCamera(50,1,.5,500))}function SpotLight(t,e,n,r,i,o){Light.call(this,t,e),this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new SpotLightShadow}function PointLight(t,e,n,r){Light.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new LightShadow(new PerspectiveCamera(90,1,.5,500))}function DirectionalLightShadow(){LightShadow.call(this,new OrthographicCamera(-5,5,5,-5,.5,500))}function DirectionalLight(t,e){Light.call(this,t,e),this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}function AmbientLight(t,e){Light.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function RectAreaLight(t,e,n,r){Light.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Interpolant(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function CubicInterpolant(t,e,n,r){Interpolant.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function LinearInterpolant(t,e,n,r){Interpolant.call(this,t,e,n,r)}function DiscreteInterpolant(t,e,n,r){Interpolant.call(this,t,e,n,r)}function _t(t,e,n,r){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=AnimationUtils.convertArray(e,this.TimeBufferType),this.values=AnimationUtils.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function VectorKeyframeTrack(t,e,n,r){_t.call(this,t,e,n,r)}function QuaternionLinearInterpolant(t,e,n,r){Interpolant.call(this,t,e,n,r)}function QuaternionKeyframeTrack(t,e,n,r){_t.call(this,t,e,n,r)}function NumberKeyframeTrack(t,e,n,r){_t.call(this,t,e,n,r)}function StringKeyframeTrack(t,e,n,r){_t.call(this,t,e,n,r)}function BooleanKeyframeTrack(t,e,n){_t.call(this,t,e,n)}function ColorKeyframeTrack(t,e,n,r){_t.call(this,t,e,n,r)}function KeyframeTrack(t,e,n,r){_t.apply(this,arguments)}function AnimationClip(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=Ut.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function MaterialLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager,this.textures={}}function BufferGeometryLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function Loader(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function JSONLoader(t){"boolean"===typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:DefaultLoadingManager,this.withCredentials=!1}function ObjectLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager,this.texturePath=""}function xt(t,e,n,r,i){var o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function bt(t,e){var n=1-t;return n*n*e}function wt(t,e){return 2*(1-t)*t*e}function Mt(t,e){return t*t*e}function Et(t,e,n,r){return bt(t,e)+wt(t,n)+Mt(t,r)}function St(t,e){var n=1-t;return n*n*n*e}function Tt(t,e){var n=1-t;return 3*n*n*t*e}function At(t,e){return 3*(1-t)*t*t*e}function Rt(t,e){return t*t*t*e}function Lt(t,e,n,r,i){return St(t,e)+Tt(t,n)+At(t,r)+Rt(t,i)}function Curve(){this.arcLengthDivisions=200}function LineCurve(t,e){Curve.call(this),this.v1=t,this.v2=e}function CurvePath(){Curve.call(this),this.curves=[],this.autoClose=!1}function EllipseCurve(t,e,n,r,i,o,a,s){Curve.call(this),this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function SplineCurve(t){Curve.call(this),this.points=void 0===t?[]:t}function CubicBezierCurve(t,e,n,r){Curve.call(this),this.v0=t,this.v1=e,this.v2=n,this.v3=r}function QuadraticBezierCurve(t,e,n){Curve.call(this),this.v0=t,this.v1=e,this.v2=n}function Path(t){CurvePath.call(this),this.currentPoint=new Vector2,t&&this.fromPoints(t)}function Shape(){Path.apply(this,arguments),this.holes=[]}function ShapePath(){this.subPaths=[],this.currentPath=null}function Font(t){this.data=t}function FontLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function AudioLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function StereoCamera(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function CubeCamera(t,e,n){Object3D.call(this),this.type="CubeCamera";var r=90,i=1,o=new PerspectiveCamera(90,1,t,e);o.up.set(0,-1,0),o.lookAt(new Vector3(1,0,0)),this.add(o);var a=new PerspectiveCamera(90,1,t,e);a.up.set(0,-1,0),a.lookAt(new Vector3(-1,0,0)),this.add(a);var s=new PerspectiveCamera(90,1,t,e);s.up.set(0,0,1),s.lookAt(new Vector3(0,1,0)),this.add(s);var c=new PerspectiveCamera(90,1,t,e);c.up.set(0,0,-1),c.lookAt(new Vector3(0,-1,0)),this.add(c);var u=new PerspectiveCamera(90,1,t,e);u.up.set(0,-1,0),u.lookAt(new Vector3(0,0,1)),this.add(u);var h=new PerspectiveCamera(90,1,t,e);h.up.set(0,-1,0),h.lookAt(new Vector3(0,0,-1)),this.add(h);var l={format:RGBFormat,magFilter:LinearFilter,minFilter:LinearFilter};this.renderTarget=new WebGLRenderTargetCube(n,n,l),this.renderTarget.texture.name="CubeCamera",this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,o,n),n.activeCubeFace=1,t.render(e,a,n),n.activeCubeFace=2,t.render(e,s,n),n.activeCubeFace=3,t.render(e,c,n),n.activeCubeFace=4,t.render(e,u,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,t.render(e,h,n),t.setRenderTarget(null)}}function ArrayCamera(t){PerspectiveCamera.call(this),this.enabled=!1,this.cameras=t||[]}function AudioListener(){Object3D.call(this),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Audio(t){Object3D.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function PositionalAudio(t){Audio.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function AudioAnalyser(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function PropertyMixer(t,e,n){this.binding=t,this.valueSize=n;var r=Float64Array,i;switch(e){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Pt(t,e,n){var r=n||PropertyBinding.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function PropertyBinding(t,e,n){this.path=e,this.parsedPath=n||PropertyBinding.parseTrackName(e),this.node=PropertyBinding.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function AnimationObjectGroup(t){this.uuid=Ut.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Ct(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),a={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding},s=0;s!==i;++s){var c=r[s].createInterpolant(null);o[s]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function AnimationMixer(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Uniform(t){"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function InstancedBufferGeometry(){BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function InterleavedBufferAttribute(t,e,n,r){this.uuid=Ut.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function InterleavedBuffer(t,e){this.uuid=Ut.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function InstancedInterleavedBuffer(t,e,n){InterleavedBuffer.call(this,t,e),this.meshPerAttribute=n||1}function InstancedBufferAttribute(t,e,n){BufferAttribute.call(this,t,e),this.meshPerAttribute=n||1}function Raycaster(t,e,n,r){this.ray=new Ray(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function It(t,e){return t.distance-e.distance}function Ot(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,o=0,a=i.length;o<a;o++)Ot(i[o],e,n,!0)}function Clock(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Spherical(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function Cylindrical(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function MorphBlendMesh(t,e){Mesh.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r="__default",i=0,o=n-1,a=n/1;this.createAnimation(r,0,o,a),this.setAnimationWeight(r,1)}function ImmediateRenderObject(t){Object3D.call(this),this.material=t,this.render=function(t){}}function VertexNormalsHelper(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var c=new BufferGeometry,u=new Float32BufferAttribute(2*a*3,3);c.addAttribute("position",u),LineSegments.call(this,c,new LineBasicMaterial({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function SpotLightHelper(t){Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new BufferGeometry,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1,o=32;r<o;r++,i++){var a=r/o*Math.PI*2,s=i/o*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}e.addAttribute("position",new Float32BufferAttribute(n,3));var c=new LineBasicMaterial({fog:!1});this.cone=new LineSegments(e,c),this.add(this.cone),this.update()}function SkeletonHelper(t){this.bones=this.getBoneList(t);for(var e=new BufferGeometry,n=[],r=[],i=new Color(0,0,1),o=new Color(0,1,0),a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(o.r,o.g,o.b))}e.addAttribute("position",new Float32BufferAttribute(n,3)),e.addAttribute("color",new Float32BufferAttribute(r,3));var c=new LineBasicMaterial({vertexColors:VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});LineSegments.call(this,e,c),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function PointLightHelper(t,e){this.light=t,this.light.updateMatrixWorld();var n=new SphereBufferGeometry(e,4,2),r=new MeshBasicMaterial({wireframe:!0,fog:!1});r.color.copy(this.light.color),Mesh.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function RectAreaLightHelper(t){Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var e=new LineBasicMaterial({color:t.color}),n=new BufferGeometry;n.addAttribute("position",new BufferAttribute(new Float32Array(15),3)),this.add(new Line(n,e)),this.update()}function HemisphereLightHelper(t,e){Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new OctahedronBufferGeometry(e);n.rotateY(.5*Math.PI);var r=new MeshBasicMaterial({vertexColors:VertexColors,wireframe:!0}),i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new BufferAttribute(o,3)),this.add(new Mesh(n,r)),this.update()}function GridHelper(t,e,n,r){t=t||10,e=e||10,n=new Color(void 0!==n?n:4473924),r=new Color(void 0!==r?r:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],c=[],u=0,h=0,l=-a;u<=e;u++,l+=o){s.push(-a,0,l,a,0,l),s.push(l,0,-a,l,0,a);var f=u===i?n:r;f.toArray(c,h),h+=3,f.toArray(c,h),h+=3,f.toArray(c,h),h+=3,f.toArray(c,h),h+=3}var d=new BufferGeometry;d.addAttribute("position",new Float32BufferAttribute(s,3)),d.addAttribute("color",new Float32BufferAttribute(c,3));var p=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,d,p)}function PolarGridHelper(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new Color(void 0!==i?i:4473924),o=new Color(void 0!==o?o:8947848);var a=[],s=[],c,u,h,l,f,d,p;for(l=0;l<=e;l++)h=l/e*(2*Math.PI),c=Math.sin(h)*t,u=Math.cos(h)*t,a.push(0,0,0),a.push(c,0,u),p=1&l?i:o,s.push(p.r,p.g,p.b),s.push(p.r,p.g,p.b);for(l=0;l<=n;l++)for(p=1&l?i:o,d=t-t/n*l,f=0;f<r;f++)h=f/r*(2*Math.PI),c=Math.sin(h)*d,u=Math.cos(h)*d,a.push(c,0,u),s.push(p.r,p.g,p.b),h=(f+1)/r*(2*Math.PI),c=Math.sin(h)*d,u=Math.cos(h)*d,a.push(c,0,u),s.push(p.r,p.g,p.b);var m=new BufferGeometry;m.addAttribute("position",new Float32BufferAttribute(a,3)),m.addAttribute("color",new Float32BufferAttribute(s,3));var v=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,m,v)}function FaceNormalsHelper(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new BufferGeometry,u=new Float32BufferAttribute(2*a*3,3);c.addAttribute("position",u),LineSegments.call(this,c,new LineBasicMaterial({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function DirectionalLightHelper(t,e){Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new BufferGeometry;n.addAttribute("position",new Float32BufferAttribute([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new LineBasicMaterial({fog:!1});this.add(new Line(n,r)),n=new BufferGeometry,n.addAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.add(new Line(n,r)),this.update()}function CameraHelper(t){function e(t,e,r){n(t,r),n(e,r)}function n(t,e){o.push(0,0,0),a.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(o.length/3-1)}var r=new BufferGeometry,i=new LineBasicMaterial({color:16777215,vertexColors:FaceColors}),o=[],a=[],s={},c=new Color(16755200),u=new Color(16711680),h=new Color(43775),l=new Color(16777215),f=new Color(3355443);e("n1","n2",c),e("n2","n4",c),e("n4","n3",c),e("n3","n1",c),e("f1","f2",c),e("f2","f4",c),e("f4","f3",c),e("f3","f1",c),e("n1","f1",c),e("n2","f2",c),e("n3","f3",c),e("n4","f4",c),e("p","n1",u),e("p","n2",u),e("p","n3",u),e("p","n4",u),e("u1","u2",h),e("u2","u3",h),e("u3","u1",h),e("c","t",l),e("p","c",f),e("cn1","cn2",f),e("cn3","cn4",f),e("cf1","cf2",f),e("cf3","cf4",f),r.addAttribute("position",new Float32BufferAttribute(o,3)),r.addAttribute("color",new Float32BufferAttribute(a,3)),LineSegments.call(this,r,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function BoxHelper(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new BufferGeometry;i.setIndex(new BufferAttribute(n,1)),i.addAttribute("position",new BufferAttribute(r,3)),LineSegments.call(this,i,new LineBasicMaterial({color:e})),this.matrixAutoUpdate=!1,this.update()}function ArrowHelper(t,e,n,r,i,o){Object3D.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===sr&&(sr=new BufferGeometry,sr.addAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),cr=new CylinderBufferGeometry(0,.5,1,5,1),cr.translate(0,-.5,0)),this.position.copy(e),this.line=new Line(sr,new LineBasicMaterial({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(cr,new MeshBasicMaterial({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function AxisHelper(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new BufferGeometry;r.addAttribute("position",new Float32BufferAttribute(e,3)),r.addAttribute("color",new Float32BufferAttribute(n,3));var i=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,r,i)}function Nt(){function t(t,o,a,s){e=t,n=a,r=-3*t+3*o-2*a-s,i=2*t-2*o+a+s}var e=0,n=0,r=0,i=0;return{initCatmullRom:function(e,n,r,i,o){t(n,r,o*(r-e),o*(i-n))},initNonuniformCatmullRom:function(e,n,r,i,o,a,s){var c=(n-e)/o-(r-e)/(o+a)+(r-n)/a,u=(r-n)/a-(i-n)/(a+s)+(i-r)/s;c*=a,u*=a,t(n,r,c,u)},calc:function(t){var o=t*t;return e+n*t+r*o+i*(o*t)}}}function CatmullRomCurve3(t){Curve.call(this),this.points=t||[],this.closed=!1}function CubicBezierCurve3(t,e,n,r){Curve.call(this),this.v0=t,this.v1=e,this.v2=n,this.v3=r}function QuadraticBezierCurve3(t,e,n){Curve.call(this),this.v0=t,this.v1=e,this.v2=n}function LineCurve3(t,e){Curve.call(this),this.v1=t,this.v2=e}function ArcCurve(t,e,n,r,i,o){EllipseCurve.call(this,t,e,n,n,r,i,o)}function Face4(t,e,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Face3(t,e,n,i,o,a)}function MeshFaceMaterial(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function MultiMaterial(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function PointCloud(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Points(t,e)}function Particle(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Sprite(t)}function ParticleSystem(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Points(t,e)}function PointCloudMaterial(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(t)}function ParticleBasicMaterial(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(t)}function ParticleSystemMaterial(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(t)}function Vertex(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Vector3(t,e,n)}function DynamicBufferAttribute(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new BufferAttribute(t,e).setDynamic(!0)}function Int8Attribute(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Int8BufferAttribute(t,e)}function Uint8Attribute(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Uint8BufferAttribute(t,e)}function Uint8ClampedAttribute(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Uint8ClampedBufferAttribute(t,e)}function Int16Attribute(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Int16BufferAttribute(t,e)}function Uint16Attribute(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Uint16BufferAttribute(t,e)}function Int32Attribute(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Int32BufferAttribute(t,e)}function Uint32Attribute(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Uint32BufferAttribute(t,e)}function Float32Attribute(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Float32BufferAttribute(t,e)}function Float64Attribute(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Float64BufferAttribute(t,e)}function ClosedSplineCurve3(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,t),this.type="catmullrom",this.closed=!0}function SplineCurve3(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,t),this.type="catmullrom"}function Spline(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,t),this.type="catmullrom"}function BoundingBoxHelper(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new BoxHelper(t,e)}function EdgesHelper(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new LineSegments(new EdgesGeometry(t.geometry),new LineBasicMaterial({color:void 0!==e?e:16777215}))}function WireframeHelper(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new LineSegments(new WireframeGeometry(t.geometry),new LineBasicMaterial({color:void 0!==e?e:16777215}))}function XHRLoader(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new FileLoader(t)}function BinaryTextureLoader(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new DataTextureLoader(t)}function Projector(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function CanvasRenderer(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\\s*function\\s*([^\\(\\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}}(),Object.assign(EventDispatcher.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,r=n[t];if(void 0!==r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;var r=[],i=0,o=n.length;for(i=0;i<o;i++)r[i]=n[i];for(i=0;i<o;i++)r[i].call(this,t)}}}});var REVISION="85",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,FrontFaceDirectionCW=0,FrontFaceDirectionCCW=1,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,FrontSide=0,BackSide=1,DoubleSide=2,FlatShading=1,SmoothShading=2,NoColors=0,FaceColors=1,VertexColors=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,Uncharted2ToneMapping=3,CineonToneMapping=4,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,SphericalReflectionMapping=305,CubeUVReflectionMapping=306,CubeUVRefractionMapping=307,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipMapNearestFilter=1004,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipMapNearestFilter=1007,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedShort565Type=1019,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,RGBEFormat=RGBAFormat,DepthFormat=1026,DepthStencilFormat=1027,RGB_S3TC_DXT1_Format=2001,RGBA_S3TC_DXT1_Format=2002,RGBA_S3TC_DXT3_Format=2003,RGBA_S3TC_DXT5_Format=2004,RGB_PVRTC_4BPPV1_Format=2100,RGB_PVRTC_2BPPV1_Format=2101,RGBA_PVRTC_4BPPV1_Format=2102,RGBA_PVRTC_2BPPV1_Format=2103,RGB_ETC1_Format=2151,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,GammaEncoding=3007,RGBEEncoding=3002,LogLuvEncoding=3003,RGBM7Encoding=3004,RGBM16Encoding=3005,RGBDEncoding=3006,BasicDepthPacking=3200,RGBADepthPacking=3201,Ut={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=new Array(36),n=0,r;return function i(){for(var o=0;o<36;o++)8===o||13===o||18===o||23===o?e[o]="-":14===o?e[o]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),r=15&n,n>>=4,e[o]=t[19===o?3&r|8:r]);return e.join("")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Ut.DEG2RAD},radToDeg:function(t){return t*Ut.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};Object.defineProperties(Vector2.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(Vector2.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new Vector2,e=new Vector2;return function n(r,i){return t.set(r,r),e.set(i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}});var Dt=0;Texture.DEFAULT_IMAGE=void 0,Texture.DEFAULT_MAPPING=300,Object.defineProperty(Texture.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Texture.prototype,EventDispatcher.prototype,{constructor:Texture,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){function e(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;void 0===r.uuid&&(r.uuid=Ut.generateUUID()),void 0===t.images[r.uuid]&&(t.images[r.uuid]={uuid:r.uuid,url:e(r)}),n.image=r.uuid}return t.textures[this.uuid]=n,n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300===this.mapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case RepeatWrapping:t.x=t.x-Math.floor(t.x);break;case ClampToEdgeWrapping:t.x=t.x<0?0:1;break;case MirroredRepeatWrapping:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case RepeatWrapping:t.y=t.y-Math.floor(t.y);break;case ClampToEdgeWrapping:t.y=t.y<0?0:1;break;case MirroredRepeatWrapping:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.assign(Vector4.prototype,{isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=.01,a=.1,s=t.elements,c=s[0],u=s[4],h=s[8],l=s[1],f=s[5],d=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(u-l)<.01&&Math.abs(h-p)<.01&&Math.abs(d-m)<.01){if(Math.abs(u+l)<.1&&Math.abs(h+p)<.1&&Math.abs(d+m)<.1&&Math.abs(c+f+v-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var g=(c+1)/2,y=(f+1)/2,_=(v+1)/2,x=(u+l)/4,b=(h+p)/4,w=(d+m)/4;return g>y&&g>_?g<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(g),r=x/n,i=b/n):y>_?y<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(y),n=x/r,i=w/r):_<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(_),n=b/i,r=w/i),this.set(n,r,i,e),this}var M=Math.sqrt((m-d)*(m-d)+(h-p)*(h-p)+(l-u)*(l-u));return Math.abs(M)<.001&&(M=1),this.x=(m-d)/M,this.y=(h-p)/M,this.z=(l-u)/M,this.w=Math.acos((c+f+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t=new Vector4,e=new Vector4;return function n(r,i){return t.set(r,r,r,r),e.set(i,i,i,i),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),Object.assign(WebGLRenderTarget.prototype,EventDispatcher.prototype,{isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),WebGLRenderTargetCube.prototype=Object.create(WebGLRenderTarget.prototype),WebGLRenderTargetCube.prototype.constructor=WebGLRenderTargetCube,WebGLRenderTargetCube.prototype.isWebGLRenderTargetCube=!0,Object.assign(Quaternion,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,a){var s=n[r+0],c=n[r+1],u=n[r+2],h=n[r+3],l=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(h!==p||s!==l||c!==f||u!==d){var m=1-a,v=s*l+c*f+u*d+h*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),x=Math.atan2(_,v*g);m=Math.sin(m*x)/_,a=Math.sin(a*x)/_}var b=a*g;if(s=s*m+l*b,c=c*m+f*b,u=u*m+d*b,h=h*m+p*b,m===1-a){var w=1/Math.sqrt(s*s+c*c+u*u+h*h);s*=w,c*=w,u*=w,h*=w}}t[e]=s,t[e+1]=c,t[e+2]=u,t[e+3]=h}}),Object.defineProperties(Quaternion.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(Quaternion.prototype,{set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,r=t._y,i=t._z,o=t.order,a=Math.cos,s=Math.sin,c=a(n/2),u=a(r/2),h=a(i/2),l=s(n/2),f=s(r/2),d=s(i/2);return"XYZ"===o?(this._x=l*u*h+c*f*d,this._y=c*f*h-l*u*d,this._z=c*u*d+l*f*h,this._w=c*u*h-l*f*d):"YXZ"===o?(this._x=l*u*h+c*f*d,this._y=c*f*h-l*u*d,this._z=c*u*d-l*f*h,this._w=c*u*h+l*f*d):"ZXY"===o?(this._x=l*u*h-c*f*d,this._y=c*f*h+l*u*d,this._z=c*u*d+l*f*h,this._w=c*u*h-l*f*d):"ZYX"===o?(this._x=l*u*h-c*f*d,this._y=c*f*h+l*u*d,this._z=c*u*d-l*f*h,this._w=c*u*h+l*f*d):"YZX"===o?(this._x=l*u*h+c*f*d,this._y=c*f*h+l*u*d,this._z=c*u*d-l*f*h,this._w=c*u*h-l*f*d):"XZY"===o&&(this._x=l*u*h-c*f*d,this._y=c*f*h-l*u*d,this._z=c*u*d+l*f*h,this._w=c*u*h+l*f*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e=t.elements,n=e[0],r=e[4],i=e[8],o=e[1],a=e[5],s=e[9],c=e[2],u=e[6],h=e[10],l=n+a+h,f;return l>0?(f=.5/Math.sqrt(l+1),this._w=.25/f,this._x=(u-s)*f,this._y=(i-c)*f,this._z=(o-r)*f):n>a&&n>h?(f=2*Math.sqrt(1+n-a-h),this._w=(u-s)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(i+c)/f):a>h?(f=2*Math.sqrt(1+a-n-h),this._w=(i-c)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(s+u)/f):(f=2*Math.sqrt(1+h-n-a),this._w=(o-r)/f,this._x=(i+c)/f,this._y=(s+u)/f,this._z=.25*f),this.onChangeCallback(),this},setFromUnitVectors:function(){var t=new Vector3,e;return function n(r,i){return void 0===t&&(t=new Vector3),e=r.dot(i)+1,e<1e-6?(e=0,Math.abs(r.x)>Math.abs(r.z)?t.set(-r.y,r.x,0):t.set(0,-r.z,r.y)):t.crossVectors(r,i),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,c=e._z,u=e._w;return this._x=n*u+o*a+r*c-i*s,this._y=r*u+o*s+i*a-n*c,this._z=i*u+o*c+n*s-r*a,this._w=o*u-n*a-r*s-i*c,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var c=Math.atan2(s,a),u=Math.sin((1-e)*c)/s,h=Math.sin(e*c)/s;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Vector3.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new Quaternion;return function e(n){return!1===(n&&n.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(n))}}(),applyAxisAngle:function(){var t=new Quaternion;return function e(n,r){return this.applyQuaternion(t.setFromAxisAngle(n,r))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14];var o=i[3]*e+i[7]*n+i[11]*r+i[15];return this.divideScalar(o)},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,c=s*e+o*r-a*n,u=s*n+a*e-i*r,h=s*r+i*n-o*e,l=-i*e-o*n-a*r;return this.x=c*s+l*-i+u*-a-h*-o,this.y=u*s+l*-o+h*-i-c*-a,this.z=h*s+l*-a+c*-o-u*-i,this},project:function(){var t=new Matrix4;return function e(n){return t.multiplyMatrices(n.projectionMatrix,t.getInverse(n.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new Matrix4;return function e(n){return t.multiplyMatrices(n.matrixWorld,t.getInverse(n.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new Vector3,e=new Vector3;return function n(r,i){return t.set(r,r,r),e.set(i,i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new Vector3;return function e(n){return t.copy(this).projectOnVector(n),this.sub(t)}}(),reflect:function(){var t=new Vector3;return function e(n){return this.sub(t.copy(n).multiplyScalar(2*this.dot(n)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Ut.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(Matrix4.prototype,{isMatrix4:!0,set:function(t,e,n,r,i,o,a,s,c,u,h,l,f,d,p,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=c,v[6]=u,v[10]=h,v[14]=l,v[3]=f,v[7]=d,v[11]=p,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Matrix4).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new Vector3;return function e(n){var r=this.elements,i=n.elements,o=1/t.setFromMatrixColumn(n,0).length(),a=1/t.setFromMatrixColumn(n,1).length(),s=1/t.setFromMatrixColumn(n,2).length();return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r[4]=i[4]*a,r[5]=i[5]*a,r[6]=i[6]*a,r[8]=i[8]*s,r[9]=i[9]*s,r[10]=i[10]*s,this}}(),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),c=Math.sin(r),u=Math.cos(i),h=Math.sin(i);if("XYZ"===t.order){var l=o*u,f=o*h,d=a*u,p=a*h;e[0]=s*u,e[4]=-s*h,e[8]=c,e[1]=f+d*c,e[5]=l-p*c,e[9]=-a*s,e[2]=p-l*c,e[6]=d+f*c,e[10]=o*s}else if("YXZ"===t.order){var m=s*u,v=s*h,g=c*u,y=c*h;e[0]=m+y*a,e[4]=g*a-v,e[8]=o*c,e[1]=o*h,e[5]=o*u,e[9]=-a,e[2]=v*a-g,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order){var m=s*u,v=s*h,g=c*u,y=c*h;e[0]=m-y*a,e[4]=-o*h,e[8]=g+v*a,e[1]=v+g*a,e[5]=o*u,e[9]=y-m*a,e[2]=-o*c,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){var l=o*u,f=o*h,d=a*u,p=a*h;e[0]=s*u,e[4]=d*c-f,e[8]=l*c+p,e[1]=s*h,e[5]=p*c+l,e[9]=f*c-d,e[2]=-c,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var _=o*s,x=o*c,b=a*s,w=a*c;e[0]=s*u,e[4]=w-_*h,e[8]=b*h+x,e[1]=h,e[5]=o*u,e[9]=-a*u,e[2]=-c*u,e[6]=x*h+b,e[10]=_-w*h}else if("XZY"===t.order){var _=o*s,x=o*c,b=a*s,w=a*c;e[0]=s*u,e[4]=-h,e[8]=c*u,e[1]=_*h+w,e[5]=o*u,e[9]=x*h-b,e[2]=b*h-x,e[6]=a*u,e[10]=w*h+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t._x,r=t._y,i=t._z,o=t._w,a=n+n,s=r+r,c=i+i,u=n*a,h=n*s,l=n*c,f=r*s,d=r*c,p=i*c,m=o*a,v=o*s,g=o*c;return e[0]=1-(f+p),e[4]=h-g,e[8]=l+v,e[1]=h+g,e[5]=1-(u+p),e[9]=d-m,e[2]=l-v,e[6]=d+m,e[10]=1-(u+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(i,o,a){var s=this.elements;return n.subVectors(i,o),0===n.lengthSq()&&(n.z=1),n.normalize(),t.crossVectors(a,n),0===t.lengthSq()&&(n.z+=1e-4,t.crossVectors(a,n)),t.normalize(),e.crossVectors(n,t),s[0]=t.x,s[4]=e.x,s[8]=n.x,s[1]=t.y,s[5]=e.y,s[9]=n.y,s[2]=t.z,s[6]=e.z,s[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],c=n[12],u=n[1],h=n[5],l=n[9],f=n[13],d=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],_=n[11],x=n[15],b=r[0],w=r[4],M=r[8],E=r[12],S=r[1],T=r[5],A=r[9],R=r[13],L=r[2],P=r[6],C=r[10],I=r[14],O=r[3],N=r[7],U=r[11],D=r[15];return i[0]=o*b+a*S+s*L+c*O,i[4]=o*w+a*T+s*P+c*N,i[8]=o*M+a*A+s*C+c*U,i[12]=o*E+a*R+s*I+c*D,i[1]=u*b+h*S+l*L+f*O,i[5]=u*w+h*T+l*P+f*N,i[9]=u*M+h*A+l*C+f*U,i[13]=u*E+h*R+l*I+f*D,i[2]=d*b+p*S+m*L+v*O,i[6]=d*w+p*T+m*P+v*N,i[10]=d*M+p*A+m*C+v*U,i[14]=d*E+p*R+m*I+v*D,i[3]=g*b+y*S+_*L+x*O,i[7]=g*w+y*T+_*P+x*N,i[11]=g*M+y*A+_*C+x*U,i[15]=g*E+y*R+_*I+x*D,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new Vector3;return function e(n){for(var r=0,i=n.count;r<i;r++)t.x=n.getX(r),t.y=n.getY(r),t.z=n.getZ(r),t.applyMatrix4(this),n.setXYZ(r,t.x,t.y,t.z);return n}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],c=t[13],u=t[2],h=t[6],l=t[10],f=t[14];return t[3]*(+i*s*h-r*c*h-i*a*l+n*c*l+r*a*f-n*s*f)+t[7]*(+e*s*f-e*c*l+i*o*l-r*o*f+r*c*u-i*s*u)+t[11]*(+e*c*h-e*a*f-i*o*h+n*o*f+i*a*u-n*c*u)+t[15]*(-r*a*u-e*s*h+e*a*l+r*o*h-n*o*l+n*s*u)},transpose:function(){var t=this.elements,e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],u=r[5],h=r[6],l=r[7],f=r[8],d=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],_=r[15],x=d*y*l-g*p*l+g*h*m-u*y*m-d*h*_+u*p*_,b=v*p*l-f*y*l-v*h*m+c*y*m+f*h*_-c*p*_,w=f*g*l-v*d*l+v*u*m-c*g*m-f*u*_+c*d*_,M=v*d*h-f*g*h-v*u*p+c*g*p+f*u*y-c*d*y,E=i*x+o*b+a*w+s*M;if(0===E){var S="THREE.Matrix4.getInverse(): can\'t invert matrix, determinant is 0";if(!0===e)throw new Error(S);return console.warn(S),this.identity()}var T=1/E;return n[0]=x*T,n[1]=(g*p*s-d*y*s-g*a*m+o*y*m+d*a*_-o*p*_)*T,n[2]=(u*y*s-g*h*s+g*a*l-o*y*l-u*a*_+o*h*_)*T,n[3]=(d*h*s-u*p*s-d*a*l+o*p*l+u*a*m-o*h*m)*T,n[4]=b*T,n[5]=(f*y*s-v*p*s+v*a*m-i*y*m-f*a*_+i*p*_)*T,n[6]=(v*h*s-c*y*s-v*a*l+i*y*l+c*a*_-i*h*_)*T,n[7]=(c*p*s-f*h*s+f*a*l-i*p*l-c*a*m+i*h*m)*T,n[8]=w*T,n[9]=(v*d*s-f*g*s-v*o*m+i*g*m+f*o*_-i*d*_)*T,n[10]=(c*g*s-v*u*s+v*o*l-i*g*l-c*o*_+i*u*_)*T,n[11]=(f*u*s-c*d*s-f*o*l+i*d*l+c*o*m-i*u*m)*T,n[12]=M*T,n[13]=(f*g*a-v*d*a+v*o*p-i*g*p-f*o*y+i*d*y)*T,n[14]=(v*u*a-c*g*a-v*o*h+i*g*h+c*o*y-i*u*y)*T,n[15]=(c*d*a-f*u*a+f*o*h-i*d*h-c*o*p+i*u*p)*T,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,c=i*o,u=i*a;return this.set(c*o+n,c*a-r*s,c*s+r*a,0,c*a+r*s,u*a+n,u*s-r*o,0,c*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t=new Vector3,e=new Matrix4;return function n(r,i,o){var a=this.elements,s=t.set(a[0],a[1],a[2]).length(),c=t.set(a[4],a[5],a[6]).length(),u=t.set(a[8],a[9],a[10]).length();this.determinant()<0&&(s=-s),r.x=a[12],r.y=a[13],r.z=a[14],e.copy(this);var h=1/s,l=1/c,f=1/u;return e.elements[0]*=h,e.elements[1]*=h,e.elements[2]*=h,e.elements[4]*=l,e.elements[5]*=l,e.elements[6]*=l,e.elements[8]*=f,e.elements[9]*=f,e.elements[10]*=f,i.setFromRotationMatrix(e),o.x=s,o.y=c,o.z=u,this}}(),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(e-t),c=2*i/(n-r),u=(e+t)/(e-t),h=(n+r)/(n-r),l=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=1/(e-t),c=1/(n-r),u=1/(o-i),h=(e+t)*s,l=(n+r)*c,f=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),DataTexture.prototype=Object.create(Texture.prototype),DataTexture.prototype.constructor=DataTexture,DataTexture.prototype.isDataTexture=!0,CubeTexture.prototype=Object.create(Texture.prototype),CubeTexture.prototype.constructor=CubeTexture,CubeTexture.prototype.isCubeTexture=!0,Object.defineProperty(CubeTexture.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var Ft=new Texture,zt=new CubeTexture,Bt=[],kt=[],Gt=new Float32Array(16),Ht=new Float32Array(9);O.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(t,e[o.id])}};var jt=/([\\w\\d_]+)(\\])?(\\[|\\.)?/g;D.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},D.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},D.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},D.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n};var Vt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(Color.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function e(n,r,i){if(n=Ut.euclideanModulo(n,1),r=Ut.clamp(r,0,1),i=Ut.clamp(i,0,1),0===r)this.r=this.g=this.b=i;else{var o=i<=.5?i*(1+r):i+r-i*r,a=2*i-o;this.r=t(a,o,n+1/3),this.g=t(a,o,n),this.b=t(a,o,n-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(t)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(a,s,c)}}}else if(n=/^\\#([A-Fa-f0-9]+)$/.exec(t)){var u=n[1],h=u.length;if(3===h)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}if(t&&t.length>0){var u=Vt[t];void 0!==u?this.setHex(u):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e=t||{h:0,s:0,l:0},n=this.r,r=this.g,i=this.b,o=Math.max(n,r,i),a=Math.min(n,r,i),s,c,u=(a+o)/2;if(a===o)s=0,c=0;else{var h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case n:s=(r-i)/h+(r<i?6:0);break;case r:s=(i-n)/h+2;break;case i:s=(n-r)/h+4}s/=6}return e.h=s,e.s=c,e.l=u,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var UniformsLib={common:{diffuse:{value:new Color(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new Vector4(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Color(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new Vector4(0,0,1,1)}}},UniformsUtils={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var r in t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}},Wt="#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\\n",Xt="#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\\n",Yt="#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\\n",qt="#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\\n",Zt="#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif",Jt="\\nvec3 transformed = vec3( position );\\n",Kt="\\nvec3 objectNormal = vec3( normal );\\n",Qt="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\tif( decayExponent > 0.0 ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\treturn distanceFalloff * maxDistanceCutoffFactor;\\n#else\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n#endif\\n\\t}\\n\\treturn 1.0;\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat theta = acos( dot( N, V ) );\\n\\tvec2 uv = vec2(\\n\\t\\tsqrt( saturate( roughness ) ),\\n\\t\\tsaturate( theta / ( 0.5 * PI ) ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\\n\\tfloat b = 3.45068 + (4.18814 + y) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\\n\\treturn result;\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\\treturn specularColor * AB.x + AB.y;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n",$t="#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = dFdx( surf_pos );\\n\\t\\tvec3 vSigmaY = dFdy( surf_pos );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\\n",te="#if NUM_CLIPPING_PLANES > 0\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\\n\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t\\t\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\\n\\t\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t\\n\\t#endif\\n#endif\\n",ee="#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\\n",ne="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n",re="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n",ie="#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif",oe="#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\\n",ae="#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif",se="#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif",ce="#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transpose( const in mat3 v ) {\\n\\tmat3 tmp;\\n\\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\\n\\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\\n\\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\\n\\treturn tmp;\\n}\\n",ue="#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\\n",he="#ifdef FLIP_SIDED\\n\\tobjectNormal = -objectNormal;\\n#endif\\nvec3 transformedNormal = normalMatrix * objectNormal;\\n",le="#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\\n",fe="#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\\n",de="#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\\n",pe="#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\\n",me="  gl_FragColor = linearToOutputTexel( gl_FragColor );\\n",ve="\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM            = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat D      = max( maxRange / maxRGB, 1.0 );\\n\\tD            = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\n\\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract(Le);\\n\\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\n\\treturn vec4( max(vRGB, 0.0), 1.0 );\\n}\\n",ge="#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\n\\t\\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\\n",ye="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\\n",_e="#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\\n",xe="#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\n",be="\\n#ifdef USE_FOG\\nfogDepth = -mvPosition.z;\\n#endif",we="#ifdef USE_FOG\\n  varying float fogDepth;\\n#endif\\n",Me="#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\\n",Ee="#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\\n",Se="#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\\n",Te="#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\\n",Ae="#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif",Re="vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\\n",Le="uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltcMat;\\tuniform sampler2D ltcMag;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\\n",Pe="BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\\n",Ce="varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tfloat norm = texture2D( ltcMag, uv ).a;\\n\\t\\tvec4 t = texture2D( ltcMat, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3(   1,   0, t.y ),\\n\\t\\t\\tvec3(   0, t.z,   0 ),\\n\\t\\t\\tvec3( t.w,   0, t.x )\\n\\t\\t);\\n\\t\\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\\n",Ie="PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\\n",Oe="struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tfloat norm = texture2D( ltcMag, uv ).a;\\n\\t\\tvec4 t = texture2D( ltcMat, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3(   1,   0, t.y ),\\n\\t\\t\\tvec3(   0, t.z,   0 ),\\n\\t\\t\\tvec3( t.w,   0, t.x )\\n\\t\\t);\\n\\t\\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\\n",Ne="\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\\n\\t#endif\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\\n\\t#ifndef STANDARD\\n\\t\\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\\n\\t#else\\n\\t\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n\\t#endif\\n\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\\n",Ue="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\\n\\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\\n#endif",De="#ifdef USE_LOGDEPTHBUF\\n\\tuniform float logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n#endif\\n",Fe="#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n\\tuniform float logDepthBufFC;\\n#endif",ze="#ifdef USE_LOGDEPTHBUF\\n\\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\\n\\t#endif\\n#endif\\n",Be="#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\\n",ke="#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n",Ge="#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n",He="#ifdef USE_MAP\\n\\tuniform vec4 offsetRepeat;\\n\\tuniform sampler2D map;\\n#endif\\n",je="float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\\n",Ve="#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif",We="#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\\n",Xe="#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif",Ye="#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\\n",qe="#ifdef DOUBLE_SIDED\\n\\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n#else\\n\\tfloat flipNormal = 1.0;\\n#endif\\n",Ze="#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal ) * flipNormal;\\n#endif\\n#ifdef USE_NORMALMAP\\n\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\\n",Je="#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\tvec3 q0 = dFdx( eye_pos.xyz );\\n\\t\\tvec3 q1 = dFdy( eye_pos.xyz );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n\\t\\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\\n",Ke="vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 1.0 - 2.0 * rgb.xyz;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\\n",Qe="#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n",$e="#ifdef USE_SKINNING\\n\\tvec4 mvPosition = modelViewMatrix * skinned;\\n#else\\n\\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\n#endif\\ngl_Position = projectionMatrix * mvPosition;\\n",tn="#if defined( DITHERING )\\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\\n",en="#if defined( DITHERING )\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\\n",nn="float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\\n",rn="#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif",on="#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\\n",an="#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\\n",sn="#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\\n",cn="float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\\n",un="#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif",hn="#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\\n",ln="#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\tskinned  = bindMatrixInverse * skinned;\\n#endif\\n",fn="#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\\n",dn="float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif",pn="#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif",mn="#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\\n",vn="#define saturate(a) clamp( a, 0.0, 1.0 )\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\n",gn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif",yn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform vec4 offsetRepeat;\\n#endif\\n",_n="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\\n#endif",xn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif",bn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif",wn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif",Mn="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\\n\\t#ifdef USE_SKINNING\\n\\t\\tvec4 worldPosition = modelMatrix * skinned;\\n\\t#else\\n\\t\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n\\t#endif\\n#endif\\n",En="uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\n\\tgl_FragColor.a *= opacity;\\n}\\n",Sn="varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n",Tn="#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\\n",An="#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\\n",Rn="uniform vec3 lightPos;\\nvarying vec4 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\\n}\\n",Ln="varying vec4 vWorldPosition;\\n#include <common>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <skinbase_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition;\\n}\\n",Pn="uniform sampler2D tEquirect;\\nuniform float tFlip;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldPosition );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n}\\n",Cn="varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n",In="uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n",On="uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\\n",Nn="uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <normal_flip>\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n",Un="#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n",Dn="uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <normal_flip>\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n",Fn="#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n",zn="#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n",Bn="#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n",kn="#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <lights_pars>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n",Gn="#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n",Hn="#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\\n",jn="#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\\n",Vn="uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n",Wn="uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tgl_PointSize = size * ( scale / - mvPosition.z );\\n\\t#else\\n\\t\\tgl_PointSize = size;\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n",Xn="uniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\\n}\\n",Yn="#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n}\\n",ShaderChunk={alphamap_fragment:Wt,alphamap_pars_fragment:Xt,alphatest_fragment:Yt,aomap_fragment:qt,aomap_pars_fragment:Zt,begin_vertex:Jt,beginnormal_vertex:Kt,bsdfs:Qt,bumpmap_pars_fragment:$t,clipping_planes_fragment:te,clipping_planes_pars_fragment:ee,clipping_planes_pars_vertex:ne,clipping_planes_vertex:re,color_fragment:ie,color_pars_fragment:oe,color_pars_vertex:ae,color_vertex:se,common:ce,cube_uv_reflection_fragment:ue,defaultnormal_vertex:he,displacementmap_pars_vertex:le,displacementmap_vertex:fe,emissivemap_fragment:de,emissivemap_pars_fragment:pe,encodings_fragment:me,encodings_pars_fragment:ve,envmap_fragment:ge,envmap_pars_fragment:ye,envmap_pars_vertex:_e,envmap_vertex:xe,fog_vertex:be,fog_pars_vertex:we,fog_fragment:Me,fog_pars_fragment:Ee,gradientmap_pars_fragment:Se,lightmap_fragment:Te,lightmap_pars_fragment:Ae,lights_lambert_vertex:Re,lights_pars:Le,lights_phong_fragment:Pe,lights_phong_pars_fragment:Ce,lights_physical_fragment:Ie,lights_physical_pars_fragment:Oe,lights_template:Ne,logdepthbuf_fragment:Ue,logdepthbuf_pars_fragment:De,logdepthbuf_pars_vertex:Fe,logdepthbuf_vertex:ze,map_fragment:Be,map_pars_fragment:ke,map_particle_fragment:Ge,map_particle_pars_fragment:He,metalnessmap_fragment:je,metalnessmap_pars_fragment:Ve,morphnormal_vertex:We,morphtarget_pars_vertex:Xe,morphtarget_vertex:Ye,normal_flip:qe,normal_fragment:Ze,normalmap_pars_fragment:Je,packing:Ke,premultiplied_alpha_fragment:Qe,project_vertex:$e,dithering_fragment:tn,dithering_pars_fragment:en,roughnessmap_fragment:nn,roughnessmap_pars_fragment:rn,shadowmap_pars_fragment:on,shadowmap_pars_vertex:an,shadowmap_vertex:sn,shadowmask_pars_fragment:cn,skinbase_vertex:un,skinning_pars_vertex:hn,skinning_vertex:ln,skinnormal_vertex:fn,specularmap_fragment:dn,specularmap_pars_fragment:pn,tonemapping_fragment:mn,tonemapping_pars_fragment:vn,uv_pars_fragment:gn,uv_pars_vertex:yn,uv_vertex:_n,uv2_pars_fragment:xn,uv2_pars_vertex:bn,uv2_vertex:wn,worldpos_vertex:Mn,cube_frag:En,cube_vert:Sn,depth_frag:Tn,depth_vert:An,distanceRGBA_frag:Rn,distanceRGBA_vert:Ln,equirect_frag:Pn,equirect_vert:Cn,linedashed_frag:In,linedashed_vert:On,meshbasic_frag:Nn,meshbasic_vert:Un,meshlambert_frag:Dn,meshlambert_vert:Fn,meshphong_frag:zn,meshphong_vert:Bn,meshphysical_frag:kn,meshphysical_vert:Gn,normal_frag:Hn,normal_vert:jn,points_frag:Vn,points_vert:Wn,shadow_frag:Xn,shadow_vert:Yn},ShaderLib={basic:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},points:{uniforms:UniformsUtils.merge([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.normal_vert,fragmentShader:ShaderChunk.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new Vector3}},vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag}};ShaderLib.physical={uniforms:UniformsUtils.merge([ShaderLib.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},Object.assign(Box2.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Vector2;return function e(n,r){var i=t.copy(r).multiplyScalar(.5);return this.min.copy(n).sub(i),this.max.copy(n).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new Vector2;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new Vector2;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new Vector2).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new Vector2).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Vector2;return function e(n){return t.copy(n).clamp(this.min,this.max).sub(n).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var qn=0;Object.assign(Material.prototype,EventDispatcher.prototype,{isMaterial:!0,setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": \'"+e+"\' is not a property of this material.")}else console.warn("THREE.Material: \'"+e+"\' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t;n&&(t={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(r.blending=this.blending),this.shading!==SmoothShading&&(r.shading=this.shading),this.side!==FrontSide&&(r.side=this.side),this.vertexColors!==NoColors&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),r.skinning=this.skinning,r.morphTargets=this.morphTargets,r.dithering=this.dithering,n){var i=e(t.textures),o=e(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ShaderMaterial.prototype=Object.create(Material.prototype),ShaderMaterial.prototype.constructor=ShaderMaterial,ShaderMaterial.prototype.isShaderMaterial=!0,ShaderMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=UniformsUtils.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},ShaderMaterial.prototype.toJSON=function(t){var e=Material.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},MeshDepthMaterial.prototype=Object.create(Material.prototype),MeshDepthMaterial.prototype.constructor=MeshDepthMaterial,MeshDepthMaterial.prototype.isMeshDepthMaterial=!0,MeshDepthMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Object.assign(Box3.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=t.length;s<c;s+=3){var u=t[s],h=t[s+1],l=t[s+2];u<e&&(e=u),h<n&&(n=h),l<r&&(r=l),u>i&&(i=u),h>o&&(o=h),l>a&&(a=l)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=t.count;s<c;s++){var u=t.getX(s),h=t.getY(s),l=t.getZ(s);u<e&&(e=u),h<n&&(n=h),l<r&&(r=l),u>i&&(i=u),h>o&&(o=h),l>a&&(a=l)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Vector3;return function e(n,r){var i=t.copy(r).multiplyScalar(.5);return this.min.copy(n).sub(i),this.max.copy(n).add(i),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new Vector3;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new Vector3;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t=new Vector3;return function e(n){var r=this;return n.updateMatrixWorld(!0),n.traverse(function(e){var n,i,o=e.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(n=0,i=a.length;n<i;n++)t.copy(a[n]),t.applyMatrix4(e.matrixWorld),r.expandByPoint(t)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(n=0,i=s.count;n<i;n++)t.fromBufferAttribute(s,n).applyMatrix4(e.matrixWorld),r.expandByPoint(t)}}),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new Vector3).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new Vector3;return function e(n){return this.clampPoint(n.center,t),t.distanceToSquared(n.center)<=n.radius*n.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new Vector3).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Vector3;return function e(n){return t.copy(n).clamp(this.min,this.max).sub(n).length()}}(),getBoundingSphere:function(){var t=new Vector3;return function e(n){var r=n||new Sphere;return this.getCenter(r.center),r.radius=.5*this.getSize(t).length(),r}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3];return function e(n){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(n),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(n),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(n),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(n),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(n),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(n),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(n),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(n),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(Sphere.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new Box3;return function e(n,r){var i=this.center;void 0!==r?i.copy(r):t.setFromPoints(n).getCenter(i);for(var o=0,a=0,s=n.length;a<s;a++)o=Math.max(o,i.distanceToSquared(n[a]));return this.radius=Math.sqrt(o),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new Vector3;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new Box3;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(Matrix3.prototype,{isMatrix3:!0,set:function(t,e,n,r,i,o,a,s,c){var u=this.elements;return u[0]=t,u[1]=r,u[2]=a,u[3]=e,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new Vector3;return function e(n){for(var r=0,i=n.count;r<i;r++)t.x=n.getX(r),t.y=n.getY(r),t.z=n.getZ(r),t.applyMatrix3(this),n.setXYZ(r,t.x,t.y,t.z);return n}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[3],s=n[6],c=n[1],u=n[4],h=n[7],l=n[2],f=n[5],d=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],_=r[7],x=r[2],b=r[5],w=r[8];return i[0]=o*p+a*g+s*x,i[3]=o*m+a*y+s*b,i[6]=o*v+a*_+s*w,i[1]=c*p+u*g+h*x,i[4]=c*m+u*y+h*b,i[7]=c*v+u*_+h*w,i[2]=l*p+f*g+d*x,i[5]=l*m+f*y+d*b,i[8]=l*v+f*_+d*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],u=t[8];return e*o*u-e*a*c-n*i*u+n*a*s+r*i*c-r*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=n[5],h=n[6],l=n[7],f=n[8],d=f*c-u*l,p=u*h-f*s,m=l*s-c*h,v=i*d+o*p+a*m;if(0===v){var g="THREE.Matrix3.getInverse(): can\'t invert matrix, determinant is 0";if(!0===e)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=d*y,r[1]=(a*l-f*o)*y,r[2]=(u*o-a*c)*y,r[3]=p*y,r[4]=(f*i-a*h)*y,r[5]=(a*s-u*i)*y,r[6]=m*y,r[7]=(o*h-l*i)*y,r[8]=(c*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}),Object.assign(Plane.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new Vector3,e=new Vector3;return function n(r,i,o){var a=t.subVectors(o,i).cross(e.subVectors(r,i)).normalize();return this.setFromNormalAndCoplanarPoint(a,r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new Vector3).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new Vector3;return function e(n,r){var i=r||new Vector3,o=n.delta(t),a=this.normal.dot(o);if(0!==a){var s=-(n.start.dot(this.normal)+this.constant)/a;if(!(s<0||s>1))return i.copy(o).multiplyScalar(s).add(n.start)}else if(0===this.distanceToPoint(n.start))return i.copy(n.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new Vector3,e=new Matrix3;return function n(r,i){var o=this.coplanarPoint(t).applyMatrix4(r),a=i||e.getNormalMatrix(r),s=this.normal.applyMatrix3(a).normalize();return this.constant=-o.dot(s),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(Frustum.prototype,{set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],u=n[6],h=n[7],l=n[8],f=n[9],d=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return e[0].setComponents(a-r,h-s,p-l,y-m).normalize(),e[1].setComponents(a+r,h+s,p+l,y+m).normalize(),e[2].setComponents(a+i,h+c,p+f,y+v).normalize(),e[3].setComponents(a-i,h-c,p-f,y-v).normalize(),e[4].setComponents(a-o,h-u,p-d,y-g).normalize(),e[5].setComponents(a+o,h+u,p+d,y+g).normalize(),this},intersectsObject:function(){var t=new Sphere;return function e(n){var r=n.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),t.copy(r.boundingSphere).applyMatrix4(n.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new Sphere;return function e(n){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(n.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var t=new Vector3,e=new Vector3;return function n(r){for(var i=this.planes,o=0;o<6;o++){var a=i[o];t.x=a.normal.x>0?r.min.x:r.max.x,e.x=a.normal.x>0?r.max.x:r.min.x,t.y=a.normal.y>0?r.min.y:r.max.y,e.y=a.normal.y>0?r.max.y:r.min.y,t.z=a.normal.z>0?r.min.z:r.max.z,e.z=a.normal.z>0?r.max.z:r.min.z;var s=a.distanceToPoint(t),c=a.distanceToPoint(e);if(s<0&&c<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}),Object.assign(Ray.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new Vector3).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new Vector3;return function e(n){return this.origin.copy(this.at(n,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new Vector3;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new Vector3;return function e(n){var r=t.subVectors(n,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(n):(t.copy(this.direction).multiplyScalar(r).add(this.origin),t.distanceToSquared(n))}}(),distanceSqToSegment:function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(i,o,a,s){t.copy(i).add(o).multiplyScalar(.5),e.copy(o).sub(i).normalize(),n.copy(this.origin).sub(t);var c=.5*i.distanceTo(o),u=-this.direction.dot(e),h=n.dot(this.direction),l=-n.dot(e),f=n.lengthSq(),d=Math.abs(1-u*u),p,m,v,g;if(d>0)if(p=u*l-h,m=u*h-l,g=c*d,p>=0)if(m>=-g)if(m<=g){var y=1/d;p*=y,m*=y,v=p*(p+u*m+2*h)+m*(u*p+m+2*l)+f}else m=c,p=Math.max(0,-(u*m+h)),v=-p*p+m*(m+2*l)+f;else m=-c,p=Math.max(0,-(u*m+h)),v=-p*p+m*(m+2*l)+f;else m<=-g?(p=Math.max(0,-(-u*c+h)),m=p>0?-c:Math.min(Math.max(-c,-l),c),v=-p*p+m*(m+2*l)+f):m<=g?(p=0,m=Math.min(Math.max(-c,-l),c),v=m*(m+2*l)+f):(p=Math.max(0,-(u*c+h)),m=p>0?c:Math.min(Math.max(-c,-l),c),v=-p*p+m*(m+2*l)+f);else m=u>0?-c:c,p=Math.max(0,-(u*m+h)),v=-p*p+m*(m+2*l)+f;return a&&a.copy(this.direction).multiplyScalar(p).add(this.origin),s&&s.copy(e).multiplyScalar(m).add(t),v}}(),intersectSphere:function(){var t=new Vector3;return function e(n,r){t.subVectors(n.center,this.origin);var i=t.dot(this.direction),o=t.dot(t)-i*i,a=n.radius*n.radius;if(o>a)return null;var s=Math.sqrt(a-o),c=i-s,u=i+s;return c<0&&u<0?null:c<0?this.at(u,r):this.at(c,r)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,a,s,c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,l=this.origin;return c>=0?(n=(t.min.x-l.x)*c,r=(t.max.x-l.x)*c):(n=(t.max.x-l.x)*c,r=(t.min.x-l.x)*c),u>=0?(i=(t.min.y-l.y)*u,o=(t.max.y-l.y)*u):(i=(t.max.y-l.y)*u,o=(t.min.y-l.y)*u),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),h>=0?(a=(t.min.z-l.z)*h,s=(t.max.z-l.z)*h):(a=(t.max.z-l.z)*h,s=(t.min.z-l.z)*h),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(){var t=new Vector3;return function e(n){return null!==this.intersectBox(n,t)}}(),intersectTriangle:function(){var t=new Vector3,e=new Vector3,n=new Vector3,r=new Vector3;return function i(o,a,s,c,u){e.subVectors(a,o),n.subVectors(s,o),r.crossVectors(e,n);var h=this.direction.dot(r),l;if(h>0){if(c)return null;l=1}else{if(!(h<0))return null;l=-1,h=-h}t.subVectors(this.origin,o);var f=l*this.direction.dot(n.crossVectors(t,n));if(f<0)return null;var d=l*this.direction.dot(e.cross(t));if(d<0)return null;if(f+d>h)return null;var p=-l*t.dot(r);return p<0?null:this.at(p/h,u)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Euler.DefaultOrder="XYZ",Object.defineProperties(Euler.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(Euler.prototype,{isEuler:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=Ut.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],c=i[1],u=i[5],h=i[9],l=i[2],f=i[6],d=i[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-l,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-l,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===e?(this._y=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(f,d),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u))):"YZX"===e?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-l,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-h,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Matrix4;return function e(n,r,i){return t.makeRotationFromQuaternion(n),this.setFromRotationMatrix(t,r,i)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new Quaternion;return function e(n){return t.setFromEuler(this),this.setFromQuaternion(t,n)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Vector3(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Layers.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!==(this.mask&t.mask)}});var Zn=0;Object3D.DefaultUp=new Vector3(0,1,0),Object3D.DefaultMatrixAutoUpdate=!0,Object.assign(Object3D.prototype,EventDispatcher.prototype,{isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new Quaternion;return function e(n,r){return t.setFromAxisAngle(n,r),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new Vector3(1,0,0);return function e(n){return this.rotateOnAxis(t,n)}}(),rotateY:function(){var t=new Vector3(0,1,0);return function e(n){return this.rotateOnAxis(t,n)}}(),rotateZ:function(){var t=new Vector3(0,0,1);return function e(n){return this.rotateOnAxis(t,n)}}(),translateOnAxis:function(){var t=new Vector3;return function e(n,r){return t.copy(n).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(r)),this}}(),translateX:function(){var t=new Vector3(1,0,0);return function e(n){return this.translateOnAxis(t,n)}}(),translateY:function(){var t=new Vector3(0,1,0);return function e(n){return this.translateOnAxis(t,n)}}(),translateZ:function(){var t=new Vector3(0,0,1);return function e(n){return this.translateOnAxis(t,n)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new Matrix4;return function e(n){return n.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new Matrix4;return function e(n){this.isCamera?t.lookAt(this.position,n,this.up):t.lookAt(n,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can\'t be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){var e=t||new Vector3;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new Vector3,e=new Vector3;return function n(r){var i=r||new Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,i,e),i}}(),getWorldRotation:function(){var t=new Quaternion;return function e(n){var r=n||new Euler;return this.getWorldQuaternion(t),r.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new Vector3,e=new Quaternion;return function n(r){var i=r||new Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(){var t=new Quaternion;return function e(n){var r=n||new Vector3;return this.getWorldQuaternion(t),r.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}function n(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var r=void 0===t||""===t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),o.matrix=this.matrix.toArray(),void 0!==this.geometry&&(o.geometry=e(t.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var a=[],s=0,c=this.material.length;s<c;s++)a.push(e(t.materials,this.material[s]));o.material=a}else o.material=e(t.materials,this.material);if(this.children.length>0){o.children=[];for(var s=0;s<this.children.length;s++)o.children.push(this.children[s].toJSON(t).object)}if(r){var u=n(t.geometries),h=n(t.materials),l=n(t.textures),f=n(t.images);u.length>0&&(i.geometries=u),h.length>0&&(i.materials=h),l.length>0&&(i.textures=l),f.length>0&&(i.images=f)}return i.object=o,i},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}}),Object.assign(Line3.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new Vector3;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new Vector3,e=new Vector3;return function n(r,i){t.subVectors(r,this.start),e.subVectors(this.end,this.start);var o=e.dot(e),a=e.dot(t),s=a/o;return i&&(s=Ut.clamp(s,0,1)),s}}(),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new Vector3;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Object.assign(Triangle,{normal:function(){var t=new Vector3;return function e(n,r,i,o){var a=o||new Vector3;a.subVectors(i,r),t.subVectors(n,r),a.cross(t);var s=a.lengthSq();return s>0?a.multiplyScalar(1/Math.sqrt(s)):a.set(0,0,0)}}(),barycoordFromPoint:function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(i,o,a,s,c){t.subVectors(s,o),e.subVectors(a,o),n.subVectors(i,o);var u=t.dot(t),h=t.dot(e),l=t.dot(n),f=e.dot(e),d=e.dot(n),p=u*f-h*h,m=c||new Vector3;if(0===p)return m.set(-2,-1,-1);var v=1/p,g=(f*l-h*d)*v,y=(u*d-h*l)*v;return m.set(1-g-y,y,g)}}(),containsPoint:function(){var t=new Vector3;return function e(n,r,i,o){var a=Triangle.barycoordFromPoint(n,r,i,o,t);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}()}),Object.assign(Triangle.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new Vector3,e=new Vector3;return function n(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return Triangle.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return Triangle.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return Triangle.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t=new Plane,e=[new Line3,new Line3,new Line3],n=new Vector3,r=new Vector3;return function i(o,a){var s=a||new Vector3,c=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(o,n),!0===this.containsPoint(n))s.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var u=0;u<e.length;u++){e[u].closestPointToPoint(n,!0,r);var h=n.distanceToSquared(r);h<c&&(c=h,s.copy(r))}}return s}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Object.assign(Face3.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),MeshBasicMaterial.prototype=Object.create(Material.prototype),MeshBasicMaterial.prototype.constructor=MeshBasicMaterial,MeshBasicMaterial.prototype.isMeshBasicMaterial=!0,MeshBasicMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Object.defineProperty(BufferAttribute.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(BufferAttribute.prototype,{isBufferAttribute:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Color),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Vector2),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Vector3),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Vector4),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),Int8BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int8BufferAttribute.prototype.constructor=Int8BufferAttribute,Uint8BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint8BufferAttribute.prototype.constructor=Uint8BufferAttribute,Uint8ClampedBufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint8ClampedBufferAttribute.prototype.constructor=Uint8ClampedBufferAttribute,Int16BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int16BufferAttribute.prototype.constructor=Int16BufferAttribute,Uint16BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint16BufferAttribute.prototype.constructor=Uint16BufferAttribute,Int32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int32BufferAttribute.prototype.constructor=Int32BufferAttribute,Uint32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint32BufferAttribute.prototype.constructor=Uint32BufferAttribute,Float32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Float32BufferAttribute.prototype.constructor=Float32BufferAttribute,Float64BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Float64BufferAttribute.prototype.constructor=Float64BufferAttribute,Object.assign(k.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e=t.faces,n=t.vertices,r=t.faceVertexUvs,i=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,a=t.morphTargets,s=a.length,c;if(s>0){c=[];for(var u=0;u<s;u++)c[u]=[];this.morphTargets.position=c}var h=t.morphNormals,l=h.length,f;if(l>0){f=[];for(var u=0;u<l;u++)f[u]=[];this.morphTargets.normal=f}for(var d=t.skinIndices,p=t.skinWeights,m=d.length===n.length,v=p.length===n.length,u=0;u<e.length;u++){var g=e[u];this.vertices.push(n[g.a],n[g.b],n[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=g.normal;this.normals.push(_,_,_)}var x=g.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var b=g.color;this.colors.push(b,b,b)}if(!0===i){var w=r[0][u];void 0!==w?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new Vector2,new Vector2,new Vector2))}if(!0===o){var w=r[1][u];void 0!==w?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new Vector2,new Vector2,new Vector2))}for(var M=0;M<s;M++){var E=a[M].vertices;c[M].push(E[g.a],E[g.b],E[g.c])}for(var M=0;M<l;M++){var S=h[M].vertexNormals[u];f[M].push(S.a,S.b,S.c)}m&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),v&&this.skinWeights.push(p[g.a],p[g.b],p[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Jn=0;Object.assign(Geometry.prototype,EventDispatcher.prototype,{isGeometry:!0,applyMatrix:function(t){for(var e=(new Matrix3).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(var n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Matrix4;return function e(n){return t.makeRotationX(n),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Matrix4;return function e(n){return t.makeRotationY(n),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Matrix4;return function e(n){return t.makeRotationZ(n),this.applyMatrix(t),this}}(),translate:function(){var t=new Matrix4;return function e(n,r,i){return t.makeTranslation(n,r,i),this.applyMatrix(t),this}}(),scale:function(){var t=new Matrix4;return function e(n,r,i){return t.makeScale(n,r,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Object3D;return function e(n){t.lookAt(n),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,r,i){var o=void 0!==a?[h[t].clone(),h[e].clone(),h[r].clone()]:[],d=void 0!==s?[n.colors[t].clone(),n.colors[e].clone(),n.colors[r].clone()]:[],p=new Face3(t,e,r,o,d,i);n.faces.push(p),void 0!==c&&n.faceVertexUvs[0].push([l[t].clone(),l[e].clone(),l[r].clone()]),void 0!==u&&n.faceVertexUvs[1].push([f[t].clone(),f[e].clone(),f[r].clone()])}var n=this,r=null!==t.index?t.index.array:void 0,i=t.attributes,o=i.position.array,a=void 0!==i.normal?i.normal.array:void 0,s=void 0!==i.color?i.color.array:void 0,c=void 0!==i.uv?i.uv.array:void 0,u=void 0!==i.uv2?i.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var h=[],l=[],f=[],d=0,p=0;d<o.length;d+=3,p+=2)n.vertices.push(new Vector3(o[d],o[d+1],o[d+2])),void 0!==a&&h.push(new Vector3(a[d],a[d+1],a[d+2])),void 0!==s&&n.colors.push(new Color(s[d],s[d+1],s[d+2])),void 0!==c&&l.push(new Vector2(c[p],c[p+1])),void 0!==u&&f.push(new Vector2(u[p],u[p+1]));var m=t.groups;if(m.length>0)for(var d=0;d<m.length;d++)for(var v=m[d],g=v.start,y=v.count,p=g,_=g+y;p<_;p+=3)void 0!==r?e(r[p],r[p+1],r[p+2],v.materialIndex):e(p,p+1,p+2,v.materialIndex);else if(void 0!==r)for(var d=0;d<r.length;d+=3)e(r[d],r[d+1],r[d+2]);else for(var d=0;d<o.length/3;d+=3)e(d,d+1,d+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new Matrix4;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new Vector3,e=new Vector3,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,r,i,o,a;for(a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new Vector3;if(t){var s,c,u,h=new Vector3,l=new Vector3;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],c=this.vertices[o.b],u=this.vertices[o.c],h.subVectors(u,c),l.subVectors(s,c),h.cross(l),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var f=o.vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new Geometry;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals,c,u;for(n=0,r=this.faces.length;n<r;n++)c=new Vector3,u={a:new Vector3,b:new Vector3,c:new Vector3},a.push(c),s.push(u)}var h=this.morphNormals[t];o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals();var c,u;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],c=h.faceNormals[n],u=h.vertexNormals[n],c.copy(i.normal),u.a.copy(i.vertexNormals[0]),u.b.copy(i.vertexNormals[1]),u.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!1===(t&&t.isGeometry))return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var r,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,c=t.faces,u=this.faceVertexUvs[0],h=t.faceVertexUvs[0],l=this.colors,f=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new Matrix3).getNormalMatrix(e));for(var d=0,p=a.length;d<p;d++){var m=a[d],v=m.clone();void 0!==e&&v.applyMatrix4(e),o.push(v)}for(var d=0,p=f.length;d<p;d++)l.push(f[d].clone());for(d=0,p=c.length;d<p;d++){var g=c[d],y,_,x,b=g.vertexNormals,w=g.vertexColors;y=new Face3(g.a+i,g.b+i,g.c+i),y.normal.copy(g.normal),void 0!==r&&y.normal.applyMatrix3(r).normalize();for(var M=0,E=b.length;M<E;M++)_=b[M].clone(),void 0!==r&&_.applyMatrix3(r).normalize(),y.vertexNormals.push(_);y.color.copy(g.color);for(var M=0,E=w.length;M<E;M++)x=w[M],y.vertexColors.push(x.clone());y.materialIndex=g.materialIndex+n,s.push(y)}for(d=0,p=h.length;d<p;d++){var S=h[d],T=[];if(void 0!==S){for(var M=0,E=S.length;M<E;M++)T.push(S[M].clone());u.push(T)}}},mergeMesh:function(t){if(!1===(t&&t.isMesh))return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(){var t={},e=[],n=[],r,i,o=4,a=Math.pow(10,4),s,c,u,h,l,f;for(s=0,c=this.vertices.length;s<c;s++)r=this.vertices[s],i=Math.round(r.x*a)+"_"+Math.round(r.y*a)+"_"+Math.round(r.z*a),void 0===t[i]?(t[i]=s,e.push(this.vertices[s]),n[s]=e.length-1):n[s]=n[t[i]];var d=[];for(s=0,c=this.faces.length;s<c;s++){u=this.faces[s],u.a=n[u.a],u.b=n[u.b],u.c=n[u.c],h=[u.a,u.b,u.c];for(var p=0;p<3;p++)if(h[p]===h[(p+1)%3]){d.push(s);break}}for(s=d.length-1;s>=0;s--){var m=d[s];for(this.faces.splice(m,1),l=0,f=this.faceVertexUvs.length;l<f;l++)this.faceVertexUvs[l].splice(m,1)}var v=this.vertices.length-e.length;return this.vertices=e,v},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,r=0;r<n;r++)e[r]._id=r;e.sort(t);var i=this.faceVertexUvs[0],o=this.faceVertexUvs[1],a,s;i&&i.length===n&&(a=[]),o&&o.length===n&&(s=[]);for(var r=0;r<n;r++){var c=e[r]._id;a&&a.push(i[c]),s&&s.push(o[c])}a&&(this.faceVertexUvs[0]=a),s&&(this.faceVertexUvs[1]=s)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==f[e]?f[e]:(f[e]=l.length/3,l.push(t.x,t.y,t.z),f[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==p[e]?p[e]:(p[e]=d.length,d.push(t.getHex()),p[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==v[e]?v[e]:(v[e]=m.length/2,m.push(t.x,t.y),v[e])}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],c=0;c<this.vertices.length;c++){var u=this.vertices[c];s.push(u.x,u.y,u.z)}for(var h=[],l=[],f={},d=[],p={},m=[],v={},c=0;c<this.faces.length;c++){var g=this.faces[c],y=!0,_=!1,x=void 0!==this.faceVertexUvs[0][c],b=g.normal.length()>0,w=g.vertexNormals.length>0,M=1!==g.color.r||1!==g.color.g||1!==g.color.b,E=g.vertexColors.length>0,S=0;if(S=t(S,0,0),S=t(S,1,!0),S=t(S,2,!1),S=t(S,3,x),S=t(S,4,b),S=t(S,5,w),S=t(S,6,M),S=t(S,7,E),h.push(S),h.push(g.a,g.b,g.c),h.push(g.materialIndex),x){var T=this.faceVertexUvs[0][c];h.push(r(T[0]),r(T[1]),r(T[2]))}if(b&&h.push(e(g.normal)),w){var A=g.vertexNormals;h.push(e(A[0]),e(A[1]),e(A[2]))}if(M&&h.push(n(g.color)),E){var R=g.vertexColors;h.push(n(R[0]),n(R[1]),n(R[2]))}}return i.data={},i.data.vertices=s,i.data.normals=l,d.length>0&&(i.data.colors=d),m.length>0&&(i.data.uvs=[m]),i.data.faces=h,i},clone:function(){return(new Geometry).copy(this)},copy:function(t){var e,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var c=t.colors;for(e=0,n=c.length;e<n;e++)this.colors.push(c[e].clone());var u=t.faces;for(e=0,n=u.length;e<n;e++)this.faces.push(u[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var h=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=h.length;r<i;r++){var l=h[r],f=[];for(o=0,a=l.length;o<a;o++){var d=l[o];f.push(d.clone())}this.faceVertexUvs[e].push(f)}}var p=t.morphTargets;for(e=0,n=p.length;e<n;e++){var m={};if(m.name=p[e].name,void 0!==p[e].vertices)for(m.vertices=[],r=0,i=p[e].vertices.length;r<i;r++)m.vertices.push(p[e].vertices[r].clone());if(void 0!==p[e].normals)for(m.normals=[],r=0,i=p[e].normals.length;r<i;r++)m.normals.push(p[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,n=v.length;e<n;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,i=v[e].vertexNormals.length;r<i;r++){var y=v[e].vertexNormals[r],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),g.vertexNormals.push(_)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,i=v[e].faceNormals.length;r<i;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var x=t.skinWeights;for(e=0,n=x.length;e<n;e++)this.skinWeights.push(x[e].clone());var b=t.skinIndices;for(e=0,n=b.length;e<n;e++)this.skinIndices.push(b[e].clone());var w=t.lineDistances;for(e=0,n=w.length;e<n;e++)this.lineDistances.push(w[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var E=t.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),BufferGeometry.MaxIndex=65535,Object.assign(BufferGeometry.prototype,EventDispatcher.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(G(t)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(t,1):this.index=t},addAttribute:function(t,e){return!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new BufferAttribute(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new Matrix3).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Matrix4;return function e(n){return t.makeRotationX(n),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Matrix4;return function e(n){return t.makeRotationY(n),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Matrix4;return function e(n){return t.makeRotationZ(n),this.applyMatrix(t),this}}(),translate:function(){var t=new Matrix4;return function e(n,r,i){return t.makeTranslation(n,r,i),this.applyMatrix(t),this}}(),scale:function(){var t=new Matrix4;return function e(n,r,i){return t.makeScale(n,r,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Object3D;return function e(n){t.lookAt(n),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new Float32BufferAttribute(3*e.vertices.length,3),r=new Float32BufferAttribute(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Float32BufferAttribute(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var r;return!0===e.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(e.vertices),r.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(e.colors),r.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(e.uvs),r.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(e.lineDistances),r.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new k).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new BufferAttribute(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new BufferAttribute(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new BufferAttribute(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new BufferAttribute(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new BufferAttribute(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=G(t.indices)>65535?Uint32Array:Uint16Array,s=new a(3*t.indices.length);this.setIndex(new BufferAttribute(s,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var c in t.morphTargets){for(var u=[],h=t.morphTargets[c],l=0,f=h.length;l<f;l++){var d=h[l],p=new Float32BufferAttribute(3*d.length,3);u.push(p.copyVector3sArray(d))}this.morphAttributes[c]=u}if(t.skinIndices.length>0){var m=new Float32BufferAttribute(4*t.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var v=new Float32BufferAttribute(4*t.skinWeights.length,4);this.addAttribute("skinWeight",v.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Box3);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error(\'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.\',this)},computeBoundingSphere:function(){var t=new Box3,e=new Vector3;return function n(){null===this.boundingSphere&&(this.boundingSphere=new Sphere);var r=this.attributes.position;if(r){var i=this.boundingSphere.center;t.setFromBufferAttribute(r),t.getCenter(i);for(var o=0,a=0,s=r.count;a<s;a++)e.x=r.getX(a),e.y=r.getY(a),e.z=r.getZ(a),o=Math.max(o,i.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error(\'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.\',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new BufferAttribute(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s=e.normal.array,c,u,h,l=new Vector3,f=new Vector3,d=new Vector3,p=new Vector3,m=new Vector3;if(t){var v=t.array;0===n.length&&this.addGroup(0,v.length);for(var g=0,y=n.length;g<y;++g)for(var _=n[g],x=_.start,b=_.count,o=x,a=x+b;o<a;o+=3)c=3*v[o+0],u=3*v[o+1],h=3*v[o+2],l.fromArray(r,c),f.fromArray(r,u),d.fromArray(r,h),p.subVectors(d,f),m.subVectors(l,f),p.cross(m),s[c]+=p.x,s[c+1]+=p.y,s[c+2]+=p.z,s[u]+=p.x,s[u+1]+=p.y,s[u+2]+=p.z,s[h]+=p.x,s[h+1]+=p.y,s[h+2]+=p.z}else for(var o=0,a=r.length;o<a;o+=9)l.fromArray(r,o),f.fromArray(r,o+3),d.fromArray(r,o+6),p.subVectors(d,f),m.subVectors(l,f),p.cross(m),s[o]=p.x,s[o+1]=p.y,s[o+2]=p.z,s[o+3]=p.x,s[o+4]=p.y,s[o+5]=p.z,s[o+6]=p.x,s[o+7]=p.y,s[o+8]=p.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1===(t&&t.isBufferGeometry))return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r],o=i.array,a=t.attributes[r],s=a.array,c=a.itemSize,u=0,h=c*e;u<s.length;u++,h++)o[h]=s[u];return this},normalizeNormals:function(){for(var t=this.attributes.normal,e,n,r,i,o=0,a=t.count;o<a;o++)e=t.getX(o),n=t.getY(o),r=t.getZ(o),i=1/Math.sqrt(e*e+n*n+r*r),t.setXYZ(o,e*i,n*i,r*i)},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new BufferGeometry,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),c=0,u=0,h=0,l=e.length;h<l;h++){c=e[h]*a;for(var f=0;f<a;f++)s[u++]=o[c++]}t.addAttribute(r,new BufferAttribute(s,a))}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new BufferGeometry).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var c=[],u=s[e];for(n=0,r=u.length;n<r;n++)c.push(u[n].clone());this.morphAttributes[e]=c}var h=t.groups;for(n=0,r=h.length;n<r;n++){var l=h[n];this.addGroup(l.start,l.count,l.materialIndex)}var f=t.boundingBox;null!==f&&(this.boundingBox=f.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Mesh.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Mesh,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return Object3D.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,n,r,i,o,a){return Triangle.barycoordFromPoint(t,e,n,r,m),i.multiplyScalar(m.x),o.multiplyScalar(m.y),a.multiplyScalar(m.z),i.add(o).add(a),i.clone()}function e(t,e,n,r,i,o,a){var s,c=t.material;if(null===(s=c.side===BackSide?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,c.side!==DoubleSide,a)))return null;g.copy(a),g.applyMatrix4(t.matrixWorld);var u=e.ray.origin.distanceTo(g);return u<e.near||u>e.far?null:{distance:u,point:g.clone(),object:t}}function n(n,r,i,o,u,h,l,m){a.fromBufferAttribute(o,h),s.fromBufferAttribute(o,l),c.fromBufferAttribute(o,m);var g=e(n,r,i,a,s,c,v);return g&&(u&&(f.fromBufferAttribute(u,h),d.fromBufferAttribute(u,l),p.fromBufferAttribute(u,m),g.uv=t(v,a,s,c,f,d,p)),g.face=new Face3(h,l,m,Triangle.normal(a,s,c)),g.faceIndex=h),g}var r=new Matrix4,i=new Ray,o=new Sphere,a=new Vector3,s=new Vector3,c=new Vector3,u=new Vector3,h=new Vector3,l=new Vector3,f=new Vector2,d=new Vector2,p=new Vector2,m=new Vector3,v=new Vector3,g=new Vector3;return function m(g,y){var _=this.geometry,x=this.material,b=this.matrixWorld;if(void 0!==x&&(null===_.boundingSphere&&_.computeBoundingSphere(),o.copy(_.boundingSphere),o.applyMatrix4(b),!1!==g.ray.intersectsSphere(o)&&(r.getInverse(b),i.copy(g.ray).applyMatrix4(r),null===_.boundingBox||!1!==i.intersectsBox(_.boundingBox)))){var w;if(_.isBufferGeometry){var M,E,S,T=_.index,A=_.attributes.position,R=_.attributes.uv,L,P;if(null!==T)for(L=0,P=T.count;L<P;L+=3)M=T.getX(L),E=T.getX(L+1),S=T.getX(L+2),(w=n(this,g,i,A,R,M,E,S))&&(w.faceIndex=Math.floor(L/3),y.push(w));else for(L=0,P=A.count;L<P;L+=3)M=L,E=L+1,S=L+2,(w=n(this,g,i,A,R,M,E,S))&&(w.index=M,y.push(w))}else if(_.isGeometry){var C,I,O,N=Array.isArray(x),U=_.vertices,D=_.faces,F,z=_.faceVertexUvs[0];z.length>0&&(F=z);for(var B=0,k=D.length;B<k;B++){var G=D[B],H=N?x[G.materialIndex]:x;if(void 0!==H){if(C=U[G.a],I=U[G.b],O=U[G.c],!0===H.morphTargets){var j=_.morphTargets,V=this.morphTargetInfluences;a.set(0,0,0),s.set(0,0,0),c.set(0,0,0);for(var W=0,X=j.length;W<X;W++){var Y=V[W];if(0!==Y){var q=j[W].vertices;a.addScaledVector(u.subVectors(q[G.a],C),Y),s.addScaledVector(h.subVectors(q[G.b],I),Y),c.addScaledVector(l.subVectors(q[G.c],O),Y)}}a.add(C),s.add(I),c.add(O),C=a,I=s,O=c}if(w=e(this,g,i,C,I,O,v)){if(F&&F[B]){var Z=F[B];f.copy(Z[0]),d.copy(Z[1]),p.copy(Z[2]),w.uv=t(v,C,I,O,f,d,p)}w.face=G,w.faceIndex=B,y.push(w)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),BoxGeometry.prototype=Object.create(Geometry.prototype),BoxGeometry.prototype.constructor=BoxGeometry,BoxBufferGeometry.prototype=Object.create(BufferGeometry.prototype),BoxBufferGeometry.prototype.constructor=BoxBufferGeometry,PlaneGeometry.prototype=Object.create(Geometry.prototype),PlaneGeometry.prototype.constructor=PlaneGeometry,PlaneBufferGeometry.prototype=Object.create(BufferGeometry.prototype),PlaneBufferGeometry.prototype.constructor=PlaneBufferGeometry,Camera.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Camera,isCamera:!0,copy:function(t){return Object3D.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:function(){var t=new Quaternion;return function e(n){var r=n||new Vector3;return this.getWorldQuaternion(t),r.set(0,0,-1).applyQuaternion(t)}}(),clone:function(){return(new this.constructor).copy(this)}}),PerspectiveCamera.prototype=Object.assign(Object.create(Camera.prototype),{constructor:PerspectiveCamera,isPerspectiveCamera:!0,copy:function(t){return Camera.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Ut.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Ut.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Ut.RAD2DEG*Math.atan(Math.tan(.5*Ut.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Ut.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var c=this.filmOffset;0!==c&&(i+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),OrthographicCamera.prototype=Object.assign(Object.create(Camera.prototype),{constructor:OrthographicCamera,isOrthographicCamera:!0,copy:function(t){return Camera.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view){var c=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,l=(this.top-this.bottom)/this.view.height;i+=h*(this.view.offsetX/c),o=i+h*(this.view.width/c),a-=l*(this.view.offsetY/u),s=a-l*(this.view.height/u)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Kn=0;FogExp2.prototype.isFogExp2=!0,FogExp2.prototype.clone=function(){return new FogExp2(this.color.getHex(),this.density)},FogExp2.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Fog.prototype.isFog=!0,Fog.prototype.clone=function(){return new Fog(this.color.getHex(),this.near,this.far)},Fog.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Scene.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Scene,copy:function(t,e){return Object3D.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),LensFlare.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:LensFlare,isLensFlare:!0,copy:function(t){Object3D.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new Color(16777215)),void 0===r&&(r=NormalBlending),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var t,e=this.lensFlares.length,n,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<e;t++)n=this.lensFlares[t],n.x=this.positionScreen.x+r*n.distance,n.y=this.positionScreen.y+i*n.distance,n.wantedRotation=n.x*Math.PI*.25,n.rotation+=.25*(n.wantedRotation-n.rotation)}}),SpriteMaterial.prototype=Object.create(Material.prototype),SpriteMaterial.prototype.constructor=SpriteMaterial,SpriteMaterial.prototype.isSpriteMaterial=!0,SpriteMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},Sprite.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Sprite,isSprite:!0,raycast:function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(i,o){e.setFromMatrixPosition(this.matrixWorld),i.ray.closestPointToPoint(e,t),n.setFromMatrixScale(this.matrixWorld);var a=n.x*n.y/4;if(!(e.distanceToSquared(t)>a)){var s=i.ray.origin.distanceTo(t);s<i.near||s>i.far||o.push({distance:s,point:t.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),LOD.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:LOD,copy:function(t){Object3D.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new Vector3;return function e(n,r){t.setFromMatrixPosition(this.matrixWorld);var i=n.ray.origin.distanceTo(t);this.getObjectForDistance(i).raycast(n,r)}}(),update:function(){var t=new Vector3,e=new Vector3;return function n(r){var i=this.levels;if(i.length>1){t.setFromMatrixPosition(r.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var o=t.distanceTo(e);i[0].object.visible=!0;for(var a=1,s=i.length;a<s&&o>=i[a].distance;a++)i[a-1].object.visible=!1,i[a].object.visible=!0;for(;a<s;a++)i[a].object.visible=!1}}}(),toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new Matrix4;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new Matrix4,e=new Matrix4;return function n(){for(var r=this.bones,i=this.boneInverses,o=this.boneMatrices,a=this.boneTexture,s=0,c=r.length;s<c;s++){var u=r[s]?r[s].matrixWorld:e;t.multiplyMatrices(u,i[s]),t.toArray(o,16*s)}void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new Skeleton(this.bones,this.boneInverses)}}),Bone.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Bone,isBone:!0}),SkinnedMesh.prototype=Object.assign(Object.create(Mesh.prototype),{constructor:SkinnedMesh,isSkinnedMesh:!0,initBones:function(){var t=[],e,n,r,i;if(this.geometry&&void 0!==this.geometry.bones){for(r=0,i=this.geometry.bones.length;r<i;r++)n=this.geometry.bones[r],e=new Bone,t.push(e),e.name=n.name,e.position.fromArray(n.pos),e.quaternion.fromArray(n.rotq),void 0!==n.scl&&e.scale.fromArray(n.scl);for(r=0,i=this.geometry.bones.length;r<i;r++)n=this.geometry.bones[r],-1!==n.parent&&null!==n.parent&&void 0!==t[n.parent]?t[n.parent].add(t[r]):this.add(t[r])}return this.updateMatrixWorld(!0),t},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var n=this.geometry.skinWeights[e];t=1/n.lengthManhattan(),t!==1/0?n.multiplyScalar(t):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new Vector4,i=this.geometry.attributes.skinWeight;for(e=0;e<i.count;e++)r.x=i.getX(e),r.y=i.getY(e),r.z=i.getZ(e),r.w=i.getW(e),t=1/r.lengthManhattan(),t!==1/0?r.multiplyScalar(t):r.set(1,0,0,0),i.setXYZW(e,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(t){Mesh.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),LineBasicMaterial.prototype=Object.create(Material.prototype),LineBasicMaterial.prototype.constructor=LineBasicMaterial,LineBasicMaterial.prototype.isLineBasicMaterial=!0,LineBasicMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Line.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Line,isLine:!0,raycast:function(){var t=new Matrix4,e=new Ray,n=new Sphere;return function r(i,o){var a=i.linePrecision,s=a*a,c=this.geometry,u=this.matrixWorld;if(null===c.boundingSphere&&c.computeBoundingSphere(),n.copy(c.boundingSphere),n.applyMatrix4(u),!1!==i.ray.intersectsSphere(n)){t.getInverse(u),e.copy(i.ray).applyMatrix4(t);var h=new Vector3,l=new Vector3,f=new Vector3,d=new Vector3,p=this&&this.isLineSegments?2:1;if(c.isBufferGeometry){var m=c.index,v=c.attributes,g=v.position.array;if(null!==m)for(var y=m.array,_=0,x=y.length-1;_<x;_+=p){var b=y[_],w=y[_+1];h.fromArray(g,3*b),l.fromArray(g,3*w);var M=e.distanceSqToSegment(h,l,d,f);if(!(M>s)){d.applyMatrix4(this.matrixWorld);var E=i.ray.origin.distanceTo(d);E<i.near||E>i.far||o.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(var _=0,x=g.length/3-1;_<x;_+=p){h.fromArray(g,3*_),l.fromArray(g,3*_+3);var M=e.distanceSqToSegment(h,l,d,f);if(!(M>s)){d.applyMatrix4(this.matrixWorld);var E=i.ray.origin.distanceTo(d);E<i.near||E>i.far||o.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(c.isGeometry)for(var S=c.vertices,T=S.length,_=0;_<T-1;_+=p){var M=e.distanceSqToSegment(S[_],S[_+1],d,f);if(!(M>s)){d.applyMatrix4(this.matrixWorld);var E=i.ray.origin.distanceTo(d);E<i.near||E>i.far||o.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),LineSegments.prototype=Object.assign(Object.create(Line.prototype),{constructor:LineSegments,isLineSegments:!0}),LineLoop.prototype=Object.assign(Object.create(Line.prototype),{constructor:LineLoop,isLineLoop:!0}),PointsMaterial.prototype=Object.create(Material.prototype),PointsMaterial.prototype.constructor=PointsMaterial,PointsMaterial.prototype.isPointsMaterial=!0,PointsMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Points.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Points,isPoints:!0,raycast:function(){var t=new Matrix4,e=new Ray,n=new Sphere;return function r(i,o){function a(t,n){var r=e.distanceSqToPoint(t);if(r<f){var a=e.closestPointToPoint(t);a.applyMatrix4(u);var c=i.ray.origin.distanceTo(a);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(r),point:a.clone(),index:n,face:null,object:s})}}var s=this,c=this.geometry,u=this.matrixWorld,h=i.params.Points.threshold;if(null===c.boundingSphere&&c.computeBoundingSphere(),n.copy(c.boundingSphere),n.applyMatrix4(u),n.radius+=h,!1!==i.ray.intersectsSphere(n)){t.getInverse(u),e.copy(i.ray).applyMatrix4(t);var l=h/((this.scale.x+this.scale.y+this.scale.z)/3),f=l*l,d=new Vector3;if(c.isBufferGeometry){var p=c.index,m=c.attributes,v=m.position.array;if(null!==p)for(var g=p.array,y=0,_=g.length;y<_;y++){var x=g[y];d.fromArray(v,3*x),a(d,x)}else for(var y=0,b=v.length/3;y<b;y++)d.fromArray(v,3*y),a(d,y)}else for(var w=c.vertices,y=0,b=w.length;y<b;y++)a(w[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Group.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Group}),VideoTexture.prototype=Object.create(Texture.prototype),VideoTexture.prototype.constructor=VideoTexture,CompressedTexture.prototype=Object.create(Texture.prototype),CompressedTexture.prototype.constructor=CompressedTexture,CompressedTexture.prototype.isCompressedTexture=!0,CanvasTexture.prototype=Object.create(Texture.prototype),CanvasTexture.prototype.constructor=CanvasTexture,DepthTexture.prototype=Object.create(Texture.prototype),DepthTexture.prototype.constructor=DepthTexture,DepthTexture.prototype.isDepthTexture=!0,WireframeGeometry.prototype=Object.create(BufferGeometry.prototype),WireframeGeometry.prototype.constructor=WireframeGeometry,ParametricGeometry.prototype=Object.create(Geometry.prototype),ParametricGeometry.prototype.constructor=ParametricGeometry,ParametricBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ParametricBufferGeometry.prototype.constructor=ParametricBufferGeometry,PolyhedronGeometry.prototype=Object.create(Geometry.prototype),PolyhedronGeometry.prototype.constructor=PolyhedronGeometry,PolyhedronBufferGeometry.prototype=Object.create(BufferGeometry.prototype),PolyhedronBufferGeometry.prototype.constructor=PolyhedronBufferGeometry,TetrahedronGeometry.prototype=Object.create(Geometry.prototype),TetrahedronGeometry.prototype.constructor=TetrahedronGeometry,TetrahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),TetrahedronBufferGeometry.prototype.constructor=TetrahedronBufferGeometry,OctahedronGeometry.prototype=Object.create(Geometry.prototype),OctahedronGeometry.prototype.constructor=OctahedronGeometry,OctahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),OctahedronBufferGeometry.prototype.constructor=OctahedronBufferGeometry,IcosahedronGeometry.prototype=Object.create(Geometry.prototype),IcosahedronGeometry.prototype.constructor=IcosahedronGeometry,IcosahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),IcosahedronBufferGeometry.prototype.constructor=IcosahedronBufferGeometry,DodecahedronGeometry.prototype=Object.create(Geometry.prototype),DodecahedronGeometry.prototype.constructor=DodecahedronGeometry,DodecahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),DodecahedronBufferGeometry.prototype.constructor=DodecahedronBufferGeometry,TubeGeometry.prototype=Object.create(Geometry.prototype),TubeGeometry.prototype.constructor=TubeGeometry,TubeBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TubeBufferGeometry.prototype.constructor=TubeBufferGeometry,TorusKnotGeometry.prototype=Object.create(Geometry.prototype),TorusKnotGeometry.prototype.constructor=TorusKnotGeometry,TorusKnotBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TorusKnotBufferGeometry.prototype.constructor=TorusKnotBufferGeometry,TorusGeometry.prototype=Object.create(Geometry.prototype),TorusGeometry.prototype.constructor=TorusGeometry,TorusBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TorusBufferGeometry.prototype.constructor=TorusBufferGeometry;var ShapeUtils={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,o){var a,s,c,u,h,l,f,d,p;if(s=t[o[e]].x,c=t[o[e]].y,u=t[o[n]].x,h=t[o[n]].y,l=t[o[r]].x,f=t[o[r]].y,(u-s)*(f-c)-(h-c)*(l-s)<=0)return!1;var m,v,g,y,_,x,b,w,M,E,S,T,A,R,L;for(m=l-u,v=f-h,g=s-l,y=c-f,_=u-s,x=h-c,a=0;a<i;a++)if(d=t[o[a]].x,p=t[o[a]].y,!(d===s&&p===c||d===u&&p===h||d===l&&p===f)&&(b=d-s,w=p-c,M=d-u,E=p-h,S=d-l,T=p-f,L=m*E-v*M,A=_*w-x*b,R=g*T-y*S,L>=-Number.EPSILON&&R>=-Number.EPSILON&&A>=-Number.EPSILON))return!1;return!0}return function e(n,r){var i=n.length;if(i<3)return null;var o=[],a=[],s=[],c,u,h;if(ShapeUtils.area(n)>0)for(u=0;u<i;u++)a[u]=u;else for(u=0;u<i;u++)a[u]=i-1-u;var l=i,f=2*l;for(u=l-1;l>2;){if(f--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),r?s:o;if(c=u,l<=c&&(c=0),u=c+1,l<=u&&(u=0),h=u+1,l<=h&&(h=0),t(n,c,u,h,l,a)){var d,p,m,v,g;for(d=a[c],p=a[u],m=a[h],o.push([n[d],n[p],n[m]]),s.push([a[c],a[u],a[h]]),v=u,g=u+1;g<l;v++,g++)a[v]=a[g];l--,f=2*l}}return r?s:o}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function r(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function i(t,e,n,i,o){var a=e.x-t.x,s=e.y-t.y,c=i.x-n.x,u=i.y-n.y,h=t.x-n.x,l=t.y-n.y,f=s*c-a*u,d=s*h-a*l;if(Math.abs(f)>Number.EPSILON){var p;if(f>0){if(d<0||d>f)return[];if((p=u*h-c*l)<0||p>f)return[]}else{if(d>0||d<f)return[];if((p=u*h-c*l)>0||p<f)return[]}if(0===p)return!o||0!==d&&d!==f?[t]:[];if(p===f)return!o||0!==d&&d!==f?[e]:[];if(0===d)return[n];if(d===f)return[i];var m=p/f;return[{x:t.x+m*a,y:t.y+m*s}]}if(0!==d||u*h!==c*l)return[];var v=0===a&&0===s,g=0===c&&0===u;if(v&&g)return t.x!==n.x||t.y!==n.y?[]:[t];if(v)return r(n,i,t)?[t]:[];if(g)return r(t,e,n)?[n]:[];var y,_,x,b,w,M,E,S;return 0!==a?(t.x<e.x?(y=t,x=t.x,_=e,b=e.x):(y=e,x=e.x,_=t,b=t.x),n.x<i.x?(w=n,E=n.x,M=i,S=i.x):(w=i,E=i.x,M=n,S=n.x)):(t.y<e.y?(y=t,x=t.y,_=e,b=e.y):(y=e,x=e.y,_=t,b=t.y),n.y<i.y?(w=n,E=n.y,M=i,S=i.y):(w=i,E=i.y,M=n,S=n.y)),x<=E?b<E?[]:b===E?o?[]:[w]:b<=S?[w,_]:[w,M]:x>S?[]:x===S?o?[]:[y]:b<=S?[y,_]:[y,M]}function o(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=n.x-t.x,s=n.y-t.y,c=r.x-t.x,u=r.y-t.y,h=i*s-o*a,l=i*u-o*c;if(Math.abs(h)>Number.EPSILON){var f=c*s-u*a;return h>0?l>=0&&f>=0:l>=0||f>=0}return l>0}function a(t,e){function n(t,e){var n=s.length-1,r=t-1;r<0&&(r=n);var i=t+1;i>n&&(i=0);var a=o(s[t],s[r],s[i],c[e]);if(!a)return!1;var u=c.length-1,h=e-1;h<0&&(h=u);var l=e+1;return l>u&&(l=0),!!(a=o(c[e],c[h],c[l],s[t]))}function r(t,e){var n,r,o;for(n=0;n<s.length;n++)if(r=n+1,r%=s.length,o=i(t,e,s[n],s[r],!0),o.length>0)return!0;return!1}function a(t,n){var r,o,a,s,c;for(r=0;r<u.length;r++)for(o=e[u[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,c=i(t,n,o[a],o[s],!0),c.length>0)return!0;return!1}for(var s=t.concat(),c,u=[],h,l,f,d,p,m,v=[],g,y,_,x,b=0,w=e.length;b<w;b++)u.push(b);for(var M=0,E=2*u.length;u.length>0;){if(--E<0){console.log("Infinite Loop! Holes left:"+u.length+", Probably Hole outside Shape!");break}for(l=M;l<s.length;l++){f=s[l],h=-1;for(var b=0;b<u.length;b++)if(p=u[b],m=f.x+":"+f.y+":"+p,void 0===v[m]){c=e[p];for(var S=0;S<c.length;S++)if(d=c[S],n(l,S)&&!r(f,d)&&!a(f,d)){h=S,u.splice(b,1),g=s.slice(0,l+1),y=s.slice(l),_=c.slice(h),x=c.slice(0,h+1),s=g.concat(_).concat(x).concat(y),M=l;break}if(h>=0)break;v[m]=!0}if(h>=0)break}}return s}n(t),e.forEach(n);for(var s,c,u,h,l,f,d={},p=t.concat(),m=0,v=e.length;m<v;m++)Array.prototype.push.apply(p,e[m]);for(s=0,c=p.length;s<c;s++)l=p[s].x+":"+p[s].y,void 0!==d[l]&&console.warn("THREE.ShapeUtils: Duplicate point",l,s),d[l]=s;var g=a(t,e),y=ShapeUtils.triangulate(g,!1);for(s=0,c=y.length;s<c;s++)for(h=y[s],u=0;u<3;u++)l=h[u].x+":"+h[u].y,void 0!==(f=d[l])&&(h[u]=f);return y.concat()},isClockWise:function(t){return ShapeUtils.area(t)<0}};ExtrudeGeometry.prototype=Object.create(Geometry.prototype),ExtrudeGeometry.prototype.constructor=ExtrudeGeometry,ExtrudeBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ExtrudeBufferGeometry.prototype.constructor=ExtrudeBufferGeometry,ExtrudeBufferGeometry.prototype.getArrays=function(){var t=this.getAttribute("position"),e=t?Array.prototype.slice.call(t.array):[],n=this.getAttribute("uv"),r=n?Array.prototype.slice.call(n.array):[],i=this.index;return{position:e,uv:r,index:i?Array.prototype.slice.call(i.array):[]}},ExtrudeBufferGeometry.prototype.addShapeList=function(t,e){var n=t.length;e.arrays=this.getArrays();for(var r=0;r<n;r++){var i=t[r];this.addShape(i,e)}this.setIndex(e.arrays.index),this.addAttribute("position",new Float32BufferAttribute(e.arrays.position,3)),this.addAttribute("uv",new Float32BufferAttribute(e.arrays.uv,2))},ExtrudeBufferGeometry.prototype.addShape=function(t,e){function n(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function r(t,e,n){var r,i,o=1,a=t.x-e.x,s=t.y-e.y,c=n.x-t.x,u=n.y-t.y,h=a*a+s*s,l=a*u-s*c;if(Math.abs(l)>Number.EPSILON){var f=Math.sqrt(h),d=Math.sqrt(c*c+u*u),p=e.x-s/f,m=e.y+a/f,v=n.x-u/d,g=n.y+c/d,y=((v-p)*u-(g-m)*c)/(a*u-s*c);r=p+a*y-t.x,i=m+s*y-t.y;var _=r*r+i*i;if(_<=2)return new Vector2(r,i);o=Math.sqrt(_/2)}else{var x=!1;a>Number.EPSILON?c>Number.EPSILON&&(x=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(x=!0):Math.sign(s)===Math.sign(u)&&(x=!0),x?(r=-s,i=a,o=Math.sqrt(h)):(r=a,i=s,o=Math.sqrt(h/2))}return new Vector2(r/o,i/o)}function i(){var t=d.length/3;if(b){var n=0,r=Y*n;for(K=0;K<Z;K++)q=k[K],c(q[2]+r,q[1]+r,q[0]+r);for(n=M+2*x,r=Y*n,K=0;K<Z;K++)q=k[K],c(q[0]+r,q[1]+r,q[2]+r)}else{for(K=0;K<Z;K++)q=k[K],c(q[2],q[1],q[0]);for(K=0;K<Z;K++)q=k[K],c(q[0]+Y*M,q[1]+Y*M,q[2]+Y*M)}U.addGroup(t,d.length/3-t,void 0!==e.material?e.material:0)}function o(){var t=d.length/3,n=0;for(a(G,n),n+=G.length,O=0,N=z.length;O<N;O++)I=z[O],a(I,n),n+=I.length;U.addGroup(t,d.length/3-t,void 0!==e.extrudeMaterial?e.extrudeMaterial:1)}function a(t,e){var n,r;for(K=t.length;--K>=0;){n=K,r=K-1,r<0&&(r=t.length-1);var i=0,o=M+2*x;for(i=0;i<o;i++){var a=Y*i,s=Y*(i+1);u(e+n+a,e+r+a,e+r+s,e+n+s,t,i,o,n,r)}}}function s(t,e,n){v.push(t),v.push(e),v.push(n)}function c(t,e,n){h(t),h(e),h(n);var r=d.length/3,i=A.generateTopUV(U,d,r-3,r-2,r-1);l(i[0]),l(i[1]),l(i[2])}function u(t,e,n,r,i,o,a,s,c){h(t),h(e),h(r),h(e),h(n),h(r);var u=d.length/3,f=A.generateSideWallUV(U,d,u-6,u-3,u-2,u-1);l(f[0]),l(f[1]),l(f[3]),l(f[1]),l(f[2]),l(f[3])}function h(t){p.push(d.length/3),d.push(v[3*t+0]),d.push(v[3*t+1]),d.push(v[3*t+2])}function l(t){m.push(t.x),m.push(t.y)}var f=e.arrays?e.arrays:this.getArrays(),d=f.position,p=f.index,m=f.uv,v=[],g=void 0!==e.amount?e.amount:100,y=void 0!==e.bevelThickness?e.bevelThickness:6,_=void 0!==e.bevelSize?e.bevelSize:y-2,x=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0===e.bevelEnabled||e.bevelEnabled,w=void 0!==e.curveSegments?e.curveSegments:12,M=void 0!==e.steps?e.steps:1,E=e.extrudePath,S,T=!1,A=void 0!==e.UVGenerator?e.UVGenerator:ExtrudeGeometry.WorldUVGenerator,R,L,P,C;E&&(S=E.getSpacedPoints(M),T=!0,b=!1,R=void 0!==e.frames?e.frames:E.computeFrenetFrames(M,!1),L=new Vector3,P=new Vector3,C=new Vector3),b||(x=0,y=0,_=0);var I,O,N,U=this,D=t.extractPoints(w),F=D.shape,z=D.holes,B=!ShapeUtils.isClockWise(F);if(B){for(F=F.reverse(),O=0,N=z.length;O<N;O++)I=z[O],ShapeUtils.isClockWise(I)&&(z[O]=I.reverse());B=!1}var k=ShapeUtils.triangulateShape(F,z),G=F;for(O=0,N=z.length;O<N;O++)I=z[O],F=F.concat(I);for(var H,j,V,W,X,Y=F.length,q,Z=k.length,J=[],K=0,Q=G.length,$=Q-1,tt=K+1;K<Q;K++,$++,tt++)$===Q&&($=0),tt===Q&&(tt=0),J[K]=r(G[K],G[$],G[tt]);var et=[],nt,rt=J.concat();for(O=0,N=z.length;O<N;O++){for(I=z[O],nt=[],K=0,Q=I.length,$=Q-1,tt=K+1;K<Q;K++,$++,tt++)$===Q&&($=0),tt===Q&&(tt=0),nt[K]=r(I[K],I[$],I[tt]);et.push(nt),rt=rt.concat(nt)}for(H=0;H<x;H++){for(V=H/x,W=y*Math.cos(V*Math.PI/2),j=_*Math.sin(V*Math.PI/2),K=0,Q=G.length;K<Q;K++)X=n(G[K],J[K],j),s(X.x,X.y,-W);for(O=0,N=z.length;O<N;O++)for(I=z[O],nt=et[O],K=0,Q=I.length;K<Q;K++)X=n(I[K],nt[K],j),s(X.x,X.y,-W)}for(j=_,K=0;K<Y;K++)X=b?n(F[K],rt[K],j):F[K],T?(P.copy(R.normals[0]).multiplyScalar(X.x),L.copy(R.binormals[0]).multiplyScalar(X.y),C.copy(S[0]).add(P).add(L),s(C.x,C.y,C.z)):s(X.x,X.y,0);var it;for(it=1;it<=M;it++)for(K=0;K<Y;K++)X=b?n(F[K],rt[K],j):F[K],T?(P.copy(R.normals[it]).multiplyScalar(X.x),L.copy(R.binormals[it]).multiplyScalar(X.y),C.copy(S[it]).add(P).add(L),s(C.x,C.y,C.z)):s(X.x,X.y,g/M*it);for(H=x-1;H>=0;H--){for(V=H/x,W=y*Math.cos(V*Math.PI/2),j=_*Math.sin(V*Math.PI/2),K=0,Q=G.length;K<Q;K++)X=n(G[K],J[K],j),s(X.x,X.y,g+W);for(O=0,N=z.length;O<N;O++)for(I=z[O],nt=et[O],K=0,Q=I.length;K<Q;K++)X=n(I[K],nt[K],j),T?s(X.x,X.y+S[M-1].y,S[M-1].x+W):s(X.x,X.y,g+W)}i(),o(),e.arrays||(this.setIndex(p),this.addAttribute("position",new Float32BufferAttribute(d,3)),this.addAttribute("uv",new Float32BufferAttribute(e.arrays.uv,2)))},ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(t,e,n,r,i){var o=e[3*n],a=e[3*n+1],s=e[3*r],c=e[3*r+1],u=e[3*i],h=e[3*i+1];return[new Vector2(o,a),new Vector2(s,c),new Vector2(u,h)]},generateSideWallUV:function(t,e,n,r,i,o){var a=e[3*n],s=e[3*n+1],c=e[3*n+2],u=e[3*r],h=e[3*r+1],l=e[3*r+2],f=e[3*i],d=e[3*i+1],p=e[3*i+2],m=e[3*o],v=e[3*o+1],g=e[3*o+2];return Math.abs(s-h)<.01?[new Vector2(a,1-c),new Vector2(u,1-l),new Vector2(f,1-p),new Vector2(m,1-g)]:[new Vector2(s,1-c),new Vector2(h,1-l),new Vector2(d,1-p),new Vector2(v,1-g)]}},TextGeometry.prototype=Object.create(Geometry.prototype),TextGeometry.prototype.constructor=TextGeometry,TextBufferGeometry.prototype=Object.create(ExtrudeBufferGeometry.prototype),TextBufferGeometry.prototype.constructor=TextBufferGeometry,SphereGeometry.prototype=Object.create(Geometry.prototype),SphereGeometry.prototype.constructor=SphereGeometry,SphereBufferGeometry.prototype=Object.create(BufferGeometry.prototype),SphereBufferGeometry.prototype.constructor=SphereBufferGeometry,RingGeometry.prototype=Object.create(Geometry.prototype),RingGeometry.prototype.constructor=RingGeometry,RingBufferGeometry.prototype=Object.create(BufferGeometry.prototype),RingBufferGeometry.prototype.constructor=RingBufferGeometry,LatheGeometry.prototype=Object.create(Geometry.prototype),LatheGeometry.prototype.constructor=LatheGeometry,LatheBufferGeometry.prototype=Object.create(BufferGeometry.prototype),LatheBufferGeometry.prototype.constructor=LatheBufferGeometry,ShapeGeometry.prototype=Object.create(Geometry.prototype),ShapeGeometry.prototype.constructor=ShapeGeometry,ShapeBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ShapeBufferGeometry.prototype.constructor=ShapeBufferGeometry,EdgesGeometry.prototype=Object.create(BufferGeometry.prototype),EdgesGeometry.prototype.constructor=EdgesGeometry,CylinderGeometry.prototype=Object.create(Geometry.prototype),CylinderGeometry.prototype.constructor=CylinderGeometry,CylinderBufferGeometry.prototype=Object.create(BufferGeometry.prototype),CylinderBufferGeometry.prototype.constructor=CylinderBufferGeometry,ConeGeometry.prototype=Object.create(CylinderGeometry.prototype),ConeGeometry.prototype.constructor=ConeGeometry,ConeBufferGeometry.prototype=Object.create(CylinderBufferGeometry.prototype),ConeBufferGeometry.prototype.constructor=ConeBufferGeometry,CircleGeometry.prototype=Object.create(Geometry.prototype),CircleGeometry.prototype.constructor=CircleGeometry,CircleBufferGeometry.prototype=Object.create(BufferGeometry.prototype),CircleBufferGeometry.prototype.constructor=CircleBufferGeometry;var Qn=Object.freeze({WireframeGeometry:WireframeGeometry,ParametricGeometry:ParametricGeometry,ParametricBufferGeometry:ParametricBufferGeometry,TetrahedronGeometry:TetrahedronGeometry,TetrahedronBufferGeometry:TetrahedronBufferGeometry,OctahedronGeometry:OctahedronGeometry,OctahedronBufferGeometry:OctahedronBufferGeometry,IcosahedronGeometry:IcosahedronGeometry,IcosahedronBufferGeometry:IcosahedronBufferGeometry,DodecahedronGeometry:DodecahedronGeometry,DodecahedronBufferGeometry:DodecahedronBufferGeometry,PolyhedronGeometry:PolyhedronGeometry,PolyhedronBufferGeometry:PolyhedronBufferGeometry,TubeGeometry:TubeGeometry,TubeBufferGeometry:TubeBufferGeometry,TorusKnotGeometry:TorusKnotGeometry,TorusKnotBufferGeometry:TorusKnotBufferGeometry,TorusGeometry:TorusGeometry,TorusBufferGeometry:TorusBufferGeometry,TextGeometry:TextGeometry,TextBufferGeometry:TextBufferGeometry,SphereGeometry:SphereGeometry,SphereBufferGeometry:SphereBufferGeometry,RingGeometry:RingGeometry,RingBufferGeometry:RingBufferGeometry,PlaneGeometry:PlaneGeometry,PlaneBufferGeometry:PlaneBufferGeometry,LatheGeometry:LatheGeometry,LatheBufferGeometry:LatheBufferGeometry,ShapeGeometry:ShapeGeometry,ShapeBufferGeometry:ShapeBufferGeometry,ExtrudeGeometry:ExtrudeGeometry,ExtrudeBufferGeometry:ExtrudeBufferGeometry,EdgesGeometry:EdgesGeometry,ConeGeometry:ConeGeometry,ConeBufferGeometry:ConeBufferGeometry,CylinderGeometry:CylinderGeometry,CylinderBufferGeometry:CylinderBufferGeometry,CircleGeometry:CircleGeometry,CircleBufferGeometry:CircleBufferGeometry,BoxGeometry:BoxGeometry,BoxBufferGeometry:BoxBufferGeometry});ShadowMaterial.prototype=Object.create(ShaderMaterial.prototype),ShadowMaterial.prototype.constructor=ShadowMaterial,ShadowMaterial.prototype.isShadowMaterial=!0,RawShaderMaterial.prototype=Object.create(ShaderMaterial.prototype),RawShaderMaterial.prototype.constructor=RawShaderMaterial,RawShaderMaterial.prototype.isRawShaderMaterial=!0,MeshStandardMaterial.prototype=Object.create(Material.prototype),MeshStandardMaterial.prototype.constructor=MeshStandardMaterial,MeshStandardMaterial.prototype.isMeshStandardMaterial=!0,MeshStandardMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},MeshPhysicalMaterial.prototype=Object.create(MeshStandardMaterial.prototype),MeshPhysicalMaterial.prototype.constructor=MeshPhysicalMaterial,MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial=!0,MeshPhysicalMaterial.prototype.copy=function(t){return MeshStandardMaterial.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},MeshPhongMaterial.prototype=Object.create(Material.prototype),MeshPhongMaterial.prototype.constructor=MeshPhongMaterial,MeshPhongMaterial.prototype.isMeshPhongMaterial=!0,MeshPhongMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},MeshToonMaterial.prototype=Object.create(MeshPhongMaterial.prototype),MeshToonMaterial.prototype.constructor=MeshToonMaterial,MeshToonMaterial.prototype.isMeshToonMaterial=!0,MeshToonMaterial.prototype.copy=function(t){return MeshPhongMaterial.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},MeshNormalMaterial.prototype=Object.create(Material.prototype),MeshNormalMaterial.prototype.constructor=MeshNormalMaterial,MeshNormalMaterial.prototype.isMeshNormalMaterial=!0,MeshNormalMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},MeshLambertMaterial.prototype=Object.create(Material.prototype),MeshLambertMaterial.prototype.constructor=MeshLambertMaterial,MeshLambertMaterial.prototype.isMeshLambertMaterial=!0,MeshLambertMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},LineDashedMaterial.prototype=Object.create(Material.prototype),LineDashedMaterial.prototype.constructor=LineDashedMaterial,LineDashedMaterial.prototype.isLineDashedMaterial=!0,LineDashedMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var $n=Object.freeze({ShadowMaterial:ShadowMaterial,SpriteMaterial:SpriteMaterial,RawShaderMaterial:RawShaderMaterial,ShaderMaterial:ShaderMaterial,PointsMaterial:PointsMaterial,MeshPhysicalMaterial:MeshPhysicalMaterial,MeshStandardMaterial:MeshStandardMaterial,MeshPhongMaterial:MeshPhongMaterial,MeshToonMaterial:MeshToonMaterial,MeshNormalMaterial:MeshNormalMaterial,MeshLambertMaterial:MeshLambertMaterial,MeshDepthMaterial:MeshDepthMaterial,MeshBasicMaterial:MeshBasicMaterial,LineDashedMaterial:LineDashedMaterial,LineBasicMaterial:LineBasicMaterial,Material:Material}),Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},DefaultLoadingManager=new LoadingManager;Object.assign(FileLoader.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=Cache.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(a);if(s){var c=s[1],u=!!s[2],h=s[3];h=window.decodeURIComponent(h),u&&(h=window.atob(h));try{var l,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":l=new ArrayBuffer(h.length);for(var d=new Uint8Array(l),p=0;p<h.length;p++)d[p]=h.charCodeAt(p);"blob"===f&&(l=new Blob([l],{type:c}));break;case"document":var m=new DOMParser;l=m.parseFromString(h,c);break;case"json":l=JSON.parse(h);break;default:l=h}window.setTimeout(function(){e&&e(l),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},0)}}else{var v=new XMLHttpRequest;v.open("GET",t,!0),v.addEventListener("load",function(n){var o=n.target.response;Cache.add(t,o),200===this.status?(e&&e(o),i.manager.itemEnd(t)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),e&&e(o),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemEnd(t),i.manager.itemError(t))},!1),void 0!==n&&v.addEventListener("progress",function(t){n(t)},!1),v.addEventListener("error",function(e){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var g in this.requestHeader)v.setRequestHeader(g,this.requestHeader[g]);v.send(null)}return i.manager.itemStart(t),v},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(CompressedTextureLoader.prototype,{load:function(t,e,n,r){function i(i){c.load(t[i],function(t){var n=o._parser(t,!0);a[i]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(s.minFilter=LinearFilter),s.format=n.format,s.needsUpdate=!0,e&&e(s))},n,r)}var o=this,a=[],s=new CompressedTexture;s.image=a;var c=new FileLoader(this.manager);if(c.setPath(this.path),c.setResponseType("arraybuffer"),Array.isArray(t))for(var u=0,h=0,l=t.length;h<l;++h)i(h);else c.load(t,function(t){var n=o._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,i=0;i<r;i++){a[i]={mipmaps:[]};for(var c=0;c<n.mipmapCount;c++)a[i].mipmaps.push(n.mipmaps[i*n.mipmapCount+c]),a[i].format=n.format,a[i].width=n.width,a[i].height=n.height}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=LinearFilter),s.format=n.format,s.needsUpdate=!0,e&&e(s)},n,r);return s},setPath:function(t){return this.path=t,this}}),Object.assign(DataTextureLoader.prototype,{load:function(t,e,n,r){var i=this,o=new DataTexture,a=new FileLoader(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var n=i._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:ClampToEdgeWrapping,o.wrapT=void 0!==n.wrapT?n.wrapT:ClampToEdgeWrapping,o.magFilter=void 0!==n.magFilter?n.magFilter:LinearFilter,o.minFilter=void 0!==n.minFilter?n.minFilter:LinearMipMapLinearFilter,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=LinearFilter),o.needsUpdate=!0,e&&e(o,n))},n,r),o}}),Object.assign(ImageLoader.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=Cache.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");return a.addEventListener("load",function(){Cache.add(t,this),e&&e(this),i.manager.itemEnd(t)},!1),a.addEventListener("error",function(e){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(CubeTextureLoader.prototype,{load:function(t,e,n,r){function i(n){a.load(t[n],function(t){o.images[n]=t,6===++s&&(o.needsUpdate=!0,e&&e(o))},void 0,r)}var o=new CubeTexture,a=new ImageLoader(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);for(var s=0,c=0;c<t.length;++c)i(c);return o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(TextureLoader.prototype,{load:function(t,e,n,r){var i=new ImageLoader(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);var o=new Texture;return o.image=i.load(t,function(){var n=t.search(/\\.(jpg|jpeg)$/)>0||0===t.search(/^data\\:image\\/jpeg/);o.format=n?RGBFormat:RGBAFormat,o.needsUpdate=!0,void 0!==e&&e(o)},n,r),o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Light.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Light,isLight:!0,copy:function(t){return Object3D.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),HemisphereLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:HemisphereLight,isHemisphereLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(LightShadow.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),SpotLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:SpotLightShadow,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*Ut.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix())}}),SpotLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:SpotLight,isSpotLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),PointLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:PointLight,isPointLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),DirectionalLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:DirectionalLightShadow}),DirectionalLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:DirectionalLight,isDirectionalLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),AmbientLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:AmbientLight,isAmbientLight:!0}),RectAreaLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:RectAreaLight,isRectAreaLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=Light.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});var AnimationUtils={arraySlice:function(t,e,n){return AnimationUtils.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*e,c=0;c!==e;++c)i[a++]=t[s+c];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)}}};Object.assign(Interpolant.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}{if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(var a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){var c=n+o>>>1;t<e[c]?o=c:n=c+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(t,e,n,r){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}}),Object.assign(Interpolant.prototype,{beforeStart_:Interpolant.prototype.copySampleValue_,afterEnd_:Interpolant.prototype.copySampleValue_}),CubicInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:CubicInterpolant,DefaultSettings_:{endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=t,a=2*e-n;break;case 2402:i=r.length-2,a=e+r[i]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=t,s=2*n-e;break;case 2402:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}var c=.5*(n-e),u=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,u=this._offsetPrev,h=this._offsetNext,l=this._weightPrev,f=this._weightNext,d=(n-e)/(r-e),p=d*d,m=p*d,v=-l*m+2*l*p-l*d,g=(1+l)*m+(-1.5-2*l)*p+(-.5+l)*d+1,y=(-1-f)*m+(1.5+f)*p+.5*d,_=f*m-f*p,x=0;x!==a;++x)i[x]=v*o[u+x]+g*o[c+x]+y*o[s+x]+_*o[h+x];return i}}),LinearInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:LinearInterpolant,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,u=(n-e)/(r-e),h=1-u,l=0;l!==a;++l)i[l]=o[c+l]*h+o[s+l]*u;return i}}),DiscreteInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:DiscreteInterpolant,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}});var tr;tr={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new LinearInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new CubicInterpolant(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(n)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=AnimationUtils.arraySlice(n,i,o),this.values=AnimationUtils.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("invalid value size in track",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("track is empty",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("out of order keys",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&AnimationUtils.isTypedArray(r))for(var a=0,c=r.length;a!==c;++a){var u=r[a];if(isNaN(u)){console.error("value is not a valid number",this,a,u),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,o=t.length-1,a=1;a<o;++a){var s=!1,c=t[a];if(c!==t[a+1]&&(1!==a||c!==c[0]))if(r)s=!0;else for(var u=a*n,h=u-n,l=u+n,f=0;f!==n;++f){var d=e[u+f];if(d!==e[h+f]||d!==e[l+f]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];for(var p=a*n,m=i*n,f=0;f!==n;++f)e[m+f]=e[p+f]}++i}}if(o>0){t[i]=t[o];for(var p=o*n,m=i*n,f=0;f!==n;++f)e[m+f]=e[p+f];++i}return i!==t.length&&(this.times=AnimationUtils.arraySlice(t,0,i),this.values=AnimationUtils.arraySlice(e,0,i*n)),this}},VectorKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:VectorKeyframeTrack,ValueTypeName:"vector"}),QuaternionLinearInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:QuaternionLinearInterpolant,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=(n-e)/(r-e),u=s+a;s!==u;s+=4)Quaternion.slerpFlat(i,0,o,s-a,o,s,c);return i}}),QuaternionKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),NumberKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:NumberKeyframeTrack,ValueTypeName:"number"}),StringKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),BooleanKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ColorKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:ColorKeyframeTrack,ValueTypeName:"color"}),KeyframeTrack.prototype=tr,tr.constructor=KeyframeTrack,Object.assign(KeyframeTrack,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=KeyframeTrack._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];AnimationUtils.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e=t.constructor,n;if(void 0!==e.toJSON)n=e.toJSON(t);else{n={name:t.name,times:AnimationUtils.convertArray(t.times,Array),values:AnimationUtils.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(n.interpolation=r)}return n.type=t.ValueTypeName,n},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("Unsupported typeName: "+t)}}),Object.assign(AnimationClip,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(KeyframeTrack.parse(n[i]).scale(r));return new AnimationClip(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,o=n.length;i!==o;++i)e.push(KeyframeTrack.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var u=AnimationUtils.getKeyframeOrder(s);s=AnimationUtils.sortedArray(s,1,u),c=AnimationUtils.sortedArray(c,1,u),r||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new NumberKeyframeTrack(".morphTargetInfluences["+e[a].name+"]",s,c).scale(1/n))}return new AnimationClip(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\\w-]*?)([\\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],c=s.name.match(i);if(c&&c.length>1){var u=c[1],h=r[u];h||(r[u]=h=[]),h.push(s)}}var l=[];for(var u in r)l.push(AnimationClip.CreateFromMorphTargetSequence(u,r[u],e,n));return l},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var o=[],a=[];AnimationUtils.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],c=0;c<s.length;c++){var u=s[c].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var h={},l=0;l<u.length;l++)if(u[l].morphTargets)for(var f=0;f<u[l].morphTargets.length;f++)h[u[l].morphTargets[f]]=-1;for(var d in h){for(var p=[],m=[],f=0;f!==u[l].morphTargets.length;++f){var v=u[l];p.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new NumberKeyframeTrack(".morphTargetInfluence["+d+"]",p,m))}o=h.length*(a||1)}else{var g=".bones["+e[c].name+"]";n(VectorKeyframeTrack,g+".position",u,"pos",r),n(QuaternionKeyframeTrack,g+".quaternion",u,"rot",r),n(VectorKeyframeTrack,g+".scale",u,"scl",r)}}return 0===r.length?null:new AnimationClip(i,o,r)}}),Object.assign(AnimationClip.prototype,{resetDuration:function(){for(var t=this.tracks,e=0,n=0,r=t.length;n!==r;++n){var i=this.tracks[n];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(MaterialLoader.prototype,{load:function(t,e,n,r){var i=this,o=new FileLoader(i.manager);o.setResponseType("json"),o.load(t,function(t){e(i.parse(t))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,r=new $n[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var i=t.normalScale;!1===Array.isArray(i)&&(i=[i,i]),r.normalScale=(new Vector2).fromArray(i)}return void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=e(t.gradientMap)),r}}),Object.assign(BufferGeometryLoader.prototype,{load:function(t,e,n,r){var i=this,o=new FileLoader(i.manager);o.setResponseType("json"),o.load(t,function(t){e(i.parse(t))},n,r)},parse:function(t){var e=new BufferGeometry,n=t.data.index;if(void 0!==n){var r=new er[n.type](n.array);e.setIndex(new BufferAttribute(r,1))}var i=t.data.attributes;for(var o in i){var a=i[o],r=new er[a.type](a.array);e.addAttribute(o,new BufferAttribute(r,a.itemSize,a.normalized))}var s=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==s)for(var c=0,u=s.length;c!==u;++c){var h=s[c];e.addGroup(h.start,h.count,h.materialIndex)}var l=t.data.boundingSphere;if(void 0!==l){var f=new Vector3;void 0!==l.center&&f.fromArray(l.center),e.boundingSphere=new Sphere(f,l.radius)}return e}});var er={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};Loader.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],o=e[n+1];if(i.test(t))return o}return null}},Object.assign(Loader.prototype,{crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(){var t={NoBlending:NoBlending,NormalBlending:NormalBlending,AdditiveBlending:AdditiveBlending,SubtractiveBlending:SubtractiveBlending,MultiplyBlending:MultiplyBlending,CustomBlending:CustomBlending},e=new Color,n=new TextureLoader,r=new MaterialLoader;return function i(o,a,s){function c(t,e,r,i,o){var c=a+t,h=Loader.Handlers.get(c),l;null!==h?l=h.load(c):(n.setCrossOrigin(s),l=n.load(c)),void 0!==e&&(l.repeat.fromArray(e),1!==e[0]&&(l.wrapS=RepeatWrapping),1!==e[1]&&(l.wrapT=RepeatWrapping)),void 0!==r&&l.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(l.wrapS=RepeatWrapping),"mirror"===i[0]&&(l.wrapS=MirroredRepeatWrapping),"repeat"===i[1]&&(l.wrapT=RepeatWrapping),"mirror"===i[1]&&(l.wrapT=MirroredRepeatWrapping)),void 0!==o&&(l.anisotropy=o);var f=Ut.generateUUID();return u[f]=l,f}var u={},h={uuid:Ut.generateUUID(),type:"MeshLambertMaterial"};for(var l in o){var f=o[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":h.name=f;break;case"blending":h.blending=t[f];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":h.color=e.fromArray(f).getHex();break;case"colorSpecular":h.specular=e.fromArray(f).getHex();break;case"colorEmissive":h.emissive=e.fromArray(f).getHex();break;case"specularCoef":h.shininess=f;break;case"shading":"basic"===f.toLowerCase()&&(h.type="MeshBasicMaterial"),"phong"===f.toLowerCase()&&(h.type="MeshPhongMaterial"),"standard"===f.toLowerCase()&&(h.type="MeshStandardMaterial");break;case"mapDiffuse":h.map=c(f,o.mapDiffuseRepeat,o.mapDiffuseOffset,o.mapDiffuseWrap,o.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":h.emissiveMap=c(f,o.mapEmissiveRepeat,o.mapEmissiveOffset,o.mapEmissiveWrap,o.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":h.lightMap=c(f,o.mapLightRepeat,o.mapLightOffset,o.mapLightWrap,o.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":h.aoMap=c(f,o.mapAORepeat,o.mapAOOffset,o.mapAOWrap,o.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":h.bumpMap=c(f,o.mapBumpRepeat,o.mapBumpOffset,o.mapBumpWrap,o.mapBumpAnisotropy);break;case"mapBumpScale":h.bumpScale=f;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":h.normalMap=c(f,o.mapNormalRepeat,o.mapNormalOffset,o.mapNormalWrap,o.mapNormalAnisotropy);break;case"mapNormalFactor":h.normalScale=[f,f];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":h.specularMap=c(f,o.mapSpecularRepeat,o.mapSpecularOffset,o.mapSpecularWrap,o.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":h.metalnessMap=c(f,o.mapMetalnessRepeat,o.mapMetalnessOffset,o.mapMetalnessWrap,o.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":h.roughnessMap=c(f,o.mapRoughnessRepeat,o.mapRoughnessOffset,o.mapRoughnessWrap,o.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":h.alphaMap=c(f,o.mapAlphaRepeat,o.mapAlphaOffset,o.mapAlphaWrap,o.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":h.side=BackSide;break;case"doubleSided":h.side=DoubleSide;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),h.opacity=f;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":h[l]=f;break;case"vertexColors":!0===f&&(h.vertexColors=VertexColors),"face"===f&&(h.vertexColors=FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,f)}}return"MeshBasicMaterial"===h.type&&delete h.emissive,"MeshPhongMaterial"!==h.type&&delete h.specular,h.opacity<1&&(h.transparent=!0),r.setTextures(u),r.parse(h)}}()}),Object.assign(JSONLoader.prototype,{load:function(t,e,n,r){var i=this,o=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:Loader.prototype.extractUrlBase(t),a=new FileLoader(this.manager);a.setResponseType("json"),a.setWithCredentials(this.withCredentials),a.load(t,function(n){var r=n.metadata;if(void 0!==r){var a=r.type;if(void 0!==a){if("object"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var s=i.parse(n,o);e(s.geometry,s.materials)},n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(){function t(t,e){function n(t,e){return t&1<<e}var r,i,o,a,s,c,u,h,l,f,d,p,m,v,g,y,_,x,b,w,M,E,S,T,A,R,L,P=t.faces,C=t.vertices,I=t.normals,O=t.colors,N=t.scale,U=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&U++;for(r=0;r<U;r++)e.faceVertexUvs[r]=[]}for(a=0,s=C.length;a<s;)x=new Vector3,x.x=C[a++]*N,x.y=C[a++]*N,x.z=C[a++]*N,e.vertices.push(x);for(a=0,s=P.length;a<s;)if(f=P[a++],d=n(f,0),p=n(f,1),m=n(f,3),v=n(f,4),g=n(f,5),y=n(f,6),_=n(f,7),d){if(w=new Face3,w.a=P[a],w.b=P[a+1],w.c=P[a+3],M=new Face3,M.a=P[a+1],M.b=P[a+2],M.c=P[a+3],a+=4,p&&(l=P[a++],w.materialIndex=l,M.materialIndex=l),o=e.faces.length,m)for(r=0;r<U;r++)for(T=t.uvs[r],e.faceVertexUvs[r][o]=[],e.faceVertexUvs[r][o+1]=[],i=0;i<4;i++)h=P[a++],R=T[2*h],L=T[2*h+1],A=new Vector2(R,L),2!==i&&e.faceVertexUvs[r][o].push(A),0!==i&&e.faceVertexUvs[r][o+1].push(A);if(v&&(u=3*P[a++],w.normal.set(I[u++],I[u++],I[u]),M.normal.copy(w.normal)),g)for(r=0;r<4;r++)u=3*P[a++],S=new Vector3(I[u++],I[u++],I[u]),2!==r&&w.vertexNormals.push(S),0!==r&&M.vertexNormals.push(S);if(y&&(c=P[a++],E=O[c],w.color.setHex(E),M.color.setHex(E)),_)for(r=0;r<4;r++)c=P[a++],E=O[c],2!==r&&w.vertexColors.push(new Color(E)),0!==r&&M.vertexColors.push(new Color(E));e.faces.push(w),e.faces.push(M)}else{if(b=new Face3,b.a=P[a++],b.b=P[a++],b.c=P[a++],p&&(l=P[a++],b.materialIndex=l),o=e.faces.length,m)for(r=0;r<U;r++)for(T=t.uvs[r],e.faceVertexUvs[r][o]=[],i=0;i<3;i++)h=P[a++],R=T[2*h],L=T[2*h+1],A=new Vector2(R,L),e.faceVertexUvs[r][o].push(A);if(v&&(u=3*P[a++],b.normal.set(I[u++],I[u++],I[u])),g)for(r=0;r<3;r++)u=3*P[a++],S=new Vector3(I[u++],I[u++],I[u]),b.vertexNormals.push(S);if(y&&(c=P[a++],b.color.setHex(O[c])),_)for(r=0;r<3;r++)c=P[a++],b.vertexColors.push(new Color(O[c]));e.faces.push(b)}}function e(t,e){var n=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,i=t.skinWeights.length;r<i;r+=n){var o=t.skinWeights[r],a=n>1?t.skinWeights[r+1]:0,s=n>2?t.skinWeights[r+2]:0,c=n>3?t.skinWeights[r+3]:0;e.skinWeights.push(new Vector4(o,a,s,c))}if(t.skinIndices)for(var r=0,i=t.skinIndices.length;r<i;r+=n){var u=t.skinIndices[r],h=n>1?t.skinIndices[r+1]:0,l=n>2?t.skinIndices[r+2]:0,f=n>3?t.skinIndices[r+3]:0;e.skinIndices.push(new Vector4(u,h,l,f))}e.bones=t.bones,e.bones&&e.bones.length>0&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")}function n(t,e){var n=t.scale;if(void 0!==t.morphTargets)for(var r=0,i=t.morphTargets.length;r<i;r++){e.morphTargets[r]={},e.morphTargets[r].name=t.morphTargets[r].name,e.morphTargets[r].vertices=[];for(var o=e.morphTargets[r].vertices,a=t.morphTargets[r].vertices,s=0,c=a.length;s<c;s+=3){var u=new Vector3;u.x=a[s]*n,u.y=a[s+1]*n,u.z=a[s+2]*n,o.push(u)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn(\'THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.\');for(var h=e.faces,l=t.morphColors[0].colors,r=0,i=h.length;r<i;r++)h[r].color.fromArray(l,3*r)}}function r(t,e){var n=[],r=[];void 0!==t.animation&&r.push(t.animation),void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var i=0;i<r.length;i++){var o=AnimationClip.parseAnimation(r[i],e.bones);o&&n.push(o)}if(e.morphTargets){var a=AnimationClip.CreateClipsFromMorphTargetSequences(e.morphTargets,10);n=n.concat(a)}n.length>0&&(e.animations=n)}return function(i,o){void 0!==i.data&&(i=i.data),void 0!==i.scale?i.scale=1/i.scale:i.scale=1;var a=new Geometry;return t(i,a),e(i,a),n(i,a),r(i,a),a.computeFaceNormals(),a.computeBoundingSphere(),void 0===i.materials||0===i.materials.length?{geometry:a}:{geometry:a,materials:Loader.prototype.initMaterials(i.materials,o,this.crossOrigin)}}}()}),Object.assign(ObjectLoader.prototype,{load:function(t,e,n,r){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new FileLoader(i.manager).load(t,function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can\'t parse "+t+".",e.message)}var a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can\'t load "+t+". Use THREE.JSONLoader instead.");i.parse(o,e)},n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,function(){void 0!==e&&e(a)}),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,n,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new JSONLoader,r=new BufferGeometryLoader,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Qn[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Qn[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Qn[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Qn[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Qn[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Qn[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new Qn[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Qn[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Qn[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Qn[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Qn[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s,this.texturePath).geometry;break;default:console.warn(\'THREE.ObjectLoader: Unsupported geometry type "\'+s.type+\'"\');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new MaterialLoader;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=t[i];if("MultiMaterial"===a.type){for(var s=[],c=0;c<a.materials.length;c++)s.push(r.parse(a.materials[c]));n[a.uuid]=s}else n[a.uuid]=r.parse(a)}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=AnimationClip.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){function n(t){return r.manager.itemStart(t),a.load(t,function(){r.manager.itemEnd(t)},void 0,function(){r.manager.itemEnd(t),r.manager.itemError(t)})}var r=this,i={};if(void 0!==t&&t.length>0){var o=new LoadingManager(e),a=new ImageLoader(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,c=t.length;s<c;s++){var u=t[s],h=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(u.url)?u.url:r.texturePath+u.url;i[u.uuid]=n(h)}}return i},parseTextures:function(t,e){function n(t,e){return"number"===typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var i=0,o=t.length;i<o;i++){var a=t[i];void 0===a.image&&console.warn(\'THREE.ObjectLoader: No "image" specified for\',a.uuid),void 0===e[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=new Texture(e[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,nr)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],rr),s.wrapT=n(a.wrap[1],rr)),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,ir)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,ir)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),r[a.uuid]=s}return r},parseObject:function(){var t=new Matrix4;return function e(n,r,i){function o(t){return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),r[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];void 0===i[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),e.push(i[o])}return e}return void 0===i[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),i[t]}}var s;switch(n.type){case"Scene":s=new Scene,void 0!==n.background&&Number.isInteger(n.background)&&(s.background=new Color(n.background)),void 0!==n.fog&&("Fog"===n.fog.type?s.fog=new Fog(n.fog.color,n.fog.near,n.fog.far):"FogExp2"===n.fog.type&&(s.fog=new FogExp2(n.fog.color,n.fog.density)));break;case"PerspectiveCamera":s=new PerspectiveCamera(n.fov,n.aspect,n.near,n.far),void 0!==n.focus&&(s.focus=n.focus),void 0!==n.zoom&&(s.zoom=n.zoom),void 0!==n.filmGauge&&(s.filmGauge=n.filmGauge),void 0!==n.filmOffset&&(s.filmOffset=n.filmOffset),void 0!==n.view&&(s.view=Object.assign({},n.view));break;case"OrthographicCamera":s=new OrthographicCamera(n.left,n.right,n.top,n.bottom,n.near,n.far);break;case"AmbientLight":s=new AmbientLight(n.color,n.intensity);break;case"DirectionalLight":s=new DirectionalLight(n.color,n.intensity);break;case"PointLight":s=new PointLight(n.color,n.intensity,n.distance,n.decay);break;case"RectAreaLight":s=new RectAreaLight(n.color,n.intensity,n.width,n.height);break;case"SpotLight":s=new SpotLight(n.color,n.intensity,n.distance,n.angle,n.penumbra,n.decay);break;case"HemisphereLight":s=new HemisphereLight(n.color,n.groundColor,n.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var c=o(n.geometry),u=a(n.material);s=c.bones&&c.bones.length>0?new SkinnedMesh(c,u):new Mesh(c,u);break;case"LOD":s=new LOD;break;case"Line":s=new Line(o(n.geometry),a(n.material),n.mode);break;case"LineLoop":s=new LineLoop(o(n.geometry),a(n.material));break;case"LineSegments":s=new LineSegments(o(n.geometry),a(n.material));break;case"PointCloud":case"Points":s=new Points(o(n.geometry),a(n.material));break;case"Sprite":s=new Sprite(a(n.material));break;case"Group":s=new Group;break;default:s=new Object3D}if(s.uuid=n.uuid,void 0!==n.name&&(s.name=n.name),void 0!==n.matrix?(t.fromArray(n.matrix),t.decompose(s.position,s.quaternion,s.scale)):(void 0!==n.position&&s.position.fromArray(n.position),void 0!==n.rotation&&s.rotation.fromArray(n.rotation),void 0!==n.quaternion&&s.quaternion.fromArray(n.quaternion),void 0!==n.scale&&s.scale.fromArray(n.scale)),void 0!==n.castShadow&&(s.castShadow=n.castShadow),void 0!==n.receiveShadow&&(s.receiveShadow=n.receiveShadow),n.shadow&&(void 0!==n.shadow.bias&&(s.shadow.bias=n.shadow.bias),void 0!==n.shadow.radius&&(s.shadow.radius=n.shadow.radius),void 0!==n.shadow.mapSize&&s.shadow.mapSize.fromArray(n.shadow.mapSize),void 0!==n.shadow.camera&&(s.shadow.camera=this.parseObject(n.shadow.camera))),void 0!==n.visible&&(s.visible=n.visible),void 0!==n.userData&&(s.userData=n.userData),void 0!==n.children)for(var h in n.children)s.add(this.parseObject(n.children[h],r,i));if("LOD"===n.type)for(var l=n.levels,f=0;f<l.length;f++){var d=l[f],h=s.getObjectByProperty("uuid",d.object);void 0!==h&&s.addLevel(h,d.distance)}return s}}()});var nr={UVMapping:300,CubeReflectionMapping:CubeReflectionMapping,CubeRefractionMapping:CubeRefractionMapping,EquirectangularReflectionMapping:EquirectangularReflectionMapping,EquirectangularRefractionMapping:EquirectangularRefractionMapping,SphericalReflectionMapping:SphericalReflectionMapping,CubeUVReflectionMapping:CubeUVReflectionMapping,CubeUVRefractionMapping:CubeUVRefractionMapping},rr={RepeatWrapping:RepeatWrapping,ClampToEdgeWrapping:ClampToEdgeWrapping,MirroredRepeatWrapping:MirroredRepeatWrapping},ir={NearestFilter:NearestFilter,NearestMipMapNearestFilter:NearestMipMapNearestFilter,NearestMipMapLinearFilter:NearestMipMapLinearFilter,LinearFilter:LinearFilter,LinearMipMapNearestFilter:LinearMipMapNearestFilter,LinearMipMapLinearFilter:LinearMipMapLinearFilter};Object.assign(Curve.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e=[],n,r=this.getPoint(0),i,o=0;for(e.push(0),i=1;i<=t;i++)n=this.getPoint(i/t),o+=n.distanceTo(r),e.push(o),r=n;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n=this.getLengths(),r=0,i=n.length,o;o=e||t*n[i-1];for(var a=0,s=i-1,c;a<=s;)if(r=Math.floor(a+(s-a)/2),(c=n[r]-o)<0)a=r+1;else{if(!(c>0)){s=r;break}s=r-1}if(r=s,n[r]===o)return r/(i-1);var u=n[r];return(r+(o-u)/(n[r+1]-u))/(i-1)},getTangent:function(t){var e=1e-4,n=t-1e-4,r=t+1e-4;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n);return this.getPoint(r).clone().sub(i).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n=new Vector3,r=[],i=[],o=[],a=new Vector3,s=new Matrix4,c,u,h;for(c=0;c<=t;c++)u=c/t,r[c]=this.getTangentAt(u),r[c].normalize();i[0]=new Vector3,o[0]=new Vector3;var l=Number.MAX_VALUE,f=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);for(f<=l&&(l=f,n.set(1,0,0)),d<=l&&(l=d,n.set(0,1,0)),p<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]),c=1;c<=t;c++)i[c]=i[c-1].clone(),o[c]=o[c-1].clone(),a.crossVectors(r[c-1],r[c]),a.length()>Number.EPSILON&&(a.normalize(),h=Math.acos(Ut.clamp(r[c-1].dot(r[c]),-1,1)),i[c].applyMatrix4(s.makeRotationAxis(a,h))),o[c].crossVectors(r[c],i[c]);if(!0===e)for(h=Math.acos(Ut.clamp(i[0].dot(i[t]),-1,1)),h/=t,r[0].dot(a.crossVectors(i[0],i[t]))>0&&(h=-h),c=1;c<=t;c++)i[c].applyMatrix4(s.makeRotationAxis(r[c],h*c)),o[c].crossVectors(r[c],i[c]);return{tangents:r,normals:i,binormals:o}}}),LineCurve.prototype=Object.create(Curve.prototype),LineCurve.prototype.constructor=LineCurve,LineCurve.prototype.isLineCurve=!0,LineCurve.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},LineCurve.prototype.getPointAt=function(t){return this.getPoint(t)},LineCurve.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},CurvePath.prototype=Object.assign(Object.create(Curve.prototype),{constructor:CurvePath,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new LineCurve(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e=[],n,r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),c=0;c<s.length;c++){var u=s[c];n&&n.equals(u)||(e.push(u),n=u)}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Geometry,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new Vector3(i.x,i.y,i.z||0))}return e}}),EllipseCurve.prototype=Object.create(Curve.prototype),EllipseCurve.prototype.constructor=EllipseCurve,EllipseCurve.prototype.isEllipseCurve=!0,EllipseCurve.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=r?0:e),!0!==this.aClockwise||r||(n===e?n=-e:n-=e);var i=this.aStartAngle+t*n,o=this.aX+this.xRadius*Math.cos(i),a=this.aY+this.yRadius*Math.sin(i);if(0!==this.aRotation){var s=Math.cos(this.aRotation),c=Math.sin(this.aRotation),u=o-this.aX,h=a-this.aY;o=u*s-h*c+this.aX,a=u*c+h*s+this.aY}return new Vector2(o,a)},SplineCurve.prototype=Object.create(Curve.prototype),SplineCurve.prototype.constructor=SplineCurve,SplineCurve.prototype.isSplineCurve=!0,SplineCurve.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),i=n-r,o=e[0===r?r:r-1],a=e[r],s=e[r>e.length-2?e.length-1:r+1],c=e[r>e.length-3?e.length-1:r+2];return new Vector2(xt(i,o.x,a.x,s.x,c.x),xt(i,o.y,a.y,s.y,c.y))},CubicBezierCurve.prototype=Object.create(Curve.prototype),CubicBezierCurve.prototype.constructor=CubicBezierCurve,CubicBezierCurve.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new Vector2(Lt(t,e.x,n.x,r.x,i.x),Lt(t,e.y,n.y,r.y,i.y))},QuadraticBezierCurve.prototype=Object.create(Curve.prototype),QuadraticBezierCurve.prototype.constructor=QuadraticBezierCurve,QuadraticBezierCurve.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new Vector2(Et(t,e.x,n.x,r.x),Et(t,e.y,n.y,r.y))};var or=Object.assign(Object.create(CurvePath.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new LineCurve(this.currentPoint.clone(),new Vector2(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var i=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(t,e),new Vector2(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,i,o){var a=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(t,e),new Vector2(n,r),new Vector2(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new SplineCurve(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,a,s){var c=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(t+c,e+u,n,r,i,o,a,s)},absellipse:function(t,e,n,r,i,o,a,s){var c=new EllipseCurve(t,e,n,r,i,o,a,s);if(this.curves.length>0){var u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);var h=c.getPoint(1);this.currentPoint.copy(h)}});Path.prototype=or,or.constructor=Path,Shape.prototype=Object.assign(Object.create(or),{constructor:Shape,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),Object.assign(ShapePath.prototype,{moveTo:function(t,e){this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,o){this.currentPath.bezierCurveTo(t,e,n,r,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new Shape;o.curves=i.curves,e.push(o)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=e[i],s=e[o],c=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=e[o],c=-c,s=e[i],u=-u),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var h=u*(t.x-a.x)-c*(t.y-a.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r}var i=ShapeUtils.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);var a,s,c,u=[];if(1===o.length)return s=o[0],c=new Shape,c.curves=s.curves,u.push(c),u;var h=!i(o[0].getPoints());h=t?!h:h;var l=[],f=[],d=[],p=0,m;f[p]=void 0,d[p]=[];for(var v=0,g=o.length;v<g;v++)s=o[v],m=s.getPoints(),a=i(m),a=t?!a:a,a?(!h&&f[p]&&p++,f[p]={s:new Shape,p:m},f[p].s.curves=s.curves,h&&p++,d[p]=[]):d[p].push({h:s,p:m[0]});if(!f[0])return n(o);if(f.length>1){for(var y=!1,_=[],x=0,b=f.length;x<b;x++)l[x]=[];for(var x=0,b=f.length;x<b;x++)for(var w=d[x],M=0;M<w.length;M++){for(var E=w[M],S=!0,T=0;T<f.length;T++)r(E.p,f[T].p)&&(x!==T&&_.push({froms:x,tos:T,hole:M}),S?(S=!1,l[T].push(E)):y=!0);S&&l[x].push(E)}_.length>0&&(y||(d=l))}for(var A,v=0,R=f.length;v<R;v++){c=f[v].s,u.push(c),A=d[v];for(var L=0,P=A.length;L<P;L++)c.holes.push(A[L].h)}return u}}),Object.assign(Font.prototype,{isFont:!0,generateShapes:function(t,e,n){function r(t){for(var n=String(t).split(""),r=e/o.resolution,a=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*r,s=0,c=0,u=[],h=0;h<n.length;h++){var l=n[h];if("\\n"===l)s=0,c-=a;else{var f=i(l,r,s,c);s+=f.offsetX,u.push(f.path)}}return u}function i(t,e,r,i){var a=o.glyphs[t]||o.glyphs["?"];if(a){var s=new ShapePath,c=[],u,h,l,f,d,p,m,v,g,y,_;if(a.o)for(var x=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),b=0,w=x.length;b<w;){var M=x[b++];switch(M){case"m":u=x[b++]*e+r,h=x[b++]*e+i,s.moveTo(u,h);break;case"l":u=x[b++]*e+r,h=x[b++]*e+i,s.lineTo(u,h);break;case"q":if(l=x[b++]*e+r,f=x[b++]*e+i,m=x[b++]*e+r,v=x[b++]*e+i,s.quadraticCurveTo(m,v,l,f),_=c[c.length-1]){d=_.x,p=_.y;for(var E=1;E<=n;E++){var S=E/n;Et(S,d,m,l),Et(S,p,v,f)}}break;case"b":if(l=x[b++]*e+r,f=x[b++]*e+i,m=x[b++]*e+r,v=x[b++]*e+i,g=x[b++]*e+r,y=x[b++]*e+i,s.bezierCurveTo(m,v,g,y,l,f),_=c[c.length-1]){d=_.x,p=_.y;for(var E=1;E<=n;E++){var S=E/n;Lt(S,d,m,g,l),Lt(S,p,v,y,f)}}}}return{offsetX:a.ha*e,path:s}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var o=this.data,a=r(t),s=[],c=0,u=a.length;c<u;c++)Array.prototype.push.apply(s,a[c].toShapes());return s}}),Object.assign(FontLoader.prototype,{load:function(t,e,n,r){var i=this;new FileLoader(this.manager).load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)},n,r)},parse:function(t){return new Font(t)}});var ar,AudioContext={getContext:function(){return void 0===ar&&(ar=new(window.AudioContext||window.webkitAudioContext)),ar},setContext:function(t){ar=t}};Object.assign(AudioLoader.prototype,{load:function(t,e,n,r){var i=new FileLoader(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){AudioContext.getContext().decodeAudioData(t,function(t){e(t)})},n,r)}}),Object.assign(StereoCamera.prototype,{update:function(){var t,e,n,r,i,o,a,s,c=new Matrix4,u=new Matrix4;return function h(l){if(t!==this||e!==l.focus||n!==l.fov||r!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom||s!==this.eyeSep){t=this,e=l.focus,n=l.fov,r=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var f=l.projectionMatrix.clone();s=this.eyeSep/2;var d=s*i/e,p=i*Math.tan(Ut.DEG2RAD*n*.5)/a,m,v;u.elements[12]=-s,c.elements[12]=s,m=-p*r+d,v=p*r+d,f.elements[0]=2*i/(v-m),f.elements[8]=(v+m)/(v-m),this.cameraL.projectionMatrix.copy(f),m=-p*r-d,v=p*r-d,f.elements[0]=2*i/(v-m),f.elements[8]=(v+m)/(v-m),this.cameraR.projectionMatrix.copy(f)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(c)}}()}),CubeCamera.prototype=Object.create(Object3D.prototype),CubeCamera.prototype.constructor=CubeCamera,ArrayCamera.prototype=Object.assign(Object.create(PerspectiveCamera.prototype),{constructor:ArrayCamera,isArrayCamera:!0}),AudioListener.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new Vector3,e=new Quaternion,n=new Vector3,r=new Vector3;return function i(o){Object3D.prototype.updateMatrixWorld.call(this,o);var a=this.context.listener,s=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),a.positionX?(a.positionX.setValueAtTime(t.x,this.context.currentTime),a.positionY.setValueAtTime(t.y,this.context.currentTime),a.positionZ.setValueAtTime(t.z,this.context.currentTime),a.forwardX.setValueAtTime(r.x,this.context.currentTime),a.forwardY.setValueAtTime(r.y,this.context.currentTime),a.forwardZ.setValueAtTime(r.z,this.context.currentTime),a.upX.setValueAtTime(s.x,this.context.currentTime),a.upY.setValueAtTime(s.y,this.context.currentTime),a.upZ.setValueAtTime(s.z,this.context.currentTime)):(a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z))}}()}),Audio.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Audio,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),PositionalAudio.prototype=Object.assign(Object.create(Audio.prototype),{constructor:PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new Vector3;return function e(n){Object3D.prototype.updateMatrixWorld.call(this,n),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(AudioAnalyser.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(PropertyMixer.prototype,{accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=e}else{o+=e;var s=e/o;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(n,r,a,1-i,e)}for(var s=e,c=e+e;s!==c;++s)if(n[s]!==n[s+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,o=r;i!==o;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r){Quaternion.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*r}}}),Object.assign(Pt.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(PropertyBinding,{Composite:Pt,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new PropertyBinding.Composite(t,e,n):new PropertyBinding(t,e,n)},parseTrackName:function(){var t=/((?:[\\w-]+[\\/:])*)/,e=/([\\w-\\.]+)?/,n=/(?:\\.([\\w-]+)(?:\\[(.+)\\])?)?/,r=/\\.([\\w-]+)(?:\\[(.+)\\])?/,i=new RegExp("^"+t.source+e.source+n.source+r.source+"$"),o=["material","materials","bones"];return function(t){var e=i.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var a=n.nodeName.substring(r+1);-1!==o.indexOf(a)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}}(),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null},r=n(t.skeleton);if(r)return r}if(t.children){var i=function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.name===e||r.uuid===e)return r;var o=i(r.children);if(o)return o}return null},o=i(t.children);if(o)return o}return null}}),Object.assign(PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function t(e,n){e[n]=this.node[this.propertyName]},function t(e,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)e[n++]=r[i]},function t(e,n){e[n]=this.resolvedProperty[this.propertyIndex]},function t(e,n){this.resolvedProperty.toArray(e,n)}],SetterByBindingTypeAndVersioning:[[function t(e,n){this.node[this.propertyName]=e[n]},function t(e,n){this.node[this.propertyName]=e[n],this.targetObject.needsUpdate=!0},function t(e,n){this.node[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function t(e,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=e[n++]},function t(e,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0},function t(e,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function t(e,n){this.resolvedProperty[this.propertyIndex]=e[n]},function t(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0},function t(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function t(e,n){this.resolvedProperty.fromArray(e,n)},function t(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0},function t(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function t(e,n){this.bind(),this.getValue(e,n)},setValue:function t(e,n){this.bind(),this.setValue(e,n)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=PropertyBinding.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("  trying to update node for track: "+this.path+" but it wasn\'t found.");if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("  can not bind to objectName of node, undefined",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[o]}}var s=t[r];if(void 0===s){var c=e.nodeName;return void console.error("  trying to update property for track: "+c+"."+r+" but it wasn\'t found.",t)}var u=this.Versioning.None;void 0!==t.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var h=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}h=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(h=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(PropertyBinding.prototype,{_getValue_unbound:PropertyBinding.prototype.getValue,_setValue_unbound:PropertyBinding.prototype.setValue}),Object.assign(AnimationObjectGroup.prototype,{isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,c=s.length,u=0,h=arguments.length;u!==h;++u){var l=arguments[u],f=l.uuid,d=i[f],p=void 0;if(void 0===d){d=n++,i[f]=d,e.push(l);for(var m=0,v=c;m!==v;++m)s[m].push(new PropertyBinding(l,o[m],a[m]))}else if(d<r){p=e[d];var g=--r,y=e[g];i[y.uuid]=d,e[d]=y,i[f]=g,e[g]=l;for(var m=0,v=c;m!==v;++m){var _=s[m],x=_[g],b=_[d];_[d]=x,void 0===b&&(b=new PropertyBinding(l,o[m],a[m])),_[g]=b}}else e[d]!==p&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a],u=c.uuid,h=r[u];if(void 0!==h&&h>=n){var l=n++,f=e[l];r[f.uuid]=h,e[h]=f,r[u]=l,e[l]=c;for(var d=0,p=o;d!==p;++d){var m=i[d],v=m[l],g=m[h];m[h]=v,m[l]=g}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,c=arguments.length;s!==c;++s){var u=arguments[s],h=u.uuid,l=i[h];if(void 0!==l)if(delete i[h],l<r){var f=--r,d=e[f],p=--n,m=e[p];i[d.uuid]=l,e[l]=d,i[m.uuid]=f,e[f]=m,e.pop();for(var v=0,g=a;v!==g;++v){var y=o[v],_=y[f],x=y[p];y[l]=_,y[f]=x,y.pop()}}else{var p=--n,m=e[p];i[m.uuid]=l,e[l]=m,e.pop();for(var v=0,g=a;v!==g;++v){var y=o[v];y[l]=y[p],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,u=this.nCachedObjects_,h=new Array(c);r=i.length,n[t]=r,o.push(t),a.push(e),i.push(h);for(var l=u,f=s.length;l!==f;++l){var d=s[l];h[l]=new PropertyBinding(d,t,e)}return h},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(Ct.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=i/r,a=r/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+n,c[0]=t/a,c[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){if(!this.enabled)return void this._updateWeight(t);var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var c=this._interpolants,u=this._propertyBindings,h=0,l=c.length;h!==l;++h)c[h].evaluate(a),u[h].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=2202===r;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1===(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:ZeroCurvatureEnding:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:ZeroCurvatureEnding:2402)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}}),Object.assign(AnimationMixer.prototype,EventDispatcher.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,c=this._bindingsByRootAndName,u=c[s];void 0===u&&(u={},c[s]=u);for(var h=0;h!==i;++h){var l=r[h],f=l.name,d=u[f];if(void 0!==d)o[h]=d;else{if(void 0!==(d=o[h])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,f));continue}var p=e&&e._propertyBindings[h].binding.parsedPath;d=new PropertyMixer(PropertyBinding.create(n,f,p),l.ValueTypeName,l.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,s,f),o[h]=d}a[h].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],u=t._byClipCacheIndex;c._byClipCacheIndex=u,s[u]=c,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete a[i];t:{for(var u in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"===typeof t?AnimationClip.findByName(n,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[r];if(void 0!==c)return c;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var u=new Ct(this,i,e);return this._bindAction(u,s),this._addInactiveAction(u,o,r),u},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"===typeof t?AnimationClip.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[r]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){e[a]._update(r,t,i,o)}for(var s=this._bindings,c=this._nActiveBindings,a=0;a!==c;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var u=c._cacheIndex,h=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,e[u]=h,e.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[e];if(void 0!==s)for(var c in s){var u=s[c];u.restoreOriginalState(),this._removeInactiveBinding(u)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Uniform.prototype.clone=function(){return new Uniform(void 0===this.value.clone?this.value:this.value.clone())},InstancedBufferGeometry.prototype=Object.assign(Object.create(BufferGeometry.prototype),{constructor:InstancedBufferGeometry,isInstancedBufferGeometry:!0,addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var c=o[a];this.addGroup(c.start,c.count,c.materialIndex)}return this}}),Object.defineProperties(InterleavedBufferAttribute.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(InterleavedBufferAttribute.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}}),Object.defineProperty(InterleavedBuffer.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(InterleavedBuffer.prototype,{isInterleavedBuffer:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),InstancedInterleavedBuffer.prototype=Object.assign(Object.create(InterleavedBuffer.prototype),{constructor:InstancedInterleavedBuffer,isInstancedInterleavedBuffer:!0,copy:function(t){return InterleavedBuffer.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),InstancedBufferAttribute.prototype=Object.assign(Object.create(BufferAttribute.prototype),{constructor:InstancedBufferAttribute,isInstancedBufferAttribute:!0,copy:function(t){return BufferAttribute.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Raycaster.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return Ot(t,this,n,e),n.sort(It),n},intersectObjects:function(t,e){var n=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=t.length;r<i;r++)Ot(t[r],this,n,e);return n.sort(It),n}}),Object.assign(Clock.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"===typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(Spherical.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Ut.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(Cylindrical.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),MorphBlendMesh.prototype=Object.create(Mesh.prototype),MorphBlendMesh.prototype.constructor=MorphBlendMesh,MorphBlendMesh.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},MorphBlendMesh.prototype.autoCreateAnimations=function(t){for(var e=/([a-z]+)_?(\\d+)/i,n,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o],c=s.name.match(e);if(c&&c.length>1){var u=c[1];r[u]||(r[u]={start:1/0,end:-1/0});var h=r[u];o<h.start&&(h.start=o),o>h.end&&(h.end=o),n||(n=u)}}for(var u in r){var h=r[u];this.createAnimation(u,h.start,h.end,t)}this.firstAnimation=n},MorphBlendMesh.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},MorphBlendMesh.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},MorphBlendMesh.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},MorphBlendMesh.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},MorphBlendMesh.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},MorphBlendMesh.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},MorphBlendMesh.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},MorphBlendMesh.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},MorphBlendMesh.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},MorphBlendMesh.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},MorphBlendMesh.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+Ut.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},ImmediateRenderObject.prototype=Object.create(Object3D.prototype),ImmediateRenderObject.prototype.constructor=ImmediateRenderObject,ImmediateRenderObject.prototype.isImmediateRenderObject=!0,VertexNormalsHelper.prototype=Object.create(LineSegments.prototype),VertexNormalsHelper.prototype.constructor=VertexNormalsHelper,VertexNormalsHelper.prototype.update=function(){var t=new Vector3,e=new Vector3,n=new Matrix3;return function r(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var o=this.object.matrixWorld,a=this.geometry.attributes.position,s=this.object.geometry;if(s&&s.isGeometry)for(var c=s.vertices,u=s.faces,h=0,l=0,f=u.length;l<f;l++)for(var d=u[l],p=0,m=d.vertexNormals.length;p<m;p++){var v=c[d[i[p]]],g=d.vertexNormals[p];t.copy(v).applyMatrix4(o),e.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(h,t.x,t.y,t.z),h+=1,a.setXYZ(h,e.x,e.y,e.z),h+=1}else if(s&&s.isBufferGeometry)for(var y=s.attributes.position,_=s.attributes.normal,h=0,p=0,m=y.count;p<m;p++)t.set(y.getX(p),y.getY(p),y.getZ(p)).applyMatrix4(o),e.set(_.getX(p),_.getY(p),_.getZ(p)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(h,t.x,t.y,t.z),h+=1,a.setXYZ(h,e.x,e.y,e.z),h+=1;a.needsUpdate=!0}}(),SpotLightHelper.prototype=Object.create(Object3D.prototype),SpotLightHelper.prototype.constructor=SpotLightHelper,SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},SpotLightHelper.prototype.update=function(){var t=new Vector3,e=new Vector3;return function n(){var r=this.light.distance?this.light.distance:1e3,i=r*Math.tan(this.light.angle);this.cone.scale.set(i,i,r),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color)}}(),SkeletonHelper.prototype=Object.create(LineSegments.prototype),SkeletonHelper.prototype.constructor=SkeletonHelper,SkeletonHelper.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},SkeletonHelper.prototype.update=function(){var t=new Vector3,e=new Matrix4,n=new Matrix4;return function r(){var i=this.geometry,o=i.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a=0,s=0;a<this.bones.length;a++){var c=this.bones[a];c.parent&&c.parent.isBone&&(e.multiplyMatrices(n,c.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(s,t.x,t.y,t.z),e.multiplyMatrices(n,c.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(s+1,t.x,t.y,t.z),s+=2)}i.getAttribute("position").needsUpdate=!0}}(),PointLightHelper.prototype=Object.create(Mesh.prototype),PointLightHelper.prototype.constructor=PointLightHelper,PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color)},RectAreaLightHelper.prototype=Object.create(Object3D.prototype),RectAreaLightHelper.prototype.constructor=RectAreaLightHelper,RectAreaLightHelper.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},RectAreaLightHelper.prototype.update=function(){var t=this.children[0];t.material.color.copy(this.light.color);var e=.5*this.light.width,n=.5*this.light.height,r=t.geometry.attributes.position,i=r.array;i[0]=e,i[1]=-n,i[2]=0,i[3]=e,i[4]=n,i[5]=0,i[6]=-e,i[7]=n,i[8]=0,i[9]=-e,i[10]=-n,i[11]=0,i[12]=e,i[13]=-n,i[14]=0,r.needsUpdate=!0},HemisphereLightHelper.prototype=Object.create(Object3D.prototype),HemisphereLightHelper.prototype.constructor=HemisphereLightHelper,HemisphereLightHelper.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},HemisphereLightHelper.prototype.update=function(){var t=new Vector3,e=new Color,n=new Color;return function r(){var i=this.children[0],o=i.geometry.getAttribute("color");e.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,s=o.count;a<s;a++){var c=a<s/2?e:n;o.setXYZ(a,c.r,c.g,c.b)}i.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),o.needsUpdate=!0}}(),GridHelper.prototype=Object.create(LineSegments.prototype),GridHelper.prototype.constructor=GridHelper,PolarGridHelper.prototype=Object.create(LineSegments.prototype),PolarGridHelper.prototype.constructor=PolarGridHelper,FaceNormalsHelper.prototype=Object.create(LineSegments.prototype),FaceNormalsHelper.prototype.constructor=FaceNormalsHelper,FaceNormalsHelper.prototype.update=function(){var t=new Vector3,e=new Vector3,n=new Matrix3;return function r(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry,s=a.vertices,c=a.faces,u=0,h=0,l=c.length;h<l;h++){var f=c[h],d=f.normal;t.copy(s[f.a]).add(s[f.b]).add(s[f.c]).divideScalar(3).applyMatrix4(i),e.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(u,t.x,t.y,t.z),u+=1,o.setXYZ(u,e.x,e.y,e.z),u+=1}o.needsUpdate=!0}}(),DirectionalLightHelper.prototype=Object.create(Object3D.prototype),DirectionalLightHelper.prototype.constructor=DirectionalLightHelper,DirectionalLightHelper.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},DirectionalLightHelper.prototype.update=function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var i=this.children[0],o=this.children[1];i.lookAt(n),i.material.color.copy(this.light.color),o.lookAt(n),o.scale.z=n.length()}}(),CameraHelper.prototype=Object.create(LineSegments.prototype),CameraHelper.prototype.constructor=CameraHelper,CameraHelper.prototype.update=function(){function t(t,o,a,s){r.set(o,a,s).unproject(i);var c=n[t];if(void 0!==c)for(var u=e.getAttribute("position"),h=0,l=c.length;h<l;h++)u.setXYZ(c[h],r.x,r.y,r.z)}var e,n,r=new Vector3,i=new Camera;return function r(){e=this.geometry,n=this.pointMap;var o=1,a=1;i.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),BoxHelper.prototype=Object.create(LineSegments.prototype),BoxHelper.prototype.constructor=BoxHelper,BoxHelper.prototype.update=function(){var t=new Box3;return function e(n){if(void 0!==n&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var r=t.min,i=t.max,o=this.geometry.attributes.position,a=o.array;a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=r.x,a[4]=i.y,a[5]=i.z,a[6]=r.x,a[7]=r.y,a[8]=i.z,a[9]=i.x,a[10]=r.y,a[11]=i.z,a[12]=i.x,a[13]=i.y,a[14]=r.z,a[15]=r.x,a[16]=i.y,a[17]=r.z,a[18]=r.x,a[19]=r.y,a[20]=r.z,a[21]=i.x,a[22]=r.y,a[23]=r.z,o.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),BoxHelper.prototype.setFromObject=function(t){return this.object=t,this.update(),this};var sr,cr;ArrowHelper.prototype=Object.create(Object3D.prototype),ArrowHelper.prototype.constructor=ArrowHelper,ArrowHelper.prototype.setDirection=function(){var t=new Vector3,e;return function n(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(r.z,0,-r.x).normalize(),e=Math.acos(r.y),this.quaternion.setFromAxisAngle(t,e))}}(),ArrowHelper.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},ArrowHelper.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},AxisHelper.prototype=Object.create(LineSegments.prototype),AxisHelper.prototype.constructor=AxisHelper;var ur=new Vector3,hr=new Nt,lr=new Nt,fr=new Nt;CatmullRomCurve3.prototype=Object.create(Curve.prototype),CatmullRomCurve3.prototype.constructor=CatmullRomCurve3,CatmullRomCurve3.prototype.getPoint=function(t){var e=this.points,n=e.length;n<2&&console.log("duh, you need at least 2 points");var r=(n-(this.closed?0:1))*t,i=Math.floor(r),o=r-i;this.closed?i+=i>0?0:(Math.floor(Math.abs(i)/e.length)+1)*e.length:0===o&&i===n-1&&(i=n-2,o=1);var a,s,c,u;if(this.closed||i>0?a=e[(i-1)%n]:(ur.subVectors(e[0],e[1]).add(e[0]),a=ur),s=e[i%n],c=e[(i+1)%n],this.closed||i+2<n?u=e[(i+2)%n]:(ur.subVectors(e[n-1],e[n-2]).add(e[n-1]),u=ur),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var h="chordal"===this.type?.5:.25,l=Math.pow(a.distanceToSquared(s),h),f=Math.pow(s.distanceToSquared(c),h),d=Math.pow(c.distanceToSquared(u),h);f<1e-4&&(f=1),l<1e-4&&(l=f),d<1e-4&&(d=f),hr.initNonuniformCatmullRom(a.x,s.x,c.x,u.x,l,f,d),lr.initNonuniformCatmullRom(a.y,s.y,c.y,u.y,l,f,d),fr.initNonuniformCatmullRom(a.z,s.z,c.z,u.z,l,f,d)}else if("catmullrom"===this.type){var p=void 0!==this.tension?this.tension:.5;hr.initCatmullRom(a.x,s.x,c.x,u.x,p),lr.initCatmullRom(a.y,s.y,c.y,u.y,p),fr.initCatmullRom(a.z,s.z,c.z,u.z,p)}return new Vector3(hr.calc(o),lr.calc(o),fr.calc(o))},CubicBezierCurve3.prototype=Object.create(Curve.prototype),CubicBezierCurve3.prototype.constructor=CubicBezierCurve3,CubicBezierCurve3.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new Vector3(Lt(t,e.x,n.x,r.x,i.x),Lt(t,e.y,n.y,r.y,i.y),Lt(t,e.z,n.z,r.z,i.z))},QuadraticBezierCurve3.prototype=Object.create(Curve.prototype),QuadraticBezierCurve3.prototype.constructor=QuadraticBezierCurve3,QuadraticBezierCurve3.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new Vector3(Et(t,e.x,n.x,r.x),Et(t,e.y,n.y,r.y),Et(t,e.z,n.z,r.z))},LineCurve3.prototype=Object.create(Curve.prototype),LineCurve3.prototype.constructor=LineCurve3,LineCurve3.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new Vector3;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},ArcCurve.prototype=Object.create(EllipseCurve.prototype),ArcCurve.prototype.constructor=ArcCurve;var SceneUtils={createMultiMaterialObject:function(t,e){for(var n=new Group,r=0,i=e.length;r<i;r++)n.add(new Mesh(t,e[r]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var r=new Matrix4;r.getInverse(n.matrixWorld),t.applyMatrix(r),e.remove(t),n.add(t)}},LineStrip=0,LinePieces=1;Curve.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Curve.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},ClosedSplineCurve3.prototype=Object.create(CatmullRomCurve3.prototype),SplineCurve3.prototype=Object.create(CatmullRomCurve3.prototype),Spline.prototype=Object.create(CatmullRomCurve3.prototype),Object.assign(Spline.prototype,{initFromArray:function(t){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(t){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(t){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(Box2.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Box3.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Line3.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Ut.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(Matrix3.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Matrix4.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function e(){return void 0===t&&(t=new Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)}}),Plane.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Quaternion.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Ray.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Shape.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ExtrudeGeometry(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ShapeGeometry(this,t)}}),Object.assign(Vector2.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(Vector4.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Geometry.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(Object3D.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(LOD.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Skeleton.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Curve.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),PerspectiveCamera.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(BufferGeometry.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Uniform.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Material.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Color}}}),Object.defineProperties(MeshPhongMaterial.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(WebGLRenderer.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \'OES_texture_float\' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \'OES_texture_half_float\' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \'OES_standard_derivatives\' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \'WEBGL_compressed_texture_s3tc\' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \'WEBGL_compressed_texture_pvrtc\' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \'EXT_blend_minmax\' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \'ANGLE_instanced_arrays\' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(B.prototype,{cullFace:{get:function(){return this.renderReverseSided?CullFaceFront:CullFaceBack},set:function(t){var e=t!==CullFaceBack;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Audio.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new AudioLoader).load(t,function(t){e.setBuffer(t)}),this},AudioAnalyser.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};var GeometryUtils={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},ImageUtils={crossOrigin:void 0,loadTexture:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new TextureLoader;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new CubeTextureLoader;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}}}]);\n//# sourceMappingURL=ca4a34e7ae4cba30f989.worker.js.map',null)}},function(t,e,n){t.exports=function(){return n(126)('!function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var r={};n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function n(){return t.default}:function n(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/",n(n.s=125)}([function(t,n,r){var e=r(2),i=r(18),o=r(11),u=r(12),c=r(19),f="prototype",a=function(t,n,r){var s=t&a.F,l=t&a.G,h=t&a.S,v=t&a.P,p=t&a.B,d=l?e:h?e[n]||(e[n]={}):(e[n]||{})[f],g=l?i:i[n]||(i[n]={}),y=g[f]||(g[f]={}),b,m,_,S;l&&(r=n);for(b in r)m=!s&&d&&void 0!==d[b],_=(m?d:r)[b],S=p&&m?c(_,e):v&&"function"==typeof _?c(Function.call,_):_,d&&u(d,b,_,t&a.U),g[b]!=_&&o(g,b,S),v&&y[b]!=_&&(y[b]=_)};e.core=i,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,n,r){var e=r(4);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,n,r){var e=r(49)("wks"),i=r(33),o=r(2).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n,r){t.exports=!r(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(1),i=r(91),o=r(22),u=Object.defineProperty;n.f=r(6)?Object.defineProperty:function t(n,r,c){if(e(n),r=o(r,!0),e(c),i)try{return u(n,r,c)}catch(t){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(n[r]=c.value),n}},function(t,n,r){var e=r(24),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){var e=r(23);t.exports=function(t){return Object(e(t))}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,r){var e=r(7),i=r(32);t.exports=r(6)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(2),i=r(11),o=r(14),u=r(33)("src"),c="toString",f=Function[c],a=(""+f).split(c);r(18).inspectSource=function(t){return f.call(t)},(t.exports=function(t,n,r,c){var f="function"==typeof r;f&&(o(r,"name")||i(r,"name",n)),t[n]!==r&&(f&&(o(r,u)||i(r,u,t[n]?""+t[n]:a.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)))})(Function.prototype,c,function t(){return"function"==typeof this&&this[u]||f.call(this)})},function(t,n,r){var e=r(0),i=r(3),o=r(23),u=/"/g,c=function(t,n,r,e){var i=String(o(t)),c="<"+n;return""!==r&&(c+=" "+r+\'="\'+String(e).replace(u,"&quot;")+\'"\'),c+">"+i+"</"+n+">"};t.exports=function(t,n){var r={};r[t]=n(c),e(e.P+e.F*i(function(){var n=""[t](\'"\');return n!==n.toLowerCase()||n.split(\'"\').length>3}),"String",r)}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(46),i=r(23);t.exports=function(t){return e(i(t))}},function(t,n,r){var e=r(47),i=r(32),o=r(15),u=r(22),c=r(14),f=r(91),a=Object.getOwnPropertyDescriptor;n.f=r(6)?a:function t(n,r){if(n=o(n),r=u(r,!0),f)try{return a(n,r)}catch(t){}if(c(n,r))return i(!e.f.call(n,r),n[r])}},function(t,n,r){var e=r(14),i=r(9),o=r(66)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n){var r=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(t,n,r){var e=r(10);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){"use strict";var e=r(3);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,r){var e=r(4);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can\'t convert object to primitive value")}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can\'t call method on  "+t);return t}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(0),i=r(18),o=r(3);t.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*o(function(){r(1)}),"Object",u)}},function(t,n,r){var e=r(19),i=r(46),o=r(9),u=r(8),c=r(83);t.exports=function(t,n){var r=1==t,f=2==t,a=3==t,s=4==t,l=6==t,h=5==t||l,v=n||c;return function(n,c,p){for(var d=o(n),g=i(d),y=e(c,p,3),b=u(g.length),m=0,_=r?v(n,b):f?v(n,0):void 0,S,w;b>m;m++)if((h||m in g)&&(S=g[m],w=y(S,m,d),t))if(r)_[m]=w;else if(w)switch(t){case 3:return!0;case 5:return S;case 6:return m;case 2:_.push(S)}else if(s)return!1;return l?-1:a||s?s:_}}},function(t,n,r){"use strict";if(r(6)){var e=r(30),i=r(2),o=r(3),u=r(0),c=r(60),f=r(89),a=r(19),s=r(39),l=r(32),h=r(11),v=r(41),p=r(24),d=r(8),g=r(117),y=r(35),b=r(22),m=r(14),_=r(48),S=r(4),w=r(9),x=r(80),O=r(36),E=r(17),M=r(37).f,P=r(82),F=r(33),A=r(5),I=r(26),N=r(50),j=r(57),T=r(85),R=r(44),L=r(54),k=r(38),D=r(84),C=r(107),G=r(7),U=r(16),W=G.f,V=U.f,B=i.RangeError,K=i.TypeError,z=i.Uint8Array,Y="ArrayBuffer",H="SharedArrayBuffer",q="BYTES_PER_ELEMENT",J="prototype",X=Array[J],$=f.ArrayBuffer,Z=f.DataView,Q=I(0),tt=I(2),nt=I(3),rt=I(4),et=I(5),it=I(6),ot=N(!0),ut=N(!1),ct=T.values,ft=T.keys,at=T.entries,st=X.lastIndexOf,lt=X.reduce,ht=X.reduceRight,vt=X.join,pt=X.sort,dt=X.slice,gt=X.toString,yt=X.toLocaleString,bt=A("iterator"),mt=A("toStringTag"),_t=F("typed_constructor"),St=F("def_constructor"),wt=c.CONSTR,xt=c.TYPED,Ot=c.VIEW,Et="Wrong length!",Mt=I(1,function(t,n){return Nt(j(t,t[St]),n)}),Pt=o(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),Ft=!!z&&!!z[J].set&&o(function(){new z(1).set({})}),At=function(t,n){var r=p(t);if(r<0||r%n)throw B("Wrong offset!");return r},It=function(t){if(S(t)&&xt in t)return t;throw K(t+" is not a typed array!")},Nt=function(t,n){if(!(S(t)&&_t in t))throw K("It is not a typed array constructor!");return new t(n)},jt=function(t,n){return Tt(j(t,t[St]),n)},Tt=function(t,n){for(var r=0,e=n.length,i=Nt(t,e);e>r;)i[r]=n[r++];return i},Rt=function(t,n,r){W(t,n,{get:function(){return this._d[r]}})},Lt=function t(n){var r=w(n),e=arguments.length,i=e>1?arguments[1]:void 0,o=void 0!==i,u=P(r),c,f,s,l,h,v;if(void 0!=u&&!x(u)){for(v=u.call(r),s=[],c=0;!(h=v.next()).done;c++)s.push(h.value);r=s}for(o&&e>2&&(i=a(i,arguments[2],2)),c=0,f=d(r.length),l=Nt(this,f);f>c;c++)l[c]=o?i(r[c],c):r[c];return l},kt=function t(){for(var n=0,r=arguments.length,e=Nt(this,r);r>n;)e[n]=arguments[n++];return e},Dt=!!z&&o(function(){yt.call(new z(1))}),Ct=function t(){return yt.apply(Dt?dt.call(It(this)):It(this),arguments)},Gt={copyWithin:function t(n,r){return C.call(It(this),n,r,arguments.length>2?arguments[2]:void 0)},every:function t(n){return rt(It(this),n,arguments.length>1?arguments[1]:void 0)},fill:function t(n){return D.apply(It(this),arguments)},filter:function t(n){return jt(this,tt(It(this),n,arguments.length>1?arguments[1]:void 0))},find:function t(n){return et(It(this),n,arguments.length>1?arguments[1]:void 0)},findIndex:function t(n){return it(It(this),n,arguments.length>1?arguments[1]:void 0)},forEach:function t(n){Q(It(this),n,arguments.length>1?arguments[1]:void 0)},indexOf:function t(n){return ut(It(this),n,arguments.length>1?arguments[1]:void 0)},includes:function t(n){return ot(It(this),n,arguments.length>1?arguments[1]:void 0)},join:function t(n){return vt.apply(It(this),arguments)},lastIndexOf:function t(n){return st.apply(It(this),arguments)},map:function t(n){return Mt(It(this),n,arguments.length>1?arguments[1]:void 0)},reduce:function t(n){return lt.apply(It(this),arguments)},reduceRight:function t(n){return ht.apply(It(this),arguments)},reverse:function t(){for(var n=this,r=It(n).length,e=Math.floor(r/2),i=0,o;i<e;)o=n[i],n[i++]=n[--r],n[r]=o;return n},some:function t(n){return nt(It(this),n,arguments.length>1?arguments[1]:void 0)},sort:function t(n){return pt.call(It(this),n)},subarray:function t(n,r){var e=It(this),i=e.length,o=y(n,i);return new(j(e,e[St]))(e.buffer,e.byteOffset+o*e.BYTES_PER_ELEMENT,d((void 0===r?i:y(r,i))-o))}},Ut=function t(n,r){return jt(this,dt.call(It(this),n,r))},Wt=function t(n){It(this);var r=At(arguments[1],1),e=this.length,i=w(n),o=d(i.length),u=0;if(o+r>e)throw B(Et);for(;u<o;)this[r+u]=i[u++]},Vt={entries:function t(){return at.call(It(this))},keys:function t(){return ft.call(It(this))},values:function t(){return ct.call(It(this))}},Bt=function(t,n){return S(t)&&t[xt]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Kt=function t(n,r){return Bt(n,r=b(r,!0))?l(2,n[r]):V(n,r)},zt=function t(n,r,e){return!(Bt(n,r=b(r,!0))&&S(e)&&m(e,"value"))||m(e,"get")||m(e,"set")||e.configurable||m(e,"writable")&&!e.writable||m(e,"enumerable")&&!e.enumerable?W(n,r,e):(n[r]=e.value,n)};wt||(U.f=Kt,G.f=zt),u(u.S+u.F*!wt,"Object",{getOwnPropertyDescriptor:Kt,defineProperty:zt}),o(function(){gt.call({})})&&(gt=yt=function t(){return vt.call(this)});var Yt=v({},Gt);v(Yt,Vt),h(Yt,bt,Vt.values),v(Yt,{slice:Ut,set:Wt,constructor:function(){},toString:gt,toLocaleString:Ct}),Rt(Yt,"buffer","b"),Rt(Yt,"byteOffset","o"),Rt(Yt,"byteLength","l"),Rt(Yt,"length","e"),W(Yt,mt,{get:function(){return this[xt]}}),t.exports=function(t,n,r,f){f=!!f;var a=t+(f?"Clamped":"")+"Array",l="get"+t,v="set"+t,p=i[a],y=p||{},b=p&&E(p),m=!p||!c.ABV,w={},x=p&&p[J],P=function(t,r){var e=t._d;return e.v[l](r*n+e.o,Pt)},F=function(t,r,e){var i=t._d;f&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[v](r*n+i.o,e,Pt)},A=function(t,n){W(t,n,{get:function(){return P(this,n)},set:function(t){return F(this,n,t)},enumerable:!0})};m?(p=r(function(t,r,e,i){s(t,p,a,"_d");var o=0,u=0,c,f,l,v;if(S(r)){if(!(r instanceof $||(v=_(r))==Y||v==H))return xt in r?Tt(p,r):Lt.call(p,r);c=r,u=At(e,n);var y=r.byteLength;if(void 0===i){if(y%n)throw B(Et);if((f=y-u)<0)throw B(Et)}else if((f=d(i)*n)+u>y)throw B(Et);l=f/n}else l=g(r),f=l*n,c=new $(f);for(h(t,"_d",{b:c,o:u,l:f,e:l,v:new Z(c)});o<l;)A(t,o++)}),x=p[J]=O(Yt),h(x,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&L(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=r(function(t,r,e,i){s(t,p,a);var o;return S(r)?r instanceof $||(o=_(r))==Y||o==H?void 0!==i?new y(r,At(e,n),i):void 0!==e?new y(r,At(e,n)):new y(r):xt in r?Tt(p,r):Lt.call(p,r):new y(g(r))}),Q(b!==Function.prototype?M(y).concat(M(b)):M(y),function(t){t in p||h(p,t,y[t])}),p[J]=x,e||(x.constructor=p));var I=x[bt],N=!!I&&("values"==I.name||void 0==I.name),j=Vt.values;h(p,_t,!0),h(x,xt,a),h(x,Ot,!0),h(x,St,p),(f?new p(1)[mt]==a:mt in x)||W(x,mt,{get:function(){return a}}),w[a]=p,u(u.G+u.W+u.F*(p!=y),w),u(u.S,a,{BYTES_PER_ELEMENT:n}),u(u.S+u.F*o(function(){y.of.call(p,1)}),a,{from:Lt,of:kt}),q in x||h(x,q,n),u(u.P,a,Gt),k(a),u(u.P+u.F*Ft,a,{set:Wt}),u(u.P+u.F*!N,a,Vt),e||x.toString==gt||(x.toString=gt),u(u.P+u.F*o(function(){new p(1).slice()}),a,{slice:Ut}),u(u.P+u.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){x.toLocaleString.call([1,2])})),a,{toLocaleString:Ct}),R[a]=N?I:j,e||N||h(x,bt,j)}}else t.exports=function(){}},function(t,n,r){var e=r(112),i=r(0),o=r(49)("metadata"),u=o.store||(o.store=new(r(115))),c=function(t,n,r){var i=u.get(t);if(!i){if(!r)return;u.set(t,i=new e)}var o=i.get(n);if(!o){if(!r)return;i.set(n,o=new e)}return o},f=function(t,n,r){var e=c(n,r,!1);return void 0!==e&&e.has(t)},a=function(t,n,r){var e=c(n,r,!1);return void 0===e?void 0:e.get(t)},s=function(t,n,r,e){c(r,e,!0).set(t,n)},l=function(t,n){var r=c(t,n,!1),e=[];return r&&r.forEach(function(t,n){e.push(n)}),e},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},v=function(t){i(i.S,"Reflect",t)};t.exports={store:u,map:c,has:f,get:a,set:s,keys:l,key:h,exp:v}},function(t,n,r){var e=r(33)("meta"),i=r(4),o=r(14),u=r(7).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(3)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n){t.exports=!1},function(t,n,r){var e=r(5)("unscopables"),i=Array.prototype;void 0==i[e]&&r(11)(i,e,{}),t.exports=function(t){i[e][t]=!0}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(93),i=r(67);t.exports=Object.keys||function t(n){return e(n,i)}},function(t,n,r){var e=r(24),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n,r){var e=r(1),i=r(94),o=r(67),u=r(66)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t=r(64)("iframe"),n=o.length,e="<",i=">",u;for(t.style.display="none",r(68).appendChild(t),t.src="javascript:",u=t.contentWindow.document,u.open(),u.write("<script>document.F=Object<\\/script>"),u.close(),a=u.F;n--;)delete a[f][o[n]];return a()};t.exports=Object.create||function t(n,r){var o;return null!==n?(c[f]=e(n),o=new c,c[f]=null,o[u]=n):o=a(),void 0===r?o:i(o,r)}},function(t,n,r){var e=r(93),i=r(67).concat("length","prototype");n.f=Object.getOwnPropertyNames||function t(n){return e(n,i)}},function(t,n,r){"use strict";var e=r(2),i=r(7),o=r(6),u=r(5)("species");t.exports=function(t){var n=e[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n,r){var e=r(19),i=r(105),o=r(80),u=r(1),c=r(8),f=r(82),a={},s={},n=t.exports=function(t,n,r,l,h){var v=h?function(){return t}:f(t),p=e(r,l,n?2:1),d=0,g,y,b,m;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(g=c(t.length);g>d;d++)if((m=n?p(u(y=t[d])[0],y[1]):p(t[d]))===a||m===s)return m}else for(b=v.call(t);!(y=b.next()).done;)if((m=i(b,p,y.value,n))===a||m===s)return m};n.BREAK=a,n.RETURN=s},function(t,n,r){var e=r(12);t.exports=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t}},function(t,n,r){var e=r(7).f,i=r(14),o=r(5)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(0),i=r(23),o=r(3),u=r(70),c="["+u+"]",f="\\u200b\\x85",a=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function(t,n,r){var i={},c=o(function(){return!!u[t]()||f[t]()!=f}),a=i[t]=c?n(h):u[t];r&&(i[r]=a),e(e.P+e.F*c,"String",i)},h=l.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(a,"")),2&n&&(t=t.replace(s,"")),t};t.exports=l},function(t,n){t.exports={}},function(t,n,r){var e=r(4);t.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},function(t,n,r){var e=r(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(20),i=r(5)("toStringTag"),o="Arguments"==e(function(){return arguments}()),u=function(t,n){try{return t[n]}catch(t){}};t.exports=function(t){var n,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(n=Object(t),i))?r:o?e(n):"Object"==(c=e(n))&&"function"==typeof n.callee?"Arguments":c}},function(t,n,r){var e=r(18),i=r(2),o="__core-js_shared__",u=i[o]||(i[o]={});(t.exports=function(t,n){return u[t]||(u[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:r(30)?"pure":"global",copyright:"\\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(t,n,r){var e=r(15),i=r(8),o=r(35);t.exports=function(t){return function(n,r,u){var c=e(n),f=i(c.length),a=o(u,f),s;if(t&&r!=r){for(;f>a;)if((s=c[a++])!=s)return!0}else for(;f>a;a++)if((t||a in c)&&c[a]===r)return t||a||0;return!t&&-1}}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(20);t.exports=Array.isArray||function t(n){return"Array"==e(n)}},function(t,n,r){var e=r(4),i=r(20),o=r(5)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},function(t,n,r){var e=r(5)("iterator"),i=!1;try{var o=[7][e]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var o=[7],u=o[e]();u.next=function(){return{done:r=!0}},o[e]=function(){return u},t(o)}catch(t){}return r}},function(t,n,r){"use strict";var e=r(1);t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n,r){"use strict";var e=r(11),i=r(12),o=r(3),u=r(23),c=r(5);t.exports=function(t,n,r){var f=c(t),a=r(u,f,""[t]),s=a[0],l=a[1];o(function(){var n={};return n[f]=function(){return 7},7!=""[t](n)})&&(i(String.prototype,t,s),e(RegExp.prototype,f,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}},function(t,n,r){var e=r(1),i=r(10),o=r(5)("species");t.exports=function(t,n){var r=e(t).constructor,u;return void 0===r||void 0==(u=e(r)[o])?n:i(u)}},function(t,n,r){var e=r(2),i=e.navigator;t.exports=i&&i.userAgent||""},function(t,n,r){"use strict";var e=r(2),i=r(0),o=r(12),u=r(41),c=r(29),f=r(40),a=r(39),s=r(4),l=r(3),h=r(54),v=r(42),p=r(71);t.exports=function(t,n,r,d,g,y){var b=e[t],m=b,_=g?"set":"add",S=m&&m.prototype,w={},x=function(t){var n=S[t];o(S,t,"delete"==t?function(t){return!(y&&!s(t))&&n.call(this,0===t?0:t)}:"has"==t?function t(r){return!(y&&!s(r))&&n.call(this,0===r?0:r)}:"get"==t?function t(r){return y&&!s(r)?void 0:n.call(this,0===r?0:r)}:"add"==t?function t(r){return n.call(this,0===r?0:r),this}:function t(r,e){return n.call(this,0===r?0:r,e),this})};if("function"==typeof m&&(y||S.forEach&&!l(function(){(new m).entries().next()}))){var O=new m,E=O[_](y?{}:-0,1)!=O,M=l(function(){O.has(1)}),P=h(function(t){new m(t)}),F=!y&&l(function(){for(var t=new m,n=5;n--;)t[_](n,n);return!t.has(-0)});P||(m=n(function(n,r){a(n,m,t);var e=p(new b,n,m);return void 0!=r&&f(r,g,e[_],e),e}),m.prototype=S,S.constructor=m),(M||F)&&(x("delete"),x("has"),g&&x("get")),(F||E)&&x(_),y&&S.clear&&delete S.clear}else m=d.getConstructor(n,t,g,_),u(m.prototype,r),c.NEED=!0;return v(m,t),w[t]=m,i(i.G+i.W+i.F*(m!=b),w),y||d.setStrong(m,t,g),m}},function(t,n,r){for(var e=r(2),i=r(11),o=r(33),u=o("typed_array"),c=o("view"),f=!(!e.ArrayBuffer||!e.DataView),a=f,s=0,l=9,h,v="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");s<9;)(h=e[v[s++]])?(i(h.prototype,u,!0),i(h.prototype,c,!0)):a=!1;t.exports={ABV:f,CONSTR:a,TYPED:u,VIEW:c}},function(t,n,r){"use strict";t.exports=r(30)||!r(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete r(2)[t]})},function(t,n,r){"use strict";var e=r(0);t.exports=function(t){e(e.S,t,{of:function t(){for(var n=arguments.length,r=new Array(n);n--;)r[n]=arguments[n];return new this(r)}})}},function(t,n,r){"use strict";var e=r(0),i=r(10),o=r(19),u=r(40);t.exports=function(t){e(e.S,t,{from:function t(n){var r=arguments[1],e,c,f,a;return i(this),e=void 0!==r,e&&i(r),void 0==n?new this:(c=[],e?(f=0,a=o(r,arguments[2],2),u(n,!1,function(t){c.push(a(t,f++))})):u(n,!1,c.push,c),new this(c))}})}},function(t,n,r){var e=r(4),i=r(2).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,r){var e=r(2),i=r(18),o=r(30),u=r(92),c=r(7).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(49)("keys"),i=r(33);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,r){var e=r(2).document;t.exports=e&&e.documentElement},function(t,n,r){var e=r(4),i=r(1),o=function(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can\'t set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{e=r(19)(Function.call,r(16).f(Object.prototype,"__proto__").set,2),e(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function t(r,i){return o(r,i),n?r.__proto__=i:e(r,i),r}}({},!1):void 0),check:o}},function(t,n){t.exports="\\t\\n\\v\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff"},function(t,n,r){var e=r(4),i=r(69).set;t.exports=function(t,n,r){var o=n.constructor,u;return o!==r&&"function"==typeof o&&(u=o.prototype)!==r.prototype&&e(u)&&i&&i(t,u),t}},function(t,n,r){"use strict";var e=r(24),i=r(23);t.exports=function t(n){var r=String(i(this)),o="",u=e(n);if(u<0||u==1/0)throw RangeError("Count can\'t be negative");for(;u>0;(u>>>=1)&&(r+=r))1&u&&(o+=r);return o}},function(t,n){t.exports=Math.sign||function t(n){return 0==(n=+n)||n!=n?n:n<0?-1:1}},function(t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function t(n){return 0==(n=+n)?n:n>-1e-6&&n<1e-6?n+n*n/2:Math.exp(n)-1}:r},function(t,n,r){var e=r(24),i=r(23);t.exports=function(t){return function(n,r){var o=String(i(n)),u=e(r),c=o.length,f,a;return u<0||u>=c?t?"":void 0:(f=o.charCodeAt(u),f<55296||f>56319||u+1===c||(a=o.charCodeAt(u+1))<56320||a>57343?t?o.charAt(u):f:t?o.slice(u,u+2):a-56320+(f-55296<<10)+65536)}}},function(t,n,r){"use strict";var e=r(30),i=r(0),o=r(12),u=r(11),c=r(44),f=r(77),a=r(42),s=r(17),l=r(5)("iterator"),h=!([].keys&&"next"in[].keys()),v="keys",p="values",d=function(){return this};t.exports=function(t,n,r,g,y,b,m){f(r,n,g);var _=function(t){if(!h&&t in O)return O[t];switch(t){case v:return function n(){return new r(this,t)};case p:return function n(){return new r(this,t)}}return function n(){return new r(this,t)}},S=n+" Iterator",w=y==p,x=!1,O=t.prototype,E=O[l]||O["@@iterator"]||y&&O[y],M=E||_(y),P=y?w?_("entries"):M:void 0,F="Array"==n?O.entries||E:E,A,I,N;if(F&&(N=s(F.call(new t)))!==Object.prototype&&N.next&&(a(N,S,!0),e||"function"==typeof N[l]||u(N,l,d)),w&&E&&E.name!==p&&(x=!0,M=function t(){return E.call(this)}),e&&!m||!h&&!x&&O[l]||u(O,l,M),c[n]=M,c[S]=d,y)if(A={values:w?M:_(p),keys:b?M:_(v),entries:P},m)for(I in A)I in O||o(O,I,A[I]);else i(i.P+i.F*(h||x),n,A);return A}},function(t,n,r){"use strict";var e=r(36),i=r(32),o=r(42),u={};r(11)(u,r(5)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n,r){var e=r(53),i=r(23);t.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn\'t accept regex!");return String(i(t))}},function(t,n,r){var e=r(5)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,r){var e=r(44),i=r(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}},function(t,n,r){"use strict";var e=r(7),i=r(32);t.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r}},function(t,n,r){var e=r(48),i=r(5)("iterator"),o=r(44);t.exports=r(18).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[e(t)]}},function(t,n,r){var e=r(218);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){"use strict";var e=r(9),i=r(35),o=r(8);t.exports=function t(n){for(var r=e(this),u=o(r.length),c=arguments.length,f=i(c>1?arguments[1]:void 0,u),a=c>2?arguments[2]:void 0,s=void 0===a?u:i(a,u);s>f;)r[f++]=n;return r}},function(t,n,r){"use strict";var e=r(31),i=r(108),o=r(44),u=r(15);t.exports=r(76)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n,r){var e=r(19),i=r(98),o=r(68),u=r(64),c=r(2),f=c.process,a=c.setImmediate,s=c.clearImmediate,l=c.MessageChannel,h=c.Dispatch,v=0,p={},d="onreadystatechange",g,y,b,m=function(){var t=+this;if(p.hasOwnProperty(t)){var n=p[t];delete p[t],n()}},_=function(t){m.call(t.data)};a&&s||(a=function t(n){for(var r=[],e=1;arguments.length>e;)r.push(arguments[e++]);return p[++v]=function(){i("function"==typeof n?n:Function(n),r)},g(v),v},s=function t(n){delete p[n]},"process"==r(20)(f)?g=function(t){f.nextTick(e(m,t,1))}:h&&h.now?g=function(t){h.now(e(m,t,1))}:l?(y=new l,b=y.port2,y.port1.onmessage=_,g=e(b.postMessage,b,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(g=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):g=d in u("script")?function(t){o.appendChild(u("script"))[d]=function(){o.removeChild(this),m.call(t)}}:function(t){setTimeout(e(m,t,1),0)}),t.exports={set:a,clear:s}},function(t,n,r){var e=r(2),i=r(86).set,o=e.MutationObserver||e.WebKitMutationObserver,u=e.process,c=e.Promise,f="process"==r(20)(u);t.exports=function(){var t,n,r,a=function(){var e,i;for(f&&(e=u.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(a)};else if(!o||e.navigator&&e.navigator.standalone)if(c&&c.resolve){var s=c.resolve(void 0);r=function(){s.then(a)}}else r=function(){i.call(e,a)};else{var l=!0,h=document.createTextNode("");new o(a).observe(h,{characterData:!0}),r=function(){h.data=l=!l}}return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}},function(t,n,r){"use strict";function e(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}var i=r(10);t.exports.f=function(t){return new e(t)}},function(t,n,r){"use strict";function e(t,n,r){var e=new Array(r),i=8*r-n-1,o=(1<<i)-1,u=o>>1,c=23===n?G(2,-24)-G(2,-77):0,f=0,a=t<0||0===t&&1/t<0?1:0,s,l,h;for(t=C(t),t!=t||t===k?(l=t!=t?1:0,s=o):(s=U(W(t)/V),t*(h=G(2,-s))<1&&(s--,h*=2),t+=s+u>=1?c/h:c*G(2,1-u),t*h>=2&&(s++,h/=2),s+u>=o?(l=0,s=o):s+u>=1?(l=(t*h-1)*G(2,n),s+=u):(l=t*G(2,u-1)*G(2,n),s=0));n>=8;e[f++]=255&l,l/=256,n-=8);for(s=s<<n|l,i+=n;i>0;e[f++]=255&s,s/=256,i-=8);return e[--f]|=128*a,e}function i(t,n,r){var e=8*r-n-1,i=(1<<e)-1,o=i>>1,u=e-7,c=r-1,f=t[c--],a=127&f,s;for(f>>=7;u>0;a=256*a+t[c],c--,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=256*s+t[c],c--,u-=8);if(0===a)a=1-o;else{if(a===i)return s?NaN:f?-k:k;s+=G(2,n),a-=o}return(f?-1:1)*s*G(2,a-n)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function u(t){return[255&t]}function c(t){return[255&t,t>>8&255]}function f(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function a(t){return e(t,52,8)}function s(t){return e(t,23,4)}function l(t,n,r){M(t[N],n,{get:function(){return this[r]}})}function h(t,n,r,e){var i=+r,o=O(i);if(o+n>t[H])throw L(j);var u=t[Y]._b,c=o+t[q],f=u.slice(c,c+n);return e?f:f.reverse()}function v(t,n,r,e,i,o){var u=+r,c=O(u);if(c+n>t[H])throw L(j);for(var f=t[Y]._b,a=c+t[q],s=e(+i),l=0;l<n;l++)f[a+l]=s[o?l:n-l-1]}var p=r(2),d=r(6),g=r(30),y=r(60),b=r(11),m=r(41),_=r(3),S=r(39),w=r(24),x=r(8),O=r(117),E=r(37).f,M=r(7).f,P=r(84),F=r(42),A="ArrayBuffer",I="DataView",N="prototype",j="Wrong index!",T=p[A],R=p[I],Math=p.Math,L=p.RangeError,k=p.Infinity,D=T,C=Math.abs,G=Math.pow,U=Math.floor,W=Math.log,V=Math.LN2,B="buffer",K="byteLength",z="byteOffset",Y=d?"_b":B,H=d?"_l":K,q=d?"_o":z;if(y.ABV){if(!_(function(){T(1)})||!_(function(){new T(-1)})||_(function(){return new T,new T(1.5),new T(NaN),T.name!=A})){T=function t(n){return S(this,T),new D(O(n))};for(var J=T[N]=D[N],X=E(D),$=0,Z;X.length>$;)(Z=X[$++])in T||b(T,Z,D[Z]);g||(J.constructor=T)}var Q=new R(new T(2)),tt=R[N].setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||m(R[N],{setInt8:function t(n,r){tt.call(this,n,r<<24>>24)},setUint8:function t(n,r){tt.call(this,n,r<<24>>24)}},!0)}else T=function t(n){S(this,T,A);var r=O(n);this._b=P.call(new Array(r),0),this[H]=r},R=function t(n,r,e){S(this,R,I),S(n,T,I);var i=n[H],o=w(r);if(o<0||o>i)throw L("Wrong offset!");if(e=void 0===e?i-o:x(e),o+e>i)throw L("Wrong length!");this[Y]=n,this[q]=o,this[H]=e},d&&(l(T,K,"_l"),l(R,B,"_b"),l(R,K,"_l"),l(R,z,"_o")),m(R[N],{getInt8:function t(n){return h(this,1,n)[0]<<24>>24},getUint8:function t(n){return h(this,1,n)[0]},getInt16:function t(n){var r=h(this,2,n,arguments[1]);return(r[1]<<8|r[0])<<16>>16},getUint16:function t(n){var r=h(this,2,n,arguments[1]);return r[1]<<8|r[0]},getInt32:function t(n){return o(h(this,4,n,arguments[1]))},getUint32:function t(n){return o(h(this,4,n,arguments[1]))>>>0},getFloat32:function t(n){return i(h(this,4,n,arguments[1]),23,4)},getFloat64:function t(n){return i(h(this,8,n,arguments[1]),52,8)},setInt8:function t(n,r){v(this,1,n,u,r)},setUint8:function t(n,r){v(this,1,n,u,r)},setInt16:function t(n,r){v(this,2,n,c,r,arguments[2])},setUint16:function t(n,r){v(this,2,n,c,r,arguments[2])},setInt32:function t(n,r){v(this,4,n,f,r,arguments[2])},setUint32:function t(n,r){v(this,4,n,f,r,arguments[2])},setFloat32:function t(n,r){v(this,4,n,s,r,arguments[2])},setFloat64:function t(n,r){v(this,8,n,a,r,arguments[2])}});F(T,A),F(R,I),b(R[N],y.VIEW,!0),n[A]=T,n[I]=R},function(t,n){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(r=window)}t.exports=r},function(t,n,r){t.exports=!r(6)&&!r(3)(function(){return 7!=Object.defineProperty(r(64)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){n.f=r(5)},function(t,n,r){var e=r(14),i=r(15),o=r(50)(!1),u=r(66)("IE_PROTO");t.exports=function(t,n){var r=i(t),c=0,f=[],a;for(a in r)a!=u&&e(r,a)&&f.push(a);for(;n.length>c;)e(r,a=n[c++])&&(~o(f,a)||f.push(a));return f}},function(t,n,r){var e=r(7),i=r(1),o=r(34);t.exports=r(6)?Object.defineProperties:function t(n,r){i(n);for(var u=o(r),c=u.length,f=0,a;c>f;)e.f(n,a=u[f++],r[a]);return n}},function(t,n,r){var e=r(15),i=r(37).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function t(n){return u&&"[object Window]"==o.call(n)?c(n):i(e(n))}},function(t,n,r){"use strict";var e=r(34),i=r(51),o=r(47),u=r(9),c=r(46),f=Object.assign;t.exports=!f||r(3)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e})?function t(n,r){for(var f=u(n),a=arguments.length,s=1,l=i.f,h=o.f;a>s;)for(var v=c(arguments[s++]),p=l?e(v).concat(l(v)):e(v),d=p.length,g=0,y;d>g;)h.call(v,y=p[g++])&&(f[y]=v[y]);return f}:f},function(t,n,r){"use strict";var e=r(10),i=r(4),o=r(98),u=[].slice,c={},f=function(t,n,r){if(!(n in c)){for(var e=[],i=0;i<n;i++)e[i]="a["+i+"]";c[n]=Function("F,a","return new F("+e.join(",")+")")}return c[n](t,r)};t.exports=Function.bind||function t(n){var r=e(this),c=u.call(arguments,1),a=function(){var t=c.concat(u.call(arguments));return this instanceof a?f(r,t.length,t):o(r,t,n)};return i(r.prototype)&&(a.prototype=r.prototype),a}},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(2).parseInt,i=r(43).trim,o=r(70),u=/^[-+]?0[xX]/;t.exports=8!==e(o+"08")||22!==e(o+"0x16")?function t(n,r){var o=i(String(n),3);return e(o,r>>>0||(u.test(o)?16:10))}:e},function(t,n,r){var e=r(2).parseFloat,i=r(43).trim;t.exports=1/e(r(70)+"-0")!==-1/0?function t(n){var r=i(String(n),3),o=e(r);return 0===o&&"-"==r.charAt(0)?-0:o}:e},function(t,n,r){var e=r(20);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},function(t,n,r){var e=r(4),i=Math.floor;t.exports=function t(n){return!e(n)&&isFinite(n)&&i(n)===n}},function(t,n){t.exports=Math.log1p||function t(n){return(n=+n)>-1e-8&&n<1e-8?n-n*n/2:Math.log(1+n)}},function(t,n,r){var e=r(73),i=Math.pow,o=i(2,-52),u=i(2,-23),c=i(2,127)*(2-u),f=i(2,-126),a=function(t){return t+1/o-1/o};t.exports=Math.fround||function t(n){var r=Math.abs(n),i=e(n),s,l;return r<f?i*a(r/f/u)*f*u:(s=(1+u/o)*r,l=s-(s-r),l>c||l!=l?i*(1/0):i*l)}},function(t,n,r){var e=r(1);t.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r)}catch(n){var o=t.return;throw void 0!==o&&e(o.call(t)),n}}},function(t,n,r){var e=r(10),i=r(9),o=r(46),u=r(8);t.exports=function(t,n,r,c,f){e(n);var a=i(t),s=o(a),l=u(a.length),h=f?l-1:0,v=f?-1:1;if(r<2)for(;;){if(h in s){c=s[h],h+=v;break}if(h+=v,f?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;f?h>=0:l>h;h+=v)h in s&&(c=n(c,s[h],h,a));return c}},function(t,n,r){"use strict";var e=r(9),i=r(35),o=r(8);t.exports=[].copyWithin||function t(n,r){var u=e(this),c=o(u.length),f=i(n,c),a=i(r,c),s=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===s?c:i(s,c))-a,c-f),h=1;for(a<f&&f<a+l&&(h=-1,a+=l-1,f+=l-1);l-- >0;)a in u?u[f]=u[a]:delete u[f],f+=h,a+=h;return u}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){r(6)&&"g"!=/./g.flags&&r(7).f(RegExp.prototype,"flags",{configurable:!0,get:r(55)})},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,r){var e=r(1),i=r(4),o=r(88);t.exports=function(t,n){if(e(t),i(n)&&n.constructor===t)return n;var r=o.f(t);return(0,r.resolve)(n),r.promise}},function(t,n,r){"use strict";var e=r(113),i=r(45),o="Map";t.exports=r(59)(o,function(t){return function n(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function t(n){var r=e.getEntry(i(this,o),n);return r&&r.v},set:function t(n,r){return e.def(i(this,o),0===n?0:n,r)}},e,!0)},function(t,n,r){"use strict";var e=r(7).f,i=r(36),o=r(41),u=r(19),c=r(39),f=r(40),a=r(76),s=r(108),l=r(38),h=r(6),v=r(29).fastKey,p=r(45),d=h?"_s":"size",g=function(t,n){var r=v(n),e;if("F"!==r)return t._i[r];for(e=t._f;e;e=e.n)if(e.k==n)return e};t.exports={getConstructor:function(t,n,r,a){var s=t(function(t,e){c(t,s,n,"_i"),t._t=n,t._i=i(null),t._f=void 0,t._l=void 0,t[d]=0,void 0!=e&&f(e,r,t[a],t)});return o(s.prototype,{clear:function t(){for(var r=p(this,n),e=r._i,i=r._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];r._f=r._l=void 0,r[d]=0},delete:function(t){var r=p(this,n),e=g(r,t);if(e){var i=e.n,o=e.p;delete r._i[e.i],e.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==e&&(r._f=i),r._l==e&&(r._l=o),r[d]--}return!!e},forEach:function t(r){p(this,n);for(var e=u(r,arguments.length>1?arguments[1]:void 0,3),i;i=i?i.n:this._f;)for(e(i.v,i.k,this);i&&i.r;)i=i.p},has:function t(r){return!!g(p(this,n),r)}}),h&&e(s.prototype,"size",{get:function(){return p(this,n)[d]}}),s},def:function(t,n,r){var e=g(t,n),i,o;return e?e.v=r:(t._l=e={i:o=v(n,!0),k:n,v:r,p:i=t._l,n:void 0,r:!1},t._f||(t._f=e),i&&(i.n=e),t[d]++,"F"!==o&&(t._i[o]=e)),t},getEntry:g,setStrong:function(t,n,r){a(t,n,function(t,r){this._t=p(t,n),this._k=r,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==n?s(0,r.k):"values"==n?s(0,r.v):s(0,[r.k,r.v]):(t._t=void 0,s(1))},r?"entries":"values",!r,!0),l(n)}}},function(t,n,r){"use strict";var e=r(113),i=r(45),o="Set";t.exports=r(59)(o,function(t){return function n(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function t(n){return e.def(i(this,o),n=0===n?0:n,n)}},e)},function(t,n,r){"use strict";var e=r(26)(0),i=r(12),o=r(29),u=r(96),c=r(116),f=r(4),a=r(3),s=r(45),l="WeakMap",h=o.getWeak,v=Object.isExtensible,p=c.ufstore,d={},g,y=function(t){return function n(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function t(n){if(f(n)){var r=h(n);return!0===r?p(s(this,l)).get(n):r?r[this._i]:void 0}},set:function t(n,r){return c.def(s(this,l),n,r)}},m=t.exports=r(59)(l,y,b,c,!0,!0);a(function(){return 7!=(new m).set((Object.freeze||Object)(d),7).get(d)})&&(g=c.getConstructor(y,l),u(g.prototype,b),o.NEED=!0,e(["delete","has","get","set"],function(t){var n=m.prototype,r=n[t];i(n,t,function(n,e){if(f(n)&&!v(n)){this._f||(this._f=new g);var i=this._f[t](n,e);return"set"==t?this:i}return r.call(this,n,e)})}))},function(t,n,r){"use strict";var e=r(41),i=r(29).getWeak,o=r(1),u=r(4),c=r(39),f=r(40),a=r(26),s=r(14),l=r(45),h=a(5),v=a(6),p=0,d=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},y=function(t,n){return h(t.a,function(t){return t[0]===n})};g.prototype={get:function(t){var n=y(this,t);if(n)return n[1]},has:function(t){return!!y(this,t)},set:function(t,n){var r=y(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=v(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,o){var a=t(function(t,e){c(t,a,n,"_i"),t._t=n,t._i=p++,t._l=void 0,void 0!=e&&f(e,r,t[o],t)});return e(a.prototype,{delete:function(t){if(!u(t))return!1;var r=i(t);return!0===r?d(l(this,n)).delete(t):r&&s(r,this._i)&&delete r[this._i]},has:function t(r){if(!u(r))return!1;var e=i(r);return!0===e?d(l(this,n)).has(r):e&&s(e,this._i)}}),a},def:function(t,n,r){var e=i(o(n),!0);return!0===e?d(t).set(n,r):e[t._i]=r,t},ufstore:d}},function(t,n,r){var e=r(24),i=r(8);t.exports=function(t){if(void 0===t)return 0;var n=e(t),r=i(n);if(n!==r)throw RangeError("Wrong length!");return r}},function(t,n,r){var e=r(37),i=r(51),o=r(1),u=r(2).Reflect;t.exports=u&&u.ownKeys||function t(n){var r=e.f(o(n)),u=i.f;return u?r.concat(u(n)):r}},function(t,n,r){"use strict";function e(t,n,r,a,s,l,h,v){for(var p=s,d=0,g=!!h&&c(h,v,3),y,b;d<a;){if(d in r){if(y=g?g(r[d],d,n):r[d],b=!1,o(y)&&(b=y[f],b=void 0!==b?!!b:i(y)),b&&l>0)p=e(t,n,y,u(y.length),p,l-1)-1;else{if(p>=9007199254740991)throw TypeError();t[p]=y}p++}d++}return p}var i=r(52),o=r(4),u=r(8),c=r(19),f=r(5)("isConcatSpreadable");t.exports=e},function(t,n,r){var e=r(8),i=r(72),o=r(23);t.exports=function(t,n,r,u){var c=String(o(t)),f=c.length,a=void 0===r?" ":String(r),s=e(n);if(s<=f||""==a)return c;var l=s-f,h=i.call(a,Math.ceil(l/a.length));return h.length>l&&(h=h.slice(0,l)),u?h+c:c+h}},function(t,n,r){var e=r(34),i=r(15),o=r(47).f;t.exports=function(t){return function(n){for(var r=i(n),u=e(r),c=u.length,f=0,a=[],s;c>f;)o.call(r,s=u[f++])&&a.push(t?[s,r[s]]:r[s]);return a}}},function(t,n,r){var e=r(48),i=r(123);t.exports=function(t){return function n(){if(e(this)!=t)throw TypeError(t+"#toJSON isn\'t generic");return i(this)}}},function(t,n,r){var e=r(40);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n){t.exports=Math.scale||function t(n,r,e,i,o){return 0===arguments.length||n!=n||r!=r||e!=e||i!=i||o!=o?NaN:n===1/0||n===-1/0?n:(n-r)*(o-i)/(e-r)+i}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(126),i=r.n(e),o=r(328),u=r(329);self._cache=new u.a(o.a,{name:o.c,items:o.d}),self._dbLoaded=!1,self._cache.open().then(function(){return self._dbLoaded=!0}),self.get=function(t,n){return new Promise(function(r,e){self._cache.get([t]).then(function(t){null===t.data?r({status:!0,data:null}):(t.data.fileId!==n&&r({status:!0,data:null}),r({status:!0,data:t.data}))})}).catch(function(t){return reject(t)})},self.getOrCreate=function(t){return new Promise(function(n,r){self.get(t.id).then(function(e){if(!0===e.status)if(null!==e.data)n(e.data);else{var i=t.id,o=t.raw,u=t.fileId;self._cache.add({id:i,fileId:u,model:{raw:o}}).then(function(t){return n(Object.assign({status:!0},t.data))})}else r(e)}).catch(function(t){return r(t)})})},self.query=function(t){switch(t.mode){case o.e:self.getOrCreate(t.modelData).then(function(t){!1!==t.status?postMessage(t):console.warn("Unable to open model cache db!",t)});break;case o.b:self.get(t.modelData.id,t.modelData.fileId).then(function(t){return postMessage(t)})}},self.onmessage=function(t){var n=t.data;!1===self._dbLoaded?self._cache.open().then(function(){self._dbLoaded=!0,self.query(n)}):self.query(n)}},function(t,n,r){"use strict";(function(t){function n(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}if(r(127),r(324),r(325),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(n,r(90))},function(t,n,r){r(128),r(130),r(131),r(132),r(133),r(134),r(135),r(136),r(137),r(138),r(139),r(140),r(141),r(142),r(143),r(144),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(166),r(167),r(168),r(169),r(170),r(171),r(172),r(173),r(174),r(175),r(176),r(177),r(178),r(179),r(180),r(181),r(182),r(183),r(184),r(185),r(186),r(187),r(188),r(189),r(190),r(191),r(192),r(193),r(194),r(195),r(196),r(197),r(198),r(199),r(200),r(201),r(202),r(203),r(204),r(205),r(206),r(208),r(209),r(211),r(212),r(213),r(214),r(215),r(216),r(217),r(219),r(220),r(221),r(222),r(223),r(224),r(225),r(226),r(227),r(228),r(229),r(230),r(231),r(85),r(232),r(233),r(109),r(234),r(235),r(236),r(237),r(238),r(112),r(114),r(115),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(266),r(267),r(268),r(269),r(270),r(271),r(272),r(273),r(274),r(275),r(276),r(277),r(278),r(279),r(280),r(281),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(289),r(290),r(291),r(292),r(293),r(294),r(295),r(296),r(297),r(298),r(299),r(300),r(301),r(302),r(303),r(304),r(305),r(306),r(307),r(308),r(309),r(310),r(311),r(312),r(313),r(314),r(315),r(316),r(317),r(318),r(319),r(320),r(321),r(322),r(323),t.exports=r(18)},function(t,n,r){"use strict";var e=r(2),i=r(14),o=r(6),u=r(0),c=r(12),f=r(29).KEY,a=r(3),s=r(49),l=r(42),h=r(33),v=r(5),p=r(92),d=r(65),g=r(129),y=r(52),b=r(1),m=r(4),_=r(15),S=r(22),w=r(32),x=r(36),O=r(95),E=r(16),M=r(7),P=r(34),F=E.f,A=M.f,I=O.f,N=e.Symbol,j=e.JSON,T=j&&j.stringify,R="prototype",L=v("_hidden"),k=v("toPrimitive"),D={}.propertyIsEnumerable,C=s("symbol-registry"),G=s("symbols"),U=s("op-symbols"),W=Object[R],V="function"==typeof N,B=e.QObject,K=!B||!B[R]||!B[R].findChild,z=o&&a(function(){return 7!=x(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(W,n);e&&delete W[n],A(t,n,r),e&&t!==W&&A(W,n,e)}:A,Y=function(t){var n=G[t]=x(N[R]);return n._k=t,n},H=V&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},q=function t(n,r,e){return n===W&&q(U,r,e),b(n),r=S(r,!0),b(e),i(G,r)?(e.enumerable?(i(n,L)&&n[L][r]&&(n[L][r]=!1),e=x(e,{enumerable:w(0,!1)})):(i(n,L)||A(n,L,w(1,{})),n[L][r]=!0),z(n,r,e)):A(n,r,e)},J=function t(n,r){b(n);for(var e=g(r=_(r)),i=0,o=e.length,u;o>i;)q(n,u=e[i++],r[u]);return n},X=function t(n,r){return void 0===r?x(n):J(x(n),r)},$=function t(n){var r=D.call(this,n=S(n,!0));return!(this===W&&i(G,n)&&!i(U,n))&&(!(r||!i(this,n)||!i(G,n)||i(this,L)&&this[L][n])||r)},Z=function t(n,r){if(n=_(n),r=S(r,!0),n!==W||!i(G,r)||i(U,r)){var e=F(n,r);return!e||!i(G,r)||i(n,L)&&n[L][r]||(e.enumerable=!0),e}},Q=function t(n){for(var r=I(_(n)),e=[],o=0,u;r.length>o;)i(G,u=r[o++])||u==L||u==f||e.push(u);return e},tt=function t(n){for(var r=n===W,e=I(r?U:_(n)),o=[],u=0,c;e.length>u;)!i(G,c=e[u++])||r&&!i(W,c)||o.push(G[c]);return o};V||(N=function t(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var n=h(arguments.length>0?arguments[0]:void 0),r=function(t){this===W&&r.call(U,t),i(this,L)&&i(this[L],n)&&(this[L][n]=!1),z(this,n,w(1,t))};return o&&K&&z(W,n,{configurable:!0,set:r}),Y(n)},c(N[R],"toString",function t(){return this._k}),E.f=Z,M.f=q,r(37).f=O.f=Q,r(47).f=$,r(51).f=tt,o&&!r(30)&&c(W,"propertyIsEnumerable",$,!0),p.f=function(t){return Y(v(t))}),u(u.G+u.W+u.F*!V,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var et=P(v.store),it=0;et.length>it;)d(et[it++]);u(u.S+u.F*!V,"Symbol",{for:function(t){return i(C,t+="")?C[t]:C[t]=N(t)},keyFor:function t(n){if(!H(n))throw TypeError(n+" is not a symbol!");for(var r in C)if(C[r]===n)return r},useSetter:function(){K=!0},useSimple:function(){K=!1}}),u(u.S+u.F*!V,"Object",{create:X,defineProperty:q,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:tt}),j&&u(u.S+u.F*(!V||a(function(){var t=N();return"[null]"!=T([t])||"{}"!=T({a:t})||"{}"!=T(Object(t))})),"JSON",{stringify:function t(n){for(var r=[n],e=1,i,o;arguments.length>e;)r.push(arguments[e++]);if(o=i=r[1],(m(i)||void 0!==n)&&!H(n))return y(i)||(i=function(t,n){if("function"==typeof o&&(n=o.call(this,t,n)),!H(n))return n}),r[1]=i,T.apply(j,r)}}),N[R][k]||r(11)(N[R],k,N[R].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){var e=r(34),i=r(51),o=r(47);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u=r(t),c=o.f,f=0,a;u.length>f;)c.call(t,a=u[f++])&&n.push(a);return n}},function(t,n,r){var e=r(0);e(e.S,"Object",{create:r(36)})},function(t,n,r){var e=r(0);e(e.S+e.F*!r(6),"Object",{defineProperty:r(7).f})},function(t,n,r){var e=r(0);e(e.S+e.F*!r(6),"Object",{defineProperties:r(94)})},function(t,n,r){var e=r(15),i=r(16).f;r(25)("getOwnPropertyDescriptor",function(){return function t(n,r){return i(e(n),r)}})},function(t,n,r){var e=r(9),i=r(17);r(25)("getPrototypeOf",function(){return function t(n){return i(e(n))}})},function(t,n,r){var e=r(9),i=r(34);r(25)("keys",function(){return function t(n){return i(e(n))}})},function(t,n,r){r(25)("getOwnPropertyNames",function(){return r(95).f})},function(t,n,r){var e=r(4),i=r(29).onFreeze;r(25)("freeze",function(t){return function n(r){return t&&e(r)?t(i(r)):r}})},function(t,n,r){var e=r(4),i=r(29).onFreeze;r(25)("seal",function(t){return function n(r){return t&&e(r)?t(i(r)):r}})},function(t,n,r){var e=r(4),i=r(29).onFreeze;r(25)("preventExtensions",function(t){return function n(r){return t&&e(r)?t(i(r)):r}})},function(t,n,r){var e=r(4);r(25)("isFrozen",function(t){return function n(r){return!e(r)||!!t&&t(r)}})},function(t,n,r){var e=r(4);r(25)("isSealed",function(t){return function n(r){return!e(r)||!!t&&t(r)}})},function(t,n,r){var e=r(4);r(25)("isExtensible",function(t){return function n(r){return!!e(r)&&(!t||t(r))}})},function(t,n,r){var e=r(0);e(e.S+e.F,"Object",{assign:r(96)})},function(t,n,r){var e=r(0);e(e.S,"Object",{is:r(145)})},function(t,n){t.exports=Object.is||function t(n,r){return n===r?0!==n||1/n===1/r:n!=n&&r!=r}},function(t,n,r){var e=r(0);e(e.S,"Object",{setPrototypeOf:r(69).set})},function(t,n,r){"use strict";var e=r(48),i={};i[r(5)("toStringTag")]="z",i+""!="[object z]"&&r(12)(Object.prototype,"toString",function t(){return"[object "+e(this)+"]"},!0)},function(t,n,r){var e=r(0);e(e.P,"Function",{bind:r(97)})},function(t,n,r){var e=r(7).f,i=Function.prototype,o=/^\\s*function ([^ (]*)/,u="name";u in i||r(6)&&e(i,u,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,n,r){"use strict";var e=r(4),i=r(17),o=r(5)("hasInstance"),u=Function.prototype;o in u||r(7).f(u,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,r){var e=r(0),i=r(99);e(e.G+e.F*(parseInt!=i),{parseInt:i})},function(t,n,r){var e=r(0),i=r(100);e(e.G+e.F*(parseFloat!=i),{parseFloat:i})},function(t,n,r){"use strict";var e=r(2),i=r(14),o=r(20),u=r(71),c=r(22),f=r(3),a=r(37).f,s=r(16).f,l=r(7).f,h=r(43).trim,v="Number",p=e[v],d=p,g=p.prototype,y=o(r(36)(g))==v,b="trim"in String.prototype,m=function(t){var n=c(t,!1);if("string"==typeof n&&n.length>2){n=b?n.trim():h(n,3);var r=n.charCodeAt(0),e,i,o;if(43===r||45===r){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===r){switch(n.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+n}for(var u=n.slice(2),f=0,a=u.length,s;f<a;f++)if((s=u.charCodeAt(f))<48||s>o)return NaN;return parseInt(u,i)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function t(n){var r=arguments.length<1?0:n,e=this;return e instanceof p&&(y?f(function(){g.valueOf.call(e)}):o(e)!=v)?u(new d(m(r)),e,p):m(r)};for(var _=r(6)?a(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0,w;_.length>S;S++)i(d,w=_[S])&&!i(p,w)&&l(p,w,s(d,w));p.prototype=g,g.constructor=p,r(12)(e,v,p)}},function(t,n,r){"use strict";var e=r(0),i=r(24),o=r(101),u=r(72),c=1..toFixed,f=Math.floor,a=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",l="0",h=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*a[r],a[r]=e%1e7,e=f(e/1e7)},v=function(t){for(var n=6,r=0;--n>=0;)r+=a[n],a[n]=f(r/t),r=r%t*1e7},p=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==a[t]){var r=String(a[t]);n=""===n?r:n+u.call("0",7-r.length)+r}return n},d=function(t,n,r){return 0===n?r:n%2===1?d(t,n-1,r*t):d(t*t,n/2,r)},g=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n};e(e.P+e.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(3)(function(){c.call({})})),"Number",{toFixed:function t(n){var r=o(this,s),e=i(n),c="",f="0",a,l,y,b;if(e<0||e>20)throw RangeError(s);if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return String(r);if(r<0&&(c="-",r=-r),r>1e-21)if(a=g(r*d(2,69,1))-69,l=a<0?r*d(2,-a,1):r/d(2,a,1),l*=4503599627370496,(a=52-a)>0){for(h(0,l),y=e;y>=7;)h(1e7,0),y-=7;for(h(d(10,y,1),0),y=a-1;y>=23;)v(1<<23),y-=23;v(1<<y),h(1,1),v(2),f=p()}else h(0,l),h(1<<-a,0),f=p()+u.call("0",e);return e>0?(b=f.length,f=c+(b<=e?"0."+u.call("0",e-b)+f:f.slice(0,b-e)+"."+f.slice(b-e))):f=c+f,f}})},function(t,n,r){"use strict";var e=r(0),i=r(3),o=r(101),u=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==u.call(1,void 0)})||!i(function(){u.call({})})),"Number",{toPrecision:function t(n){var r=o(this,"Number#toPrecision: incorrect invocation!");return void 0===n?u.call(r):u.call(r,n)}})},function(t,n,r){var e=r(0);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){var e=r(0),i=r(2).isFinite;e(e.S,"Number",{isFinite:function t(n){return"number"==typeof n&&i(n)}})},function(t,n,r){var e=r(0);e(e.S,"Number",{isInteger:r(102)})},function(t,n,r){var e=r(0);e(e.S,"Number",{isNaN:function t(n){return n!=n}})},function(t,n,r){var e=r(0),i=r(102),o=Math.abs;e(e.S,"Number",{isSafeInteger:function t(n){return i(n)&&o(n)<=9007199254740991}})},function(t,n,r){var e=r(0);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,r){var e=r(0);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,r){var e=r(0),i=r(100);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,r){var e=r(0),i=r(99);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,r){var e=r(0),i=r(103),o=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function t(n){return(n=+n)<1?NaN:n>94906265.62425156?Math.log(n)+Math.LN2:i(n-1+o(n-1)*o(n+1))}})},function(t,n,r){function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=r(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:e})},function(t,n,r){var e=r(0),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function t(n){return 0==(n=+n)?n:Math.log((1+n)/(1-n))/2}})},function(t,n,r){var e=r(0),i=r(73);e(e.S,"Math",{cbrt:function t(n){return i(n=+n)*Math.pow(Math.abs(n),1/3)}})},function(t,n,r){var e=r(0);e(e.S,"Math",{clz32:function t(n){return(n>>>=0)?31-Math.floor(Math.log(n+.5)*Math.LOG2E):32}})},function(t,n,r){var e=r(0),i=Math.exp;e(e.S,"Math",{cosh:function t(n){return(i(n=+n)+i(-n))/2}})},function(t,n,r){var e=r(0),i=r(74);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n,r){var e=r(0);e(e.S,"Math",{fround:r(104)})},function(t,n,r){var e=r(0),i=Math.abs;e(e.S,"Math",{hypot:function t(n,r){for(var e=0,o=0,u=arguments.length,c=0,f,a;o<u;)f=i(arguments[o++]),c<f?(a=c/f,e=e*a*a+1,c=f):f>0?(a=f/c,e+=a*a):e+=f;return c===1/0?1/0:c*Math.sqrt(e)}})},function(t,n,r){var e=r(0),i=Math.imul;e(e.S+e.F*r(3)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function t(n,r){var e=65535,i=+n,o=+r,u=65535&i,c=65535&o;return 0|u*c+((65535&i>>>16)*c+u*(65535&o>>>16)<<16>>>0)}})},function(t,n,r){var e=r(0);e(e.S,"Math",{log10:function t(n){return Math.log(n)*Math.LOG10E}})},function(t,n,r){var e=r(0);e(e.S,"Math",{log1p:r(103)})},function(t,n,r){var e=r(0);e(e.S,"Math",{log2:function t(n){return Math.log(n)/Math.LN2}})},function(t,n,r){var e=r(0);e(e.S,"Math",{sign:r(73)})},function(t,n,r){var e=r(0),i=r(74),o=Math.exp;e(e.S+e.F*r(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function t(n){return Math.abs(n=+n)<1?(i(n)-i(-n))/2:(o(n-1)-o(-n-1))*(Math.E/2)}})},function(t,n,r){var e=r(0),i=r(74),o=Math.exp;e(e.S,"Math",{tanh:function t(n){var r=i(n=+n),e=i(-n);return r==1/0?1:e==1/0?-1:(r-e)/(o(n)+o(-n))}})},function(t,n,r){var e=r(0);e(e.S,"Math",{trunc:function t(n){return(n>0?Math.floor:Math.ceil)(n)}})},function(t,n,r){var e=r(0),i=r(35),o=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function t(n){for(var r=[],e=arguments.length,u=0,c;e>u;){if(c=+arguments[u++],i(c,1114111)!==c)throw RangeError(c+" is not a valid code point");r.push(c<65536?o(c):o(55296+((c-=65536)>>10),c%1024+56320))}return r.join("")}})},function(t,n,r){var e=r(0),i=r(15),o=r(8);e(e.S,"String",{raw:function t(n){for(var r=i(n.raw),e=o(r.length),u=arguments.length,c=[],f=0;e>f;)c.push(String(r[f++])),f<u&&c.push(String(arguments[f]));return c.join("")}})},function(t,n,r){"use strict";r(43)("trim",function(t){return function n(){return t(this,3)}})},function(t,n,r){"use strict";var e=r(75)(!0);r(76)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,n=this._i,r;return n>=t.length?{value:void 0,done:!0}:(r=e(t,n),this._i+=r.length,{value:r,done:!1})})},function(t,n,r){"use strict";var e=r(0),i=r(75)(!1);e(e.P,"String",{codePointAt:function t(n){return i(this,n)}})},function(t,n,r){"use strict";var e=r(0),i=r(8),o=r(78),u="endsWith",c=""[u];e(e.P+e.F*r(79)(u),"String",{endsWith:function t(n){var r=o(this,n,u),e=arguments.length>1?arguments[1]:void 0,f=i(r.length),a=void 0===e?f:Math.min(i(e),f),s=String(n);return c?c.call(r,s,a):r.slice(a-s.length,a)===s}})},function(t,n,r){"use strict";var e=r(0),i=r(78),o="includes";e(e.P+e.F*r(79)(o),"String",{includes:function t(n){return!!~i(this,n,o).indexOf(n,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){var e=r(0);e(e.P,"String",{repeat:r(72)})},function(t,n,r){"use strict";var e=r(0),i=r(8),o=r(78),u="startsWith",c=""[u];e(e.P+e.F*r(79)(u),"String",{startsWith:function t(n){var r=o(this,n,u),e=i(Math.min(arguments.length>1?arguments[1]:void 0,r.length)),f=String(n);return c?c.call(r,f,e):r.slice(e,e+f.length)===f}})},function(t,n,r){"use strict";r(13)("anchor",function(t){return function n(r){return t(this,"a","name",r)}})},function(t,n,r){"use strict";r(13)("big",function(t){return function n(){return t(this,"big","","")}})},function(t,n,r){"use strict";r(13)("blink",function(t){return function n(){return t(this,"blink","","")}})},function(t,n,r){"use strict";r(13)("bold",function(t){return function n(){return t(this,"b","","")}})},function(t,n,r){"use strict";r(13)("fixed",function(t){return function n(){return t(this,"tt","","")}})},function(t,n,r){"use strict";r(13)("fontcolor",function(t){return function n(r){return t(this,"font","color",r)}})},function(t,n,r){"use strict";r(13)("fontsize",function(t){return function n(r){return t(this,"font","size",r)}})},function(t,n,r){"use strict";r(13)("italics",function(t){return function n(){return t(this,"i","","")}})},function(t,n,r){"use strict";r(13)("link",function(t){return function n(r){return t(this,"a","href",r)}})},function(t,n,r){"use strict";r(13)("small",function(t){return function n(){return t(this,"small","","")}})},function(t,n,r){"use strict";r(13)("strike",function(t){return function n(){return t(this,"strike","","")}})},function(t,n,r){"use strict";r(13)("sub",function(t){return function n(){return t(this,"sub","","")}})},function(t,n,r){"use strict";r(13)("sup",function(t){return function n(){return t(this,"sup","","")}})},function(t,n,r){var e=r(0);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,r){"use strict";var e=r(0),i=r(9),o=r(22);e(e.P+e.F*r(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function t(n){var r=i(this),e=o(r);return"number"!=typeof e||isFinite(e)?r.toISOString():null}})},function(t,n,r){var e=r(0),i=r(207);e(e.P+e.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,n,r){"use strict";var e=r(3),i=Date.prototype.getTime,o=Date.prototype.toISOString,u=function(t){return t>9?t:"0"+t};t.exports=e(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!e(function(){o.call(new Date(NaN))})?function t(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var n=this,r=n.getUTCFullYear(),e=n.getUTCMilliseconds(),o=r<0?"-":r>9999?"+":"";return o+("00000"+Math.abs(r)).slice(o?-6:-4)+"-"+u(n.getUTCMonth()+1)+"-"+u(n.getUTCDate())+"T"+u(n.getUTCHours())+":"+u(n.getUTCMinutes())+":"+u(n.getUTCSeconds())+"."+(e>99?e:"0"+u(e))+"Z"}:o},function(t,n,r){var e=Date.prototype,i="Invalid Date",o="toString",u=e[o],c=e.getTime;new Date(NaN)+""!=i&&r(12)(e,o,function t(){var n=c.call(this);return n===n?u.call(this):i})},function(t,n,r){var e=r(5)("toPrimitive"),i=Date.prototype;e in i||r(11)(i,e,r(210))},function(t,n,r){"use strict";var e=r(1),i=r(22),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),t!=o)}},function(t,n,r){var e=r(0);e(e.S,"Array",{isArray:r(52)})},function(t,n,r){"use strict";var e=r(19),i=r(0),o=r(9),u=r(105),c=r(80),f=r(8),a=r(81),s=r(82);i(i.S+i.F*!r(54)(function(t){Array.from(t)}),"Array",{from:function t(n){var r=o(n),i="function"==typeof this?this:Array,l=arguments.length,h=l>1?arguments[1]:void 0,v=void 0!==h,p=0,d=s(r),g,y,b,m;if(v&&(h=e(h,l>2?arguments[2]:void 0,2)),void 0==d||i==Array&&c(d))for(g=f(r.length),y=new i(g);g>p;p++)a(y,p,v?h(r[p],p):r[p]);else for(m=d.call(r),y=new i;!(b=m.next()).done;p++)a(y,p,v?u(m,h,[b.value,p],!0):b.value);return y.length=p,y}})},function(t,n,r){"use strict";var e=r(0),i=r(81);e(e.S+e.F*r(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function t(){for(var n=0,r=arguments.length,e=new("function"==typeof this?this:Array)(r);r>n;)i(e,n,arguments[n++]);return e.length=r,e}})},function(t,n,r){"use strict";var e=r(0),i=r(15),o=[].join;e(e.P+e.F*(r(46)!=Object||!r(21)(o)),"Array",{join:function t(n){return o.call(i(this),void 0===n?",":n)}})},function(t,n,r){"use strict";var e=r(0),i=r(68),o=r(20),u=r(35),c=r(8),f=[].slice;e(e.P+e.F*r(3)(function(){i&&f.call(i)}),"Array",{slice:function t(n,r){var e=c(this.length),i=o(this);if(r=void 0===r?e:r,"Array"==i)return f.call(this,n,r);for(var a=u(n,e),s=u(r,e),l=c(s-a),h=new Array(l),v=0;v<l;v++)h[v]="String"==i?this.charAt(a+v):this[a+v];return h}})},function(t,n,r){"use strict";var e=r(0),i=r(10),o=r(9),u=r(3),c=[].sort,f=[1,2,3];e(e.P+e.F*(u(function(){f.sort(void 0)})||!u(function(){f.sort(null)})||!r(21)(c)),"Array",{sort:function t(n){return void 0===n?c.call(o(this)):c.call(o(this),i(n))}})},function(t,n,r){"use strict";var e=r(0),i=r(26)(0),o=r(21)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function t(n){return i(this,n,arguments[1])}})},function(t,n,r){var e=r(4),i=r(52),o=r(5)("species");t.exports=function(t){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){"use strict";var e=r(0),i=r(26)(1);e(e.P+e.F*!r(21)([].map,!0),"Array",{map:function t(n){return i(this,n,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(26)(2);e(e.P+e.F*!r(21)([].filter,!0),"Array",{filter:function t(n){return i(this,n,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(26)(3);e(e.P+e.F*!r(21)([].some,!0),"Array",{some:function t(n){return i(this,n,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(26)(4);e(e.P+e.F*!r(21)([].every,!0),"Array",{every:function t(n){return i(this,n,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(106);e(e.P+e.F*!r(21)([].reduce,!0),"Array",{reduce:function t(n){return i(this,n,arguments.length,arguments[1],!1)}})},function(t,n,r){"use strict";var e=r(0),i=r(106);e(e.P+e.F*!r(21)([].reduceRight,!0),"Array",{reduceRight:function t(n){return i(this,n,arguments.length,arguments[1],!0)}})},function(t,n,r){"use strict";var e=r(0),i=r(50)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!r(21)(o)),"Array",{indexOf:function t(n){return u?o.apply(this,arguments)||0:i(this,n,arguments[1])}})},function(t,n,r){"use strict";var e=r(0),i=r(15),o=r(24),u=r(8),c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(f||!r(21)(c)),"Array",{lastIndexOf:function t(n){if(f)return c.apply(this,arguments)||0;var r=i(this),e=u(r.length),a=e-1;for(arguments.length>1&&(a=Math.min(a,o(arguments[1]))),a<0&&(a=e+a);a>=0;a--)if(a in r&&r[a]===n)return a||0;return-1}})},function(t,n,r){var e=r(0);e(e.P,"Array",{copyWithin:r(107)}),r(31)("copyWithin")},function(t,n,r){var e=r(0);e(e.P,"Array",{fill:r(84)}),r(31)("fill")},function(t,n,r){"use strict";var e=r(0),i=r(26)(5),o="find",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{find:function t(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}}),r(31)(o)},function(t,n,r){"use strict";var e=r(0),i=r(26)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{findIndex:function t(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}}),r(31)(o)},function(t,n,r){r(38)("Array")},function(t,n,r){var e=r(2),i=r(71),o=r(7).f,u=r(37).f,c=r(53),f=r(55),a=e.RegExp,s=a,l=a.prototype,h=/a/g,v=/a/g,p=new a(h)!==h;if(r(6)&&(!p||r(3)(function(){return v[r(5)("match")]=!1,a(h)!=h||a(v)==v||"/a/i"!=a(h,"i")}))){a=function t(n,r){var e=this instanceof a,o=c(n),u=void 0===r;return!e&&o&&n.constructor===a&&u?n:i(p?new s(o&&!u?n.source:n,r):s((o=n instanceof a)?n.source:n,o&&u?f.call(n):r),e?this:l,a)};for(var d=(function(t){t in a||o(a,t,{configurable:!0,get:function(){return s[t]},set:function(n){s[t]=n}})}),g=u(s),y=0;g.length>y;)d(g[y++]);l.constructor=a,a.prototype=l,r(12)(e,"RegExp",a)}r(38)("RegExp")},function(t,n,r){"use strict";r(109);var e=r(1),i=r(55),o=r(6),u="toString",c=/./[u],f=function(t){r(12)(RegExp.prototype,u,t,!0)};r(3)(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?f(function t(){var n=e(this);return"/".concat(n.source,"/","flags"in n?n.flags:!o&&n instanceof RegExp?i.call(n):void 0)}):c.name!=u&&f(function t(){return c.call(this)})},function(t,n,r){r(56)("match",1,function(t,n,r){return[function r(e){"use strict";var i=t(this),o=void 0==e?void 0:e[n];return void 0!==o?o.call(e,i):new RegExp(e)[n](String(i))},r]})},function(t,n,r){r(56)("replace",2,function(t,n,r){return[function e(i,o){"use strict";var u=t(this),c=void 0==i?void 0:i[n];return void 0!==c?c.call(i,u,o):r.call(String(u),i,o)},r]})},function(t,n,r){r(56)("search",1,function(t,n,r){return[function r(e){"use strict";var i=t(this),o=void 0==e?void 0:e[n];return void 0!==o?o.call(e,i):new RegExp(e)[n](String(i))},r]})},function(t,n,r){r(56)("split",2,function(t,n,e){"use strict";var i=r(53),o=e,u=[].push,c="split",f="length",a="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[f]||2!="ab"[c](/(?:ab)*/)[f]||4!="."[c](/(.?)(.?)/)[f]||"."[c](/()()/)[f]>1||""[c](/.?/)[f]){var s=void 0===/()??/.exec("")[1];e=function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return o.call(r,t,n);var e=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,h=void 0===n?4294967295:n>>>0,v=new RegExp(t.source,c+"g"),p,d,g,y,b;for(s||(p=new RegExp("^"+v.source+"$(?!\\\\s)",c));(d=v.exec(r))&&!((g=d.index+d[0][f])>l&&(e.push(r.slice(l,d.index)),!s&&d[f]>1&&d[0].replace(p,function(){for(b=1;b<arguments[f]-2;b++)void 0===arguments[b]&&(d[b]=void 0)}),d[f]>1&&d.index<r[f]&&u.apply(e,d.slice(1)),y=d[0][f],l=g,e[f]>=h));)v[a]===d.index&&v[a]++;return l===r[f]?!y&&v.test("")||e.push(""):e.push(r.slice(l)),e[f]>h?e.slice(0,h):e}}else"0"[c](void 0,0)[f]&&(e=function(t,n){return void 0===t&&0===n?[]:o.call(this,t,n)});return[function r(i,o){var u=t(this),c=void 0==i?void 0:i[n];return void 0!==c?c.call(i,u,o):e.call(String(u),i,o)},e]})},function(t,n,r){"use strict";var e=r(30),i=r(2),o=r(19),u=r(48),c=r(0),f=r(4),a=r(10),s=r(39),l=r(40),h=r(57),v=r(86).set,p=r(87)(),d=r(88),g=r(110),y=r(58),b=r(111),m="Promise",_=i.TypeError,S=i.process,w=S&&S.versions,x=w&&w.v8||"",O=i[m],E="process"==u(S),M=function(){},P,F,A,I,N=F=d.f,j=!!function(){try{var t=O.resolve(1),n=(t.constructor={})[r(5)("species")]=function(t){t(M,M)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof n&&0!==x.indexOf("6.6")&&-1===y.indexOf("Chrome/66")}catch(t){}}(),T=function(t){var n;return!(!f(t)||"function"!=typeof(n=t.then))&&n},R=function(t,n){if(!t._n){t._n=!0;var r=t._c;p(function(){for(var e=t._v,i=1==t._s,o=0,u=function(n){var r=i?n.ok:n.fail,o=n.resolve,u=n.reject,c=n.domain,f,a,s;try{r?(i||(2==t._h&&D(t),t._h=1),!0===r?f=e:(c&&c.enter(),f=r(e),c&&(c.exit(),s=!0)),f===n.promise?u(_("Promise-chain cycle")):(a=T(f))?a.call(f,o,u):o(f)):u(e)}catch(t){c&&!s&&c.exit(),u(t)}};r.length>o;)u(r[o++]);t._c=[],t._n=!1,n&&!t._h&&L(t)})}},L=function(t){v.call(i,function(){var n=t._v,r=k(t),e,o,u;if(r&&(e=g(function(){E?S.emit("unhandledRejection",n,t):(o=i.onunhandledrejection)?o({promise:t,reason:n}):(u=i.console)&&u.error&&u.error("Unhandled promise rejection",n)}),t._h=E||k(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},k=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){v.call(i,function(){var n;E?S.emit("rejectionHandled",t):(n=i.onrejectionhandled)&&n({promise:t,reason:t._v})})},C=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),R(n,!0))},G=function(t){var n=this,r;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw _("Promise can\'t be resolved itself");(r=T(t))?p(function(){var e={_w:n,_d:!1};try{r.call(t,o(G,e,1),o(C,e,1))}catch(t){C.call(e,t)}}):(n._v=t,n._s=1,R(n,!1))}catch(t){C.call({_w:n,_d:!1},t)}}};j||(O=function t(n){s(this,O,m,"_h"),a(n),P.call(this);try{n(o(G,this,1),o(C,this,1))}catch(t){C.call(this,t)}},P=function t(n){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},P.prototype=r(41)(O.prototype,{then:function t(n,r){var e=N(h(this,O));return e.ok="function"!=typeof n||n,e.fail="function"==typeof r&&r,e.domain=E?S.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&R(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),A=function(){var t=new P;this.promise=t,this.resolve=o(G,t,1),this.reject=o(C,t,1)},d.f=N=function(t){return t===O||t===I?new A(t):F(t)}),c(c.G+c.W+c.F*!j,{Promise:O}),r(42)(O,m),r(38)(m),I=r(18)[m],c(c.S+c.F*!j,m,{reject:function t(n){var r=N(this);return(0,r.reject)(n),r.promise}}),c(c.S+c.F*(e||!j),m,{resolve:function t(n){return b(e&&this===I?O:this,n)}}),c(c.S+c.F*!(j&&r(54)(function(t){O.all(t).catch(M)})),m,{all:function t(n){var r=this,e=N(r),i=e.resolve,o=e.reject,u=g(function(){var t=[],e=0,u=1;l(n,!1,function(n){var c=e++,f=!1;t.push(void 0),u++,r.resolve(n).then(function(n){f||(f=!0,t[c]=n,--u||i(t))},o)}),--u||i(t)});return u.e&&o(u.v),e.promise},race:function t(n){var r=this,e=N(r),i=e.reject,o=g(function(){l(n,!1,function(t){r.resolve(t).then(e.resolve,i)})});return o.e&&i(o.v),e.promise}})},function(t,n,r){"use strict";var e=r(116),i=r(45),o="WeakSet";r(59)(o,function(t){return function n(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function t(n){return e.def(i(this,o),n,!0)}},e,!1,!0)},function(t,n,r){"use strict";var e=r(0),i=r(60),o=r(89),u=r(1),c=r(35),f=r(8),a=r(4),s=r(2).ArrayBuffer,l=r(57),h=o.ArrayBuffer,v=o.DataView,p=i.ABV&&s.isView,d=h.prototype.slice,g=i.VIEW,y="ArrayBuffer";e(e.G+e.W+e.F*(s!==h),{ArrayBuffer:h}),e(e.S+e.F*!i.CONSTR,y,{isView:function t(n){return p&&p(n)||a(n)&&g in n}}),e(e.P+e.U+e.F*r(3)(function(){return!new h(2).slice(1,void 0).byteLength}),y,{slice:function t(n,r){if(void 0!==d&&void 0===r)return d.call(u(this),n);for(var e=u(this).byteLength,i=c(n,e),o=c(void 0===r?e:r,e),a=new(l(this,h))(f(o-i)),s=new v(this),p=new v(a),g=0;i<o;)p.setUint8(g++,s.getUint8(i++));return a}}),r(38)(y)},function(t,n,r){var e=r(0);e(e.G+e.W+e.F*!r(60).ABV,{DataView:r(89).DataView})},function(t,n,r){r(27)("Int8",1,function(t){return function n(r,e,i){return t(this,r,e,i)}})},function(t,n,r){r(27)("Uint8",1,function(t){return function n(r,e,i){return t(this,r,e,i)}})},function(t,n,r){r(27)("Uint8",1,function(t){return function n(r,e,i){return t(this,r,e,i)}},!0)},function(t,n,r){r(27)("Int16",2,function(t){return function n(r,e,i){return t(this,r,e,i)}})},function(t,n,r){r(27)("Uint16",2,function(t){return function n(r,e,i){return t(this,r,e,i)}})},function(t,n,r){r(27)("Int32",4,function(t){return function n(r,e,i){return t(this,r,e,i)}})},function(t,n,r){r(27)("Uint32",4,function(t){return function n(r,e,i){return t(this,r,e,i)}})},function(t,n,r){r(27)("Float32",4,function(t){return function n(r,e,i){return t(this,r,e,i)}})},function(t,n,r){r(27)("Float64",8,function(t){return function n(r,e,i){return t(this,r,e,i)}})},function(t,n,r){var e=r(0),i=r(10),o=r(1),u=(r(2).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!r(3)(function(){u(function(){})}),"Reflect",{apply:function t(n,r,e){var f=i(n),a=o(e);return u?u(f,r,a):c.call(f,r,a)}})},function(t,n,r){var e=r(0),i=r(36),o=r(10),u=r(1),c=r(4),f=r(3),a=r(97),s=(r(2).Reflect||{}).construct,l=f(function(){function t(){}return!(s(function(){},[],t)instanceof t)}),h=!f(function(){s(function(){})});e(e.S+e.F*(l||h),"Reflect",{construct:function t(n,r){o(n),u(r);var e=arguments.length<3?n:o(arguments[2]);if(h&&!l)return s(n,r,e);if(n==e){switch(r.length){case 0:return new n;case 1:return new n(r[0]);case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[1],r[2]);case 4:return new n(r[0],r[1],r[2],r[3])}var f=[null];return f.push.apply(f,r),new(a.apply(n,f))}var v=e.prototype,p=i(c(v)?v:Object.prototype),d=Function.apply.call(n,p,r);return c(d)?d:p}})},function(t,n,r){var e=r(7),i=r(0),o=r(1),u=r(22);i(i.S+i.F*r(3)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function t(n,r,i){o(n),r=u(r,!0),o(i);try{return e.f(n,r,i),!0}catch(t){return!1}}})},function(t,n,r){var e=r(0),i=r(16).f,o=r(1);e(e.S,"Reflect",{deleteProperty:function t(n,r){var e=i(o(n),r);return!(e&&!e.configurable)&&delete n[r]}})},function(t,n,r){"use strict";var e=r(0),i=r(1),o=function(t){this._t=i(t),this._i=0;var n=this._k=[],r;for(r in t)n.push(r)};r(77)(o,"Object",function(){var t=this,n=t._k,r;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((r=n[t._i++])in t._t));return{value:r,done:!1}}),e(e.S,"Reflect",{enumerate:function t(n){return new o(n)}})},function(t,n,r){function e(t,n){var r=arguments.length<3?t:arguments[2],c,s;return a(t)===r?t[n]:(c=i.f(t,n))?u(c,"value")?c.value:void 0!==c.get?c.get.call(r):void 0:f(s=o(t))?e(s,n,r):void 0}var i=r(16),o=r(17),u=r(14),c=r(0),f=r(4),a=r(1);c(c.S,"Reflect",{get:e})},function(t,n,r){var e=r(16),i=r(0),o=r(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function t(n,r){return e.f(o(n),r)}})},function(t,n,r){var e=r(0),i=r(17),o=r(1);e(e.S,"Reflect",{getPrototypeOf:function t(n){return i(o(n))}})},function(t,n,r){var e=r(0);e(e.S,"Reflect",{has:function t(n,r){return r in n}})},function(t,n,r){var e=r(0),i=r(1),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function t(n){return i(n),!o||o(n)}})},function(t,n,r){var e=r(0);e(e.S,"Reflect",{ownKeys:r(118)})},function(t,n,r){var e=r(0),i=r(1),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function t(n){i(n);try{return o&&o(n),!0}catch(t){return!1}}})},function(t,n,r){function e(t,n,r){var f=arguments.length<4?t:arguments[3],h=o.f(s(t),n),v,p;if(!h){if(l(p=u(t)))return e(p,n,r,f);h=a(0)}if(c(h,"value")){if(!1===h.writable||!l(f))return!1;if(v=o.f(f,n)){if(v.get||v.set||!1===v.writable)return!1;v.value=r,i.f(f,n,v)}else i.f(f,n,a(0,r));return!0}return void 0!==h.set&&(h.set.call(f,r),!0)}var i=r(7),o=r(16),u=r(17),c=r(14),f=r(0),a=r(32),s=r(1),l=r(4);f(f.S,"Reflect",{set:e})},function(t,n,r){var e=r(0),i=r(69);i&&e(e.S,"Reflect",{setPrototypeOf:function t(n,r){i.check(n,r);try{return i.set(n,r),!0}catch(t){return!1}}})},function(t,n,r){"use strict";var e=r(0),i=r(50)(!0);e(e.P,"Array",{includes:function t(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}}),r(31)("includes")},function(t,n,r){"use strict";var e=r(0),i=r(119),o=r(9),u=r(8),c=r(10),f=r(83);e(e.P,"Array",{flatMap:function t(n){var r=o(this),e,a;return c(n),e=u(r.length),a=f(r,0),i(a,r,r,e,0,1,n,arguments[1]),a}}),r(31)("flatMap")},function(t,n,r){"use strict";var e=r(0),i=r(119),o=r(9),u=r(8),c=r(24),f=r(83);e(e.P,"Array",{flatten:function t(){var n=arguments[0],r=o(this),e=u(r.length),a=f(r,0);return i(a,r,r,e,0,void 0===n?1:c(n)),a}}),r(31)("flatten")},function(t,n,r){"use strict";var e=r(0),i=r(75)(!0);e(e.P,"String",{at:function t(n){return i(this,n)}})},function(t,n,r){"use strict";var e=r(0),i=r(120),o=r(58);e(e.P+e.F*/Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(o),"String",{padStart:function t(n){return i(this,n,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,r){"use strict";var e=r(0),i=r(120),o=r(58);e(e.P+e.F*/Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(o),"String",{padEnd:function t(n){return i(this,n,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,r){"use strict";r(43)("trimLeft",function(t){return function n(){return t(this,1)}},"trimStart")},function(t,n,r){"use strict";r(43)("trimRight",function(t){return function n(){return t(this,2)}},"trimEnd")},function(t,n,r){"use strict";var e=r(0),i=r(23),o=r(8),u=r(53),c=r(55),f=RegExp.prototype,a=function(t,n){this._r=t,this._s=n};r(77)(a,"RegExp String",function t(){var n=this._r.exec(this._s);return{value:n,done:null===n}}),e(e.P,"String",{matchAll:function t(n){if(i(this),!u(n))throw TypeError(n+" is not a regexp!");var r=String(this),e="flags"in f?String(n.flags):c.call(n),s=new RegExp(n.source,~e.indexOf("g")?e:"g"+e);return s.lastIndex=o(n.lastIndex),new a(s,r)}})},function(t,n,r){r(65)("asyncIterator")},function(t,n,r){r(65)("observable")},function(t,n,r){var e=r(0),i=r(118),o=r(15),u=r(16),c=r(81);e(e.S,"Object",{getOwnPropertyDescriptors:function t(n){for(var r=o(n),e=u.f,f=i(r),a={},s=0,l,h;f.length>s;)void 0!==(h=e(r,l=f[s++]))&&c(a,l,h);return a}})},function(t,n,r){var e=r(0),i=r(121)(!1);e(e.S,"Object",{values:function t(n){return i(n)}})},function(t,n,r){var e=r(0),i=r(121)(!0);e(e.S,"Object",{entries:function t(n){return i(n)}})},function(t,n,r){"use strict";var e=r(0),i=r(9),o=r(10),u=r(7);r(6)&&e(e.P+r(61),"Object",{__defineGetter__:function t(n,r){u.f(i(this),n,{get:o(r),enumerable:!0,configurable:!0})}})},function(t,n,r){"use strict";var e=r(0),i=r(9),o=r(10),u=r(7);r(6)&&e(e.P+r(61),"Object",{__defineSetter__:function t(n,r){u.f(i(this),n,{set:o(r),enumerable:!0,configurable:!0})}})},function(t,n,r){"use strict";var e=r(0),i=r(9),o=r(22),u=r(17),c=r(16).f;r(6)&&e(e.P+r(61),"Object",{__lookupGetter__:function t(n){var r=i(this),e=o(n,!0),f;do{if(f=c(r,e))return f.get}while(r=u(r))}})},function(t,n,r){"use strict";var e=r(0),i=r(9),o=r(22),u=r(17),c=r(16).f;r(6)&&e(e.P+r(61),"Object",{__lookupSetter__:function t(n){var r=i(this),e=o(n,!0),f;do{if(f=c(r,e))return f.set}while(r=u(r))}})},function(t,n,r){var e=r(0);e(e.P+e.R,"Map",{toJSON:r(122)("Map")})},function(t,n,r){var e=r(0);e(e.P+e.R,"Set",{toJSON:r(122)("Set")})},function(t,n,r){r(62)("Map")},function(t,n,r){r(62)("Set")},function(t,n,r){r(62)("WeakMap")},function(t,n,r){r(62)("WeakSet")},function(t,n,r){r(63)("Map")},function(t,n,r){r(63)("Set")},function(t,n,r){r(63)("WeakMap")},function(t,n,r){r(63)("WeakSet")},function(t,n,r){var e=r(0);e(e.G,{global:r(2)})},function(t,n,r){var e=r(0);e(e.S,"System",{global:r(2)})},function(t,n,r){var e=r(0),i=r(20);e(e.S,"Error",{isError:function t(n){return"Error"===i(n)}})},function(t,n,r){var e=r(0);e(e.S,"Math",{clamp:function t(n,r,e){return Math.min(e,Math.max(r,n))}})},function(t,n,r){var e=r(0);e(e.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,n,r){var e=r(0),i=180/Math.PI;e(e.S,"Math",{degrees:function t(n){return n*i}})},function(t,n,r){var e=r(0),i=r(124),o=r(104);e(e.S,"Math",{fscale:function t(n,r,e,u,c){return o(i(n,r,e,u,c))}})},function(t,n,r){var e=r(0);e(e.S,"Math",{iaddh:function t(n,r,e,i){var o=n>>>0,u=r>>>0,c=e>>>0;return u+(i>>>0)+((o&c|(o|c)&~(o+c>>>0))>>>31)|0}})},function(t,n,r){var e=r(0);e(e.S,"Math",{isubh:function t(n,r,e,i){var o=n>>>0,u=r>>>0,c=e>>>0;return u-(i>>>0)-((~o&c|~(o^c)&o-c>>>0)>>>31)|0}})},function(t,n,r){var e=r(0);e(e.S,"Math",{imulh:function t(n,r){var e=65535,i=+n,o=+r,u=65535&i,c=65535&o,f=i>>16,a=o>>16,s=(f*c>>>0)+(u*c>>>16);return f*a+(s>>16)+((u*a>>>0)+(65535&s)>>16)}})},function(t,n,r){var e=r(0);e(e.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,n,r){var e=r(0),i=Math.PI/180;e(e.S,"Math",{radians:function t(n){return n*i}})},function(t,n,r){var e=r(0);e(e.S,"Math",{scale:r(124)})},function(t,n,r){var e=r(0);e(e.S,"Math",{umulh:function t(n,r){var e=65535,i=+n,o=+r,u=65535&i,c=65535&o,f=i>>>16,a=o>>>16,s=(f*c>>>0)+(u*c>>>16);return f*a+(s>>>16)+((u*a>>>0)+(65535&s)>>>16)}})},function(t,n,r){var e=r(0);e(e.S,"Math",{signbit:function t(n){return(n=+n)!=n?n:0==n?1/n==1/0:n>0}})},function(t,n,r){"use strict";var e=r(0),i=r(18),o=r(2),u=r(57),c=r(111);e(e.P+e.R,"Promise",{finally:function(t){var n=u(this,i.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return c(n,t()).then(function(){return r})}:t,r?function(r){return c(n,t()).then(function(){throw r})}:t)}})},function(t,n,r){"use strict";var e=r(0),i=r(88),o=r(110);e(e.S,"Promise",{try:function(t){var n=i.f(this),r=o(t);return(r.e?n.reject:n.resolve)(r.v),n.promise}})},function(t,n,r){var e=r(28),i=r(1),o=e.key,u=e.set;e.exp({defineMetadata:function t(n,r,e,c){u(n,r,i(e),o(c))}})},function(t,n,r){var e=r(28),i=r(1),o=e.key,u=e.map,c=e.store;e.exp({deleteMetadata:function t(n,r){var e=arguments.length<3?void 0:o(arguments[2]),f=u(i(r),e,!1);if(void 0===f||!f.delete(n))return!1;if(f.size)return!0;var a=c.get(r);return a.delete(e),!!a.size||c.delete(r)}})},function(t,n,r){var e=r(28),i=r(1),o=r(17),u=e.has,c=e.get,f=e.key,a=function(t,n,r){if(u(t,n,r))return c(t,n,r);var e=o(n);return null!==e?a(t,e,r):void 0};e.exp({getMetadata:function t(n,r){return a(n,i(r),arguments.length<3?void 0:f(arguments[2]))}})},function(t,n,r){var e=r(114),i=r(123),o=r(28),u=r(1),c=r(17),f=o.keys,a=o.key,s=function(t,n){var r=f(t,n),o=c(t);if(null===o)return r;var u=s(o,n);return u.length?r.length?i(new e(r.concat(u))):u:r};o.exp({getMetadataKeys:function t(n){return s(u(n),arguments.length<2?void 0:a(arguments[1]))}})},function(t,n,r){var e=r(28),i=r(1),o=e.get,u=e.key;e.exp({getOwnMetadata:function t(n,r){return o(n,i(r),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(28),i=r(1),o=e.keys,u=e.key;e.exp({getOwnMetadataKeys:function t(n){return o(i(n),arguments.length<2?void 0:u(arguments[1]))}})},function(t,n,r){var e=r(28),i=r(1),o=r(17),u=e.has,c=e.key,f=function(t,n,r){if(u(t,n,r))return!0;var e=o(n);return null!==e&&f(t,e,r)};e.exp({hasMetadata:function t(n,r){return f(n,i(r),arguments.length<3?void 0:c(arguments[2]))}})},function(t,n,r){var e=r(28),i=r(1),o=e.has,u=e.key;e.exp({hasOwnMetadata:function t(n,r){return o(n,i(r),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(28),i=r(1),o=r(10),u=e.key,c=e.set;e.exp({metadata:function t(n,r){return function t(e,f){c(n,r,(void 0!==f?i:o)(e),u(f))}}})},function(t,n,r){var e=r(0),i=r(87)(),o=r(2).process,u="process"==r(20)(o);e(e.G,{asap:function t(n){var r=u&&o.domain;i(r?r.bind(n):n)}})},function(t,n,r){"use strict";var e=r(0),i=r(2),o=r(18),u=r(87)(),c=r(5)("observable"),f=r(10),a=r(1),s=r(39),l=r(41),h=r(11),v=r(40),p=v.RETURN,d=function(t){return null==t?void 0:f(t)},g=function(t){var n=t._c;n&&(t._c=void 0,n())},y=function(t){return void 0===t._o},b=function(t){y(t)||(t._o=void 0,g(t))},m=function(t,n){a(t),this._c=void 0,this._o=t,t=new _(this);try{var r=n(t),e=r;null!=r&&("function"===typeof r.unsubscribe?r=function(){e.unsubscribe()}:f(r),this._c=r)}catch(n){return void t.error(n)}y(this)&&g(this)};m.prototype=l({},{unsubscribe:function t(){b(this)}});var _=function(t){this._s=t};_.prototype=l({},{next:function t(n){var r=this._s;if(!y(r)){var e=r._o;try{var i=d(e.next);if(i)return i.call(e,n)}catch(t){try{b(r)}finally{throw t}}}},error:function t(n){var r=this._s;if(y(r))throw n;var e=r._o;r._o=void 0;try{var i=d(e.error);if(!i)throw n;n=i.call(e,n)}catch(t){try{g(r)}finally{throw t}}return g(r),n},complete:function t(n){var r=this._s;if(!y(r)){var e=r._o;r._o=void 0;try{var i=d(e.complete);n=i?i.call(e,n):void 0}catch(t){try{g(r)}finally{throw t}}return g(r),n}}});var S=function t(n){s(this,S,"Observable","_f")._f=f(n)};l(S.prototype,{subscribe:function t(n){return new m(n,this._f)},forEach:function t(n){var r=this;return new(o.Promise||i.Promise)(function(t,e){f(n);var i=r.subscribe({next:function(t){try{return n(t)}catch(t){e(t),i.unsubscribe()}},error:e,complete:t})})}}),l(S,{from:function t(n){var r="function"===typeof this?this:S,e=d(a(n)[c]);if(e){var i=a(e.call(n));return i.constructor===r?i:new r(function(t){return i.subscribe(t)})}return new r(function(t){var r=!1;return u(function(){if(!r){try{if(v(n,!1,function(n){if(t.next(n),r)return p})===p)return}catch(n){if(r)throw n;return void t.error(n)}t.complete()}}),function(){r=!0}})},of:function t(){for(var n=0,r=arguments.length,e=new Array(r);n<r;)e[n]=arguments[n++];return new("function"===typeof this?this:S)(function(t){var n=!1;return u(function(){if(!n){for(var r=0;r<e.length;++r)if(t.next(e[r]),n)return;t.complete()}}),function(){n=!0}})}}),h(S.prototype,c,function(){return this}),e(e.G,{Observable:S}),r(38)("Observable")},function(t,n,r){var e=r(2),i=r(0),o=r(58),u=[].slice,c=/MSIE .\\./.test(o),f=function(t){return function(n,r){var e=arguments.length>2,i=!!e&&u.call(arguments,2);return t(e?function(){("function"==typeof n?n:Function(n)).apply(this,i)}:n,r)}};i(i.G+i.B+i.F*c,{setTimeout:f(e.setTimeout),setInterval:f(e.setInterval)})},function(t,n,r){var e=r(0),i=r(86);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,r){for(var e=r(85),i=r(34),o=r(12),u=r(2),c=r(11),f=r(44),a=r(5),s=a("iterator"),l=a("toStringTag"),h=f.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(v),d=0;d<p.length;d++){var g=p[d],y=v[g],b=u[g],m=b&&b.prototype,_;if(m&&(m[s]||c(m,s,h),m[l]||c(m,l,g),f[g]=h,y))for(_ in e)m[_]||o(m,_,e[_],!0)}},function(t,n,r){(function(n){!function(n){"use strict";function r(t,n,r,e){var o=n&&n.prototype instanceof i?n:i,u=Object.create(o.prototype),c=new v(e||[]);return u._invoke=a(t,r,c),u}function e(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function u(){}function c(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function f(t){function r(n,i,o,u){var c=e(t[n],t,i);if("throw"!==c.type){var f=c.arg,a=f.value;return a&&"object"===typeof a&&y.call(a,"__await")?Promise.resolve(a.__await).then(function(t){r("next",t,o,u)},function(t){r("throw",t,o,u)}):Promise.resolve(a).then(function(t){f.value=t,o(f)},u)}u(c.arg)}function i(t,n){function e(){return new Promise(function(e,i){r(t,n,e,i)})}return o=o?o.then(e,e):e()}"object"===typeof n.process&&n.process.domain&&(r=n.process.domain.bind(r));var o;this._invoke=i}function a(t,n,r){var i=E;return function o(u,c){if(i===P)throw new Error("Generator is already running");if(i===F){if("throw"===u)throw c;return d()}for(r.method=u,r.arg=c;;){var f=r.delegate;if(f){var a=s(f,r);if(a){if(a===A)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===E)throw i=F,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=P;var l=e(t,n,r);if("normal"===l.type){if(i=r.done?F:M,l.arg===A)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=F,r.method="throw",r.arg=l.arg)}}}function s(t,n){var r=t.iterator[n.method];if(r===b){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=b,s(t,n),"throw"===n.method))return A;n.method="throw",n.arg=new TypeError("The iterator does not provide a \'throw\' method")}return A}var i=e(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,A;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=b),n.delegate=null,A):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function l(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function h(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function v(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(l,this),this.reset(!0)}function p(t){if(t){var n=t[_];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function n(){for(;++r<t.length;)if(y.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=b,n.done=!0,n};return e.next=e}}return{next:d}}function d(){return{value:b,done:!0}}var g=Object.prototype,y=g.hasOwnProperty,b,m="function"===typeof Symbol?Symbol:{},_=m.iterator||"@@iterator",S=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag",x="object"===typeof t,O=n.regeneratorRuntime;if(O)return void(x&&(t.exports=O));O=n.regeneratorRuntime=x?t.exports:{},O.wrap=r;var E="suspendedStart",M="suspendedYield",P="executing",F="completed",A={},I={};I[_]=function(){return this};var N=Object.getPrototypeOf,j=N&&N(N(p([])));j&&j!==g&&y.call(j,_)&&(I=j);var T=u.prototype=i.prototype=Object.create(I);o.prototype=T.constructor=u,u.constructor=o,u[w]=o.displayName="GeneratorFunction",O.isGeneratorFunction=function(t){var n="function"===typeof t&&t.constructor;return!!n&&(n===o||"GeneratorFunction"===(n.displayName||n.name))},O.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(T),t},O.awrap=function(t){return{__await:t}},c(f.prototype),f.prototype[S]=function(){return this},O.AsyncIterator=f,O.async=function(t,n,e,i){var o=new f(r(t,n,e,i));return O.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},c(T),T[w]="Generator",T[_]=function(){return this},T.toString=function(){return"[object Generator]"},O.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},O.values=p,v.prototype={constructor:v,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(h),!t)for(var n in this)"t"===n.charAt(0)&&y.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=b)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){function n(n,e){return o.type="throw",o.arg=t,r.next=n,e&&(r.method="next",r.arg=b),!!e}if(this.done)throw t;for(var r=this,e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=y.call(i,"catchLoc"),c=y.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&y.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=n,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),A},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),h(r),A}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;h(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:p(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=b),A}}}("object"===typeof n?n:"object"===typeof window?window:"object"===typeof self?self:this)}).call(n,r(90))},function(t,n,r){r(326),t.exports=r(18).RegExp.escape},function(t,n,r){var e=r(0),i=r(327)(/[\\\\^$*+?.()|[\\]{}]/g,"\\\\$&");e(e.S,"RegExp",{escape:function t(n){return i(n)}})},function(t,n){t.exports=function(t,n){var r=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,r)}}},function(t,n,r){"use strict";r.d(n,"b",function(){return j}),r.d(n,"e",function(){return T}),r.d(n,"a",function(){return R}),r.d(n,"c",function(){return L}),r.d(n,"d",function(){return k});var e="BUILD_ENV_OMEKA",i="BUILD_ENV_NODE",o=e,u="GROUP",c="COMPONENT",f="CM",a="MM",s="IN",l="FT",h=[a,f,s,l],v={inner:"rgb(105, 105, 105)",outer:"rgb(35, 35, 35)"},p=0,d=2.5,g="pinchend",y="pinchstart",b="zoomin",m="zoomout",_=.25,S=6710886,w=function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}}(),x={ANDROID_SMARTPHONE:function t(){return navigator.userAgent.match(/Android/i)&&matchMedia("only screen and (max-width: 1024px)")},ANDROID_TABLET:function t(){return navigator.userAgent.match(/Android/i)&&matchMedia("only screen and (max-width: 768px)")},IPHONE:function t(){return navigator.userAgent.match(/iPhone/i)},IPAD:function t(){return navigator.userAgent.match(/iPad/i)},SMARTPHONE:function t(){return x.ANDROID_SMARTPHONE()||x.IPHONE()},TABLET:function t(){return x.ANDROID_TABLET()||x.IPAD()}},O={MM_TO_CM:function t(n){return n/10},MM_TO_IN:function t(n){return n/25.4},MM_TO_FT:function t(n){return n/304.8},CM_TO_IN:function t(n){return n/2.54},CM_TO_MM:function t(n){return 10*n},CM_TO_FT:function t(n){return n/30.48},IN_TO_FT:function t(n){return n/12},IN_TO_CM:function t(n){return 2.54*n},IN_TO_MM:function t(n){return 25.4*n},FT_TO_IN:function t(n){return 12*n},FT_TO_CM:function t(n){return 30.48*n},FT_TO_MM:function t(n){return 304.8*n}},E={DIFFUSE_MAP:0,NORMAL_MAP:1,ROUGHNESS_MAP:2,METALNESS_MAP:3},M=".obj",P=".stl",F=".mtl",A=".zip",I=".gz",N=".js",j=0,T=1,R="ThreeModelCache",L="ThreeModelCacheIndex",k=["id"],D="WORKER_PROGRESS",C="WORKER_DATA",G=524288,U="Color",W="Vector2",V="Vector3",B="Group",K="Mesh",z="map",Y=new Set(["Color","Vector2","Vector3","Group","Mesh"]),H="MeshStandardMaterial",q="CONVERSION_TYPE_MESH",J="CONVERSION_TYPE_RTI",X=".jpg,.png,.bmp,.gif,.jpeg",$=".obj",Z=".ptm",Q=".mtl",tt="checkbox",nt="map",rt="file",et="data:image/jpeg;base64,",it="data:image/jpeg;base64,"},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),o=function(){function t(n,r){e(this,t),this._connectionOpened=!1,this._indexedDB=indexedDB,this.name=n,this.storeKey=this.name+"Store",this.dbKey=this.name+"DB",this.index=r,this._db=null}return i(t,[{key:"_initDB",value:function t(){var n=this;return new Promise(function(t,r){n._db=n._indexedDB.open(n.dbKey),n._db.onupgradeneeded=function(t){n._updateDB(t.target.result)},n._db.onsuccess=function(r){void 0===n._idbStore&&(n._idbStore=r.target.result),n._connectionOpened=!0,t({data:null,success:!0})},n._db.onerror=function(t){r(t)}})}},{key:"_updateDB",value:function t(n){this._idbStore=void 0!==this._db.result?this._db.result:n,this._idbStore.createObjectStore(this.storeKey,{keyPath:"id"}).createIndex(this.index.name,this.index.items)}},{key:"open",value:function t(){return this._initDB()}},{key:"get",value:function t(n){var r=this;return new Promise(function(t,e){var i=r._idbStore.transaction(r.storeKey,"readwrite"),o=i.objectStore(r.storeKey),u=o.index(r.index.name),c=u.get(n);c.onsuccess=function(){t(void 0!==c.result?{data:c.result,success:!0}:{data:null,success:!1})},c.onerror=function(t){e(t)}})}},{key:"add",value:function t(n){var r=this;return new Promise(function(t,e){var i=r._idbStore.transaction(r.storeKey,"readwrite"),o=i.objectStore(r.storeKey),u=o.put(n);u.onsuccess=function(){return t({data:n,success:!0})},u.onerror=function(t){return e({data:null,success:!1,error:t})}})}},{key:"remove",value:function t(n){var r=this;return new Promise(function(t,e){var i=r._idbStore.transaction(r.storeKey,"readwrite"),o=i.objectStore(r.storeKey),u=o.delete(n);u.onsuccess=function(){return t({data:null,success:!0})},u.onerror=function(t){return e({data:null,success:!1,error:t})}})}},{key:"clear",value:function t(){var n=this;return new Promise(function(t,r){var e=n._idbStore.transaction(n.storeKey,"readwrite"),i=e.objectStore(n.storeKey),o=i.clear();o.onsuccess=function(){return t({data:null,success:!0})},o.onerror=function(t){return r({data:null,success:!1,error:t})}})}},{key:"close",value:function t(){this._db.result.close()}}]),t}();n.a=o}]);\n//# sourceMappingURL=fabcd116f46febecdca5.worker.js.map',null)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(124),s=n(37),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.getViews=n.getViews.bind(n),n.getView=n.getView.bind(n),n.getThreeFile=n.getThreeFile.bind(n),n.updateView=n.updateView.bind(n),n.addView=n.addView.bind(n),n.deleteView=n.deleteView.bind(n),n}return o(e,t),u(e,[{key:"addUser",value:function t(e){var n=JSON.stringify(e);return this._post(s.g,n,{headers:{"Content-Type":"application/json"}}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"deleteUser",value:function t(e){return this._delete(s.g+e,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"verifyUser",value:function t(e){return this._get(s.h+e,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"login",value:function t(e){var n=JSON.stringify(e);return this._post(s.d,n,{headers:{"Content-Type":"application/json"}}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"logout",value:function t(){return this._get(s.e,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"authenticate",value:function t(){return this._get(s.a,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"getViews",value:function t(){return this._get(s.i,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"getView",value:function t(e){return this._get(s.i+e,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"getThreeFile",value:function t(e){return this._get(s.c+e,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"addView",value:function t(n){var r=e.objToFormData(n);return this._post(s.i,r,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"updateView",value:function t(n){var r=e.objToFormData(n);return this._put(s.i+n._id,r,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"deleteView",value:function t(e){return this._delete(s.i+e,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"updateFile",value:function t(e,n){return this._put(s.c+e,n,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}}]),e}(a.a);e.a=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(124),s=n(0),u=n.n(s),c=n(94),l=n.n(c),h=n(577),f=n.n(h),d=n(37),p=n(16),m=n(135),v=n(127),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},b=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.hasAdminBackend=!1,n.isOmekaBackend=!0,n}return o(e,t),g(e,[{key:"authenticate",value:function t(){return new Promise(function(t,e){var n=localStorage.getItem("omekaApiKey"),r={};r.authenticated=null!==n,t(r)})}},{key:"getThreeAsset",value:function t(n,r){return y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getThreeAsset",this).call(this,d.f+n,r).then(function(t){var e={};return Object.keys(t).forEach(function(n){"model_units"===n&&(e[l.a.camelCase(n)]=t[n].toUpperCase()),e[l.a.camelCase(n)]=t[n]}),e}).catch(function(t){return console.log(t)})}},{key:"getThreeFile",value:function t(e){return Object(m.b)(e)===p.o?this._getBinary(e,{}).then(function(t){return t}).catch(function(t){return console.log(t)}):this._get(e,{}).then(function(t){return t}).catch(function(t){return console.log(t)})}},{key:"getThreeFileURL",value:function t(e){return new Promise(function(t,n){return t(e)})}},{key:"getMetadata",value:function t(n,r){return this._get(n,r).then(function(t){return e.parseMetadata(t.element_texts)}).catch(function(t){return console.log(t)})}},{key:"saveViewerSettings",value:function t(e,n){var r=JSON.stringify({viewer_settings:Object(v.b)(n)}),i="?key="+localStorage.getItem("omekaApiKey");return this._put(d.f+e+i,r,{headers:{"Content-Type":"application/json"}}).then(function(t){return t}).catch(function(t){return console.error(t)})}}],[{key:"parseMetadata",value:function t(e){return e.map(function(t){return{label:t.element.name,value:u.a.createElement(h.Markup,{content:t.text})}})}}]),e}(a.a);e.a=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MatcherShape=e.Matcher=e.FilterShape=e.Filter=e.Markup=void 0;var i=n(578),o=r(i),a=n(316),s=r(a),u=n(628),c=r(u),l=n(629),h=r(l),f=n(317);e.Markup=s.default,e.Filter=c.default,e.FilterShape=f.FilterShape,e.Matcher=h.default,e.MatcherShape=f.MatcherShape,e.default=o.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(302),o=r(i),a=n(78),s=r(a),u=n(79),c=r(u),l=n(195),h=r(l),f=n(209),d=r(f),p=n(0),m=r(p),v=n(1),g=r(v),y=n(210),b=r(y),x=n(314),_=r(x),w=n(316),E=r(w),M=n(317),S=function(t){function e(){return(0,s.default)(this,e),(0,h.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,c.default)(e,[{key:"parseMarkup",value:function t(){var e=this,n=this.props,r=n.tagName,i=n.content,a=n.emptyContent,s=n.onBeforeParse,u=n.onAfterParse,c=n.matchers,l=n.disableMatchers,h=n.filters,f=n.disableFilters,d=(0,o.default)(n,["tagName","content","emptyContent","onBeforeParse","onAfterParse","matchers","disableMatchers","filters","disableFilters"]),p=l?[]:c,m=f?[]:h,v=s?[s]:[],g=u?[u]:[];p.forEach(function(t){t.onBeforeParse&&v.push(t.onBeforeParse.bind(t)),t.onAfterParse&&g.push(t.onAfterParse.bind(t))});var y=v.reduce(function(t,n){var r=n(t,e.props);return r},i||""),b=new _.default(y,d,p,m),x=g.reduce(function(t,n){var r=n(t,e.props);return r},b.parse());return 0===x.length?a:x}},{key:"render",value:function t(){var e=this.props,n=e.disableLineBreaks,r=e.disableWhitelist,i=e.emptyContent,o=e.noHtml,a=e.noHtmlExceptMatchers,s=e.tagName;return m.default.createElement(E.default,{disableLineBreaks:n,disableWhitelist:r,emptyContent:i,noHtml:o,noHtmlExceptMatchers:a,tagName:s,parsedContent:this.parseMarkup()})}}]),e}(m.default.Component);S.propTypes={commonClass:g.default.string,content:g.default.string,disableFilters:g.default.bool,disableLineBreaks:g.default.bool,disableMatchers:g.default.bool,disableWhitelist:g.default.bool,emptyContent:g.default.node,filters:g.default.arrayOf(M.FilterShape),matchers:g.default.arrayOf(M.MatcherShape),noHtml:g.default.bool,noHtmlExceptMatchers:g.default.bool,onAfterParse:g.default.func,onBeforeParse:g.default.func,transform:g.default.func,tagName:g.default.string},S.defaultProps={content:"",commonClass:"interweave",disableFilters:!1,disableLineBreaks:!1,disableMatchers:!1,disableWhitelist:!1,emptyContent:null,filters:[],matchers:[],noHtml:!1,noHtmlExceptMatchers:!1,onAfterParse:null,onBeforeParse:null,transform:null,tagName:"span"},e.default=S},function(t,e,n){t.exports={default:n(580),__esModule:!0}},function(t,e,n){n(581);var r=n(38).Object;t.exports=function t(e,n,i){return r.defineProperty(e,n,i)}},function(t,e,n){var r=n(80);r(r.S+r.F*!n(66),"Object",{defineProperty:n(65).f})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports={default:n(584),__esModule:!0}},function(t,e,n){n(196),n(205),t.exports=n(206).f("iterator")},function(t,e,n){var r=n(197),i=n(198);t.exports=function(t){return function(e,n){var o=String(i(e)),a=r(n),s=o.length,u,c;return a<0||a>=s?t?"":void 0:(u=o.charCodeAt(a),u<55296||u>56319||a+1===s||(c=o.charCodeAt(a+1))<56320||c>57343?t?o.charAt(a):u:t?o.slice(a,a+2):c-56320+(u-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(199),i=n(129),o=n(204),a={};n(81)(a,n(50)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(65),i=n(82),o=n(131);t.exports=n(66)?Object.defineProperties:function t(e,n){i(e);for(var a=o(n),s=a.length,u=0,c;s>u;)r.f(e,c=a[u++],n[c]);return e}},function(t,e,n){var r=n(84),i=n(589),o=n(590);t.exports=function(t){return function(e,n,a){var s=r(e),u=i(s.length),c=o(a,u),l;if(t&&n!=n){for(;u>c;)if((l=s[c++])!=l)return!0}else for(;u>c;c++)if((t||c in s)&&s[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(197),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(197),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(57).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(67),i=n(311),o=n(201)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){"use strict";var r=n(594),i=n(595),o=n(96),a=n(84);t.exports=n(307)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports={default:n(597),__esModule:!0}},function(t,e,n){n(598),n(603),n(604),n(605),t.exports=n(38).Symbol},function(t,e,n){"use strict";var r=n(57),i=n(67),o=n(66),a=n(80),s=n(308),u=n(599).KEY,c=n(95),l=n(202),h=n(204),f=n(132),d=n(50),p=n(206),m=n(207),v=n(600),g=n(601),y=n(82),b=n(83),x=n(84),_=n(194),w=n(129),E=n(199),M=n(602),S=n(313),T=n(65),A=n(131),C=S.f,O=T.f,P=M.f,L=r.Symbol,R=r.JSON,k=R&&R.stringify,N="prototype",I=d("_hidden"),j=d("toPrimitive"),D={}.propertyIsEnumerable,B=l("symbol-registry"),F=l("symbols"),U=l("op-symbols"),G=Object[N],z="function"==typeof L,V=r.QObject,H=!V||!V[N]||!V[N].findChild,W=o&&c(function(){return 7!=E(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=C(G,e);r&&delete G[e],O(t,e,n),r&&t!==G&&O(G,e,r)}:O,q=function(t){var e=F[t]=E(L[N]);return e._k=t,e},X=z&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},Y=function t(e,n,r){return e===G&&Y(U,n,r),y(e),n=_(n,!0),y(r),i(F,n)?(r.enumerable?(i(e,I)&&e[I][n]&&(e[I][n]=!1),r=E(r,{enumerable:w(0,!1)})):(i(e,I)||O(e,I,w(1,{})),e[I][n]=!0),W(e,n,r)):O(e,n,r)},K=function t(e,n){y(e);for(var r=v(n=x(n)),i=0,o=r.length,a;o>i;)Y(e,a=r[i++],n[a]);return e},Z=function t(e,n){return void 0===n?E(e):K(E(e),n)},Q=function t(e){var n=D.call(this,e=_(e,!0));return!(this===G&&i(F,e)&&!i(U,e))&&(!(n||!i(this,e)||!i(F,e)||i(this,I)&&this[I][e])||n)},J=function t(e,n){if(e=x(e),n=_(n,!0),e!==G||!i(F,n)||i(U,n)){var r=C(e,n);return!r||!i(F,n)||i(e,I)&&e[I][n]||(r.enumerable=!0),r}},$=function t(e){for(var n=P(x(e)),r=[],o=0,a;n.length>o;)i(F,a=n[o++])||a==I||a==u||r.push(a);return r},tt=function t(e){for(var n=e===G,r=P(n?U:x(e)),o=[],a=0,s;r.length>a;)!i(F,s=r[a++])||n&&!i(G,s)||o.push(F[s]);return o};z||(L=function t(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),n=function(t){this===G&&n.call(U,t),i(this,I)&&i(this[I],e)&&(this[I][e]=!1),W(this,e,w(1,t))};return o&&H&&W(G,e,{configurable:!0,set:n}),q(e)},s(L[N],"toString",function t(){return this._k}),S.f=J,T.f=Y,n(312).f=M.f=$,n(133).f=Q,n(208).f=tt,o&&!n(130)&&s(G,"propertyIsEnumerable",Q,!0),p.f=function(t){return q(d(t))}),a(a.G+a.W+a.F*!z,{Symbol:L});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=A(d.store),it=0;rt.length>it;)m(rt[it++]);a(a.S+a.F*!z,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=L(t)},keyFor:function t(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var n in B)if(B[n]===e)return n},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!z,"Object",{create:Z,defineProperty:Y,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),R&&a(a.S+a.F*(!z||c(function(){var t=L();return"[null]"!=k([t])||"{}"!=k({a:t})||"{}"!=k(Object(t))})),"JSON",{stringify:function t(e){for(var n=[e],r=1,i,o;arguments.length>r;)n.push(arguments[r++]);if(o=i=n[1],(b(i)||void 0!==e)&&!X(e))return g(i)||(i=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!X(e))return e}),n[1]=i,k.apply(R,n)}}),L[N][j]||n(81)(L[N],j,L[N].valueOf),h(L,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){var r=n(132)("meta"),i=n(83),o=n(67),a=n(65).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(95)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return c&&p.NEED&&u(t)&&!o(t,r)&&l(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},function(t,e,n){var r=n(131),i=n(208),o=n(133);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a=n(t),s=o.f,u=0,c;a.length>u;)s.call(t,c=a[u++])&&e.push(c);return e}},function(t,e,n){var r=n(200);t.exports=Array.isArray||function t(e){return"Array"==r(e)}},function(t,e,n){var r=n(84),i=n(312).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function t(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(t,e){},function(t,e,n){n(207)("asyncIterator")},function(t,e,n){n(207)("observable")},function(t,e,n){t.exports={default:n(607),__esModule:!0}},function(t,e,n){n(608),t.exports=n(38).Object.setPrototypeOf},function(t,e,n){var r=n(80);r(r.S,"Object",{setPrototypeOf:n(609).set})},function(t,e,n){var r=n(83),i=n(82),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(303)(Function.call,n(313).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function t(n,i){return o(n,i),e?n.__proto__=i:r(n,i),n}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(611),__esModule:!0}},function(t,e,n){n(612);var r=n(38).Object;t.exports=function t(e,n){return r.create(e,n)}},function(t,e,n){var r=n(80);r(r.S,"Object",{create:n(199)})},function(t,e,n){"use strict";function r(){}var i=n(614);t.exports=function(){function t(t,e,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){t.exports={default:n(616),__esModule:!0}},function(t,e,n){n(617),t.exports=n(38).Object.assign},function(t,e,n){var r=n(80);r(r.S+r.F,"Object",{assign:n(618)})},function(t,e,n){"use strict";var r=n(131),i=n(208),o=n(133),a=n(311),s=n(310),u=Object.assign;t.exports=!u||n(95)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function t(e,n){for(var u=a(e),c=arguments.length,l=1,h=i.f,f=o.f;c>l;)for(var d=s(arguments[l++]),p=h?r(d).concat(h(d)):r(d),m=p.length,v=0,g;m>v;)f.call(d,g=p[v++])&&(u[g]=d[g]);return u}:u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(620),o=r(i),a=n(623),s=r(a);e.default=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a=(0,s.default)(t),u;!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){t.exports={default:n(621),__esModule:!0}},function(t,e,n){n(205),n(196),t.exports=n(622)},function(t,e,n){var r=n(315),i=n(50)("iterator"),o=n(96);t.exports=n(38).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){t.exports={default:n(624),__esModule:!0}},function(t,e,n){n(205),n(196),t.exports=n(625)},function(t,e,n){var r=n(82),i=n(626);t.exports=n(38).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(315),i=n(50)("iterator"),o=n(96);t.exports=n(38).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return function(e){p[e]=(0,a.default)({},t,p[e])}}Object.defineProperty(e,"__esModule",{value:!0}),e.ATTRIBUTES_TO_PROPS=e.ATTRIBUTES=e.FILTER_CAST_BOOL=e.FILTER_CAST_NUMBER=e.FILTER_DENY=e.FILTER_ALLOW=e.TAGS_BLACKLIST=e.TAGS=e.CONFIG_BLOCK=e.CONFIG_INLINE=e.TYPE_INLINE_BLOCK=e.TYPE_BLOCK=e.TYPE_INLINE=e.PARSER_DENY=e.PARSER_ALLOW=void 0;var o=n(134),a=r(o),s=e.PARSER_ALLOW=1,u=e.PARSER_DENY=2,c=e.TYPE_INLINE="inline",l=e.TYPE_BLOCK="block",h=e.TYPE_INLINE_BLOCK="inline-block",f=e.CONFIG_INLINE={rule:s,type:c,inline:!0,block:!1,self:!1,void:!1,parent:[],children:[]},d=e.CONFIG_BLOCK={rule:s,type:l,inline:!0,block:!0,self:!0,void:!1,parent:[],children:[]},p={a:{type:h,block:!0},address:{self:!1},audio:{children:["track","source"]},br:{inline:!1,void:!0},button:{type:h},dd:{parent:["dl"]},dl:{children:["dt"]},dt:{parent:["dl"],children:["dd"]},figcaption:{parent:["figure"]},footer:{self:!1},header:{self:!1},h1:{self:!1},h2:{self:!1},h3:{self:!1},h4:{self:!1},h5:{self:!1},h6:{self:!1},hr:{inline:!1,block:!1,void:!0},img:{inline:!1,void:!0},li:{self:!1,parent:["ul","ol"]},main:{self:!1},ol:{children:["li"]},picture:{children:["source","img"]},source:{inline:!1,parent:["audio","video","picture"],void:!0},span:{self:!0},table:{children:["thead","tbody","tfoot","tr"]},tbody:{parent:["table"],children:["tr"]},td:{parent:["tr"]},tfoot:{parent:["table"],children:["tr"]},th:{parent:["tr"]},thead:{parent:["table"],children:["tr"]},tr:{parent:["table","tbody","thead","tfoot"],children:["th","td"]},track:{inline:!1,parent:["audio","video"],void:!0},ul:{children:["li"]},video:{children:["track","source"]}};["a","abbr","b","br","button","cite","code","del","dfn","em","i","img","ins","kbd","label","mark","output","picture","q","s","samp","source","span","strong","sub","sup","time","track","u","var","video"].forEach(i(f)),["address","article","aside","audio","blockquote","dd","details","div","dl","dt","fieldset","figcaption","figure","footer","header","h1","h2","h3","h4","h5","h6","hr","legend","li","main","nav","ol","p","pre","section","summary","table","thead","tbody","tfoot","tr","th","td","ul"].forEach(i(d));var m=e.TAGS=Object.freeze(p),v=e.TAGS_BLACKLIST={applet:!0,body:!0,canvas:!0,embed:!0,frame:!0,frameset:!0,head:!0,html:!0,iframe:!0,object:!0,script:!0,style:!0},g=e.FILTER_ALLOW=1,y=e.FILTER_DENY=2,b=e.FILTER_CAST_NUMBER=3,x=e.FILTER_CAST_BOOL=4,_=e.ATTRIBUTES=Object.freeze({alt:g,cite:g,class:g,colspan:b,controls:x,datetime:g,default:x,disabled:x,dir:g,height:g,href:g,id:g,kind:g,label:g,lang:g,loop:x,muted:x,poster:g,role:g,rowspan:b,span:b,src:g,target:g,title:g,width:g}),w=e.ATTRIBUTES_TO_PROPS=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan"})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(78),o=r(i),a=n(79),s=r(a),u=function(){function t(){(0,o.default)(this,t)}return(0,s.default)(t,[{key:"attribute",value:function t(e,n){return n}},{key:"node",value:function t(e,n){return n}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(134),o=r(i),a=n(78),s=r(a),u=n(79),c=r(u),l=n(0),h=r(l),f=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,s.default)(this,t),this.options=(0,o.default)({},n),this.propName=e,this.inverseName="no"+(e.charAt(0).toUpperCase()+e.slice(1)),this.factory=r}return(0,c.default)(t,[{key:"createElement",value:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;return r="function"===typeof this.factory?this.factory(e,n):this.replaceWith(e,n)}},{key:"replaceWith",value:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e}},{key:"asTag",value:function t(){return""}},{key:"match",value:function t(e){}},{key:"doMatch",value:function t(e,n,r){var i=e.match(n instanceof RegExp?n:new RegExp(n,"i"));return i?(0,o.default)({},r(i),{match:i[0]}):null}},{key:"onBeforeParse",value:function t(e,n){return e}},{key:"onAfterParse",value:function t(e,n){return e}}]),t}();e.default=f},function(t,e,n){t.exports=function(){return n(126)('!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function e(){return t.default}:function e(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=125)}([function(t,e,n){var r=n(2),i=n(18),o=n(11),a=n(12),s=n(19),c="prototype",u=function(t,e,n){var h=t&u.F,l=t&u.G,f=t&u.S,p=t&u.P,d=t&u.B,m=l?r:f?r[e]||(r[e]={}):(r[e]||{})[c],v=l?i:i[e]||(i[e]={}),g=v[c]||(v[c]={}),y,x,_,b;l&&(n=e);for(y in n)x=!h&&m&&void 0!==m[y],_=(x?m:n)[y],b=d&&x?s(_,r):p&&"function"==typeof _?s(Function.call,_):_,m&&a(m,y,_,t&u.U),v[y]!=_&&o(v,y,b),p&&g[y]!=_&&(g[y]=_)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){var r=n(49)("wks"),i=n(33),o=n(2).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(1),i=n(91),o=n(22),a=Object.defineProperty;e.f=n(6)?Object.defineProperty:function t(e,n,s){if(r(e),n=o(n,!0),r(s),i)try{return a(e,n,s)}catch(t){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(e[n]=s.value),e}},function(t,e,n){var r=n(24),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(23);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(7),i=n(32);t.exports=n(6)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(2),i=n(11),o=n(14),a=n(33)("src"),s="toString",c=Function[s],u=(""+c).split(s);n(18).inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,s,function t(){return"function"==typeof this&&this[a]||c.call(this)})},function(t,e,n){var r=n(0),i=n(3),o=n(23),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+\'="\'+String(r).replace(a,"&quot;")+\'"\'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t](\'"\');return e!==e.toLowerCase()||e.split(\'"\').length>3}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(46),i=n(23);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(47),i=n(32),o=n(15),a=n(22),s=n(14),c=n(91),u=Object.getOwnPropertyDescriptor;e.f=n(6)?u:function t(e,n){if(e=o(e),n=a(n,!0),c)try{return u(e,n)}catch(t){}if(s(e,n))return i(!r.f.call(e,n),e[n])}},function(t,e,n){var r=n(14),i=n(9),o=n(66)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(10);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can\'t convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can\'t call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(0),i=n(18),o=n(3);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(19),i=n(46),o=n(9),a=n(8),s=n(83);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,h=4==t,l=6==t,f=5==t||l,p=e||s;return function(e,s,d){for(var m=o(e),v=i(m),g=r(s,d,3),y=a(v.length),x=0,_=n?p(e,y):c?p(e,0):void 0,b,w;y>x;x++)if((f||x in v)&&(b=v[x],w=g(b,x,m),t))if(n)_[x]=w;else if(w)switch(t){case 3:return!0;case 5:return b;case 6:return x;case 2:_.push(b)}else if(h)return!1;return l?-1:u||h?h:_}}},function(t,e,n){"use strict";if(n(6)){var r=n(30),i=n(2),o=n(3),a=n(0),s=n(60),c=n(89),u=n(19),h=n(39),l=n(32),f=n(11),p=n(41),d=n(24),m=n(8),v=n(117),g=n(35),y=n(22),x=n(14),_=n(48),b=n(4),w=n(9),M=n(80),E=n(36),S=n(17),T=n(37).f,A=n(82),R=n(33),L=n(5),P=n(26),C=n(50),I=n(57),O=n(85),N=n(44),U=n(54),D=n(38),F=n(84),z=n(107),B=n(7),G=n(16),H=B.f,j=G.f,k=i.RangeError,V=i.TypeError,W=i.Uint8Array,X="ArrayBuffer",Y="SharedArrayBuffer",q="BYTES_PER_ELEMENT",Z="prototype",J=Array[Z],Q=c.ArrayBuffer,K=c.DataView,$=P(0),tt=P(2),et=P(3),nt=P(4),rt=P(5),it=P(6),ot=C(!0),at=C(!1),st=O.values,ct=O.keys,ut=O.entries,ht=J.lastIndexOf,lt=J.reduce,ft=J.reduceRight,pt=J.join,dt=J.sort,mt=J.slice,vt=J.toString,gt=J.toLocaleString,yt=L("iterator"),xt=L("toStringTag"),_t=R("typed_constructor"),bt=R("def_constructor"),wt=s.CONSTR,Mt=s.TYPED,Et=s.VIEW,St="Wrong length!",Tt=P(1,function(t,e){return Ct(I(t,t[bt]),e)}),At=o(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),Rt=!!W&&!!W[Z].set&&o(function(){new W(1).set({})}),Lt=function(t,e){var n=d(t);if(n<0||n%e)throw k("Wrong offset!");return n},Pt=function(t){if(b(t)&&Mt in t)return t;throw V(t+" is not a typed array!")},Ct=function(t,e){if(!(b(t)&&_t in t))throw V("It is not a typed array constructor!");return new t(e)},It=function(t,e){return Ot(I(t,t[bt]),e)},Ot=function(t,e){for(var n=0,r=e.length,i=Ct(t,r);r>n;)i[n]=e[n++];return i},Nt=function(t,e,n){H(t,e,{get:function(){return this._d[n]}})},Ut=function t(e){var n=w(e),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i,a=A(n),s,c,h,l,f,p;if(void 0!=a&&!M(a)){for(p=a.call(n),h=[],s=0;!(f=p.next()).done;s++)h.push(f.value);n=h}for(o&&r>2&&(i=u(i,arguments[2],2)),s=0,c=m(n.length),l=Ct(this,c);c>s;s++)l[s]=o?i(n[s],s):n[s];return l},Dt=function t(){for(var e=0,n=arguments.length,r=Ct(this,n);n>e;)r[e]=arguments[e++];return r},Ft=!!W&&o(function(){gt.call(new W(1))}),zt=function t(){return gt.apply(Ft?mt.call(Pt(this)):Pt(this),arguments)},Bt={copyWithin:function t(e,n){return z.call(Pt(this),e,n,arguments.length>2?arguments[2]:void 0)},every:function t(e){return nt(Pt(this),e,arguments.length>1?arguments[1]:void 0)},fill:function t(e){return F.apply(Pt(this),arguments)},filter:function t(e){return It(this,tt(Pt(this),e,arguments.length>1?arguments[1]:void 0))},find:function t(e){return rt(Pt(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function t(e){return it(Pt(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function t(e){$(Pt(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function t(e){return at(Pt(this),e,arguments.length>1?arguments[1]:void 0)},includes:function t(e){return ot(Pt(this),e,arguments.length>1?arguments[1]:void 0)},join:function t(e){return pt.apply(Pt(this),arguments)},lastIndexOf:function t(e){return ht.apply(Pt(this),arguments)},map:function t(e){return Tt(Pt(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function t(e){return lt.apply(Pt(this),arguments)},reduceRight:function t(e){return ft.apply(Pt(this),arguments)},reverse:function t(){for(var e=this,n=Pt(e).length,r=Math.floor(n/2),i=0,o;i<r;)o=e[i],e[i++]=e[--n],e[n]=o;return e},some:function t(e){return et(Pt(this),e,arguments.length>1?arguments[1]:void 0)},sort:function t(e){return dt.call(Pt(this),e)},subarray:function t(e,n){var r=Pt(this),i=r.length,o=g(e,i);return new(I(r,r[bt]))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,m((void 0===n?i:g(n,i))-o))}},Gt=function t(e,n){return It(this,mt.call(Pt(this),e,n))},Ht=function t(e){Pt(this);var n=Lt(arguments[1],1),r=this.length,i=w(e),o=m(i.length),a=0;if(o+n>r)throw k(St);for(;a<o;)this[n+a]=i[a++]},jt={entries:function t(){return ut.call(Pt(this))},keys:function t(){return ct.call(Pt(this))},values:function t(){return st.call(Pt(this))}},kt=function(t,e){return b(t)&&t[Mt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Vt=function t(e,n){return kt(e,n=y(n,!0))?l(2,e[n]):j(e,n)},Wt=function t(e,n,r){return!(kt(e,n=y(n,!0))&&b(r)&&x(r,"value"))||x(r,"get")||x(r,"set")||r.configurable||x(r,"writable")&&!r.writable||x(r,"enumerable")&&!r.enumerable?H(e,n,r):(e[n]=r.value,e)};wt||(G.f=Vt,B.f=Wt),a(a.S+a.F*!wt,"Object",{getOwnPropertyDescriptor:Vt,defineProperty:Wt}),o(function(){vt.call({})})&&(vt=gt=function t(){return pt.call(this)});var Xt=p({},Bt);p(Xt,jt),f(Xt,yt,jt.values),p(Xt,{slice:Gt,set:Ht,constructor:function(){},toString:vt,toLocaleString:zt}),Nt(Xt,"buffer","b"),Nt(Xt,"byteOffset","o"),Nt(Xt,"byteLength","l"),Nt(Xt,"length","e"),H(Xt,xt,{get:function(){return this[Mt]}}),t.exports=function(t,e,n,c){c=!!c;var u=t+(c?"Clamped":"")+"Array",l="get"+t,p="set"+t,d=i[u],g=d||{},y=d&&S(d),x=!d||!s.ABV,w={},M=d&&d[Z],A=function(t,n){var r=t._d;return r.v[l](n*e+r.o,At)},R=function(t,n,r){var i=t._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*e+i.o,r,At)},L=function(t,e){H(t,e,{get:function(){return A(this,e)},set:function(t){return R(this,e,t)},enumerable:!0})};x?(d=n(function(t,n,r,i){h(t,d,u,"_d");var o=0,a=0,s,c,l,p;if(b(n)){if(!(n instanceof Q||(p=_(n))==X||p==Y))return Mt in n?Ot(d,n):Ut.call(d,n);s=n,a=Lt(r,e);var g=n.byteLength;if(void 0===i){if(g%e)throw k(St);if((c=g-a)<0)throw k(St)}else if((c=m(i)*e)+a>g)throw k(St);l=c/e}else l=v(n),c=l*e,s=new Q(c);for(f(t,"_d",{b:s,o:a,l:c,e:l,v:new K(s)});o<l;)L(t,o++)}),M=d[Z]=E(Xt),f(M,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&U(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,r,i){h(t,d,u);var o;return b(n)?n instanceof Q||(o=_(n))==X||o==Y?void 0!==i?new g(n,Lt(r,e),i):void 0!==r?new g(n,Lt(r,e)):new g(n):Mt in n?Ot(d,n):Ut.call(d,n):new g(v(n))}),$(y!==Function.prototype?T(g).concat(T(y)):T(g),function(t){t in d||f(d,t,g[t])}),d[Z]=M,r||(M.constructor=d));var P=M[yt],C=!!P&&("values"==P.name||void 0==P.name),I=jt.values;f(d,_t,!0),f(M,Mt,u),f(M,Et,!0),f(M,bt,d),(c?new d(1)[xt]==u:xt in M)||H(M,xt,{get:function(){return u}}),w[u]=d,a(a.G+a.W+a.F*(d!=g),w),a(a.S,u,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){g.of.call(d,1)}),u,{from:Ut,of:Dt}),q in M||f(M,q,e),a(a.P,u,Bt),D(u),a(a.P+a.F*Rt,u,{set:Ht}),a(a.P+a.F*!C,u,jt),r||M.toString==vt||(M.toString=vt),a(a.P+a.F*o(function(){new d(1).slice()}),u,{slice:Gt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){M.toLocaleString.call([1,2])})),u,{toLocaleString:zt}),N[u]=C?P:I,r||C||f(M,yt,I)}}else t.exports=function(){}},function(t,e,n){var r=n(112),i=n(0),o=n(49)("metadata"),a=o.store||(o.store=new(n(115))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o},c=function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},u=function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},h=function(t,e,n,r){s(n,r,!0).set(t,e)},l=function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},f=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},p=function(t){i(i.S,"Reflect",t)};t.exports={store:a,map:s,has:c,get:u,set:h,keys:l,key:f,exp:p}},function(t,e,n){var r=n(33)("meta"),i=n(4),o=n(14),a=n(7).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(3)(function(){return c(Object.preventExtensions({}))}),h=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},l=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!e)return"E";h(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!c(t))return!0;if(!e)return!1;h(t)}return t[r].w},p=function(t){return u&&d.NEED&&c(t)&&!o(t,r)&&h(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:f,onFreeze:p}},function(t,e){t.exports=!1},function(t,e,n){var r=n(5)("unscopables"),i=Array.prototype;void 0==i[r]&&n(11)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(93),i=n(67);t.exports=Object.keys||function t(e){return r(e,i)}},function(t,e,n){var r=n(24),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(1),i=n(94),o=n(67),a=n(66)("IE_PROTO"),s=function(){},c="prototype",u=function(){var t=n(64)("iframe"),e=o.length,r="<",i=">",a;for(t.style.display="none",n(68).appendChild(t),t.src="javascript:",a=t.contentWindow.document,a.open(),a.write("<script>document.F=Object<\\/script>"),a.close(),u=a.F;e--;)delete u[c][o[e]];return u()};t.exports=Object.create||function t(e,n){var o;return null!==e?(s[c]=r(e),o=new s,s[c]=null,o[a]=e):o=u(),void 0===n?o:i(o,n)}},function(t,e,n){var r=n(93),i=n(67).concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(e){return r(e,i)}},function(t,e,n){"use strict";var r=n(2),i=n(7),o=n(6),a=n(5)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(19),i=n(105),o=n(80),a=n(1),s=n(8),c=n(82),u={},h={},e=t.exports=function(t,e,n,l,f){var p=f?function(){return t}:c(t),d=r(n,l,e?2:1),m=0,v,g,y,x;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(o(p)){for(v=s(t.length);v>m;m++)if((x=e?d(a(g=t[m])[0],g[1]):d(t[m]))===u||x===h)return x}else for(y=p.call(t);!(g=y.next()).done;)if((x=i(y,d,g.value,e))===u||x===h)return x};e.BREAK=u,e.RETURN=h},function(t,e,n){var r=n(12);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(7).f,i=n(14),o=n(5)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(0),i=n(23),o=n(3),a=n(70),s="["+a+"]",c="\\u200b\\x85",u=RegExp("^"+s+s+"*"),h=RegExp(s+s+"*$"),l=function(t,e,n){var i={},s=o(function(){return!!a[t]()||c[t]()!=c}),u=i[t]=s?e(f):a[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},f=l.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(h,"")),t};t.exports=l},function(t,e){t.exports={}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(20),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(18),i=n(2),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(30)?"pure":"global",copyright:"\\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(15),i=n(8),o=n(35);t.exports=function(t){return function(e,n,a){var s=r(e),c=i(s.length),u=o(a,c),h;if(t&&n!=n){for(;c>u;)if((h=s[u++])!=h)return!0}else for(;c>u;u++)if((t||u in s)&&s[u]===n)return t||u||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(20);t.exports=Array.isArray||function t(e){return"Array"==r(e)}},function(t,e,n){var r=n(4),i=n(20),o=n(5)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(1);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(11),i=n(12),o=n(3),a=n(23),s=n(5);t.exports=function(t,e,n){var c=s(t),u=n(a,c,""[t]),h=u[0],l=u[1];o(function(){var e={};return e[c]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,h),r(RegExp.prototype,c,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)}))}},function(t,e,n){var r=n(1),i=n(10),o=n(5)("species");t.exports=function(t,e){var n=r(t).constructor,a;return void 0===n||void 0==(a=r(n)[o])?e:i(a)}},function(t,e,n){var r=n(2),i=r.navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var r=n(2),i=n(0),o=n(12),a=n(41),s=n(29),c=n(40),u=n(39),h=n(4),l=n(3),f=n(54),p=n(42),d=n(71);t.exports=function(t,e,n,m,v,g){var y=r[t],x=y,_=v?"set":"add",b=x&&x.prototype,w={},M=function(t){var e=b[t];o(b,t,"delete"==t?function(t){return!(g&&!h(t))&&e.call(this,0===t?0:t)}:"has"==t?function t(n){return!(g&&!h(n))&&e.call(this,0===n?0:n)}:"get"==t?function t(n){return g&&!h(n)?void 0:e.call(this,0===n?0:n)}:"add"==t?function t(n){return e.call(this,0===n?0:n),this}:function t(n,r){return e.call(this,0===n?0:n,r),this})};if("function"==typeof x&&(g||b.forEach&&!l(function(){(new x).entries().next()}))){var E=new x,S=E[_](g?{}:-0,1)!=E,T=l(function(){E.has(1)}),A=f(function(t){new x(t)}),R=!g&&l(function(){for(var t=new x,e=5;e--;)t[_](e,e);return!t.has(-0)});A||(x=e(function(e,n){u(e,x,t);var r=d(new y,e,x);return void 0!=n&&c(n,v,r[_],r),r}),x.prototype=b,b.constructor=x),(T||R)&&(M("delete"),M("has"),v&&M("get")),(R||S)&&M(_),g&&b.clear&&delete b.clear}else x=m.getConstructor(e,t,v,_),a(x.prototype,n),s.NEED=!0;return p(x,t),w[t]=x,i(i.G+i.W+i.F*(x!=y),w),g||m.setStrong(x,t,v),x}},function(t,e,n){for(var r=n(2),i=n(11),o=n(33),a=o("typed_array"),s=o("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,h=0,l=9,f,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(f=r[p[h++]])?(i(f.prototype,a,!0),i(f.prototype,s,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:a,VIEW:s}},function(t,e,n){"use strict";t.exports=n(30)||!n(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(2)[t]})},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){r(r.S,t,{of:function t(){for(var e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return new this(n)}})}},function(t,e,n){"use strict";var r=n(0),i=n(10),o=n(19),a=n(40);t.exports=function(t){r(r.S,t,{from:function t(e){var n=arguments[1],r,s,c,u;return i(this),r=void 0!==n,r&&i(n),void 0==e?new this:(s=[],r?(c=0,u=o(n,arguments[2],2),a(e,!1,function(t){s.push(u(t,c++))})):a(e,!1,s.push,s),new this(s))}})}},function(t,e,n){var r=n(4),i=n(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(2),i=n(18),o=n(30),a=n(92),s=n(7).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(49)("keys"),i=n(33);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(2).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(4),i=n(1),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can\'t set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(19)(Function.call,n(16).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function t(n,i){return o(n,i),e?n.__proto__=i:r(n,i),n}}({},!1):void 0),check:o}},function(t,e){t.exports="\\t\\n\\v\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff"},function(t,e,n){var r=n(4),i=n(69).set;t.exports=function(t,e,n){var o=e.constructor,a;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&r(a)&&i&&i(t,a),t}},function(t,e,n){"use strict";var r=n(24),i=n(23);t.exports=function t(e){var n=String(i(this)),o="",a=r(e);if(a<0||a==1/0)throw RangeError("Count can\'t be negative");for(;a>0;(a>>>=1)&&(n+=n))1&a&&(o+=n);return o}},function(t,e){t.exports=Math.sign||function t(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function t(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(t,e,n){var r=n(24),i=n(23);t.exports=function(t){return function(e,n){var o=String(i(e)),a=r(n),s=o.length,c,u;return a<0||a>=s?t?"":void 0:(c=o.charCodeAt(a),c<55296||c>56319||a+1===s||(u=o.charCodeAt(a+1))<56320||u>57343?t?o.charAt(a):c:t?o.slice(a,a+2):u-56320+(c-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(30),i=n(0),o=n(12),a=n(11),s=n(44),c=n(77),u=n(42),h=n(17),l=n(5)("iterator"),f=!([].keys&&"next"in[].keys()),p="keys",d="values",m=function(){return this};t.exports=function(t,e,n,v,g,y,x){c(n,e,v);var _=function(t){if(!f&&t in E)return E[t];switch(t){case p:return function e(){return new n(this,t)};case d:return function e(){return new n(this,t)}}return function e(){return new n(this,t)}},b=e+" Iterator",w=g==d,M=!1,E=t.prototype,S=E[l]||E["@@iterator"]||g&&E[g],T=S||_(g),A=g?w?_("entries"):T:void 0,R="Array"==e?E.entries||S:S,L,P,C;if(R&&(C=h(R.call(new t)))!==Object.prototype&&C.next&&(u(C,b,!0),r||"function"==typeof C[l]||a(C,l,m)),w&&S&&S.name!==d&&(M=!0,T=function t(){return S.call(this)}),r&&!x||!f&&!M&&E[l]||a(E,l,T),s[e]=T,s[b]=m,g)if(L={values:w?T:_(d),keys:y?T:_(p),entries:A},x)for(P in L)P in E||o(E,P,L[P]);else i(i.P+i.F*(f||M),e,L);return L}},function(t,e,n){"use strict";var r=n(36),i=n(32),o=n(42),a={};n(11)(a,n(5)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(53),i=n(23);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn\'t accept regex!");return String(i(t))}},function(t,e,n){var r=n(5)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(44),i=n(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(7),i=n(32);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(48),i=n(5)("iterator"),o=n(44);t.exports=n(18).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(218);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(9),i=n(35),o=n(8);t.exports=function t(e){for(var n=r(this),a=o(n.length),s=arguments.length,c=i(s>1?arguments[1]:void 0,a),u=s>2?arguments[2]:void 0,h=void 0===u?a:i(u,a);h>c;)n[c++]=e;return n}},function(t,e,n){"use strict";var r=n(31),i=n(108),o=n(44),a=n(15);t.exports=n(76)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(19),i=n(98),o=n(68),a=n(64),s=n(2),c=s.process,u=s.setImmediate,h=s.clearImmediate,l=s.MessageChannel,f=s.Dispatch,p=0,d={},m="onreadystatechange",v,g,y,x=function(){var t=+this;if(d.hasOwnProperty(t)){var e=d[t];delete d[t],e()}},_=function(t){x.call(t.data)};u&&h||(u=function t(e){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return d[++p]=function(){i("function"==typeof e?e:Function(e),n)},v(p),p},h=function t(e){delete d[e]},"process"==n(20)(c)?v=function(t){c.nextTick(r(x,t,1))}:f&&f.now?v=function(t){f.now(r(x,t,1))}:l?(g=new l,y=g.port2,g.port1.onmessage=_,v=r(y.postMessage,y,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(v=function(t){s.postMessage(t+"","*")},s.addEventListener("message",_,!1)):v=m in a("script")?function(t){o.appendChild(a("script"))[m]=function(){o.removeChild(this),x.call(t)}}:function(t){setTimeout(r(x,t,1),0)}),t.exports={set:u,clear:h}},function(t,e,n){var r=n(2),i=n(86).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(20)(a);t.exports=function(){var t,e,n,u=function(){var r,i;for(c&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var h=s.resolve(void 0);n=function(){h.then(u)}}else n=function(){i.call(r,u)};else{var l=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(10);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e,n){var r=new Array(n),i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=23===e?B(2,-24)-B(2,-77):0,c=0,u=t<0||0===t&&1/t<0?1:0,h,l,f;for(t=z(t),t!=t||t===D?(l=t!=t?1:0,h=o):(h=G(H(t)/j),t*(f=B(2,-h))<1&&(h--,f*=2),t+=h+a>=1?s/f:s*B(2,1-a),t*f>=2&&(h++,f/=2),h+a>=o?(l=0,h=o):h+a>=1?(l=(t*f-1)*B(2,e),h+=a):(l=t*B(2,a-1)*B(2,e),h=0));e>=8;r[c++]=255&l,l/=256,e-=8);for(h=h<<e|l,i+=e;i>0;r[c++]=255&h,h/=256,i-=8);return r[--c]|=128*u,r}function i(t,e,n){var r=8*n-e-1,i=(1<<r)-1,o=i>>1,a=r-7,s=n-1,c=t[s--],u=127&c,h;for(c>>=7;a>0;u=256*u+t[s],s--,a-=8);for(h=u&(1<<-a)-1,u>>=-a,a+=e;a>0;h=256*h+t[s],s--,a-=8);if(0===u)u=1-o;else{if(u===i)return h?NaN:c?-D:D;h+=B(2,e),u-=o}return(c?-1:1)*h*B(2,u-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function c(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function u(t){return r(t,52,8)}function h(t){return r(t,23,4)}function l(t,e,n){T(t[C],e,{get:function(){return this[n]}})}function f(t,e,n,r){var i=+n,o=E(i);if(o+e>t[Y])throw U(I);var a=t[X]._b,s=o+t[q],c=a.slice(s,s+e);return r?c:c.reverse()}function p(t,e,n,r,i,o){var a=+n,s=E(a);if(s+e>t[Y])throw U(I);for(var c=t[X]._b,u=s+t[q],h=r(+i),l=0;l<e;l++)c[u+l]=h[o?l:e-l-1]}var d=n(2),m=n(6),v=n(30),g=n(60),y=n(11),x=n(41),_=n(3),b=n(39),w=n(24),M=n(8),E=n(117),S=n(37).f,T=n(7).f,A=n(84),R=n(42),L="ArrayBuffer",P="DataView",C="prototype",I="Wrong index!",O=d[L],N=d[P],Math=d.Math,U=d.RangeError,D=d.Infinity,F=O,z=Math.abs,B=Math.pow,G=Math.floor,H=Math.log,j=Math.LN2,k="buffer",V="byteLength",W="byteOffset",X=m?"_b":k,Y=m?"_l":V,q=m?"_o":W;if(g.ABV){if(!_(function(){O(1)})||!_(function(){new O(-1)})||_(function(){return new O,new O(1.5),new O(NaN),O.name!=L})){O=function t(e){return b(this,O),new F(E(e))};for(var Z=O[C]=F[C],J=S(F),Q=0,K;J.length>Q;)(K=J[Q++])in O||y(O,K,F[K]);v||(Z.constructor=O)}var $=new N(new O(2)),tt=N[C].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||x(N[C],{setInt8:function t(e,n){tt.call(this,e,n<<24>>24)},setUint8:function t(e,n){tt.call(this,e,n<<24>>24)}},!0)}else O=function t(e){b(this,O,L);var n=E(e);this._b=A.call(new Array(n),0),this[Y]=n},N=function t(e,n,r){b(this,N,P),b(e,O,P);var i=e[Y],o=w(n);if(o<0||o>i)throw U("Wrong offset!");if(r=void 0===r?i-o:M(r),o+r>i)throw U("Wrong length!");this[X]=e,this[q]=o,this[Y]=r},m&&(l(O,V,"_l"),l(N,k,"_b"),l(N,V,"_l"),l(N,W,"_o")),x(N[C],{getInt8:function t(e){return f(this,1,e)[0]<<24>>24},getUint8:function t(e){return f(this,1,e)[0]},getInt16:function t(e){var n=f(this,2,e,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function t(e){var n=f(this,2,e,arguments[1]);return n[1]<<8|n[0]},getInt32:function t(e){return o(f(this,4,e,arguments[1]))},getUint32:function t(e){return o(f(this,4,e,arguments[1]))>>>0},getFloat32:function t(e){return i(f(this,4,e,arguments[1]),23,4)},getFloat64:function t(e){return i(f(this,8,e,arguments[1]),52,8)},setInt8:function t(e,n){p(this,1,e,a,n)},setUint8:function t(e,n){p(this,1,e,a,n)},setInt16:function t(e,n){p(this,2,e,s,n,arguments[2])},setUint16:function t(e,n){p(this,2,e,s,n,arguments[2])},setInt32:function t(e,n){p(this,4,e,c,n,arguments[2])},setUint32:function t(e,n){p(this,4,e,c,n,arguments[2])},setFloat32:function t(e,n){p(this,4,e,h,n,arguments[2])},setFloat64:function t(e,n){p(this,8,e,u,n,arguments[2])}});R(O,L),R(N,P),y(N[C],g.VIEW,!0),e[L]=O,e[P]=N},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=!n(6)&&!n(3)(function(){return 7!=Object.defineProperty(n(64)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(5)},function(t,e,n){var r=n(14),i=n(15),o=n(50)(!1),a=n(66)("IE_PROTO");t.exports=function(t,e){var n=i(t),s=0,c=[],u;for(u in n)u!=a&&r(n,u)&&c.push(u);for(;e.length>s;)r(n,u=e[s++])&&(~o(c,u)||c.push(u));return c}},function(t,e,n){var r=n(7),i=n(1),o=n(34);t.exports=n(6)?Object.defineProperties:function t(e,n){i(e);for(var a=o(n),s=a.length,c=0,u;s>c;)r.f(e,u=a[c++],n[u]);return e}},function(t,e,n){var r=n(15),i=n(37).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function t(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(t,e,n){"use strict";var r=n(34),i=n(51),o=n(47),a=n(9),s=n(46),c=Object.assign;t.exports=!c||n(3)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function t(e,n){for(var c=a(e),u=arguments.length,h=1,l=i.f,f=o.f;u>h;)for(var p=s(arguments[h++]),d=l?r(p).concat(l(p)):r(p),m=d.length,v=0,g;m>v;)f.call(p,g=d[v++])&&(c[g]=p[g]);return c}:c},function(t,e,n){"use strict";var r=n(10),i=n(4),o=n(98),a=[].slice,s={},c=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function t(e){var n=r(this),s=a.call(arguments,1),u=function(){var t=s.concat(a.call(arguments));return this instanceof u?c(n,t.length,t):o(n,t,e)};return i(n.prototype)&&(u.prototype=n.prototype),u}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(2).parseInt,i=n(43).trim,o=n(70),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function t(e,n){var o=i(String(e),3);return r(o,n>>>0||(a.test(o)?16:10))}:r},function(t,e,n){var r=n(2).parseFloat,i=n(43).trim;t.exports=1/r(n(70)+"-0")!==-1/0?function t(e){var n=i(String(e),3),o=r(n);return 0===o&&"-"==n.charAt(0)?-0:o}:r},function(t,e,n){var r=n(20);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(4),i=Math.floor;t.exports=function t(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(t,e){t.exports=Math.log1p||function t(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(t,e,n){var r=n(73),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),c=i(2,-126),u=function(t){return t+1/o-1/o};t.exports=Math.fround||function t(e){var n=Math.abs(e),i=r(e),h,l;return n<c?i*u(n/c/a)*c*a:(h=(1+a/o)*n,l=h-(h-n),l>s||l!=l?i*(1/0):i*l)}},function(t,e,n){var r=n(1);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(10),i=n(9),o=n(46),a=n(8);t.exports=function(t,e,n,s,c){r(e);var u=i(t),h=o(u),l=a(u.length),f=c?l-1:0,p=c?-1:1;if(n<2)for(;;){if(f in h){s=h[f],f+=p;break}if(f+=p,c?f<0:l<=f)throw TypeError("Reduce of empty array with no initial value")}for(;c?f>=0:l>f;f+=p)f in h&&(s=e(s,h[f],f,u));return s}},function(t,e,n){"use strict";var r=n(9),i=n(35),o=n(8);t.exports=[].copyWithin||function t(e,n){var a=r(this),s=o(a.length),c=i(e,s),u=i(n,s),h=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===h?s:i(h,s))-u,s-c),f=1;for(u<c&&c<u+l&&(f=-1,u+=l-1,c+=l-1);l-- >0;)u in a?a[c]=a[u]:delete a[c],c+=f,u+=f;return a}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(6)&&"g"!=/./g.flags&&n(7).f(RegExp.prototype,"flags",{configurable:!0,get:n(55)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(1),i=n(4),o=n(88);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(113),i=n(45),o="Map";t.exports=n(59)(o,function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function t(e){var n=r.getEntry(i(this,o),e);return n&&n.v},set:function t(e,n){return r.def(i(this,o),0===e?0:e,n)}},r,!0)},function(t,e,n){"use strict";var r=n(7).f,i=n(36),o=n(41),a=n(19),s=n(39),c=n(40),u=n(76),h=n(108),l=n(38),f=n(6),p=n(29).fastKey,d=n(45),m=f?"_s":"size",v=function(t,e){var n=p(e),r;if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,n,u){var h=t(function(t,r){s(t,h,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=r&&c(r,n,t[u],t)});return o(h.prototype,{clear:function t(){for(var n=d(this,e),r=n._i,i=n._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];n._f=n._l=void 0,n[m]=0},delete:function(t){var n=d(this,e),r=v(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function t(n){d(this,e);for(var r=a(n,arguments.length>1?arguments[1]:void 0,3),i;i=i?i.n:this._f;)for(r(i.v,i.k,this);i&&i.r;)i=i.p},has:function t(n){return!!v(d(this,e),n)}}),f&&r(h.prototype,"size",{get:function(){return d(this,e)[m]}}),h},def:function(t,e,n){var r=v(t,e),i,o;return r?r.v=n:(t._l=r={i:o=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=r),i&&(i.n=r),t[m]++,"F"!==o&&(t._i[o]=r)),t},getEntry:v,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?h(0,n.k):"values"==e?h(0,n.v):h(0,[n.k,n.v]):(t._t=void 0,h(1))},n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){"use strict";var r=n(113),i=n(45),o="Set";t.exports=n(59)(o,function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function t(e){return r.def(i(this,o),e=0===e?0:e,e)}},r)},function(t,e,n){"use strict";var r=n(26)(0),i=n(12),o=n(29),a=n(96),s=n(116),c=n(4),u=n(3),h=n(45),l="WeakMap",f=o.getWeak,p=Object.isExtensible,d=s.ufstore,m={},v,g=function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function t(e){if(c(e)){var n=f(e);return!0===n?d(h(this,l)).get(e):n?n[this._i]:void 0}},set:function t(e,n){return s.def(h(this,l),e,n)}},x=t.exports=n(59)(l,g,y,s,!0,!0);u(function(){return 7!=(new x).set((Object.freeze||Object)(m),7).get(m)})&&(v=s.getConstructor(g,l),a(v.prototype,y),o.NEED=!0,r(["delete","has","get","set"],function(t){var e=x.prototype,n=e[t];i(e,t,function(e,r){if(c(e)&&!p(e)){this._f||(this._f=new v);var i=this._f[t](e,r);return"set"==t?this:i}return n.call(this,e,r)})}))},function(t,e,n){"use strict";var r=n(41),i=n(29).getWeak,o=n(1),a=n(4),s=n(39),c=n(40),u=n(26),h=n(14),l=n(45),f=u(5),p=u(6),d=0,m=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},g=function(t,e){return f(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var u=t(function(t,r){s(t,u,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=r&&c(r,n,t[o],t)});return r(u.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?m(l(this,e)).delete(t):n&&h(n,this._i)&&delete n[this._i]},has:function t(n){if(!a(n))return!1;var r=i(n);return!0===r?m(l(this,e)).has(n):r&&h(r,this._i)}}),u},def:function(t,e,n){var r=i(o(e),!0);return!0===r?m(t).set(e,n):r[t._i]=n,t},ufstore:m}},function(t,e,n){var r=n(24),i=n(8);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(37),i=n(51),o=n(1),a=n(2).Reflect;t.exports=a&&a.ownKeys||function t(e){var n=r.f(o(e)),a=i.f;return a?n.concat(a(e)):n}},function(t,e,n){"use strict";function r(t,e,n,u,h,l,f,p){for(var d=h,m=0,v=!!f&&s(f,p,3),g,y;m<u;){if(m in n){if(g=v?v(n[m],m,e):n[m],y=!1,o(g)&&(y=g[c],y=void 0!==y?!!y:i(g)),y&&l>0)d=r(t,e,g,a(g.length),d,l-1)-1;else{if(d>=9007199254740991)throw TypeError();t[d]=g}d++}m++}return d}var i=n(52),o=n(4),a=n(8),s=n(19),c=n(5)("isConcatSpreadable");t.exports=r},function(t,e,n){var r=n(8),i=n(72),o=n(23);t.exports=function(t,e,n,a){var s=String(o(t)),c=s.length,u=void 0===n?" ":String(n),h=r(e);if(h<=c||""==u)return s;var l=h-c,f=i.call(u,Math.ceil(l/u.length));return f.length>l&&(f=f.slice(0,l)),a?f+s:s+f}},function(t,e,n){var r=n(34),i=n(15),o=n(47).f;t.exports=function(t){return function(e){for(var n=i(e),a=r(n),s=a.length,c=0,u=[],h;s>c;)o.call(n,h=a[c++])&&u.push(t?[h,n[h]]:n[h]);return u}}},function(t,e,n){var r=n(48),i=n(123);t.exports=function(t){return function e(){if(r(this)!=t)throw TypeError(t+"#toJSON isn\'t generic");return i(this)}}},function(t,e,n){var r=n(40);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function t(e,n,r,i,o){return 0===arguments.length||e!=e||n!=n||r!=r||i!=i||o!=o?NaN:e===1/0||e===-1/0?e:(e-n)*(o-i)/(r-n)+i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(126),i=n.n(r),o=n(328),a=function t(e){return parseFloat(e.loaded/1e6).toFixed(2)+" MB"},s=function t(e){e.mapping=o.a,e.magFilter=o.b,e.minFilter=o.c,postMessage({status:!0,modelLoader:{eventType:"loaded",val:e,loaderType:self.loaderType}})},c=function t(e){var n=a(e);postMessage({status:!0,modelLoader:{eventType:"progress",val:n,loaderType:self.loaderType}})},u=function t(e){postMessage({status:!1,modelLoader:{eventType:"error",val:e,loaderType:self.loaderType}})};self.onmessage=function(t){var e=t.data,n=e.type,r=e.url;void 0!==n&&void 0!==r||postMessage({status:!1,error:"Invalid data passed to ModelLoaderWorker"}),self.loaderType=n;var i=new o.d;console.log(i.parseGeometries),i.load(r,s,c,u)}},function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[r](t,e,{writable:!0,configurable:!0,value:n})}if(n(127),n(324),n(325),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(90))},function(t,e,n){n(128),n(130),n(131),n(132),n(133),n(134),n(135),n(136),n(137),n(138),n(139),n(140),n(141),n(142),n(143),n(144),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(208),n(209),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(85),n(232),n(233),n(109),n(234),n(235),n(236),n(237),n(238),n(112),n(114),n(115),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),t.exports=n(18)},function(t,e,n){"use strict";var r=n(2),i=n(14),o=n(6),a=n(0),s=n(12),c=n(29).KEY,u=n(3),h=n(49),l=n(42),f=n(33),p=n(5),d=n(92),m=n(65),v=n(129),g=n(52),y=n(1),x=n(4),_=n(15),b=n(22),w=n(32),M=n(36),E=n(95),S=n(16),T=n(7),A=n(34),R=S.f,L=T.f,P=E.f,C=r.Symbol,I=r.JSON,O=I&&I.stringify,N="prototype",U=p("_hidden"),D=p("toPrimitive"),F={}.propertyIsEnumerable,z=h("symbol-registry"),B=h("symbols"),G=h("op-symbols"),H=Object[N],j="function"==typeof C,k=r.QObject,V=!k||!k[N]||!k[N].findChild,W=o&&u(function(){return 7!=M(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=R(H,e);r&&delete H[e],L(t,e,n),r&&t!==H&&L(H,e,r)}:L,X=function(t){var e=B[t]=M(C[N]);return e._k=t,e},Y=j&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},q=function t(e,n,r){return e===H&&q(G,n,r),y(e),n=b(n,!0),y(r),i(B,n)?(r.enumerable?(i(e,U)&&e[U][n]&&(e[U][n]=!1),r=M(r,{enumerable:w(0,!1)})):(i(e,U)||L(e,U,w(1,{})),e[U][n]=!0),W(e,n,r)):L(e,n,r)},Z=function t(e,n){y(e);for(var r=v(n=_(n)),i=0,o=r.length,a;o>i;)q(e,a=r[i++],n[a]);return e},J=function t(e,n){return void 0===n?M(e):Z(M(e),n)},Q=function t(e){var n=F.call(this,e=b(e,!0));return!(this===H&&i(B,e)&&!i(G,e))&&(!(n||!i(this,e)||!i(B,e)||i(this,U)&&this[U][e])||n)},K=function t(e,n){if(e=_(e),n=b(n,!0),e!==H||!i(B,n)||i(G,n)){var r=R(e,n);return!r||!i(B,n)||i(e,U)&&e[U][n]||(r.enumerable=!0),r}},$=function t(e){for(var n=P(_(e)),r=[],o=0,a;n.length>o;)i(B,a=n[o++])||a==U||a==c||r.push(a);return r},tt=function t(e){for(var n=e===H,r=P(n?G:_(e)),o=[],a=0,s;r.length>a;)!i(B,s=r[a++])||n&&!i(H,s)||o.push(B[s]);return o};j||(C=function t(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),n=function(t){this===H&&n.call(G,t),i(this,U)&&i(this[U],e)&&(this[U][e]=!1),W(this,e,w(1,t))};return o&&V&&W(H,e,{configurable:!0,set:n}),X(e)},s(C[N],"toString",function t(){return this._k}),S.f=K,T.f=q,n(37).f=E.f=$,n(47).f=Q,n(51).f=tt,o&&!n(30)&&s(H,"propertyIsEnumerable",Q,!0),d.f=function(t){return X(p(t))}),a(a.G+a.W+a.F*!j,{Symbol:C});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var rt=A(p.store),it=0;rt.length>it;)m(rt[it++]);a(a.S+a.F*!j,"Symbol",{for:function(t){return i(z,t+="")?z[t]:z[t]=C(t)},keyFor:function t(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var n in z)if(z[n]===e)return n},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!j,"Object",{create:J,defineProperty:q,defineProperties:Z,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),I&&a(a.S+a.F*(!j||u(function(){var t=C();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function t(e){for(var n=[e],r=1,i,o;arguments.length>r;)n.push(arguments[r++]);if(o=i=n[1],(x(i)||void 0!==e)&&!Y(e))return g(i)||(i=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!Y(e))return e}),n[1]=i,O.apply(I,n)}}),C[N][D]||n(11)(C[N],D,C[N].valueOf),l(C,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var r=n(34),i=n(51),o=n(47);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a=n(t),s=o.f,c=0,u;a.length>c;)s.call(t,u=a[c++])&&e.push(u);return e}},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(36)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperty:n(7).f})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperties:n(94)})},function(t,e,n){var r=n(15),i=n(16).f;n(25)("getOwnPropertyDescriptor",function(){return function t(e,n){return i(r(e),n)}})},function(t,e,n){var r=n(9),i=n(17);n(25)("getPrototypeOf",function(){return function t(e){return i(r(e))}})},function(t,e,n){var r=n(9),i=n(34);n(25)("keys",function(){return function t(e){return i(r(e))}})},function(t,e,n){n(25)("getOwnPropertyNames",function(){return n(95).f})},function(t,e,n){var r=n(4),i=n(29).onFreeze;n(25)("freeze",function(t){return function e(n){return t&&r(n)?t(i(n)):n}})},function(t,e,n){var r=n(4),i=n(29).onFreeze;n(25)("seal",function(t){return function e(n){return t&&r(n)?t(i(n)):n}})},function(t,e,n){var r=n(4),i=n(29).onFreeze;n(25)("preventExtensions",function(t){return function e(n){return t&&r(n)?t(i(n)):n}})},function(t,e,n){var r=n(4);n(25)("isFrozen",function(t){return function e(n){return!r(n)||!!t&&t(n)}})},function(t,e,n){var r=n(4);n(25)("isSealed",function(t){return function e(n){return!r(n)||!!t&&t(n)}})},function(t,e,n){var r=n(4);n(25)("isExtensible",function(t){return function e(n){return!!r(n)&&(!t||t(n))}})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(96)})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(145)})},function(t,e){t.exports=Object.is||function t(e,n){return e===n?0!==e||1/e===1/n:e!=e&&n!=n}},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(69).set})},function(t,e,n){"use strict";var r=n(48),i={};i[n(5)("toStringTag")]="z",i+""!="[object z]"&&n(12)(Object.prototype,"toString",function t(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(97)})},function(t,e,n){var r=n(7).f,i=Function.prototype,o=/^\\s*function ([^ (]*)/,a="name";a in i||n(6)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(4),i=n(17),o=n(5)("hasInstance"),a=Function.prototype;o in a||n(7).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(0),i=n(99);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(0),i=n(100);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(2),i=n(14),o=n(20),a=n(71),s=n(22),c=n(3),u=n(37).f,h=n(16).f,l=n(7).f,f=n(43).trim,p="Number",d=r[p],m=d,v=d.prototype,g=o(n(36)(v))==p,y="trim"in String.prototype,x=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():f(e,3);var n=e.charCodeAt(0),r,i,o;if(43===n||45===n){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+e}for(var a=e.slice(2),c=0,u=a.length,h;c<u;c++)if((h=a.charCodeAt(c))<48||h>o)return NaN;return parseInt(a,i)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function t(e){var n=arguments.length<1?0:e,r=this;return r instanceof d&&(g?c(function(){v.valueOf.call(r)}):o(r)!=p)?a(new m(x(n)),r,d):x(n)};for(var _=n(6)?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0,w;_.length>b;b++)i(m,w=_[b])&&!i(d,w)&&l(d,w,h(m,w));d.prototype=v,v.constructor=d,n(12)(r,p,d)}},function(t,e,n){"use strict";var r=n(0),i=n(24),o=n(101),a=n(72),s=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!",l="0",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*u[n],u[n]=r%1e7,r=c(r/1e7)},p=function(t){for(var e=6,n=0;--e>=0;)n+=u[e],u[e]=c(n/t),n=n%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var n=String(u[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},m=function(t,e,n){return 0===e?n:e%2===1?m(t,e-1,n*t):m(t*t,e/2,n)},v=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){s.call({})})),"Number",{toFixed:function t(e){var n=o(this,h),r=i(e),s="",c="0",u,l,g,y;if(r<0||r>20)throw RangeError(h);if(n!=n)return"NaN";if(n<=-1e21||n>=1e21)return String(n);if(n<0&&(s="-",n=-n),n>1e-21)if(u=v(n*m(2,69,1))-69,l=u<0?n*m(2,-u,1):n/m(2,u,1),l*=4503599627370496,(u=52-u)>0){for(f(0,l),g=r;g>=7;)f(1e7,0),g-=7;for(f(m(10,g,1),0),g=u-1;g>=23;)p(1<<23),g-=23;p(1<<g),f(1,1),p(2),c=d()}else f(0,l),f(1<<-u,0),c=d()+a.call("0",r);return r>0?(y=c.length,c=s+(y<=r?"0."+a.call("0",r-y)+c:c.slice(0,y-r)+"."+c.slice(y-r))):c=s+c,c}})},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(101),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function t(e){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(n):a.call(n,e)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),i=n(2).isFinite;r(r.S,"Number",{isFinite:function t(e){return"number"==typeof e&&i(e)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(102)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function t(e){return e!=e}})},function(t,e,n){var r=n(0),i=n(102),o=Math.abs;r(r.S,"Number",{isSafeInteger:function t(e){return i(e)&&o(e)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),i=n(100);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(0),i=n(99);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(0),i=n(103),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function t(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function t(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(t,e,n){var r=n(0),i=n(73);r(r.S,"Math",{cbrt:function t(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function t(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function t(e){return(i(e=+e)+i(-e))/2}})},function(t,e,n){var r=n(0),i=n(74);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(104)})},function(t,e,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function t(e,n){for(var r=0,o=0,a=arguments.length,s=0,c,u;o<a;)c=i(arguments[o++]),s<c?(u=s/c,r=r*u*u+1,s=c):c>0?(u=c/s,r+=u*u):r+=c;return s===1/0?1/0:s*Math.sqrt(r)}})},function(t,e,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function t(e,n){var r=65535,i=+e,o=+n,a=65535&i,s=65535&o;return 0|a*s+((65535&i>>>16)*s+a*(65535&o>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function t(e){return Math.log(e)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(103)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function t(e){return Math.log(e)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(73)})},function(t,e,n){var r=n(0),i=n(74),o=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function t(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),i=n(74),o=Math.exp;r(r.S,"Math",{tanh:function t(e){var n=i(e=+e),r=i(-e);return n==1/0?1:r==1/0?-1:(n-r)/(o(e)+o(-e))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function t(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(t,e,n){var r=n(0),i=n(35),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function t(e){for(var n=[],r=arguments.length,a=0,s;r>a;){if(s=+arguments[a++],i(s,1114111)!==s)throw RangeError(s+" is not a valid code point");n.push(s<65536?o(s):o(55296+((s-=65536)>>10),s%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0),i=n(15),o=n(8);r(r.S,"String",{raw:function t(e){for(var n=i(e.raw),r=o(n.length),a=arguments.length,s=[],c=0;r>c;)s.push(String(n[c++])),c<a&&s.push(String(arguments[c]));return s.join("")}})},function(t,e,n){"use strict";n(43)("trim",function(t){return function e(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(75)(!0);n(76)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i,n;return e>=t.length?{value:void 0,done:!0}:(n=r(t,e),this._i+=n.length,{value:n,done:!1})})},function(t,e,n){"use strict";var r=n(0),i=n(75)(!1);r(r.P,"String",{codePointAt:function t(e){return i(this,e)}})},function(t,e,n){"use strict";var r=n(0),i=n(8),o=n(78),a="endsWith",s=""[a];r(r.P+r.F*n(79)(a),"String",{endsWith:function t(e){var n=o(this,e,a),r=arguments.length>1?arguments[1]:void 0,c=i(n.length),u=void 0===r?c:Math.min(i(r),c),h=String(e);return s?s.call(n,h,u):n.slice(u-h.length,u)===h}})},function(t,e,n){"use strict";var r=n(0),i=n(78),o="includes";r(r.P+r.F*n(79)(o),"String",{includes:function t(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(72)})},function(t,e,n){"use strict";var r=n(0),i=n(8),o=n(78),a="startsWith",s=""[a];r(r.P+r.F*n(79)(a),"String",{startsWith:function t(e){var n=o(this,e,a),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),c=String(e);return s?s.call(n,c,r):n.slice(r,r+c.length)===c}})},function(t,e,n){"use strict";n(13)("anchor",function(t){return function e(n){return t(this,"a","name",n)}})},function(t,e,n){"use strict";n(13)("big",function(t){return function e(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(13)("blink",function(t){return function e(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(13)("bold",function(t){return function e(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(13)("fixed",function(t){return function e(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(13)("fontcolor",function(t){return function e(n){return t(this,"font","color",n)}})},function(t,e,n){"use strict";n(13)("fontsize",function(t){return function e(n){return t(this,"font","size",n)}})},function(t,e,n){"use strict";n(13)("italics",function(t){return function e(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(13)("link",function(t){return function e(n){return t(this,"a","href",n)}})},function(t,e,n){"use strict";n(13)("small",function(t){return function e(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(13)("strike",function(t){return function e(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(13)("sub",function(t){return function e(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(13)("sup",function(t){return function e(){return t(this,"sup","","")}})},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(22);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function t(e){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(t,e,n){var r=n(0),i=n(207);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(3),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function t(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,n=e.getUTCFullYear(),r=e.getUTCMilliseconds(),o=n<0?"-":n>9999?"+":"";return o+("00000"+Math.abs(n)).slice(o?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(r>99?r:"0"+a(r))+"Z"}:o},function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&n(12)(r,o,function t(){var e=s.call(this);return e===e?a.call(this):i})},function(t,e,n){var r=n(5)("toPrimitive"),i=Date.prototype;r in i||n(11)(i,r,n(210))},function(t,e,n){"use strict";var r=n(1),i=n(22),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(52)})},function(t,e,n){"use strict";var r=n(19),i=n(0),o=n(9),a=n(105),s=n(80),c=n(8),u=n(81),h=n(82);i(i.S+i.F*!n(54)(function(t){Array.from(t)}),"Array",{from:function t(e){var n=o(e),i="function"==typeof this?this:Array,l=arguments.length,f=l>1?arguments[1]:void 0,p=void 0!==f,d=0,m=h(n),v,g,y,x;if(p&&(f=r(f,l>2?arguments[2]:void 0,2)),void 0==m||i==Array&&s(m))for(v=c(n.length),g=new i(v);v>d;d++)u(g,d,p?f(n[d],d):n[d]);else for(x=m.call(n),g=new i;!(y=x.next()).done;d++)u(g,d,p?a(x,f,[y.value,d],!0):y.value);return g.length=d,g}})},function(t,e,n){"use strict";var r=n(0),i=n(81);r(r.S+r.F*n(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function t(){for(var e=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>e;)i(r,e,arguments[e++]);return r.length=n,r}})},function(t,e,n){"use strict";var r=n(0),i=n(15),o=[].join;r(r.P+r.F*(n(46)!=Object||!n(21)(o)),"Array",{join:function t(e){return o.call(i(this),void 0===e?",":e)}})},function(t,e,n){"use strict";var r=n(0),i=n(68),o=n(20),a=n(35),s=n(8),c=[].slice;r(r.P+r.F*n(3)(function(){i&&c.call(i)}),"Array",{slice:function t(e,n){var r=s(this.length),i=o(this);if(n=void 0===n?r:n,"Array"==i)return c.call(this,e,n);for(var u=a(e,r),h=a(n,r),l=s(h-u),f=new Array(l),p=0;p<l;p++)f[p]="String"==i?this.charAt(u+p):this[u+p];return f}})},function(t,e,n){"use strict";var r=n(0),i=n(10),o=n(9),a=n(3),s=[].sort,c=[1,2,3];r(r.P+r.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!n(21)(s)),"Array",{sort:function t(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(t,e,n){"use strict";var r=n(0),i=n(26)(0),o=n(21)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function t(e){return i(this,e,arguments[1])}})},function(t,e,n){var r=n(4),i=n(52),o=n(5)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(0),i=n(26)(1);r(r.P+r.F*!n(21)([].map,!0),"Array",{map:function t(e){return i(this,e,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(26)(2);r(r.P+r.F*!n(21)([].filter,!0),"Array",{filter:function t(e){return i(this,e,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(26)(3);r(r.P+r.F*!n(21)([].some,!0),"Array",{some:function t(e){return i(this,e,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(26)(4);r(r.P+r.F*!n(21)([].every,!0),"Array",{every:function t(e){return i(this,e,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(106);r(r.P+r.F*!n(21)([].reduce,!0),"Array",{reduce:function t(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),i=n(106);r(r.P+r.F*!n(21)([].reduceRight,!0),"Array",{reduceRight:function t(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(50)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(21)(o)),"Array",{indexOf:function t(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(15),o=n(24),a=n(8),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(21)(s)),"Array",{lastIndexOf:function t(e){if(c)return s.apply(this,arguments)||0;var n=i(this),r=a(n.length),u=r-1;for(arguments.length>1&&(u=Math.min(u,o(arguments[1]))),u<0&&(u=r+u);u>=0;u--)if(u in n&&n[u]===e)return u||0;return-1}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(107)}),n(31)("copyWithin")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(84)}),n(31)("fill")},function(t,e,n){"use strict";var r=n(0),i=n(26)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function t(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(31)(o)},function(t,e,n){"use strict";var r=n(0),i=n(26)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function t(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(31)(o)},function(t,e,n){n(38)("Array")},function(t,e,n){var r=n(2),i=n(71),o=n(7).f,a=n(37).f,s=n(53),c=n(55),u=r.RegExp,h=u,l=u.prototype,f=/a/g,p=/a/g,d=new u(f)!==f;if(n(6)&&(!d||n(3)(function(){return p[n(5)("match")]=!1,u(f)!=f||u(p)==p||"/a/i"!=u(f,"i")}))){u=function t(e,n){var r=this instanceof u,o=s(e),a=void 0===n;return!r&&o&&e.constructor===u&&a?e:i(d?new h(o&&!a?e.source:e,n):h((o=e instanceof u)?e.source:e,o&&a?c.call(e):n),r?this:l,u)};for(var m=(function(t){t in u||o(u,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})}),v=a(h),g=0;v.length>g;)m(v[g++]);l.constructor=u,u.prototype=l,n(12)(r,"RegExp",u)}n(38)("RegExp")},function(t,e,n){"use strict";n(109);var r=n(1),i=n(55),o=n(6),a="toString",s=/./[a],c=function(t){n(12)(RegExp.prototype,a,t,!0)};n(3)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function t(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):s.name!=a&&c(function t(){return s.call(this)})},function(t,e,n){n(56)("match",1,function(t,e,n){return[function n(r){"use strict";var i=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,i):new RegExp(r)[e](String(i))},n]})},function(t,e,n){n(56)("replace",2,function(t,e,n){return[function r(i,o){"use strict";var a=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,a,o):n.call(String(a),i,o)},n]})},function(t,e,n){n(56)("search",1,function(t,e,n){return[function n(r){"use strict";var i=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,i):new RegExp(r)[e](String(i))},n]})},function(t,e,n){n(56)("split",2,function(t,e,r){"use strict";var i=n(53),o=r,a=[].push,s="split",c="length",u="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[c]||2!="ab"[s](/(?:ab)*/)[c]||4!="."[s](/(.?)(.?)/)[c]||"."[s](/()()/)[c]>1||""[s](/.?/)[c]){var h=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return o.call(n,t,e);var r=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,f=void 0===e?4294967295:e>>>0,p=new RegExp(t.source,s+"g"),d,m,v,g,y;for(h||(d=new RegExp("^"+p.source+"$(?!\\\\s)",s));(m=p.exec(n))&&!((v=m.index+m[0][c])>l&&(r.push(n.slice(l,m.index)),!h&&m[c]>1&&m[0].replace(d,function(){for(y=1;y<arguments[c]-2;y++)void 0===arguments[y]&&(m[y]=void 0)}),m[c]>1&&m.index<n[c]&&a.apply(r,m.slice(1)),g=m[0][c],l=v,r[c]>=f));)p[u]===m.index&&p[u]++;return l===n[c]?!g&&p.test("")||r.push(""):r.push(n.slice(l)),r[c]>f?r.slice(0,f):r}}else"0"[s](void 0,0)[c]&&(r=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function n(i,o){var a=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,a,o):r.call(String(a),i,o)},r]})},function(t,e,n){"use strict";var r=n(30),i=n(2),o=n(19),a=n(48),s=n(0),c=n(4),u=n(10),h=n(39),l=n(40),f=n(57),p=n(86).set,d=n(87)(),m=n(88),v=n(110),g=n(58),y=n(111),x="Promise",_=i.TypeError,b=i.process,w=b&&b.versions,M=w&&w.v8||"",E=i[x],S="process"==a(b),T=function(){},A,R,L,P,C=R=m.f,I=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(T,T)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e&&0!==M.indexOf("6.6")&&-1===g.indexOf("Chrome/66")}catch(t){}}(),O=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;d(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n=i?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain,c,u,h;try{n?(i||(2==t._h&&F(t),t._h=1),!0===n?c=r:(s&&s.enter(),c=n(r),s&&(s.exit(),h=!0)),c===e.promise?a(_("Promise-chain cycle")):(u=O(c))?u.call(c,o,a):o(c)):a(r)}catch(t){s&&!h&&s.exit(),a(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&U(t)})}},U=function(t){p.call(i,function(){var e=t._v,n=D(t),r,o,a;if(n&&(r=v(function(){S?b.emit("unhandledRejection",e,t):(o=i.onunhandledrejection)?o({promise:t,reason:e}):(a=i.console)&&a.error&&a.error("Unhandled promise rejection",e)}),t._h=S||D(t)?2:1),t._a=void 0,n&&r.e)throw r.v})},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){p.call(i,function(){var e;S?b.emit("rejectionHandled",t):(e=i.onrejectionhandled)&&e({promise:t,reason:t._v})})},z=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},B=function(t){var e=this,n;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw _("Promise can\'t be resolved itself");(n=O(t))?d(function(){var r={_w:e,_d:!1};try{n.call(t,o(B,r,1),o(z,r,1))}catch(t){z.call(r,t)}}):(e._v=t,e._s=1,N(e,!1))}catch(t){z.call({_w:e,_d:!1},t)}}};I||(E=function t(e){h(this,E,x,"_h"),u(e),A.call(this);try{e(o(B,this,1),o(z,this,1))}catch(t){z.call(this,t)}},A=function t(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},A.prototype=n(41)(E.prototype,{then:function t(e,n){var r=C(f(this,E));return r.ok="function"!=typeof e||e,r.fail="function"==typeof n&&n,r.domain=S?b.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&N(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),L=function(){var t=new A;this.promise=t,this.resolve=o(B,t,1),this.reject=o(z,t,1)},m.f=C=function(t){return t===E||t===P?new L(t):R(t)}),s(s.G+s.W+s.F*!I,{Promise:E}),n(42)(E,x),n(38)(x),P=n(18)[x],s(s.S+s.F*!I,x,{reject:function t(e){var n=C(this);return(0,n.reject)(e),n.promise}}),s(s.S+s.F*(r||!I),x,{resolve:function t(e){return y(r&&this===P?E:this,e)}}),s(s.S+s.F*!(I&&n(54)(function(t){E.all(t).catch(T)})),x,{all:function t(e){var n=this,r=C(n),i=r.resolve,o=r.reject,a=v(function(){var t=[],r=0,a=1;l(e,!1,function(e){var s=r++,c=!1;t.push(void 0),a++,n.resolve(e).then(function(e){c||(c=!0,t[s]=e,--a||i(t))},o)}),--a||i(t)});return a.e&&o(a.v),r.promise},race:function t(e){var n=this,r=C(n),i=r.reject,o=v(function(){l(e,!1,function(t){n.resolve(t).then(r.resolve,i)})});return o.e&&i(o.v),r.promise}})},function(t,e,n){"use strict";var r=n(116),i=n(45),o="WeakSet";n(59)(o,function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function t(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(0),i=n(60),o=n(89),a=n(1),s=n(35),c=n(8),u=n(4),h=n(2).ArrayBuffer,l=n(57),f=o.ArrayBuffer,p=o.DataView,d=i.ABV&&h.isView,m=f.prototype.slice,v=i.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(h!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,g,{isView:function t(e){return d&&d(e)||u(e)&&v in e}}),r(r.P+r.U+r.F*n(3)(function(){return!new f(2).slice(1,void 0).byteLength}),g,{slice:function t(e,n){if(void 0!==m&&void 0===n)return m.call(a(this),e);for(var r=a(this).byteLength,i=s(e,r),o=s(void 0===n?r:n,r),u=new(l(this,f))(c(o-i)),h=new p(this),d=new p(u),v=0;i<o;)d.setUint8(v++,h.getUint8(i++));return u}}),n(38)(g)},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(60).ABV,{DataView:n(89).DataView})},function(t,e,n){n(27)("Int8",1,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Uint8",1,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Uint8",1,function(t){return function e(n,r,i){return t(this,n,r,i)}},!0)},function(t,e,n){n(27)("Int16",2,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Uint16",2,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Int32",4,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Uint32",4,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Float32",4,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){n(27)("Float64",8,function(t){return function e(n,r,i){return t(this,n,r,i)}})},function(t,e,n){var r=n(0),i=n(10),o=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(3)(function(){a(function(){})}),"Reflect",{apply:function t(e,n,r){var c=i(e),u=o(r);return a?a(c,n,u):s.call(c,n,u)}})},function(t,e,n){var r=n(0),i=n(36),o=n(10),a=n(1),s=n(4),c=n(3),u=n(97),h=(n(2).Reflect||{}).construct,l=c(function(){function t(){}return!(h(function(){},[],t)instanceof t)}),f=!c(function(){h(function(){})});r(r.S+r.F*(l||f),"Reflect",{construct:function t(e,n){o(e),a(n);var r=arguments.length<3?e:o(arguments[2]);if(f&&!l)return h(e,n,r);if(e==r){switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3])}var c=[null];return c.push.apply(c,n),new(u.apply(e,c))}var p=r.prototype,d=i(s(p)?p:Object.prototype),m=Function.apply.call(e,d,n);return s(m)?m:d}})},function(t,e,n){var r=n(7),i=n(0),o=n(1),a=n(22);i(i.S+i.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function t(e,n,i){o(e),n=a(n,!0),o(i);try{return r.f(e,n,i),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(16).f,o=n(1);r(r.S,"Reflect",{deleteProperty:function t(e,n){var r=i(o(e),n);return!(r&&!r.configurable)&&delete e[n]}})},function(t,e,n){"use strict";var r=n(0),i=n(1),o=function(t){this._t=i(t),this._i=0;var e=this._k=[],n;for(n in t)e.push(n)};n(77)(o,"Object",function(){var t=this,e=t._k,n;do{if(t._i>=e.length)return{value:void 0,done:!0}}while(!((n=e[t._i++])in t._t));return{value:n,done:!1}}),r(r.S,"Reflect",{enumerate:function t(e){return new o(e)}})},function(t,e,n){function r(t,e){var n=arguments.length<3?t:arguments[2],s,h;return u(t)===n?t[e]:(s=i.f(t,e))?a(s,"value")?s.value:void 0!==s.get?s.get.call(n):void 0:c(h=o(t))?r(h,e,n):void 0}var i=n(16),o=n(17),a=n(14),s=n(0),c=n(4),u=n(1);s(s.S,"Reflect",{get:r})},function(t,e,n){var r=n(16),i=n(0),o=n(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function t(e,n){return r.f(o(e),n)}})},function(t,e,n){var r=n(0),i=n(17),o=n(1);r(r.S,"Reflect",{getPrototypeOf:function t(e){return i(o(e))}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function t(e,n){return n in e}})},function(t,e,n){var r=n(0),i=n(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function t(e){return i(e),!o||o(e)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(118)})},function(t,e,n){var r=n(0),i=n(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function t(e){i(e);try{return o&&o(e),!0}catch(t){return!1}}})},function(t,e,n){function r(t,e,n){var c=arguments.length<4?t:arguments[3],f=o.f(h(t),e),p,d;if(!f){if(l(d=a(t)))return r(d,e,n,c);f=u(0)}if(s(f,"value")){if(!1===f.writable||!l(c))return!1;if(p=o.f(c,e)){if(p.get||p.set||!1===p.writable)return!1;p.value=n,i.f(c,e,p)}else i.f(c,e,u(0,n));return!0}return void 0!==f.set&&(f.set.call(c,n),!0)}var i=n(7),o=n(16),a=n(17),s=n(14),c=n(0),u=n(32),h=n(1),l=n(4);c(c.S,"Reflect",{set:r})},function(t,e,n){var r=n(0),i=n(69);i&&r(r.S,"Reflect",{setPrototypeOf:function t(e,n){i.check(e,n);try{return i.set(e,n),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var r=n(0),i=n(50)(!0);r(r.P,"Array",{includes:function t(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(31)("includes")},function(t,e,n){"use strict";var r=n(0),i=n(119),o=n(9),a=n(8),s=n(10),c=n(83);r(r.P,"Array",{flatMap:function t(e){var n=o(this),r,u;return s(e),r=a(n.length),u=c(n,0),i(u,n,n,r,0,1,e,arguments[1]),u}}),n(31)("flatMap")},function(t,e,n){"use strict";var r=n(0),i=n(119),o=n(9),a=n(8),s=n(24),c=n(83);r(r.P,"Array",{flatten:function t(){var e=arguments[0],n=o(this),r=a(n.length),u=c(n,0);return i(u,n,n,r,0,void 0===e?1:s(e)),u}}),n(31)("flatten")},function(t,e,n){"use strict";var r=n(0),i=n(75)(!0);r(r.P,"String",{at:function t(e){return i(this,e)}})},function(t,e,n){"use strict";var r=n(0),i=n(120),o=n(58);r(r.P+r.F*/Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(o),"String",{padStart:function t(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(120),o=n(58);r(r.P+r.F*/Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(o),"String",{padEnd:function t(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(43)("trimLeft",function(t){return function e(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(43)("trimRight",function(t){return function e(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(0),i=n(23),o=n(8),a=n(53),s=n(55),c=RegExp.prototype,u=function(t,e){this._r=t,this._s=e};n(77)(u,"RegExp String",function t(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function t(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var n=String(this),r="flags"in c?String(e.flags):s.call(e),h=new RegExp(e.source,~r.indexOf("g")?r:"g"+r);return h.lastIndex=o(e.lastIndex),new u(h,n)}})},function(t,e,n){n(65)("asyncIterator")},function(t,e,n){n(65)("observable")},function(t,e,n){var r=n(0),i=n(118),o=n(15),a=n(16),s=n(81);r(r.S,"Object",{getOwnPropertyDescriptors:function t(e){for(var n=o(e),r=a.f,c=i(n),u={},h=0,l,f;c.length>h;)void 0!==(f=r(n,l=c[h++]))&&s(u,l,f);return u}})},function(t,e,n){var r=n(0),i=n(121)(!1);r(r.S,"Object",{values:function t(e){return i(e)}})},function(t,e,n){var r=n(0),i=n(121)(!0);r(r.S,"Object",{entries:function t(e){return i(e)}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(10),a=n(7);n(6)&&r(r.P+n(61),"Object",{__defineGetter__:function t(e,n){a.f(i(this),e,{get:o(n),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(10),a=n(7);n(6)&&r(r.P+n(61),"Object",{__defineSetter__:function t(e,n){a.f(i(this),e,{set:o(n),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(22),a=n(17),s=n(16).f;n(6)&&r(r.P+n(61),"Object",{__lookupGetter__:function t(e){var n=i(this),r=o(e,!0),c;do{if(c=s(n,r))return c.get}while(n=a(n))}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(22),a=n(17),s=n(16).f;n(6)&&r(r.P+n(61),"Object",{__lookupSetter__:function t(e){var n=i(this),r=o(e,!0),c;do{if(c=s(n,r))return c.set}while(n=a(n))}})},function(t,e,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(122)("Map")})},function(t,e,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(122)("Set")})},function(t,e,n){n(62)("Map")},function(t,e,n){n(62)("Set")},function(t,e,n){n(62)("WeakMap")},function(t,e,n){n(62)("WeakSet")},function(t,e,n){n(63)("Map")},function(t,e,n){n(63)("Set")},function(t,e,n){n(63)("WeakMap")},function(t,e,n){n(63)("WeakSet")},function(t,e,n){var r=n(0);r(r.G,{global:n(2)})},function(t,e,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(t,e,n){var r=n(0),i=n(20);r(r.S,"Error",{isError:function t(e){return"Error"===i(e)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clamp:function t(e,n,r){return Math.min(r,Math.max(n,e))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function t(e){return e*i}})},function(t,e,n){var r=n(0),i=n(124),o=n(104);r(r.S,"Math",{fscale:function t(e,n,r,a,s){return o(i(e,n,r,a,s))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{iaddh:function t(e,n,r,i){var o=e>>>0,a=n>>>0,s=r>>>0;return a+(i>>>0)+((o&s|(o|s)&~(o+s>>>0))>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{isubh:function t(e,n,r,i){var o=e>>>0,a=n>>>0,s=r>>>0;return a-(i>>>0)-((~o&s|~(o^s)&o-s>>>0)>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{imulh:function t(e,n){var r=65535,i=+e,o=+n,a=65535&i,s=65535&o,c=i>>16,u=o>>16,h=(c*s>>>0)+(a*s>>>16);return c*u+(h>>16)+((a*u>>>0)+(65535&h)>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function t(e){return e*i}})},function(t,e,n){var r=n(0);r(r.S,"Math",{scale:n(124)})},function(t,e,n){var r=n(0);r(r.S,"Math",{umulh:function t(e,n){var r=65535,i=+e,o=+n,a=65535&i,s=65535&o,c=i>>>16,u=o>>>16,h=(c*s>>>0)+(a*s>>>16);return c*u+(h>>>16)+((a*u>>>0)+(65535&h)>>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{signbit:function t(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(t,e,n){"use strict";var r=n(0),i=n(18),o=n(2),a=n(57),s=n(111);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(0),i=n(88),o=n(110);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(28),i=n(1),o=r.key,a=r.set;r.exp({defineMetadata:function t(e,n,r,s){a(e,n,i(r),o(s))}})},function(t,e,n){var r=n(28),i=n(1),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function t(e,n){var r=arguments.length<3?void 0:o(arguments[2]),c=a(i(n),r,!1);if(void 0===c||!c.delete(e))return!1;if(c.size)return!0;var u=s.get(n);return u.delete(r),!!u.size||s.delete(n)}})},function(t,e,n){var r=n(28),i=n(1),o=n(17),a=r.has,s=r.get,c=r.key,u=function(t,e,n){if(a(t,e,n))return s(t,e,n);var r=o(e);return null!==r?u(t,r,n):void 0};r.exp({getMetadata:function t(e,n){return u(e,i(n),arguments.length<3?void 0:c(arguments[2]))}})},function(t,e,n){var r=n(114),i=n(123),o=n(28),a=n(1),s=n(17),c=o.keys,u=o.key,h=function(t,e){var n=c(t,e),o=s(t);if(null===o)return n;var a=h(o,e);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function t(e){return h(a(e),arguments.length<2?void 0:u(arguments[1]))}})},function(t,e,n){var r=n(28),i=n(1),o=r.get,a=r.key;r.exp({getOwnMetadata:function t(e,n){return o(e,i(n),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(28),i=n(1),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function t(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(28),i=n(1),o=n(17),a=r.has,s=r.key,c=function(t,e,n){if(a(t,e,n))return!0;var r=o(e);return null!==r&&c(t,r,n)};r.exp({hasMetadata:function t(e,n){return c(e,i(n),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(28),i=n(1),o=r.has,a=r.key;r.exp({hasOwnMetadata:function t(e,n){return o(e,i(n),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(28),i=n(1),o=n(10),a=r.key,s=r.set;r.exp({metadata:function t(e,n){return function t(r,c){s(e,n,(void 0!==c?i:o)(r),a(c))}}})},function(t,e,n){var r=n(0),i=n(87)(),o=n(2).process,a="process"==n(20)(o);r(r.G,{asap:function t(e){var n=a&&o.domain;i(n?n.bind(e):e)}})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(18),a=n(87)(),s=n(5)("observable"),c=n(10),u=n(1),h=n(39),l=n(41),f=n(11),p=n(40),d=p.RETURN,m=function(t){return null==t?void 0:c(t)},v=function(t){var e=t._c;e&&(t._c=void 0,e())},g=function(t){return void 0===t._o},y=function(t){g(t)||(t._o=void 0,v(t))},x=function(t,e){u(t),this._c=void 0,this._o=t,t=new _(this);try{var n=e(t),r=n;null!=n&&("function"===typeof n.unsubscribe?n=function(){r.unsubscribe()}:c(n),this._c=n)}catch(e){return void t.error(e)}g(this)&&v(this)};x.prototype=l({},{unsubscribe:function t(){y(this)}});var _=function(t){this._s=t};_.prototype=l({},{next:function t(e){var n=this._s;if(!g(n)){var r=n._o;try{var i=m(r.next);if(i)return i.call(r,e)}catch(t){try{y(n)}finally{throw t}}}},error:function t(e){var n=this._s;if(g(n))throw e;var r=n._o;n._o=void 0;try{var i=m(r.error);if(!i)throw e;e=i.call(r,e)}catch(t){try{v(n)}finally{throw t}}return v(n),e},complete:function t(e){var n=this._s;if(!g(n)){var r=n._o;n._o=void 0;try{var i=m(r.complete);e=i?i.call(r,e):void 0}catch(t){try{v(n)}finally{throw t}}return v(n),e}}});var b=function t(e){h(this,b,"Observable","_f")._f=c(e)};l(b.prototype,{subscribe:function t(e){return new x(e,this._f)},forEach:function t(e){var n=this;return new(o.Promise||i.Promise)(function(t,r){c(e);var i=n.subscribe({next:function(t){try{return e(t)}catch(t){r(t),i.unsubscribe()}},error:r,complete:t})})}}),l(b,{from:function t(e){var n="function"===typeof this?this:b,r=m(u(e)[s]);if(r){var i=u(r.call(e));return i.constructor===n?i:new n(function(t){return i.subscribe(t)})}return new n(function(t){var n=!1;return a(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return d})===d)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function t(){for(var e=0,n=arguments.length,r=new Array(n);e<n;)r[e]=arguments[e++];return new("function"===typeof this?this:b)(function(t){var e=!1;return a(function(){if(!e){for(var n=0;n<r.length;++n)if(t.next(r[n]),e)return;t.complete()}}),function(){e=!0}})}}),f(b.prototype,s,function(){return this}),r(r.G,{Observable:b}),n(38)("Observable")},function(t,e,n){var r=n(2),i=n(0),o=n(58),a=[].slice,s=/MSIE .\\./.test(o),c=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(t,e,n){var r=n(0),i=n(86);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(85),i=n(34),o=n(12),a=n(2),s=n(11),c=n(44),u=n(5),h=u("iterator"),l=u("toStringTag"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),m=0;m<d.length;m++){var v=d[m],g=p[v],y=a[v],x=y&&y.prototype,_;if(x&&(x[h]||s(x,h,f),x[l]||s(x,l,v),c[v]=f,g))for(_ in r)x[_]||o(x,_,r[_],!0)}},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=u(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function c(t){function n(e,i,o,a){var s=r(t[e],t,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"===typeof u&&g.call(u,"__await")?Promise.resolve(u.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(u).then(function(t){c.value=t,o(c)},a)}a(s.arg)}function i(t,e){function r(){return new Promise(function(r,i){n(t,e,r,i)})}return o=o?o.then(r,r):r()}"object"===typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=i}function u(t,e,n){var i=S;return function o(a,s){if(i===A)throw new Error("Generator is already running");if(i===R){if("throw"===a)throw s;return m()}for(n.method=a,n.arg=s;;){var c=n.delegate;if(c){var u=h(c,n);if(u){if(u===L)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===S)throw i=R,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=A;var l=r(t,e,n);if("normal"===l.type){if(i=n.done?R:T,l.arg===L)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=R,n.method="throw",n.arg=l.arg)}}}function h(t,e){var n=t.iterator[e.method];if(n===y){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=y,h(t,e),"throw"===e.method))return L;e.method="throw",e.arg=new TypeError("The iterator does not provide a \'throw\' method")}return L}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,L;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=y),e.delegate=null,L):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,L)}function l(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(l,this),this.reset(!0)}function d(t){if(t){var e=t[_];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(g.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=y,e.done=!0,e};return r.next=r}}return{next:m}}function m(){return{value:y,done:!0}}var v=Object.prototype,g=v.hasOwnProperty,y,x="function"===typeof Symbol?Symbol:{},_=x.iterator||"@@iterator",b=x.asyncIterator||"@@asyncIterator",w=x.toStringTag||"@@toStringTag",M="object"===typeof t,E=e.regeneratorRuntime;if(E)return void(M&&(t.exports=E));E=e.regeneratorRuntime=M?t.exports:{},E.wrap=n;var S="suspendedStart",T="suspendedYield",A="executing",R="completed",L={},P={};P[_]=function(){return this};var C=Object.getPrototypeOf,I=C&&C(C(d([])));I&&I!==v&&g.call(I,_)&&(P=I);var O=a.prototype=i.prototype=Object.create(P);o.prototype=O.constructor=a,a.constructor=o,a[w]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(O),t},E.awrap=function(t){return{__await:t}},s(c.prototype),c.prototype[b]=function(){return this},E.AsyncIterator=c,E.async=function(t,e,r,i){var o=new c(n(t,e,r,i));return E.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(O),O[w]="Generator",O[_]=function(){return this},O.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,L):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),L},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),f(n),L}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;f(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=y),L}}}("object"===typeof e?e:"object"===typeof window?window:"object"===typeof self?self:this)}).call(e,n(90))},function(t,e,n){n(326),t.exports=n(18).RegExp.escape},function(t,e,n){var r=n(0),i=n(327)(/[\\\\^$*+?.()|[\\]{}]/g,"\\\\$&");r(r.S,"RegExp",{escape:function t(e){return i(e)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){"use strict";function EventDispatcher(){}function Vector2(t,e){this.x=t||0,this.y=e||0}function Texture(t,e,n,r,i,o,a,s,c,u){Object.defineProperty(this,"id",{value:Dt++}),this.uuid=Ut.generateUUID(),this.name="",this.image=void 0!==t?t:Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Texture.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:ClampToEdgeWrapping,this.wrapT=void 0!==r?r:ClampToEdgeWrapping,this.magFilter=void 0!==i?i:LinearFilter,this.minFilter=void 0!==o?o:LinearMipMapLinearFilter,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:RGBAFormat,this.type=void 0!==s?s:UnsignedByteType,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:LinearEncoding,this.version=0,this.onUpdate=null}function Vector4(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function WebGLRenderTarget(t,e,n){this.uuid=Ut.generateUUID(),this.width=t,this.height=e,this.scissor=new Vector4(0,0,t,e),this.scissorTest=!1,this.viewport=new Vector4(0,0,t,e),n=n||{},void 0===n.minFilter&&(n.minFilter=LinearFilter),this.texture=new Texture(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function WebGLRenderTargetCube(t,e,n){WebGLRenderTarget.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function Quaternion(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function Vector3(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function Matrix4(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function DataTexture(t,e,n,r,i,o,a,s,c,u,h,l){Texture.call(this,null,o,a,s,c,u,r,i,h,l),this.image={data:t,width:e,height:n},this.magFilter=void 0!==c?c:NearestFilter,this.minFilter=void 0!==u?u:NearestFilter,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function CubeTexture(t,e,n,r,i,o,a,s,c,u){t=void 0!==t?t:[],e=void 0!==e?e:CubeReflectionMapping,Texture.call(this,t,e,n,r,i,o,a,s,c,u),this.flipY=!1}function r(){this.seq=[],this.map={}}function i(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,o=Bt[i];if(void 0===o&&(o=new Float32Array(i),Bt[i]=o),0!==e){r.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function o(t,e){var n=Gt[e];void 0===n&&(n=new Int32Array(e),Gt[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function a(t,e){t.uniform1f(this.addr,e)}function s(t,e){t.uniform1i(this.addr,e)}function c(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function u(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function h(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function l(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function f(t,e){void 0===e.elements?t.uniformMatrix3fv(this.addr,!1,e):(jt.set(e.elements),t.uniformMatrix3fv(this.addr,!1,jt))}function p(t,e){void 0===e.elements?t.uniformMatrix4fv(this.addr,!1,e):(Ht.set(e.elements),t.uniformMatrix4fv(this.addr,!1,Ht))}function d(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTexture2D(e||Ft,r)}function m(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTextureCube(e||zt,r)}function v(t,e){t.uniform2iv(this.addr,e)}function g(t,e){t.uniform3iv(this.addr,e)}function y(t,e){t.uniform4iv(this.addr,e)}function x(t){switch(t){case 5126:return a;case 35664:return c;case 35665:return u;case 35666:return h;case 35674:return l;case 35675:return f;case 35676:return p;case 35678:return d;case 35680:return m;case 5124:case 35670:return s;case 35667:case 35671:return v;case 35668:case 35672:return g;case 35669:case 35673:return y}}function _(t,e){t.uniform1fv(this.addr,e)}function b(t,e){t.uniform1iv(this.addr,e)}function w(t,e){t.uniform2fv(this.addr,i(e,this.size,2))}function M(t,e){t.uniform3fv(this.addr,i(e,this.size,3))}function E(t,e){t.uniform4fv(this.addr,i(e,this.size,4))}function S(t,e){t.uniformMatrix2fv(this.addr,!1,i(e,this.size,4))}function T(t,e){t.uniformMatrix3fv(this.addr,!1,i(e,this.size,9))}function A(t,e){t.uniformMatrix4fv(this.addr,!1,i(e,this.size,16))}function R(t,e,n){var r=e.length,i=o(n,r);t.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTexture2D(e[a]||Ft,i[a])}function L(t,e,n){var r=e.length,i=o(n,r);t.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTextureCube(e[a]||zt,i[a])}function P(t){switch(t){case 5126:return _;case 35664:return w;case 35665:return M;case 35666:return E;case 35674:return S;case 35675:return T;case 35676:return A;case 35678:return R;case 35680:return L;case 5124:case 35670:return b;case 35667:case 35671:return v;case 35668:case 35672:return g;case 35669:case 35673:return y}}function C(t,e,n){this.id=t,this.addr=n,this.setValue=x(e.type)}function I(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=P(e.type)}function O(t){this.id=t,r.call(this)}function N(t,e){t.seq.push(e),t.map[e.id]=e}function U(t,e,n){var r=t.name,i=r.length;for(kt.lastIndex=0;;){var o=kt.exec(r),a=kt.lastIndex,s=o[1],c="]"===o[2],u=o[3];if(c&&(s|=0),void 0===u||"["===u&&a+2===i){N(n,void 0===u?new C(s,t,e):new I(s,t,e));break}var h=n.map,l=h[s];void 0===l&&(l=new O(s),N(n,l)),n=l}}function D(t,e,n){r.call(this),this.renderer=n;for(var i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=0;o<i;++o){var a=t.getActiveUniform(e,o),s=a.name;U(a,t.getUniformLocation(e,s),this)}}function Color(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function Box2(t,e){this.min=void 0!==t?t:new Vector2(1/0,1/0),this.max=void 0!==e?e:new Vector2(-1/0,-1/0)}function F(t,e){function n(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);a=i.createBuffer(),s=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,a),i.bufferData(i.ARRAY_BUFFER,t,i.STATIC_DRAW),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,s),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e,i.STATIC_DRAW),f=i.createTexture(),p=i.createTexture(),o.bindTexture(i.TEXTURE_2D,f),i.texImage2D(i.TEXTURE_2D,0,i.RGB,16,16,0,i.RGB,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),o.bindTexture(i.TEXTURE_2D,p),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,16,16,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),c={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\\n")},u=r(c),h={vertex:i.getAttribLocation(u,"position"),uv:i.getAttribLocation(u,"uv")},l={renderType:i.getUniformLocation(u,"renderType"),map:i.getUniformLocation(u,"map"),occlusionMap:i.getUniformLocation(u,"occlusionMap"),opacity:i.getUniformLocation(u,"opacity"),color:i.getUniformLocation(u,"color"),scale:i.getUniformLocation(u,"scale"),rotation:i.getUniformLocation(u,"rotation"),screenPosition:i.getUniformLocation(u,"screenPosition")}}function r(e){var n=i.createProgram(),r=i.createShader(i.FRAGMENT_SHADER),o=i.createShader(i.VERTEX_SHADER),a="precision "+t.getPrecision()+" float;\\n";return i.shaderSource(r,a+e.fragmentShader),i.shaderSource(o,a+e.vertexShader),i.compileShader(r),i.compileShader(o),i.attachShader(n,r),i.attachShader(n,o),i.linkProgram(n),n}var i=t.context,o=t.state,a,s,c,u,h,l,f,p;this.render=function(r,c,d){if(0!==e.length){var m=new Vector3,v=d.w/d.z,g=.5*d.z,y=.5*d.w,x=16/d.w,_=new Vector2(x*v,x),b=new Vector3(1,1,0),w=new Vector2(1,1),M=new Box2;M.min.set(d.x,d.y),M.max.set(d.x+(d.z-16),d.y+(d.w-16)),void 0===u&&n(),i.useProgram(u),o.initAttributes(),o.enableAttribute(h.vertex),o.enableAttribute(h.uv),o.disableUnusedAttributes(),i.uniform1i(l.occlusionMap,0),i.uniform1i(l.map,1),i.bindBuffer(i.ARRAY_BUFFER,a),i.vertexAttribPointer(h.vertex,2,i.FLOAT,!1,16,0),i.vertexAttribPointer(h.uv,2,i.FLOAT,!1,16,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,s),o.disable(i.CULL_FACE),o.buffers.depth.setMask(!1);for(var E=0,S=e.length;E<S;E++){x=16/d.w,_.set(x*v,x);var T=e[E];if(m.set(T.matrixWorld.elements[12],T.matrixWorld.elements[13],T.matrixWorld.elements[14]),m.applyMatrix4(c.matrixWorldInverse),m.applyMatrix4(c.projectionMatrix),b.copy(m),w.x=d.x+b.x*g+g-8,w.y=d.y+b.y*y+y-8,!0===M.containsPoint(w)){o.activeTexture(i.TEXTURE0),o.bindTexture(i.TEXTURE_2D,null),o.activeTexture(i.TEXTURE1),o.bindTexture(i.TEXTURE_2D,f),i.copyTexImage2D(i.TEXTURE_2D,0,i.RGB,w.x,w.y,16,16,0),i.uniform1i(l.renderType,0),i.uniform2f(l.scale,_.x,_.y),i.uniform3f(l.screenPosition,b.x,b.y,b.z),o.disable(i.BLEND),o.enable(i.DEPTH_TEST),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),o.activeTexture(i.TEXTURE0),o.bindTexture(i.TEXTURE_2D,p),i.copyTexImage2D(i.TEXTURE_2D,0,i.RGBA,w.x,w.y,16,16,0),i.uniform1i(l.renderType,1),o.disable(i.DEPTH_TEST),o.activeTexture(i.TEXTURE1),o.bindTexture(i.TEXTURE_2D,f),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),T.positionScreen.copy(b),T.customUpdateCallback?T.customUpdateCallback(T):T.updateLensFlares(),i.uniform1i(l.renderType,2),o.enable(i.BLEND);for(var A=0,R=T.lensFlares.length;A<R;A++){var L=T.lensFlares[A];L.opacity>.001&&L.scale>.001&&(b.x=L.x,b.y=L.y,b.z=L.z,x=L.size*L.scale/d.w,_.x=x*v,_.y=x,i.uniform3f(l.screenPosition,b.x,b.y,b.z),i.uniform2f(l.scale,_.x,_.y),i.uniform1f(l.rotation,L.rotation),i.uniform1f(l.opacity,L.opacity),i.uniform3f(l.color,L.color.r,L.color.g,L.color.b),o.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),t.setTexture2D(L.texture,1),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0))}}}o.enable(i.CULL_FACE),o.enable(i.DEPTH_TEST),o.buffers.depth.setMask(!0),t.resetGLState()}}}function z(t,e){function n(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);s=o.createBuffer(),c=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,s),o.bufferData(o.ARRAY_BUFFER,t,o.STATIC_DRAW),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,c),o.bufferData(o.ELEMENT_ARRAY_BUFFER,e,o.STATIC_DRAW),u=r(),h={position:o.getAttribLocation(u,"position"),uv:o.getAttribLocation(u,"uv")},l={uvOffset:o.getUniformLocation(u,"uvOffset"),uvScale:o.getUniformLocation(u,"uvScale"),rotation:o.getUniformLocation(u,"rotation"),scale:o.getUniformLocation(u,"scale"),color:o.getUniformLocation(u,"color"),map:o.getUniformLocation(u,"map"),opacity:o.getUniformLocation(u,"opacity"),modelViewMatrix:o.getUniformLocation(u,"modelViewMatrix"),projectionMatrix:o.getUniformLocation(u,"projectionMatrix"),fogType:o.getUniformLocation(u,"fogType"),fogDensity:o.getUniformLocation(u,"fogDensity"),fogNear:o.getUniformLocation(u,"fogNear"),fogFar:o.getUniformLocation(u,"fogFar"),fogColor:o.getUniformLocation(u,"fogColor"),alphaTest:o.getUniformLocation(u,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var i=n.getContext("2d");i.fillStyle="white",i.fillRect(0,0,8,8),f=new Texture(n),f.needsUpdate=!0}function r(){var e=o.createProgram(),n=o.createShader(o.VERTEX_SHADER),r=o.createShader(o.FRAGMENT_SHADER);return o.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\\n")),o.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\\n")),o.compileShader(n),o.compileShader(r),o.attachShader(e,n),o.attachShader(e,r),o.linkProgram(e),e}function i(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var o=t.context,a=t.state,s,c,u,h,l,f,p=new Vector3,d=new Quaternion,m=new Vector3;this.render=function(r,v){if(0!==e.length){void 0===u&&n(),o.useProgram(u),a.initAttributes(),a.enableAttribute(h.position),a.enableAttribute(h.uv),a.disableUnusedAttributes(),a.disable(o.CULL_FACE),a.enable(o.BLEND),o.bindBuffer(o.ARRAY_BUFFER,s),o.vertexAttribPointer(h.position,2,o.FLOAT,!1,16,0),o.vertexAttribPointer(h.uv,2,o.FLOAT,!1,16,8),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,c),o.uniformMatrix4fv(l.projectionMatrix,!1,v.projectionMatrix.elements),a.activeTexture(o.TEXTURE0),o.uniform1i(l.map,0);var g=0,y=0,x=r.fog;x?(o.uniform3f(l.fogColor,x.color.r,x.color.g,x.color.b),x.isFog?(o.uniform1f(l.fogNear,x.near),o.uniform1f(l.fogFar,x.far),o.uniform1i(l.fogType,1),g=1,y=1):x.isFogExp2&&(o.uniform1f(l.fogDensity,x.density),o.uniform1i(l.fogType,2),g=2,y=2)):(o.uniform1i(l.fogType,0),g=0,y=0);for(var _=0,b=e.length;_<b;_++){var w=e[_];w.modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,w.matrixWorld),w.z=-w.modelViewMatrix.elements[14]}e.sort(i);for(var M=[],_=0,b=e.length;_<b;_++){var w=e[_],E=w.material;if(!1!==E.visible){o.uniform1f(l.alphaTest,E.alphaTest),o.uniformMatrix4fv(l.modelViewMatrix,!1,w.modelViewMatrix.elements),w.matrixWorld.decompose(p,d,m),M[0]=m.x,M[1]=m.y;var S=0;r.fog&&E.fog&&(S=y),g!==S&&(o.uniform1i(l.fogType,S),g=S),null!==E.map?(o.uniform2f(l.uvOffset,E.map.offset.x,E.map.offset.y),o.uniform2f(l.uvScale,E.map.repeat.x,E.map.repeat.y)):(o.uniform2f(l.uvOffset,0,0),o.uniform2f(l.uvScale,1,1)),o.uniform1f(l.opacity,E.opacity),o.uniform3f(l.color,E.color.r,E.color.g,E.color.b),o.uniform1f(l.rotation,E.rotation),o.uniform2fv(l.scale,M),a.setBlending(E.blending,E.blendEquation,E.blendSrc,E.blendDst),a.buffers.depth.setTest(E.depthTest),a.buffers.depth.setMask(E.depthWrite),E.map?t.setTexture2D(E.map,0):t.setTexture2D(f,0),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0)}}a.enable(o.CULL_FACE),t.resetGLState()}}}function Material(){Object.defineProperty(this,"id",{value:qn++}),this.uuid=Ut.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=NormalBlending,this.side=FrontSide,this.shading=SmoothShading,this.vertexColors=NoColors,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.needsUpdate=!0}function ShaderMaterial(t){Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}",this.fragmentShader="void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function MeshDepthMaterial(t){Material.call(this),this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Box3(t,e){this.min=void 0!==t?t:new Vector3(1/0,1/0,1/0),this.max=void 0!==e?e:new Vector3(-1/0,-1/0,-1/0)}function Sphere(t,e){this.center=void 0!==t?t:new Vector3,this.radius=void 0!==e?e:0}function Matrix3(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function Plane(t,e){this.normal=void 0!==t?t:new Vector3(1,0,0),this.constant=void 0!==e?e:0}function Frustum(t,e,n,r,i,o){this.planes=[void 0!==t?t:new Plane,void 0!==e?e:new Plane,void 0!==n?n:new Plane,void 0!==r?r:new Plane,void 0!==i?i:new Plane,void 0!==o?o:new Plane]}function B(t,e,n,r){function i(e,n,r,i){var o=e.geometry,a=null,s=y,c=e.customDepthMaterial;if(r&&(s=x,c=e.customDistanceMaterial),c)a=c;else{var u=!1;n.morphTargets&&(o&&o.isBufferGeometry?u=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(u=o.morphTargets&&o.morphTargets.length>0)),e.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var h=e.isSkinnedMesh&&n.skinning,l=0;u&&(l|=m),h&&(l|=v),a=s[l]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var f=a.uuid,p=n.uuid,d=_[f];void 0===d&&(d={},_[f]=d);var g=d[p];void 0===g&&(g=a.clone(),d[p]=g),a=g}a.visible=n.visible,a.wireframe=n.wireframe;var b=n.side;return I.renderSingleSided&&b==DoubleSide&&(b=FrontSide),I.renderReverseSided&&(b===FrontSide?b=BackSide:b===BackSide&&(b=FrontSide)),a.side=b,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function o(e,r,a,s){if(!1!==e.visible){if(e.layers.test(r.layers)&&(e.isMesh||e.isLine||e.isPoints)&&e.castShadow&&(!e.frustumCulled||c.intersectsObject(e))){e.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,e.matrixWorld);var u=n.update(e),h=e.material;if(Array.isArray(h))for(var l=u.groups,f=0,p=l.length;f<p;f++){var m=l[f],v=h[m.materialIndex];if(v&&v.visible){var g=i(e,v,s,d);t.renderBufferDirect(a,null,u,g,e,m)}}else if(h.visible){var g=i(e,h,s,d);t.renderBufferDirect(a,null,u,g,e,null)}}for(var y=e.children,x=0,_=y.length;x<_;x++)o(y[x],r,a,s)}}var a=t.context,s=t.state,c=new Frustum,u=new Matrix4,h=e.shadows,l=new Vector2,f=new Vector2(r.maxTextureSize,r.maxTextureSize),p=new Vector3,d=new Vector3,m=1,v=2,g=1+(m|v),y=new Array(g),x=new Array(g),_={},b=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],w=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)],M=[new Vector4,new Vector4,new Vector4,new Vector4,new Vector4,new Vector4],E=new MeshDepthMaterial;E.depthPacking=RGBADepthPacking,E.clipping=!0;for(var S=ShaderLib.distanceRGBA,T=UniformsUtils.clone(S.uniforms),A=0;A!==g;++A){var R=0!==(A&m),L=0!==(A&v),P=E.clone();P.morphTargets=R,P.skinning=L,y[A]=P;var C=new ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:T,vertexShader:S.vertexShader,fragmentShader:S.fragmentShader,morphTargets:R,skinning:L,clipping:!0});x[A]=C}var I=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,n){if(!1!==I.enabled&&(!1!==I.autoUpdate||!1!==I.needsUpdate)&&0!==h.length){s.disable(a.BLEND),s.buffers.color.setClear(1,1,1,1),s.buffers.depth.setTest(!0),s.setScissorTest(!1);for(var r,i,m=0,v=h.length;m<v;m++){var g=h[m],y=g.shadow;if(void 0!==y){var x=y.camera,_=y.matrix;if(d.setFromMatrixPosition(g.matrixWorld),x.position.copy(d),l.copy(y.mapSize),l.min(f),g&&g.isPointLight){r=6,i=!0;var E=l.x,S=l.y;M[0].set(2*E,S,E,S),M[1].set(0,S,E,S),M[2].set(3*E,S,E,S),M[3].set(E,S,E,S),M[4].set(3*E,0,E,S),M[5].set(E,0,E,S),l.x*=4,l.y*=2,_.makeTranslation(-d.x,-d.y,-d.z)}else r=1,i=!1,p.setFromMatrixPosition(g.target.matrixWorld),x.lookAt(p),x.updateMatrixWorld(),x.matrixWorldInverse.getInverse(x.matrixWorld),_.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),_.multiply(x.projectionMatrix),_.multiply(x.matrixWorldInverse);if(null===y.map){var T={minFilter:NearestFilter,magFilter:NearestFilter,format:RGBAFormat};y.map=new WebGLRenderTarget(l.x,l.y,T),y.map.texture.name=g.name+".shadowMap",x.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(g);var A=y.map;t.setRenderTarget(A),t.clear();for(var R=0;R<r;R++){if(i){p.copy(x.position),p.add(b[R]),x.up.copy(w[R]),x.lookAt(p),x.updateMatrixWorld(),x.matrixWorldInverse.getInverse(x.matrixWorld);var L=M[R];s.viewport(L)}u.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),c.setFromMatrix(u),o(e,n,x,i)}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}var P=t.getClearColor(),C=t.getClearAlpha();t.setClearColor(P,C),I.needsUpdate=!1}}}function Ray(t,e){this.origin=void 0!==t?t:new Vector3,this.direction=void 0!==e?e:new Vector3}function Euler(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||Euler.DefaultOrder}function Layers(){this.mask=1}function Object3D(){function t(){i.setFromEuler(r,!1)}function e(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:Zn++}),this.uuid=Ut.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();var n=new Vector3,r=new Euler,i=new Quaternion,o=new Vector3(1,1,1);r.onChange(t),i.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function Line3(t,e){this.start=void 0!==t?t:new Vector3,this.end=void 0!==e?e:new Vector3}function Triangle(t,e,n){this.a=void 0!==t?t:new Vector3,this.b=void 0!==e?e:new Vector3,this.c=void 0!==n?n:new Vector3}function Face3(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new Vector3,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Color,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function MeshBasicMaterial(t){Material.call(this),this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function BufferAttribute(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Ut.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Int8BufferAttribute(t,e){BufferAttribute.call(this,new Int8Array(t),e)}function Uint8BufferAttribute(t,e){BufferAttribute.call(this,new Uint8Array(t),e)}function Uint8ClampedBufferAttribute(t,e){BufferAttribute.call(this,new Uint8ClampedArray(t),e)}function Int16BufferAttribute(t,e){BufferAttribute.call(this,new Int16Array(t),e)}function Uint16BufferAttribute(t,e){BufferAttribute.call(this,new Uint16Array(t),e)}function Int32BufferAttribute(t,e){BufferAttribute.call(this,new Int32Array(t),e)}function Uint32BufferAttribute(t,e){BufferAttribute.call(this,new Uint32Array(t),e)}function Float32BufferAttribute(t,e){BufferAttribute.call(this,new Float32Array(t),e)}function Float64BufferAttribute(t,e){BufferAttribute.call(this,new Float64Array(t),e)}function G(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function H(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}function GeometryIdCount(){return Jn++}function Geometry(){Object.defineProperty(this,"id",{value:GeometryIdCount()}),this.uuid=Ut.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function BufferGeometry(){Object.defineProperty(this,"id",{value:GeometryIdCount()}),this.uuid=Ut.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Mesh(t,e){Object3D.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new BufferGeometry,this.material=void 0!==e?e:new MeshBasicMaterial({color:16777215*Math.random()}),this.drawMode=TrianglesDrawMode,this.updateMorphTargets()}function BoxGeometry(t,e,n,r,i,o){Geometry.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new BoxBufferGeometry(t,e,n,r,i,o)),this.mergeVertices()}function BoxBufferGeometry(t,e,n,r,i,o){function a(t,e,n,r,i,o,a,d,m,v,g){var y=o/m,x=a/v,_=o/2,b=a/2,w=d/2,M=m+1,E=v+1,S=0,T=0,A,R,L=new Vector3;for(R=0;R<E;R++){var P=R*x-b;for(A=0;A<M;A++){var C=A*y-_;L[t]=C*r,L[e]=P*i,L[n]=w,u.push(L.x,L.y,L.z),L[t]=0,L[e]=0,L[n]=d>0?1:-1,h.push(L.x,L.y,L.z),l.push(A/m),l.push(1-R/v),S+=1}}for(R=0;R<v;R++)for(A=0;A<m;A++){var I=f+A+M*R,O=f+A+M*(R+1),N=f+(A+1)+M*(R+1),U=f+(A+1)+M*R;c.push(I,O,U),c.push(O,N,U),T+=6}s.addGroup(p,T,g),p+=T,f+=S}BufferGeometry.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var s=this;r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var c=[],u=[],h=[],l=[],f=0,p=0;a("z","y","x",-1,-1,n,e,t,o,i,0),a("z","y","x",1,-1,n,e,-t,o,i,1),a("x","z","y",1,1,t,n,e,r,o,2),a("x","z","y",1,-1,t,n,-e,r,o,3),a("x","y","z",1,-1,t,e,n,r,i,4),a("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(c),this.addAttribute("position",new Float32BufferAttribute(u,3)),this.addAttribute("normal",new Float32BufferAttribute(h,3)),this.addAttribute("uv",new Float32BufferAttribute(l,2))}function PlaneGeometry(t,e,n,r){Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new PlaneBufferGeometry(t,e,n,r)),this.mergeVertices()}function PlaneBufferGeometry(t,e,n,r){BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i=t/2,o=e/2,a=Math.floor(n)||1,s=Math.floor(r)||1,c=a+1,u=s+1,h=t/a,l=e/s,f,p,d=[],m=[],v=[],g=[];for(p=0;p<u;p++){var y=p*l-o;for(f=0;f<c;f++){var x=f*h-i;m.push(x,-y,0),v.push(0,0,1),g.push(f/a),g.push(1-p/s)}}for(p=0;p<s;p++)for(f=0;f<a;f++){var _=f+c*p,b=f+c*(p+1),w=f+1+c*(p+1),M=f+1+c*p;d.push(_,b,M),d.push(b,w,M)}this.setIndex(d),this.addAttribute("position",new Float32BufferAttribute(m,3)),this.addAttribute("normal",new Float32BufferAttribute(v,3)),this.addAttribute("uv",new Float32BufferAttribute(g,2))}function Camera(){Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4}function PerspectiveCamera(t,e,n,r){Camera.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function OrthographicCamera(t,e,n,r,i,o){Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function j(t){function e(e,n){var r=e.array,i=e.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW,o=t.createBuffer();t.bindBuffer(n,o),t.bufferData(n,r,i),e.onUploadCallback();var a=t.FLOAT;return r instanceof Float32Array?a=t.FLOAT:r instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):r instanceof Uint16Array?a=t.UNSIGNED_SHORT:r instanceof Int16Array?a=t.SHORT:r instanceof Uint32Array?a=t.UNSIGNED_INT:r instanceof Int32Array?a=t.INT:r instanceof Int8Array?a=t.BYTE:r instanceof Uint8Array&&(a=t.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}function n(e,n,r){var i=n.array,o=n.updateRange;t.bindBuffer(r,e),!1===n.dynamic?t.bufferData(r,i,t.STATIC_DRAW):-1===o.count?t.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=0)}function r(t){return t.isInterleavedBufferAttribute&&(t=t.data),a[t.uuid]}function i(e){var n=a[e.uuid];n&&(t.deleteBuffer(n.buffer),delete a[e.uuid])}function o(t,r){t.isInterleavedBufferAttribute&&(t=t.data);var i=a[t.uuid];void 0===i?a[t.uuid]=e(t,r):i.version<t.version&&(n(i.buffer,t,r),i.version=t.version)}var a={};return{get:r,remove:i,update:o}}function k(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function V(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function W(){function t(){o=-1,s=-1}function e(t,e,n,r,c){var u,h;n.transparent?(u=a,h=++s):(u=i,h=++o);var l=u[h];l?(l.id=t.id,l.object=t,l.geometry=e,l.material=n,l.program=n.program,l.renderOrder=t.renderOrder,l.z=r,l.group=c):(l={id:t.id,object:t,geometry:e,material:n,program:n.program,renderOrder:t.renderOrder,z:r,group:c},u.push(l))}function n(){i.length=o+1,a.length=s+1}function r(){i.sort(k),a.sort(V)}var i=[],o=-1,a=[],s=-1;return{opaque:i,transparent:a,init:t,push:e,finish:n,sort:r}}function X(){function t(t,e){var r=t.id+","+e.id,i=n[r];return void 0===i&&(i=new W,n[r]=i),i}function e(){n={}}var n={};return{get:t,dispose:e}}function Y(t,e,n){function r(t){s=t}function i(n){n.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(c=t.UNSIGNED_INT,u=4):n.array instanceof Uint16Array?(c=t.UNSIGNED_SHORT,u=2):(c=t.UNSIGNED_BYTE,u=1)}function o(e,r){t.drawElements(s,r,c,e*u),n.calls++,n.vertices+=r,s===t.TRIANGLES&&(n.faces+=r/3)}function a(r,i,o){var a=e.get("ANGLE_instanced_arrays");if(null===a)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");a.drawElementsInstancedANGLE(s,o,c,i*u,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,s===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)}var s,c,u;this.setMode=r,this.setIndex=i,this.render=o,this.renderInstances=a}function q(t,e,n){function r(t){a=t}function i(e,r){t.drawArrays(a,e,r),n.calls++,n.vertices+=r,a===t.TRIANGLES&&(n.faces+=r/3)}function o(r,i,o){var s=e.get("ANGLE_instanced_arrays");if(null===s)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var c=r.attributes.position;c.isInterleavedBufferAttribute?(o=c.data.count,s.drawArraysInstancedANGLE(a,0,o,r.maxInstancedCount)):s.drawArraysInstancedANGLE(a,i,o,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,a===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)}var a;this.setMode=r,this.render=i,this.renderInstances=o}function Z(t,e,n){function r(t){var i=t.target,o=s[i.id];null!==o.index&&e.remove(o.index);for(var a in o.attributes)e.remove(o.attributes[a]);i.removeEventListener("dispose",r),delete s[i.id];var u=c[i.id];u&&(e.remove(u),delete c[i.id]),u=c[o.id],u&&(e.remove(u),delete c[o.id]),n.geometries--}function i(t,e){var i=s[e.id];return i||(e.addEventListener("dispose",r),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new BufferGeometry).setFromObject(t)),i=e._bufferGeometry),s[e.id]=i,n.geometries++,i)}function o(n){var r=n.index,i=n.attributes;null!==r&&e.update(r,t.ELEMENT_ARRAY_BUFFER);for(var o in i)e.update(i[o],t.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],c=0,u=s.length;c<u;c++)e.update(s[c],t.ARRAY_BUFFER)}function a(n){var r=c[n.id];if(r)return r;var i=[],o=n.index,a=n.attributes;if(null!==o)for(var s=o.array,u=0,h=s.length;u<h;u+=3){var l=s[u+0],f=s[u+1],p=s[u+2];i.push(l,f,f,p,p,l)}else for(var s=a.position.array,u=0,h=s.length/3-1;u<h;u+=3){var l=u+0,f=u+1,p=u+2;i.push(l,f,f,p,p,l)}return r=new(H(i)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(i,1),e.update(r,t.ELEMENT_ARRAY_BUFFER),c[n.id]=r,r}var s={},c={};return{get:i,update:o,getWireframeAttribute:a}}function J(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new Vector3,color:new Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":n={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":n={position:new Vector3,color:new Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"HemisphereLight":n={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":n={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3}}return t[e.id]=n,n}}}function Q(t,e,n){function r(t){var r=n.frame,i=t.geometry,a=e.get(t,i);return o[a.id]!==r&&(i.isGeometry&&a.updateFromObject(t),e.update(a),o[a.id]=r),a}function i(){o={}}var o={};return{update:r,clear:i}}function K(t){for(var e=t.split("\\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\\n")}function $(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn\'t compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),K(n)),r}function tt(t){switch(t){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];case RGBEEncoding:return["RGBE","( value )"];case RGBM7Encoding:return["RGBM","( value, 7.0 )"];case RGBM16Encoding:return["RGBM","( value, 16.0 )"];case RGBDEncoding:return["RGBD","( value, 256.0 )"];case GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function et(t,e){var n=tt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function nt(t,e){var n=tt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function rt(t,e){var n;switch(e){case LinearToneMapping:n="Linear";break;case ReinhardToneMapping:n="Reinhard";break;case Uncharted2ToneMapping:n="Uncharted2";break;case CineonToneMapping:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function it(t,e,n){return t=t||{},[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(st).join("\\n")}function ot(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\\n")}function at(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o),s=a.name;r[s]=t.getAttribLocation(e,s)}return r}function st(t){return""!==t}function ct(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function ut(t){function e(t,e){var n=ShaderChunk[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return ut(n)}var n=/^[ \\t]*#include +<([\\w\\d.]+)>/gm;return t.replace(n,e)}function ht(t){function e(t,e,n,r){for(var i="",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\\[ i \\]/g,"[ "+o+" ]");return i}var n=/for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;return t.replace(n,e)}function lt(t,e,n,r){var i=t.context,o=n.extensions,a=n.defines,s=n.__webglShader.vertexShader,c=n.__webglShader.fragmentShader,u="SHADOWMAP_TYPE_BASIC";r.shadowMapType===PCFShadowMap?u="SHADOWMAP_TYPE_PCF":r.shadowMapType===PCFSoftShadowMap&&(u="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",l="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(n.envMap.mapping){case CubeReflectionMapping:case CubeRefractionMapping:h="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:case CubeUVRefractionMapping:h="ENVMAP_TYPE_CUBE_UV";break;case EquirectangularReflectionMapping:case EquirectangularRefractionMapping:h="ENVMAP_TYPE_EQUIREC";break;case SphericalReflectionMapping:h="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case CubeRefractionMapping:case EquirectangularRefractionMapping:l="ENVMAP_MODE_REFRACTION"}switch(n.combine){case MultiplyOperation:f="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:f="ENVMAP_BLENDING_MIX";break;case AddOperation:f="ENVMAP_BLENDING_ADD"}}var p=t.gammaFactor>0?t.gammaFactor:1,d=it(o,r,t.extensions),m=ot(a),v=i.createProgram(),g,y;n.isRawShaderMaterial?(g=[m,"\\n"].filter(st).join("\\n"),y=[d,m,"\\n"].filter(st).join("\\n")):(g=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,m,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+l:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\\tattribute vec3 morphTarget0;","\\tattribute vec3 morphTarget1;","\\tattribute vec3 morphTarget2;","\\tattribute vec3 morphTarget3;","\\t#ifdef USE_MORPHNORMALS","\\t\\tattribute vec3 morphNormal0;","\\t\\tattribute vec3 morphNormal1;","\\t\\tattribute vec3 morphNormal2;","\\t\\tattribute vec3 morphNormal3;","\\t#else","\\t\\tattribute vec3 morphTarget4;","\\t\\tattribute vec3 morphTarget5;","\\t\\tattribute vec3 morphTarget6;","\\t\\tattribute vec3 morphTarget7;","\\t#endif","#endif","#ifdef USE_SKINNING","\\tattribute vec4 skinIndex;","\\tattribute vec4 skinWeight;","#endif","\\n"].filter(st).join("\\n"),y=[d,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,m,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+p,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.envMap?"#define "+l:"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",r.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",r.toneMapping!==NoToneMapping?rt("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?ShaderChunk.encodings_pars_fragment:"",r.mapEncoding?et("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?et("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?et("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?nt("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\\n"].filter(st).join("\\n")),s=ut(s,r),s=ct(s,r),c=ut(c,r),c=ct(c,r),n.isShaderMaterial||(s=ht(s),c=ht(c));var x=g+s,_=y+c,b=$(i,i.VERTEX_SHADER,x),w=$(i,i.FRAGMENT_SHADER,_);i.attachShader(v,b),i.attachShader(v,w),void 0!==n.index0AttributeName?i.bindAttribLocation(v,0,n.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);var M=i.getProgramInfoLog(v),E=i.getShaderInfoLog(b),S=i.getShaderInfoLog(w),T=!0,A=!0;!1===i.getProgramParameter(v,i.LINK_STATUS)?(T=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(v,i.VALIDATE_STATUS),"gl.getProgramInfoLog",M,E,S)):""!==M?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",M):""!==E&&""!==S||(A=!1),A&&(this.diagnostics={runnable:T,material:n,programLog:M,vertexShader:{log:E,prefix:g},fragmentShader:{log:S,prefix:y}}),i.deleteShader(b),i.deleteShader(w);var R;this.getUniforms=function(){return void 0===R&&(R=new D(i,v,t)),R};var L;return this.getAttributes=function(){return void 0===L&&(L=at(i,v)),L},this.destroy=function(){i.deleteProgram(v),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Qn++,this.code=e,this.usedTimes=1,this.program=v,this.vertexShader=b,this.fragmentShader=w,this}function ft(t,e){function n(t){var n=t.skeleton,r=n.bones;if(e.floatVertexTextures)return 1024;var i=e.maxVertexUniforms,o=Math.floor((i-20)/4),a=Math.min(o,r.length);return a<r.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+r.length+" bones. This GPU supports "+a+"."),0):a}function r(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don\'t use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=LinearEncoding,n===LinearEncoding&&e&&(n=GammaEncoding),n}var i=[],o={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(i,a,s,c,u,h){var l=o[i.type],f=h.isSkinnedMesh?n(h):0,p=t.getPrecision();null!==i.precision&&(p=e.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",p,"instead.");var d=t.getRenderTarget();return{shaderID:l,precision:p,supportsVertexTextures:e.vertexTextures,outputEncoding:r(d?d.texture:null,t.gammaOutput),map:!!i.map,mapEncoding:r(i.map,t.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:r(i.envMap,t.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===CubeUVReflectionMapping||i.envMap.mapping===CubeUVRefractionMapping),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:r(i.emissiveMap,t.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!s,useFog:i.fog,fogExp:s&&s.isFogExp2,flatShading:i.shading===FlatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:i.skinning&&f>0,maxBones:f,useVertexTexture:e.floatVertexTextures,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numClippingPlanes:c,numClipIntersection:u,dithering:i.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&a.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===DoubleSide,flipSided:i.side===BackSide,depthPacking:void 0!==i.depthPacking&&i.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var i=0;i<a.length;i++)n.push(e[a[i]]);return n.join()},this.acquireProgram=function(e,n,r){for(var o,a=0,s=i.length;a<s;a++){var c=i[a];if(c.code===r){o=c,++o.usedTimes;break}}return void 0===o&&(o=new lt(t,r,e,n),i.push(o)),o},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function pt(t,e,n,r,i,o,a){function s(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n);return r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height,t),r}return t}function c(t){return Ut.isPowerOfTwo(t.width)&&Ut.isPowerOfTwo(t.height)}function u(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=Ut.nearestPowerOfTwo(t.width),e.height=Ut.nearestPowerOfTwo(t.height);return e.getContext("2d").drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}function h(t){return t.wrapS!==ClampToEdgeWrapping||t.wrapT!==ClampToEdgeWrapping||t.minFilter!==NearestFilter&&t.minFilter!==LinearFilter}function l(e){return e===NearestFilter||e===NearestMipMapNearestFilter||e===NearestMipMapLinearFilter?t.NEAREST:t.LINEAR}function f(t){var e=t.target;e.removeEventListener("dispose",f),d(e),a.textures--}function p(t){var e=t.target;e.removeEventListener("dispose",p),m(e),a.textures--}function d(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.remove(e)}function m(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}function v(e,i){var o=r.get(e);if(e.version>0&&o.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==a.complete)return void _(o,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function g(e,u){var h=r.get(e);if(6===e.image.length)if(e.version>0&&h.__version!==e.version){h.__image__webglTextureCube||(e.addEventListener("dispose",f),h.__image__webglTextureCube=t.createTexture(),a.textures++),n.activeTexture(t.TEXTURE0+u),n.bindTexture(t.TEXTURE_CUBE_MAP,h.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var l=e&&e.isCompressedTexture,p=e.image[0]&&e.image[0].isDataTexture,d=[],m=0;m<6;m++)d[m]=l||p?p?e.image[m].image:e.image[m]:s(e.image[m],i.maxCubemapSize);var v=d[0],g=c(v),y=o(e.format),_=o(e.type);x(t.TEXTURE_CUBE_MAP,e,g);for(var m=0;m<6;m++)if(l)for(var b,w=d[m].mipmaps,M=0,E=w.length;M<E;M++)b=w[M],e.format!==RGBAFormat&&e.format!==RGBFormat?n.getCompressedTextureFormats().indexOf(y)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,M,y,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,M,y,b.width,b.height,0,y,_,b.data);else p?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,d[m].width,d[m].height,0,y,_,d[m].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,y,_,d[m]);e.generateMipmaps&&g&&t.generateMipmap(t.TEXTURE_CUBE_MAP),h.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+u),n.bindTexture(t.TEXTURE_CUBE_MAP,h.__image__webglTextureCube)}function y(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)}function x(n,a,s){var c;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,o(a.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o(a.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o(a.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===ClampToEdgeWrapping&&a.wrapT===ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),t.texParameteri(n,t.TEXTURE_MAG_FILTER,l(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,l(a.minFilter)),a.minFilter!==NearestFilter&&a.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),c=e.get("EXT_texture_filter_anisotropic")){if(a.type===FloatType&&null===e.get("OES_texture_float_linear"))return;if(a.type===HalfFloatType&&null===e.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(t.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function _(e,r,l){void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener("dispose",f),e.__webglTexture=t.createTexture(),a.textures++),n.activeTexture(t.TEXTURE0+l),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var p=s(r.image,i.maxTextureSize);h(r)&&!1===c(p)&&(p=u(p));var d=c(p),m=o(r.format),v=o(r.type);x(t.TEXTURE_2D,r,d);var g,y=r.mipmaps;if(r.isDepthTexture){var _=t.DEPTH_COMPONENT;if(r.type===FloatType){if(!A)throw new Error("Float Depth Texture only supported in WebGL2.0");_=t.DEPTH_COMPONENT32F}else A&&(_=t.DEPTH_COMPONENT16);r.format===DepthFormat&&_===t.DEPTH_COMPONENT&&r.type!==UnsignedShortType&&r.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=UnsignedShortType,v=o(r.type)),r.format===DepthStencilFormat&&(_=t.DEPTH_STENCIL,r.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=UnsignedInt248Type,v=o(r.type))),n.texImage2D(t.TEXTURE_2D,0,_,p.width,p.height,0,m,v,null)}else if(r.isDataTexture)if(y.length>0&&d){for(var b=0,w=y.length;b<w;b++)g=y[b],n.texImage2D(t.TEXTURE_2D,b,m,g.width,g.height,0,m,v,g.data);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,m,p.width,p.height,0,m,v,p.data);else if(r.isCompressedTexture)for(var b=0,w=y.length;b<w;b++)g=y[b],r.format!==RGBAFormat&&r.format!==RGBFormat?n.getCompressedTextureFormats().indexOf(m)>-1?n.compressedTexImage2D(t.TEXTURE_2D,b,m,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,b,m,g.width,g.height,0,m,v,g.data);else if(y.length>0&&d){for(var b=0,w=y.length;b<w;b++)g=y[b],n.texImage2D(t.TEXTURE_2D,b,m,m,v,g);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,m,m,v,p);r.generateMipmaps&&d&&t.generateMipmap(t.TEXTURE_2D),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function b(e,i,a,s){var c=o(i.texture.format),u=o(i.texture.type);n.texImage2D(s,0,c,i.width,i.height,0,c,u,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function w(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function M(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===DepthFormat)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==DepthStencilFormat)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}function E(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");M(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),w(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),w(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function S(e){var i=r.get(e),o=r.get(e.texture);e.addEventListener("dispose",p),o.__webglTexture=t.createTexture(),a.textures++;var s=!0===e.isWebGLRenderTargetCube,u=c(e);if(s){i.__webglFramebuffer=[];for(var h=0;h<6;h++)i.__webglFramebuffer[h]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(s){n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),x(t.TEXTURE_CUBE_MAP,e.texture,u);for(var h=0;h<6;h++)b(i.__webglFramebuffer[h],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+h);e.texture.generateMipmaps&&u&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),x(t.TEXTURE_2D,e.texture,u),b(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&u&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&E(e)}function T(e){var i=e.texture;if(i.generateMipmaps&&c(e)&&i.minFilter!==NearestFilter&&i.minFilter!==LinearFilter){var o=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),t.generateMipmap(o),n.bindTexture(o,null)}}var A="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=v,this.setTextureCube=g,this.setTextureCubeDynamic=y,this.setupRenderTarget=S,this.updateRenderTargetMipmap=T}function dt(){function t(t){var e=t.uuid,n=r[e];return void 0===n&&(n={},r[e]=n),n}function e(t){delete r[t.uuid]}function n(){r={}}var r={};return{get:t,remove:e,clear:n}}function mt(t,e,n){function r(){var e=!1,n=new Vector4,r=null,i=new Vector4;return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,a,s){!0===s&&(e*=a,r*=a,o*=a),n.set(e,r,o,a),!1===i.equals(n)&&(t.clearColor(e,r,o,a),i.copy(n))},reset:function(){e=!1,r=null,i.set(0,0,0,1)}}}function i(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?f(t.DEPTH_TEST):p(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case NeverDepth:t.depthFunc(t.NEVER);break;case AlwaysDepth:t.depthFunc(t.ALWAYS);break;case LessDepth:t.depthFunc(t.LESS);break;case LessEqualDepth:t.depthFunc(t.LEQUAL);break;case EqualDepth:t.depthFunc(t.EQUAL);break;case GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case GreaterDepth:t.depthFunc(t.GREATER);break;case NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}}function o(){var e=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,u=null;return{setTest:function(e){e?f(t.STENCIL_TEST):p(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&c===r||(t.stencilOp(e,n,r),a=e,s=n,c=r)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,u=null}}}function a(e,n,r){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<r;a++)t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}function s(){P.setClear(0,0,0,1),C.setClear(1),I.setClear(0),f(t.DEPTH_TEST),C.setFunc(LessEqualDepth),g(!1),y(CullFaceBack),f(t.CULL_FACE),f(t.BLEND),m(NormalBlending)}function c(){for(var t=0,e=N.length;t<e;t++)N[t]=0}function u(n){if(N[n]=1,0===U[n]&&(t.enableVertexAttribArray(n),U[n]=1),0!==D[n]){e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),D[n]=0}}function h(n,r){if(N[n]=1,0===U[n]&&(t.enableVertexAttribArray(n),U[n]=1),D[n]!==r){e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,r),D[n]=r}}function l(){for(var e=0,n=U.length;e!==n;++e)U[e]!==N[e]&&(t.disableVertexAttribArray(e),U[e]=0)}function f(e){!0!==F[e]&&(t.enable(e),F[e]=!0)}function p(e){!1!==F[e]&&(t.disable(e),F[e]=!1)}function d(){if(null===z&&(z=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)z.push(n[r]);return z}function m(e,r,i,o,a,s,c,u){e!==NoBlending?f(t.BLEND):p(t.BLEND),e===B&&u===X||(e===AdditiveBlending?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===SubtractiveBlending?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===MultiplyBlending?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),B=e,X=u),e===CustomBlending?(a=a||r,s=s||i,c=c||o,r===G&&a===k||(t.blendEquationSeparate(n(r),n(a)),G=r,k=a),i===H&&o===j&&s===V&&c===W||(t.blendFuncSeparate(n(i),n(o),n(s),n(c)),H=i,j=o,V=s,W=c)):(G=null,H=null,j=null,k=null,V=null,W=null)}function v(e){e.side===DoubleSide?p(t.CULL_FACE):f(t.CULL_FACE),g(e.side===BackSide),!0===e.transparent?m(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):m(NoBlending),C.setFunc(e.depthFunc),C.setTest(e.depthTest),C.setMask(e.depthWrite),P.setMask(e.colorWrite),_(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function g(e){Y!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),Y=e)}function y(e){e!==CullFaceNone?(f(t.CULL_FACE),e!==q&&(e===CullFaceBack?t.cullFace(t.BACK):e===CullFaceFront?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):p(t.CULL_FACE),q=e}function x(e){e!==Z&&(et&&t.lineWidth(e),Z=e)}function _(e,n,r){e?(f(t.POLYGON_OFFSET_FILL),J===n&&Q===r||(t.polygonOffset(n,r),J=n,Q=r)):p(t.POLYGON_OFFSET_FILL)}function b(){return K}function w(e){K=e,e?f(t.SCISSOR_TEST):p(t.SCISSOR_TEST)}function M(e){void 0===e&&(e=t.TEXTURE0+$-1),nt!==e&&(t.activeTexture(e),nt=e)}function E(e,n){null===nt&&M();var r=rt[nt];void 0===r&&(r={type:void 0,texture:void 0},rt[nt]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||at[e]),r.type=e,r.texture=n)}function S(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}}function T(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}}function A(e){!1===it.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),it.copy(e))}function R(e){!1===ot.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),ot.copy(e))}function L(){for(var e=0;e<U.length;e++)1===U[e]&&(t.disableVertexAttribArray(e),U[e]=0);F={},z=null,nt=null,rt={},B=null,Y=null,q=null,P.reset(),C.reset(),I.reset()}var P=new r,C=new i,I=new o,O=t.getParameter(t.MAX_VERTEX_ATTRIBS),N=new Uint8Array(O),U=new Uint8Array(O),D=new Uint8Array(O),F={},z=null,B=null,G=null,H=null,j=null,k=null,V=null,W=null,X=!1,Y=null,q=null,Z=null,J=null,Q=null,K=null,$=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),tt=parseFloat(/^WebGL\\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),et=parseFloat(tt)>=1,nt=null,rt={},it=new Vector4,ot=new Vector4,at={};return at[t.TEXTURE_2D]=a(t.TEXTURE_2D,t.TEXTURE_2D,1),at[t.TEXTURE_CUBE_MAP]=a(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:P,depth:C,stencil:I},init:s,initAttributes:c,enableAttribute:u,enableAttributeAndDivisor:h,disableUnusedAttributes:l,enable:f,disable:p,getCompressedTextureFormats:d,setBlending:m,setMaterial:v,setFlipSided:g,setCullFace:y,setLineWidth:x,setPolygonOffset:_,getScissorTest:b,setScissorTest:w,activeTexture:M,bindTexture:E,compressedTexImage2D:S,texImage2D:T,scissor:A,viewport:R,reset:L}}function vt(t,e,n){function r(){if(void 0!==o)return o;var n=e.get("EXT_texture_filter_anisotropic");return o=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var c=!0===n.logarithmicDepthBuffer&&!!e.get("EXT_frag_depth"),u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_TEXTURE_SIZE),f=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),d=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=h>0,y=!!e.get("OES_texture_float");return{getMaxAnisotropy:r,getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:h,maxTextureSize:l,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:d,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y}}function gt(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=t.getExtension("WEBGL_compressed_texture_etc1");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}function yt(){function t(){u.value!==r&&(u.value=r,u.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function e(t,e,r,i){var o=null!==t?t.length:0,a=null;if(0!==o){if(a=u.value,!0!==i||null===a){var h=r+4*o,l=e.matrixWorldInverse;c.getNormalMatrix(l),(null===a||a.length<h)&&(a=new Float32Array(h));for(var f=0,p=r;f!==o;++f,p+=4)s.copy(t[f]).applyMatrix4(l,c),s.normal.toArray(a,p),a[p+3]=s.constant}u.value=a,u.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new Plane,c=new Matrix3,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var s=0!==t.length||n||0!==i||o;return o=n,r=e(t,a,0),i=t.length,s},this.beginShadows=function(){a=!0,e(null)},this.endShadows=function(){a=!1,t()},this.setState=function(n,s,c,h,l,f){if(!o||null===n||0===n.length||a&&!c)a?e(null):t();else{var p=a?0:i,d=4*p,m=l.clippingState||null;u.value=m,m=e(n,h,d,f);for(var v=0;v!==d;++v)m[v]=r[v];l.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=p}}}function WebGLRenderer(t){function e(){return null===it?Et:1}function n(){Vt.init(),Vt.scissor(ut.copy(St).multiplyScalar(Et)),Vt.viewport(lt.copy(At).multiplyScalar(Et)),Vt.buffers.color.setClear(_t.r,_t.g,_t.b,bt,k)}function r(){rt=null,ct=null,st="",at=-1,Vt.reset()}function i(t){t.preventDefault(),r(),n(),Wt.clear(),Zt.clear()}function o(t){var e=t.target;e.removeEventListener("dispose",o),a(e)}function a(t){s(t),Wt.remove(t)}function s(t){var e=Wt.get(t).program;t.program=void 0,void 0!==e&&Jt.releaseProgram(e)}function c(t,e,n){t.render(function(t){nt.renderBufferImmediate(t,e,n)})}function u(t,e){return Math.abs(e[0])-Math.abs(t[0])}function h(t,e,n,r){if(n&&n.isInstancedBufferGeometry&&null===jt.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),Vt.initAttributes();var i=n.attributes,o=e.getAttributes(),a=t.defaultAttributeValues;for(var s in o){var c=o[s];if(c>=0){var u=i[s];if(void 0!==u){var h=u.normalized,l=u.itemSize,f=Yt.get(u),p=f.buffer,d=f.type,m=f.bytesPerElement;if(u.isInterleavedBufferAttribute){var v=u.data,g=v.stride,y=u.offset;v&&v.isInstancedInterleavedBuffer?(Vt.enableAttributeAndDivisor(c,v.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=v.meshPerAttribute*v.count)):Vt.enableAttribute(c),Gt.bindBuffer(Gt.ARRAY_BUFFER,p),Gt.vertexAttribPointer(c,l,d,h,g*m,(r*g+y)*m)}else u.isInstancedBufferAttribute?(Vt.enableAttributeAndDivisor(c,u.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=u.meshPerAttribute*u.count)):Vt.enableAttribute(c),Gt.bindBuffer(Gt.ARRAY_BUFFER,p),Gt.vertexAttribPointer(c,l,d,h,0,r*l*m)}else if(void 0!==a){var x=a[s];if(void 0!==x)switch(x.length){case 2:Gt.vertexAttrib2fv(c,x);break;case 3:Gt.vertexAttrib3fv(c,x);break;case 4:Gt.vertexAttrib4fv(c,x);break;default:Gt.vertexAttrib1fv(c,x)}}}}Vt.disableUnusedAttributes()}function l(t,e,n){if(t.visible){if(t.layers.test(e.layers))if(t.isLight)W.push(t);else if(t.isSprite)t.frustumCulled&&!Rt.intersectsSprite(t)||tt.push(t);else if(t.isLensFlare)et.push(t);else if(t.isImmediateRenderObject)n&&Ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(It),K.push(t,null,t.material,Ot.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||Rt.intersectsObject(t))){n&&Ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(It);var r=Zt.update(t),i=t.material;if(Array.isArray(i))for(var o=r.groups,a=0,s=o.length;a<s;a++){var c=o[a],u=i[c.materialIndex];u&&u.visible&&K.push(t,r,u,Ot.z,c)}else i.visible&&K.push(t,r,i,Ot.z,null)}for(var h=t.children,a=0,s=h.length;a<s;a++)l(h[a],e,n)}}function f(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,c=a.geometry,u=void 0===r?a.material:r,h=a.group;if(s.onBeforeRender(nt,e,n,c,u,h),n.isArrayCamera&&n.enabled)for(var l=n.cameras,f=0,d=l.length;f<d;f++){var m=l[f],v=m.bounds;nt.setViewport(v.x*wt*Et,v.y*Mt*Et,v.z*wt*Et,v.w*Mt*Et),nt.setScissor(v.x*wt*Et,v.y*Mt*Et,v.z*wt*Et,v.w*Mt*Et),nt.setScissorTest(!0),p(s,e,m,c,u,h)}else p(s,e,n,c,u,h);s.onAfterRender(nt,e,n,c,u,h)}}function p(t,e,n,r,i,o){if(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){Vt.setMaterial(i);var a=m(n,e.fog,i,t);st="",c(t,a,i)}else nt.renderBufferDirect(n,e.fog,r,i,t,o)}function d(t,e,n){var r=Wt.get(t),i=Jt.getParameters(t,Ft,e,Lt.numPlanes,Lt.numIntersection,n),a=Jt.getProgramCode(t,i),c=r.program,u=!0;if(void 0===c)t.addEventListener("dispose",o);else if(c.code!==a)s(t);else{if(void 0!==i.shaderID)return;u=!1}if(u){if(i.shaderID){var h=ShaderLib[i.shaderID];r.__webglShader={name:t.type,uniforms:UniformsUtils.clone(h.uniforms),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,c=Jt.acquireProgram(t,i,a),r.program=c,t.program=c}var l=c.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var f=0;f<nt.maxMorphTargets;f++)l["morphTarget"+f]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var f=0;f<nt.maxMorphNormals;f++)l["morphNormal"+f]>=0&&t.numSupportedMorphNormals++}var p=r.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=Lt.numPlanes,r.numIntersection=Lt.numIntersection,p.clippingPlanes=Lt.uniform),r.fog=e,r.lightsHash=Ft.hash,t.lights&&(p.ambientLightColor.value=Ft.ambient,p.directionalLights.value=Ft.directional,p.spotLights.value=Ft.spot,p.rectAreaLights.value=Ft.rectArea,p.pointLights.value=Ft.point,p.hemisphereLights.value=Ft.hemi,p.directionalShadowMap.value=Ft.directionalShadowMap,p.directionalShadowMatrix.value=Ft.directionalShadowMatrix,p.spotShadowMap.value=Ft.spotShadowMap,p.spotShadowMatrix.value=Ft.spotShadowMatrix,p.pointShadowMap.value=Ft.pointShadowMap,p.pointShadowMatrix.value=Ft.pointShadowMatrix);var d=r.program.getUniforms(),m=D.seqWithValue(d.seq,p);r.uniformsList=m}function m(t,e,n,r){xt=0;var i=Wt.get(n);if(Pt&&(Ct||t!==ct)){var o=t===ct&&n.id===at;Lt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:n.lights&&i.lightsHash!==Ft.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===Lt.numPlanes&&i.numIntersection===Lt.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(d(n,e,r),n.needsUpdate=!1);var a=!1,s=!1,c=!1,u=i.program,h=u.getUniforms(),l=i.__webglShader.uniforms;if(u.id!==rt&&(Gt.useProgram(u.program),rt=u.id,a=!0,s=!0,c=!0),n.id!==at&&(at=n.id,s=!0),a||t!==ct){if(h.setValue(Gt,"projectionMatrix",t.projectionMatrix),kt.logarithmicDepthBuffer&&h.setValue(Gt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==ct&&(ct=t,s=!0,c=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var f=h.map.cameraPosition;void 0!==f&&f.setValue(Gt,Ot.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&h.setValue(Gt,"viewMatrix",t.matrixWorldInverse),h.setValue(Gt,"toneMappingExposure",nt.toneMappingExposure),h.setValue(Gt,"toneMappingWhitePoint",nt.toneMappingWhitePoint)}if(n.skinning){h.setOptional(Gt,r,"bindMatrix"),h.setOptional(Gt,r,"bindMatrixInverse");var p=r.skeleton;if(p){var m=p.bones;if(kt.floatVertexTextures){if(void 0===p.boneTexture){var R=Math.sqrt(4*m.length);R=Ut.nextPowerOfTwo(Math.ceil(R)),R=Math.max(R,4);var L=new Float32Array(R*R*4);L.set(p.boneMatrices);var P=new DataTexture(L,R,R,RGBAFormat,FloatType);p.boneMatrices=L,p.boneTexture=P,p.boneTextureSize=R}h.setValue(Gt,"boneTexture",p.boneTexture),h.setValue(Gt,"boneTextureSize",p.boneTextureSize)}else h.setOptional(Gt,p,"boneMatrices")}}return s&&(n.lights&&A(l,c),e&&n.fog&&_(l,e),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&v(l,n),n.isLineBasicMaterial?g(l,n):n.isLineDashedMaterial?(g(l,n),y(l,n)):n.isPointsMaterial?x(l,n):n.isMeshLambertMaterial?b(l,n):n.isMeshToonMaterial?M(l,n):n.isMeshPhongMaterial?w(l,n):n.isMeshPhysicalMaterial?S(l,n):n.isMeshStandardMaterial?E(l,n):n.isMeshDepthMaterial?n.displacementMap&&(l.displacementMap.value=n.displacementMap,l.displacementScale.value=n.displacementScale,l.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&T(l,n),void 0!==l.ltcMat&&(l.ltcMat.value=UniformsLib.LTC_MAT_TEXTURE),void 0!==l.ltcMag&&(l.ltcMag.value=UniformsLib.LTC_MAG_TEXTURE),D.upload(Gt,i.uniformsList,l,nt)),h.setValue(Gt,"modelViewMatrix",r.modelViewMatrix),h.setValue(Gt,"normalMatrix",r.normalMatrix),h.setValue(Gt,"modelMatrix",r.matrixWorld),u}function v(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;if(e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function g(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function y(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function x(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*Et,t.scale.value=.5*Mt,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function _(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function b(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function w(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function M(t,e){w(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function E(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function S(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,E(t,e)}function T(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function A(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function R(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(Ft.shadows[e]=i,e++)}Ft.shadows.length=e}function L(t,e){var n,r,i,o,a=0,s=0,c=0,u,h,l,f,p=e.matrixWorldInverse,d=0,m=0,v=0,g=0,y=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],u=i.color,h=i.intensity,l=i.distance,f=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)a+=u.r*h,s+=u.g*h,c+=u.b*h;else if(i.isDirectionalLight){var x=Qt.get(i);x.color.copy(i.color).multiplyScalar(i.intensity),x.direction.setFromMatrixPosition(i.matrixWorld),Ot.setFromMatrixPosition(i.target.matrixWorld),x.direction.sub(Ot),x.direction.transformDirection(p),x.shadow=i.castShadow,i.castShadow&&(o=i.shadow,x.shadowBias=o.bias,x.shadowRadius=o.radius,x.shadowMapSize=o.mapSize),Ft.directionalShadowMap[d]=f,Ft.directionalShadowMatrix[d]=i.shadow.matrix,Ft.directional[d]=x,d++}else if(i.isSpotLight){var x=Qt.get(i);x.position.setFromMatrixPosition(i.matrixWorld),x.position.applyMatrix4(p),x.color.copy(u).multiplyScalar(h),x.distance=l,x.direction.setFromMatrixPosition(i.matrixWorld),Ot.setFromMatrixPosition(i.target.matrixWorld),x.direction.sub(Ot),x.direction.transformDirection(p),x.coneCos=Math.cos(i.angle),x.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),x.decay=0===i.distance?0:i.decay,x.shadow=i.castShadow,i.castShadow&&(o=i.shadow,x.shadowBias=o.bias,x.shadowRadius=o.radius,x.shadowMapSize=o.mapSize),Ft.spotShadowMap[v]=f,Ft.spotShadowMatrix[v]=i.shadow.matrix,Ft.spot[v]=x,v++}else if(i.isRectAreaLight){var x=Qt.get(i);x.color.copy(u).multiplyScalar(h/(i.width*i.height)),x.position.setFromMatrixPosition(i.matrixWorld),x.position.applyMatrix4(p),Dt.identity(),Nt.copy(i.matrixWorld),Nt.premultiply(p),Dt.extractRotation(Nt),x.halfWidth.set(.5*i.width,0,0),x.halfHeight.set(0,.5*i.height,0),x.halfWidth.applyMatrix4(Dt),x.halfHeight.applyMatrix4(Dt),Ft.rectArea[g]=x,g++}else if(i.isPointLight){var x=Qt.get(i);x.position.setFromMatrixPosition(i.matrixWorld),x.position.applyMatrix4(p),x.color.copy(i.color).multiplyScalar(i.intensity),x.distance=i.distance,x.decay=0===i.distance?0:i.decay,x.shadow=i.castShadow,i.castShadow&&(o=i.shadow,x.shadowBias=o.bias,x.shadowRadius=o.radius,x.shadowMapSize=o.mapSize),Ft.pointShadowMap[m]=f,Ft.pointShadowMatrix[m]=i.shadow.matrix,Ft.point[m]=x,m++}else if(i.isHemisphereLight){var x=Qt.get(i);x.direction.setFromMatrixPosition(i.matrixWorld),x.direction.transformDirection(p),x.direction.normalize(),x.skyColor.copy(i.color).multiplyScalar(h),x.groundColor.copy(i.groundColor).multiplyScalar(h),Ft.hemi[y]=x,y++}Ft.ambient[0]=a,Ft.ambient[1]=s,Ft.ambient[2]=c,Ft.directional.length=d,Ft.spot.length=v,Ft.rectArea.length=g,Ft.point.length=m,Ft.hemi.length=y,Ft.hash=d+","+m+","+v+","+g+","+y+","+Ft.shadows.length}function P(){var t=xt;return t>=kt.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+kt.maxTextures),xt+=1,t}function C(t){var e;if(t===RepeatWrapping)return Gt.REPEAT;if(t===ClampToEdgeWrapping)return Gt.CLAMP_TO_EDGE;if(t===MirroredRepeatWrapping)return Gt.MIRRORED_REPEAT;if(t===NearestFilter)return Gt.NEAREST;if(t===NearestMipMapNearestFilter)return Gt.NEAREST_MIPMAP_NEAREST;if(t===NearestMipMapLinearFilter)return Gt.NEAREST_MIPMAP_LINEAR;if(t===LinearFilter)return Gt.LINEAR;if(t===LinearMipMapNearestFilter)return Gt.LINEAR_MIPMAP_NEAREST;if(t===LinearMipMapLinearFilter)return Gt.LINEAR_MIPMAP_LINEAR;if(t===UnsignedByteType)return Gt.UNSIGNED_BYTE;if(t===UnsignedShort4444Type)return Gt.UNSIGNED_SHORT_4_4_4_4;if(t===UnsignedShort5551Type)return Gt.UNSIGNED_SHORT_5_5_5_1;if(t===UnsignedShort565Type)return Gt.UNSIGNED_SHORT_5_6_5;if(t===ByteType)return Gt.BYTE;if(t===ShortType)return Gt.SHORT;if(t===UnsignedShortType)return Gt.UNSIGNED_SHORT;if(t===IntType)return Gt.INT;if(t===UnsignedIntType)return Gt.UNSIGNED_INT;if(t===FloatType)return Gt.FLOAT;if(t===HalfFloatType&&null!==(e=jt.get("OES_texture_half_float")))return e.HALF_FLOAT_OES;if(t===AlphaFormat)return Gt.ALPHA;if(t===RGBFormat)return Gt.RGB;if(t===RGBAFormat)return Gt.RGBA;if(t===LuminanceFormat)return Gt.LUMINANCE;if(t===LuminanceAlphaFormat)return Gt.LUMINANCE_ALPHA;if(t===DepthFormat)return Gt.DEPTH_COMPONENT;if(t===DepthStencilFormat)return Gt.DEPTH_STENCIL;if(t===AddEquation)return Gt.FUNC_ADD;if(t===SubtractEquation)return Gt.FUNC_SUBTRACT;if(t===ReverseSubtractEquation)return Gt.FUNC_REVERSE_SUBTRACT;if(t===ZeroFactor)return Gt.ZERO;if(t===OneFactor)return Gt.ONE;if(t===SrcColorFactor)return Gt.SRC_COLOR;if(t===OneMinusSrcColorFactor)return Gt.ONE_MINUS_SRC_COLOR;if(t===SrcAlphaFactor)return Gt.SRC_ALPHA;if(t===OneMinusSrcAlphaFactor)return Gt.ONE_MINUS_SRC_ALPHA;if(t===DstAlphaFactor)return Gt.DST_ALPHA;if(t===OneMinusDstAlphaFactor)return Gt.ONE_MINUS_DST_ALPHA;if(t===DstColorFactor)return Gt.DST_COLOR;if(t===OneMinusDstColorFactor)return Gt.ONE_MINUS_DST_COLOR;if(t===SrcAlphaSaturateFactor)return Gt.SRC_ALPHA_SATURATE;if((t===RGB_S3TC_DXT1_Format||t===RGBA_S3TC_DXT1_Format||t===RGBA_S3TC_DXT3_Format||t===RGBA_S3TC_DXT5_Format)&&null!==(e=jt.get("WEBGL_compressed_texture_s3tc"))){if(t===RGB_S3TC_DXT1_Format)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===RGBA_S3TC_DXT1_Format)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===RGBA_S3TC_DXT3_Format)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===RGBA_S3TC_DXT5_Format)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===RGB_PVRTC_4BPPV1_Format||t===RGB_PVRTC_2BPPV1_Format||t===RGBA_PVRTC_4BPPV1_Format||t===RGBA_PVRTC_2BPPV1_Format)&&null!==(e=jt.get("WEBGL_compressed_texture_pvrtc"))){if(t===RGB_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===RGB_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===RGBA_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===RGBA_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===RGB_ETC1_Format&&null!==(e=jt.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===MinEquation||t===MaxEquation)&&null!==(e=jt.get("EXT_blend_minmax"))){if(t===MinEquation)return e.MIN_EXT;if(t===MaxEquation)return e.MAX_EXT}return t===UnsignedInt248Type&&null!==(e=jt.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer",REVISION),t=t||{};var I=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),O=void 0!==t.context?t.context:null,N=void 0!==t.alpha&&t.alpha,U=void 0===t.depth||t.depth,G=void 0===t.stencil||t.stencil,H=void 0!==t.antialias&&t.antialias,k=void 0===t.premultipliedAlpha||t.premultipliedAlpha,V=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,W=[],K=null,$=new Float32Array(8),tt=[],et=[];this.domElement=I,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=LinearToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var nt=this,rt=null,it=null,ot=null,at=-1,st="",ct=null,ut=new Vector4,ht=null,lt=new Vector4,xt=0,_t=new Color(0),bt=0,wt=I.width,Mt=I.height,Et=1,St=new Vector4(0,0,wt,Mt),Tt=!1,At=new Vector4(0,0,wt,Mt),Rt=new Frustum,Lt=new yt,Pt=!1,Ct=!1,It=new Matrix4,Ot=new Vector3,Nt=new Matrix4,Dt=new Matrix4,Ft={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},zt={geometries:0,textures:0},Bt={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:Bt,memory:zt,programs:null};var Gt;try{var Ht={alpha:N,depth:U,stencil:G,antialias:H,premultipliedAlpha:k,preserveDrawingBuffer:V};if(null===(Gt=O||I.getContext("webgl",Ht)||I.getContext("experimental-webgl",Ht)))throw null!==I.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Gt.getShaderPrecisionFormat&&(Gt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),I.addEventListener("webglcontextlost",i,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var jt=new gt(Gt);jt.get("WEBGL_depth_texture"),jt.get("OES_texture_float"),jt.get("OES_texture_float_linear"),jt.get("OES_texture_half_float"),jt.get("OES_texture_half_float_linear"),jt.get("OES_standard_derivatives"),jt.get("ANGLE_instanced_arrays"),jt.get("OES_element_index_uint")&&(BufferGeometry.MaxIndex=4294967296);var kt=new vt(Gt,jt,t),Vt=new mt(Gt,jt,C),Wt=new dt,Xt=new pt(Gt,jt,Vt,Wt,kt,C,zt),Yt=new j(Gt),qt=new Z(Gt,Yt,zt),Zt=new Q(Gt,qt,Bt),Jt=new ft(this,kt),Qt=new J,Kt=new X;this.info.programs=Jt.programs;var $t=new q(Gt,jt,Bt),te=new Y(Gt,jt,Bt),ee,ne,re,ie;n(),this.context=Gt,this.capabilities=kt,this.extensions=jt,this.properties=Wt,this.state=Vt;var oe=new B(this,Ft,Zt,kt);this.shadowMap=oe;var ae=new z(this,tt),se=new F(this,et);this.getContext=function(){return Gt},this.getContextAttributes=function(){return Gt.getContextAttributes()},this.forceContextLoss=function(){var t=jt.get("WEBGL_lose_context");t&&t.loseContext()},this.getMaxAnisotropy=function(){return kt.getMaxAnisotropy()},this.getPrecision=function(){return kt.precision},this.getPixelRatio=function(){return Et},this.setPixelRatio=function(t){void 0!==t&&(Et=t,this.setSize(At.z,At.w,!1))},this.getSize=function(){return{width:wt,height:Mt}},this.setSize=function(t,e,n){wt=t,Mt=e,I.width=t*Et,I.height=e*Et,!1!==n&&(I.style.width=t+"px",I.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,r){Vt.viewport(At.set(t,e,n,r))},this.setScissor=function(t,e,n,r){Vt.scissor(St.set(t,e,n,r))},this.setScissorTest=function(t){Vt.setScissorTest(Tt=t)},this.getClearColor=function(){return _t},this.setClearColor=function(t,e){_t.set(t),bt=void 0!==e?e:1,Vt.buffers.color.setClear(_t.r,_t.g,_t.b,bt,k)},this.getClearAlpha=function(){return bt},this.setClearAlpha=function(t){bt=t,Vt.buffers.color.setClear(_t.r,_t.g,_t.b,bt,k)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=Gt.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=Gt.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Gt.STENCIL_BUFFER_BIT),Gt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=r,this.dispose=function(){I.removeEventListener("webglcontextlost",i,!1),Kt.dispose()},this.renderBufferImmediate=function(t,e,n){Vt.initAttributes();var r=Wt.get(t);t.hasPositions&&!r.position&&(r.position=Gt.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=Gt.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=Gt.createBuffer()),t.hasColors&&!r.color&&(r.color=Gt.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(Gt.bindBuffer(Gt.ARRAY_BUFFER,r.position),Gt.bufferData(Gt.ARRAY_BUFFER,t.positionArray,Gt.DYNAMIC_DRAW),Vt.enableAttribute(i.position),Gt.vertexAttribPointer(i.position,3,Gt.FLOAT,!1,0,0)),t.hasNormals){if(Gt.bindBuffer(Gt.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===FlatShading)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,c=(s[o+0]+s[o+3]+s[o+6])/3,u=(s[o+1]+s[o+4]+s[o+7])/3,h=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=c,s[o+1]=u,s[o+2]=h,s[o+3]=c,s[o+4]=u,s[o+5]=h,s[o+6]=c,s[o+7]=u,s[o+8]=h}Gt.bufferData(Gt.ARRAY_BUFFER,t.normalArray,Gt.DYNAMIC_DRAW),Vt.enableAttribute(i.normal),Gt.vertexAttribPointer(i.normal,3,Gt.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(Gt.bindBuffer(Gt.ARRAY_BUFFER,r.uv),Gt.bufferData(Gt.ARRAY_BUFFER,t.uvArray,Gt.DYNAMIC_DRAW),Vt.enableAttribute(i.uv),Gt.vertexAttribPointer(Yt.uv,2,Gt.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==NoColors&&(Gt.bindBuffer(Gt.ARRAY_BUFFER,r.color),Gt.bufferData(Gt.ARRAY_BUFFER,t.colorArray,Gt.DYNAMIC_DRAW),Vt.enableAttribute(i.color),Gt.vertexAttribPointer(i.color,3,Gt.FLOAT,!1,0,0)),Vt.disableUnusedAttributes(),Gt.drawArrays(Gt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,r,i,o,a){Vt.setMaterial(i);var s=m(t,n,i,o),c=r.id+"_"+s.id+"_"+(!0===i.wireframe),l=!1;c!==st&&(st=c,l=!0);var f=o.morphTargetInfluences;if(void 0!==f){for(var p=[],d=0,v=f.length;d<v;d++){var g=f[d];p.push([g,d])}p.sort(u),p.length>8&&(p.length=8);for(var y=r.morphAttributes,d=0,v=p.length;d<v;d++){var g=p[d];if($[d]=g[0],0!==g[0]){var x=g[1];!0===i.morphTargets&&y.position&&r.addAttribute("morphTarget"+d,y.position[x]),!0===i.morphNormals&&y.normal&&r.addAttribute("morphNormal"+d,y.normal[x])}else!0===i.morphTargets&&r.removeAttribute("morphTarget"+d),!0===i.morphNormals&&r.removeAttribute("morphNormal"+d)}for(var d=p.length,_=$.length;d<_;d++)$[d]=0;s.getUniforms().setValue(Gt,"morphTargetInfluences",$),l=!0}var x=r.index,b=r.attributes.position,w=1;!0===i.wireframe&&(x=qt.getWireframeAttribute(r),w=2);var M=$t;null!==x&&(M=te,M.setIndex(x)),l&&(h(i,s,r),null!==x&&Gt.bindBuffer(Gt.ELEMENT_ARRAY_BUFFER,Yt.get(x).buffer));var E=0;null!==x?E=x.count:void 0!==b&&(E=b.count);var S=r.drawRange.start*w,T=r.drawRange.count*w,A=null!==a?a.start*w:0,R=null!==a?a.count*w:1/0,L=Math.max(S,A),P=Math.min(E,S+T,A+R)-1,C=Math.max(0,P-L+1);if(0!==C){if(o.isMesh)if(!0===i.wireframe)Vt.setLineWidth(i.wireframeLinewidth*e()),M.setMode(Gt.LINES);else switch(o.drawMode){case TrianglesDrawMode:M.setMode(Gt.TRIANGLES);break;case TriangleStripDrawMode:M.setMode(Gt.TRIANGLE_STRIP);break;case TriangleFanDrawMode:M.setMode(Gt.TRIANGLE_FAN)}else if(o.isLine){var I=i.linewidth;void 0===I&&(I=1),Vt.setLineWidth(I*e()),o.isLineSegments?M.setMode(Gt.LINES):o.isLineLoop?M.setMode(Gt.LINE_LOOP):M.setMode(Gt.LINE_STRIP)}else o.isPoints&&M.setMode(Gt.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&M.renderInstances(r,L,C):M.render(L,C)}},this.compile=function(t,e){W=[],t.traverse(function(t){t.isLight&&W.push(t)}),L(W,e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)d(e.material[n],t.fog,e);else d(e.material,t.fog,e)})},this.render=function(t,e,n,r){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");st="",at=-1,ct=null,!0===t.autoUpdate&&t.updateMatrixWorld(),e.onBeforeRender(nt),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),It.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Rt.setFromMatrix(It),W.length=0,tt.length=0,et.length=0,Ct=this.localClippingEnabled,Pt=Lt.init(this.clippingPlanes,Ct,e),K=Kt.get(t,e),K.init(),l(t,e,nt.sortObjects),K.finish(),!0===nt.sortObjects&&K.sort(),Pt&&Lt.beginShadows(),R(W),oe.render(t,e),L(W,e),Pt&&Lt.endShadows(),Bt.frame++,Bt.calls=0,Bt.vertices=0,Bt.faces=0,Bt.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var i=t.background;null===i?Vt.buffers.color.setClear(_t.r,_t.g,_t.b,bt,k):i&&i.isColor&&(Vt.buffers.color.setClear(i.r,i.g,i.b,1,k),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(void 0===re&&(re=new PerspectiveCamera,ie=new Mesh(new BoxBufferGeometry(5,5,5),new ShaderMaterial({uniforms:ShaderLib.cube.uniforms,vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1}))),re.projectionMatrix.copy(e.projectionMatrix),re.matrixWorld.extractRotation(e.matrixWorld),re.matrixWorldInverse.getInverse(re.matrixWorld),ie.material.uniforms.tCube.value=i,ie.modelViewMatrix.multiplyMatrices(re.matrixWorldInverse,ie.matrixWorld),Zt.update(ie),nt.renderBufferDirect(re,null,ie.geometry,ie.material,ie,null)):i&&i.isTexture&&(void 0===ee&&(ee=new OrthographicCamera(-1,1,1,-1,0,1),ne=new Mesh(new PlaneBufferGeometry(2,2),new MeshBasicMaterial({depthTest:!1,depthWrite:!1,fog:!1}))),ne.material.map=i,Zt.update(ne),nt.renderBufferDirect(ee,null,ne.geometry,ne.material,ne,null));var o=K.opaque,a=K.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;o.length&&f(o,t,e,s),a.length&&f(a,t,e,s)}else o.length&&f(o,t,e),a.length&&f(a,t,e);ae.render(t,e),se.render(t,e,lt),n&&Xt.updateRenderTargetMipmap(n),Vt.buffers.depth.setTest(!0),Vt.buffers.depth.setMask(!0),Vt.buffers.color.setMask(!0),e.isArrayCamera&&e.enabled&&nt.setScissorTest(!1),e.onAfterRender(nt)},this.setFaceCulling=function(t,e){Vt.setCullFace(t),Vt.setFlipSided(e===FrontFaceDirectionCW)},this.allocTextureUnit=P,this.setTexture2D=function(){var t=!1;return function e(n,r){n&&n.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don\'t use render targets as textures. Use their .texture property instead."),t=!0),n=n.texture),Xt.setTexture2D(n,r)}}(),this.setTexture=function(){var t=!1;return function e(n,r){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),Xt.setTexture2D(n,r)}}(),this.setTextureCube=function(){var t=!1;return function e(n,r){n&&n.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don\'t use cube render targets as textures. Use their .texture property instead."),t=!0),n=n.texture),n&&n.isCubeTexture||Array.isArray(n.image)&&6===n.image.length?Xt.setTextureCube(n,r):Xt.setTextureCubeDynamic(n,r)}}(),this.getRenderTarget=function(){return it},this.setRenderTarget=function(t){it=t,t&&void 0===Wt.get(t).__webglFramebuffer&&Xt.setupRenderTarget(t);var e=t&&t.isWebGLRenderTargetCube,n;if(t){var r=Wt.get(t);n=e?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,ut.copy(t.scissor),ht=t.scissorTest,lt.copy(t.viewport)}else n=null,ut.copy(St).multiplyScalar(Et),ht=Tt,lt.copy(At).multiplyScalar(Et);if(ot!==n&&(Gt.bindFramebuffer(Gt.FRAMEBUFFER,n),ot=n),Vt.scissor(ut),Vt.setScissorTest(ht),Vt.viewport(lt),e){var i=Wt.get(t.texture);Gt.framebufferTexture2D(Gt.FRAMEBUFFER,Gt.COLOR_ATTACHMENT0,Gt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if(!1===(t&&t.isWebGLRenderTarget))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=Wt.get(t).__webglFramebuffer;if(a){var s=!1;a!==ot&&(Gt.bindFramebuffer(Gt.FRAMEBUFFER,a),s=!0);try{var c=t.texture,u=c.format,h=c.type;if(u!==RGBAFormat&&C(u)!==Gt.getParameter(Gt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(h!==UnsignedByteType&&C(h)!==Gt.getParameter(Gt.IMPLEMENTATION_COLOR_READ_TYPE)&&(h!==FloatType||!jt.get("OES_texture_float")&&!jt.get("WEBGL_color_buffer_float"))&&(h!==HalfFloatType||!jt.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Gt.checkFramebufferStatus(Gt.FRAMEBUFFER)===Gt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&Gt.readPixels(e,n,r,i,C(u),C(h),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Gt.bindFramebuffer(Gt.FRAMEBUFFER,ot)}}}}function FogExp2(t,e){this.name="",this.color=new Color(t),this.density=void 0!==e?e:25e-5}function Fog(t,e,n){this.name="",this.color=new Color(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Scene(){Object3D.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function LensFlare(t,e,n,r,i){Object3D.call(this),this.lensFlares=[],this.positionScreen=new Vector3,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)}function SpriteMaterial(t){Material.call(this),this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Sprite(t){Object3D.call(this),this.type="Sprite",this.material=void 0!==t?t:new SpriteMaterial}function LOD(){Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Skeleton(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Matrix4)}}function Bone(){Object3D.call(this),this.type="Bone"}function SkinnedMesh(t,e){Mesh.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4;var n=this.initBones(),r=new Skeleton(n);this.bind(r,this.matrixWorld),this.normalizeSkinWeights()}function LineBasicMaterial(t){Material.call(this),this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Line(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new LineSegments(t,e);Object3D.call(this),this.type="Line",this.geometry=void 0!==t?t:new BufferGeometry,this.material=void 0!==e?e:new LineBasicMaterial({color:16777215*Math.random()})}function LineSegments(t,e){Line.call(this,t,e),this.type="LineSegments"}function LineLoop(t,e){Line.call(this,t,e),this.type="LineLoop"}function PointsMaterial(t){Material.call(this),this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Points(t,e){Object3D.call(this),this.type="Points",this.geometry=void 0!==t?t:new BufferGeometry,this.material=void 0!==e?e:new PointsMaterial({color:16777215*Math.random()})}function Group(){Object3D.call(this),this.type="Group"}function VideoTexture(t,e,n,r,i,o,a,s,c){function u(){requestAnimationFrame(u),t.readyState>=t.HAVE_CURRENT_DATA&&(h.needsUpdate=!0)}Texture.call(this,t,e,n,r,i,o,a,s,c),this.generateMipmaps=!1;var h=this;u()}function CompressedTexture(t,e,n,r,i,o,a,s,c,u,h,l){Texture.call(this,null,o,a,s,c,u,r,i,h,l),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function CanvasTexture(t,e,n,r,i,o,a,s,c){Texture.call(this,t,e,n,r,i,o,a,s,c),this.needsUpdate=!0}function DepthTexture(t,e,n,r,i,o,a,s,c,u){if((u=void 0!==u?u:DepthFormat)!==DepthFormat&&u!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===DepthFormat&&(n=UnsignedShortType),void 0===n&&u===DepthStencilFormat&&(n=UnsignedInt248Type),Texture.call(this,null,r,i,o,a,s,u,n,c),this.image={width:t,height:e},this.magFilter=void 0!==a?a:NearestFilter,this.minFilter=void 0!==s?s:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}function WireframeGeometry(t){BufferGeometry.call(this),this.type="WireframeGeometry";var e=[],n,r,i,o,a,s=[0,0],c={},u,h,l,f,p=["a","b","c"],d;if(t&&t.isGeometry){var m=t.faces;for(n=0,i=m.length;n<i;n++){var v=m[n];for(r=0;r<3;r++)h=v[p[r]],l=v[p[(r+1)%3]],s[0]=Math.min(h,l),s[1]=Math.max(h,l),f=s[0]+","+s[1],void 0===c[f]&&(c[f]={index1:s[0],index2:s[1]})}for(f in c)u=c[f],d=t.vertices[u.index1],e.push(d.x,d.y,d.z),d=t.vertices[u.index2],e.push(d.x,d.y,d.z)}else if(t&&t.isBufferGeometry){var g,y,x,_,b,w,M,E;if(d=new Vector3,null!==t.index){for(g=t.attributes.position,y=t.index,x=t.groups,0===x.length&&(x=[{start:0,count:y.count,materialIndex:0}]),o=0,a=x.length;o<a;++o)for(_=x[o],b=_.start,w=_.count,n=b,i=b+w;n<i;n+=3)for(r=0;r<3;r++)h=y.getX(n+r),l=y.getX(n+(r+1)%3),s[0]=Math.min(h,l),s[1]=Math.max(h,l),f=s[0]+","+s[1],void 0===c[f]&&(c[f]={index1:s[0],index2:s[1]});for(f in c)u=c[f],d.fromBufferAttribute(g,u.index1),e.push(d.x,d.y,d.z),d.fromBufferAttribute(g,u.index2),e.push(d.x,d.y,d.z)}else for(g=t.attributes.position,n=0,i=g.count/3;n<i;n++)for(r=0;r<3;r++)M=3*n+r,d.fromBufferAttribute(g,M),e.push(d.x,d.y,d.z),E=3*n+(r+1)%3,d.fromBufferAttribute(g,E),e.push(d.x,d.y,d.z)}this.addAttribute("position",new Float32BufferAttribute(e,3))}function ParametricGeometry(t,e,n){Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new ParametricBufferGeometry(t,e,n)),this.mergeVertices()}function ParametricBufferGeometry(t,e,n){BufferGeometry.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r=[],i=[],o=[],a=[],s=1e-5,c=new Vector3,u=new Vector3,h=new Vector3,l=new Vector3,f=new Vector3,p,d,m=e+1;for(p=0;p<=n;p++){var v=p/n;for(d=0;d<=e;d++){var g=d/e;u=t(g,v,u),i.push(u.x,u.y,u.z),g-s>=0?(h=t(g-s,v,h),l.subVectors(u,h)):(h=t(g+s,v,h),l.subVectors(h,u)),v-s>=0?(h=t(g,v-s,h),f.subVectors(u,h)):(h=t(g,v+s,h),f.subVectors(h,u)),c.crossVectors(l,f).normalize(),o.push(c.x,c.y,c.z),a.push(g,v)}}for(p=0;p<n;p++)for(d=0;d<e;d++){var y=p*m+d,x=p*m+d+1,_=(p+1)*m+d+1,b=(p+1)*m+d;r.push(y,x,b),r.push(x,_,b)}this.setIndex(r),this.addAttribute("position",new Float32BufferAttribute(i,3)),this.addAttribute("normal",new Float32BufferAttribute(o,3)),this.addAttribute("uv",new Float32BufferAttribute(a,2))}function PolyhedronGeometry(t,e,n,r){Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new PolyhedronBufferGeometry(t,e,n,r)),this.mergeVertices()}function PolyhedronBufferGeometry(t,e,n,r){function i(t){for(var n=new Vector3,r=new Vector3,i=new Vector3,a=0;a<e.length;a+=3)h(e[a+0],n),h(e[a+1],r),h(e[a+2],i),o(n,r,i,t)}function o(t,e,n,r){var i=Math.pow(2,r),o=[],a,s;for(a=0;a<=i;a++){o[a]=[];var c=t.clone().lerp(n,a/i),h=e.clone().lerp(n,a/i),l=i-a;for(s=0;s<=l;s++)o[a][s]=0===s&&a===i?c:c.clone().lerp(h,s/l)}for(a=0;a<i;a++)for(s=0;s<2*(i-a)-1;s++){var f=Math.floor(s/2);s%2===0?(u(o[a][f+1]),u(o[a+1][f]),u(o[a][f])):(u(o[a][f+1]),u(o[a+1][f+1]),u(o[a+1][f]))}}function a(t){for(var e=new Vector3,n=0;n<m.length;n+=3)e.x=m[n+0],e.y=m[n+1],e.z=m[n+2],e.normalize().multiplyScalar(t),m[n+0]=e.x,m[n+1]=e.y,m[n+2]=e.z}function s(){for(var t=new Vector3,e=0;e<m.length;e+=3){t.x=m[e+0],t.y=m[e+1],t.z=m[e+2];var n=p(t)/2/Math.PI+.5,r=d(t)/Math.PI+.5;v.push(n,1-r)}l(),c()}function c(){for(var t=0;t<v.length;t+=6){var e=v[t+0],n=v[t+2],r=v[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);i>.9&&o<.1&&(e<.2&&(v[t+0]+=1),n<.2&&(v[t+2]+=1),r<.2&&(v[t+4]+=1))}}function u(t){m.push(t.x,t.y,t.z)}function h(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function l(){for(var t=new Vector3,e=new Vector3,n=new Vector3,r=new Vector3,i=new Vector2,o=new Vector2,a=new Vector2,s=0,c=0;s<m.length;s+=9,c+=6){t.set(m[s+0],m[s+1],m[s+2]),e.set(m[s+3],m[s+4],m[s+5]),n.set(m[s+6],m[s+7],m[s+8]),i.set(v[c+0],v[c+1]),o.set(v[c+2],v[c+3]),a.set(v[c+4],v[c+5]),r.copy(t).add(e).add(n).divideScalar(3);var u=p(r);f(i,c+0,t,u),f(o,c+2,e,u),f(a,c+4,n,u)}}function f(t,e,n,r){r<0&&1===t.x&&(v[e]=t.x-1),0===n.x&&0===n.z&&(v[e]=r/2/Math.PI+.5)}function p(t){return Math.atan2(t.z,-t.x)}function d(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}BufferGeometry.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1,r=r||0;var m=[],v=[];i(r),a(n),s(),this.addAttribute("position",new Float32BufferAttribute(m,3)),this.addAttribute("normal",new Float32BufferAttribute(m.slice(),3)),this.addAttribute("uv",new Float32BufferAttribute(v,2)),this.normalizeNormals()}function TetrahedronGeometry(t,e){Geometry.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new TetrahedronBufferGeometry(t,e)),this.mergeVertices()}function TetrahedronBufferGeometry(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];PolyhedronBufferGeometry.call(this,n,r,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function OctahedronGeometry(t,e){Geometry.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new OctahedronBufferGeometry(t,e)),this.mergeVertices()}function OctahedronBufferGeometry(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];PolyhedronBufferGeometry.call(this,n,r,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function IcosahedronGeometry(t,e){Geometry.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new IcosahedronBufferGeometry(t,e)),this.mergeVertices()}function IcosahedronBufferGeometry(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];PolyhedronBufferGeometry.call(this,r,i,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function DodecahedronGeometry(t,e){Geometry.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new DodecahedronBufferGeometry(t,e)),this.mergeVertices()}function DodecahedronBufferGeometry(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];PolyhedronBufferGeometry.call(this,i,o,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function TubeGeometry(t,e,n,r,i,o){Geometry.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new TubeBufferGeometry(t,e,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function TubeBufferGeometry(t,e,n,r,i){function o(){for(p=0;p<e;p++)a(p);a(!1===i?e:0),c(),s()}function a(i){var o=t.getPointAt(i/e),a=u.normals[i],s=u.binormals[i];for(d=0;d<=r;d++){var c=d/r*Math.PI*2,f=Math.sin(c),p=-Math.cos(c);l.x=p*a.x+f*s.x,l.y=p*a.y+f*s.y,l.z=p*a.z+f*s.z,l.normalize(),v.push(l.x,l.y,l.z),h.x=o.x+n*l.x,h.y=o.y+n*l.y,h.z=o.z+n*l.z,m.push(h.x,h.y,h.z)}}function s(){for(d=1;d<=e;d++)for(p=1;p<=r;p++){var t=(r+1)*(d-1)+(p-1),n=(r+1)*d+(p-1),i=(r+1)*d+p,o=(r+1)*(d-1)+p;y.push(t,n,o),y.push(n,i,o)}}function c(){for(p=0;p<=e;p++)for(d=0;d<=r;d++)f.x=p/e,f.y=d/r,g.push(f.x,f.y)}BufferGeometry.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},e=e||64,n=n||1,r=r||8,i=i||!1;var u=t.computeFrenetFrames(e,i);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals;var h=new Vector3,l=new Vector3,f=new Vector2,p,d,m=[],v=[],g=[],y=[];o(),this.setIndex(y),this.addAttribute("position",new Float32BufferAttribute(m,3)),this.addAttribute("normal",new Float32BufferAttribute(v,3)),this.addAttribute("uv",new Float32BufferAttribute(g,2))}function TorusKnotGeometry(t,e,n,r,i,o,a){Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new TorusKnotBufferGeometry(t,e,n,r,i,o)),this.mergeVertices()}function TorusKnotBufferGeometry(t,e,n,r,i,o){function a(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,c=Math.cos(s);i.x=r*(2+c)*.5*o,i.y=r*(2+c)*a*.5,i.z=r*Math.sin(s)*.5}BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},t=t||100,e=e||40,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var s=[],c=[],u=[],h=[],l,f,p=new Vector3,d=new Vector3,m=new Vector3,v=new Vector3,g=new Vector3,y=new Vector3,x=new Vector3;for(l=0;l<=n;++l){var _=l/n*i*Math.PI*2;for(a(_,i,o,t,m),a(_+.01,i,o,t,v),y.subVectors(v,m),x.addVectors(v,m),g.crossVectors(y,x),x.crossVectors(g,y),g.normalize(),x.normalize(),f=0;f<=r;++f){var b=f/r*Math.PI*2,w=-e*Math.cos(b),M=e*Math.sin(b);p.x=m.x+(w*x.x+M*g.x),p.y=m.y+(w*x.y+M*g.y),p.z=m.z+(w*x.z+M*g.z),c.push(p.x,p.y,p.z),d.subVectors(p,m).normalize(),u.push(d.x,d.y,d.z),h.push(l/n),h.push(f/r)}}for(f=1;f<=n;f++)for(l=1;l<=r;l++){var E=(r+1)*(f-1)+(l-1),S=(r+1)*f+(l-1),T=(r+1)*f+l,A=(r+1)*(f-1)+l;s.push(E,S,A),s.push(S,T,A)}this.setIndex(s),this.addAttribute("position",new Float32BufferAttribute(c,3)),this.addAttribute("normal",new Float32BufferAttribute(u,3)),this.addAttribute("uv",new Float32BufferAttribute(h,2))}function TorusGeometry(t,e,n,r,i){Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new TorusBufferGeometry(t,e,n,r,i)),this.mergeVertices()}function TorusBufferGeometry(t,e,n,r,i){BufferGeometry.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o=[],a=[],s=[],c=[],u=new Vector3,h=new Vector3,l=new Vector3,f,p;for(f=0;f<=n;f++)for(p=0;p<=r;p++){var d=p/r*i,m=f/n*Math.PI*2;h.x=(t+e*Math.cos(m))*Math.cos(d),h.y=(t+e*Math.cos(m))*Math.sin(d),h.z=e*Math.sin(m),a.push(h.x,h.y,h.z),u.x=t*Math.cos(d),u.y=t*Math.sin(d),l.subVectors(h,u).normalize(),s.push(l.x,l.y,l.z),c.push(p/r),c.push(f/n)}for(f=1;f<=n;f++)for(p=1;p<=r;p++){var v=(r+1)*f+p-1,g=(r+1)*(f-1)+p-1,y=(r+1)*(f-1)+p,x=(r+1)*f+p;o.push(v,g,x),o.push(g,y,x)}this.setIndex(o),this.addAttribute("position",new Float32BufferAttribute(a,3)),this.addAttribute("normal",new Float32BufferAttribute(s,3)),this.addAttribute("uv",new Float32BufferAttribute(c,2))}function ExtrudeGeometry(t,e){Geometry.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new ExtrudeBufferGeometry(t,e)),this.mergeVertices()}function ExtrudeBufferGeometry(t,e){if("undefined"===typeof t)return void(t=[]);BufferGeometry.call(this),this.type="ExtrudeBufferGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeVertexNormals()}function TextGeometry(t,e){Geometry.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new TextBufferGeometry(t,e)),this.mergeVertices()}function TextBufferGeometry(t,e){e=e||{};var n=e.font;if(!1===(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Geometry;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),ExtrudeBufferGeometry.call(this,r,e),this.type="TextBufferGeometry"}function SphereGeometry(t,e,n,r,i,o,a){Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new SphereBufferGeometry(t,e,n,r,i,o,a)),this.mergeVertices()}function SphereBufferGeometry(t,e,n,r,i,o,a){BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s=o+a,c,u,h=0,l=[],f=new Vector3,p=new Vector3,d=[],m=[],v=[],g=[];for(u=0;u<=n;u++){var y=[],x=u/n;for(c=0;c<=e;c++){var _=c/e;f.x=-t*Math.cos(r+_*i)*Math.sin(o+x*a),f.y=t*Math.cos(o+x*a),f.z=t*Math.sin(r+_*i)*Math.sin(o+x*a),m.push(f.x,f.y,f.z),p.set(f.x,f.y,f.z).normalize(),v.push(p.x,p.y,p.z),g.push(_,1-x),y.push(h++)}l.push(y)}for(u=0;u<n;u++)for(c=0;c<e;c++){var b=l[u][c+1],w=l[u][c],M=l[u+1][c],E=l[u+1][c+1];(0!==u||o>0)&&d.push(b,w,E),(u!==n-1||s<Math.PI)&&d.push(w,M,E)}this.setIndex(d),this.addAttribute("position",new Float32BufferAttribute(m,3)),this.addAttribute("normal",new Float32BufferAttribute(v,3)),this.addAttribute("uv",new Float32BufferAttribute(g,2))}function RingGeometry(t,e,n,r,i,o){Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new RingBufferGeometry(t,e,n,r,i,o)),this.mergeVertices()}function RingBufferGeometry(t,e,n,r,i,o){BufferGeometry.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},t=t||20,e=e||50,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var a=[],s=[],c=[],u=[],h,l=t,f=(e-t)/r,p=new Vector3,d=new Vector2,m,v;for(m=0;m<=r;m++){for(v=0;v<=n;v++)h=i+v/n*o,p.x=l*Math.cos(h),p.y=l*Math.sin(h),s.push(p.x,p.y,p.z),c.push(0,0,1),d.x=(p.x/e+1)/2,d.y=(p.y/e+1)/2,u.push(d.x,d.y);l+=f}for(m=0;m<r;m++){var g=m*(n+1);for(v=0;v<n;v++){h=v+g;var y=h,x=h+n+1,_=h+n+2,b=h+1;a.push(y,x,b),a.push(x,_,b)}}this.setIndex(a),this.addAttribute("position",new Float32BufferAttribute(s,3)),this.addAttribute("normal",new Float32BufferAttribute(c,3)),this.addAttribute("uv",new Float32BufferAttribute(u,2))}function LatheGeometry(t,e,n,r){Geometry.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new LatheBufferGeometry(t,e,n,r)),this.mergeVertices()}function LatheBufferGeometry(t,e,n,r){BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=Ut.clamp(r,0,2*Math.PI);var i=[],o=[],a=[],s,c=1/e,u=new Vector3,h=new Vector2,l,f;for(l=0;l<=e;l++){var p=n+l*c*r,d=Math.sin(p),m=Math.cos(p);for(f=0;f<=t.length-1;f++)u.x=t[f].x*d,u.y=t[f].y,u.z=t[f].x*m,o.push(u.x,u.y,u.z),h.x=l/e,h.y=f/(t.length-1),a.push(h.x,h.y)}for(l=0;l<e;l++)for(f=0;f<t.length-1;f++){s=f+l*t.length;var v=s,g=s+t.length,y=s+t.length+1,x=s+1;i.push(v,g,x),i.push(g,y,x)}if(this.setIndex(i),this.addAttribute("position",new Float32BufferAttribute(o,3)),this.addAttribute("uv",new Float32BufferAttribute(a,2)),this.computeVertexNormals(),r===2*Math.PI){var _=this.attributes.normal.array,b=new Vector3,w=new Vector3,M=new Vector3;for(s=e*t.length*3,l=0,f=0;l<t.length;l++,f+=3)b.x=_[f+0],b.y=_[f+1],b.z=_[f+2],w.x=_[s+f+0],w.y=_[s+f+1],w.z=_[s+f+2],M.addVectors(b,w).normalize(),_[f+0]=_[s+f+0]=M.x,_[f+1]=_[s+f+1]=M.y,_[f+2]=_[s+f+2]=M.z}}function ShapeGeometry(t,e){Geometry.call(this),this.type="ShapeGeometry","object"===typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new ShapeBufferGeometry(t,e)),this.mergeVertices()}function ShapeBufferGeometry(t,e){function n(t){var n,s,u,h=i.length/3,l=t.extractPoints(e),f=l.shape,p=l.holes;if(!1===ShapeUtils.isClockWise(f))for(f=f.reverse(),n=0,s=p.length;n<s;n++)u=p[n],!0===ShapeUtils.isClockWise(u)&&(p[n]=u.reverse());var d=ShapeUtils.triangulateShape(f,p);for(n=0,s=p.length;n<s;n++)u=p[n],f=f.concat(u);for(n=0,s=f.length;n<s;n++){var m=f[n];i.push(m.x,m.y,0),o.push(0,0,1),a.push(m.x,m.y)}for(n=0,s=d.length;n<s;n++){var v=d[n],g=v[0]+h,y=v[1]+h,x=v[2]+h;r.push(g,y,x),c+=3}}BufferGeometry.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],i=[],o=[],a=[],s=0,c=0;if(!1===Array.isArray(t))n(t);else for(var u=0;u<t.length;u++)n(t[u]),this.addGroup(s,c,u),s+=c,c=0;this.setIndex(r),this.addAttribute("position",new Float32BufferAttribute(i,3)),this.addAttribute("normal",new Float32BufferAttribute(o,3)),this.addAttribute("uv",new Float32BufferAttribute(a,2))}function EdgesGeometry(t,e){BufferGeometry.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n=[],r=Math.cos(Ut.DEG2RAD*e),i=[0,0],o={},a,s,c,u=["a","b","c"],h;t.isBufferGeometry?(h=new Geometry,h.fromBufferGeometry(t)):h=t.clone(),h.mergeVertices(),h.computeFaceNormals();for(var l=h.vertices,f=h.faces,p=0,d=f.length;p<d;p++)for(var m=f[p],v=0;v<3;v++)a=m[u[v]],s=m[u[(v+1)%3]],i[0]=Math.min(a,s),i[1]=Math.max(a,s),c=i[0]+","+i[1],void 0===o[c]?o[c]={index1:i[0],index2:i[1],face1:p,face2:void 0}:o[c].face2=p;for(c in o){var g=o[c];if(void 0===g.face2||f[g.face1].normal.dot(f[g.face2].normal)<=r){var y=l[g.index1];n.push(y.x,y.y,y.z),y=l[g.index2],n.push(y.x,y.y,y.z)}}this.addAttribute("position",new Float32BufferAttribute(n,3))}function CylinderGeometry(t,e,n,r,i,o,a,s){Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new CylinderBufferGeometry(t,e,n,r,i,o,a,s)),this.mergeVertices()}function CylinderBufferGeometry(t,e,n,r,i,o,a,s){function c(){var o,c,u=new Vector3,x=new Vector3,_=0,b=(e-t)/n;for(c=0;c<=i;c++){var w=[],M=c/i,E=M*(e-t)+t;for(o=0;o<=r;o++){var S=o/r,T=S*s+a,A=Math.sin(T),R=Math.cos(T);x.x=E*A,x.y=-M*n+g,x.z=E*R,f.push(x.x,x.y,x.z),u.set(A,b,R).normalize(),p.push(u.x,u.y,u.z),d.push(S,1-M),w.push(m++)}v.push(w)}for(o=0;o<r;o++)for(c=0;c<i;c++){var L=v[c][o],P=v[c+1][o],C=v[c+1][o+1],I=v[c][o+1];l.push(L,P,I),l.push(P,C,I),_+=6}h.addGroup(y,_,0),y+=_}function u(n){var i,o,c,u=new Vector2,v=new Vector3,x=0,_=!0===n?t:e,b=!0===n?1:-1;for(o=m,i=1;i<=r;i++)f.push(0,g*b,0),p.push(0,b,0),d.push(.5,.5),m++;for(c=m,i=0;i<=r;i++){var w=i/r,M=w*s+a,E=Math.cos(M),S=Math.sin(M);v.x=_*S,v.y=g*b,v.z=_*E,f.push(v.x,v.y,v.z),p.push(0,b,0),u.x=.5*E+.5,u.y=.5*S*b+.5,d.push(u.x,u.y),m++}for(i=0;i<r;i++){var T=o+i,A=c+i;!0===n?l.push(A,A+1,T):l.push(A+1,A,T),x+=3}h.addGroup(y,x,!0===n?1:2),y+=x}BufferGeometry.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var h=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var l=[],f=[],p=[],d=[],m=0,v=[],g=n/2,y=0;c(),!1===o&&(t>0&&u(!0),e>0&&u(!1)),this.setIndex(l),this.addAttribute("position",new Float32BufferAttribute(f,3)),this.addAttribute("normal",new Float32BufferAttribute(p,3)),this.addAttribute("uv",new Float32BufferAttribute(d,2))}function ConeGeometry(t,e,n,r,i,o,a){CylinderGeometry.call(this,0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function ConeBufferGeometry(t,e,n,r,i,o,a){CylinderBufferGeometry.call(this,0,t,e,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function CircleGeometry(t,e,n,r){Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new CircleBufferGeometry(t,e,n,r)),this.mergeVertices()}function CircleBufferGeometry(t,e,n,r){BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i=[],o=[],a=[],s=[],c,u,h=new Vector3,l=new Vector2;for(o.push(0,0,0),a.push(0,0,1),s.push(.5,.5),u=0,c=3;u<=e;u++,c+=3){var f=n+u/e*r;h.x=t*Math.cos(f),h.y=t*Math.sin(f),o.push(h.x,h.y,h.z),a.push(0,0,1),l.x=(o[c]/t+1)/2,l.y=(o[c+1]/t+1)/2,s.push(l.x,l.y)}for(c=1;c<=e;c++)i.push(c,c+1,0);this.setIndex(i),this.addAttribute("position",new Float32BufferAttribute(o,3)),this.addAttribute("normal",new Float32BufferAttribute(a,3)),this.addAttribute("uv",new Float32BufferAttribute(s,2))}function ShadowMaterial(t){ShaderMaterial.call(this,{uniforms:UniformsUtils.merge([UniformsLib.lights,{opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}}),this.setValues(t)}function RawShaderMaterial(t){ShaderMaterial.call(this,t),this.type="RawShaderMaterial"}function MeshStandardMaterial(t){Material.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function MeshPhysicalMaterial(t){MeshStandardMaterial.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function MeshPhongMaterial(t){Material.call(this),this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function MeshToonMaterial(t){MeshPhongMaterial.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function MeshNormalMaterial(t){Material.call(this,t),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function MeshLambertMaterial(t){Material.call(this),this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function LineDashedMaterial(t){Material.call(this),this.type="LineDashedMaterial",this.color=new Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function LoadingManager(t,e,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}}function FileLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function CompressedTextureLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager,this._parser=null}function DataTextureLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager,this._parser=null}function ImageLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function CubeTextureLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function TextureLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function Light(t,e){Object3D.call(this),this.type="Light",this.color=new Color(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function HemisphereLight(t,e,n){Light.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color(e)}function LightShadow(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new Vector2(512,512),this.map=null,this.matrix=new Matrix4}function SpotLightShadow(){LightShadow.call(this,new PerspectiveCamera(50,1,.5,500))}function SpotLight(t,e,n,r,i,o){Light.call(this,t,e),this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new SpotLightShadow}function PointLight(t,e,n,r){Light.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new LightShadow(new PerspectiveCamera(90,1,.5,500))}function DirectionalLightShadow(){LightShadow.call(this,new OrthographicCamera(-5,5,5,-5,.5,500))}function DirectionalLight(t,e){Light.call(this,t,e),this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}function AmbientLight(t,e){Light.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function RectAreaLight(t,e,n,r){Light.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Interpolant(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function CubicInterpolant(t,e,n,r){Interpolant.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function LinearInterpolant(t,e,n,r){Interpolant.call(this,t,e,n,r)}function DiscreteInterpolant(t,e,n,r){Interpolant.call(this,t,e,n,r)}function xt(t,e,n,r){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=AnimationUtils.convertArray(e,this.TimeBufferType),this.values=AnimationUtils.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function VectorKeyframeTrack(t,e,n,r){xt.call(this,t,e,n,r)}function QuaternionLinearInterpolant(t,e,n,r){Interpolant.call(this,t,e,n,r)}function QuaternionKeyframeTrack(t,e,n,r){xt.call(this,t,e,n,r)}function NumberKeyframeTrack(t,e,n,r){xt.call(this,t,e,n,r)}function StringKeyframeTrack(t,e,n,r){xt.call(this,t,e,n,r)}function BooleanKeyframeTrack(t,e,n){xt.call(this,t,e,n)}function ColorKeyframeTrack(t,e,n,r){xt.call(this,t,e,n,r)}function KeyframeTrack(t,e,n,r){xt.apply(this,arguments)}function AnimationClip(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=Ut.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function MaterialLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager,this.textures={}}function BufferGeometryLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function Loader(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function JSONLoader(t){"boolean"===typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:DefaultLoadingManager,this.withCredentials=!1}function ObjectLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager,this.texturePath=""}function _t(t,e,n,r,i){var o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function bt(t,e){var n=1-t;return n*n*e}function wt(t,e){return 2*(1-t)*t*e}function Mt(t,e){return t*t*e}function Et(t,e,n,r){return bt(t,e)+wt(t,n)+Mt(t,r)}function St(t,e){var n=1-t;return n*n*n*e}function Tt(t,e){var n=1-t;return 3*n*n*t*e}function At(t,e){return 3*(1-t)*t*t*e}function Rt(t,e){return t*t*t*e}function Lt(t,e,n,r,i){return St(t,e)+Tt(t,n)+At(t,r)+Rt(t,i)}function Curve(){this.arcLengthDivisions=200}function LineCurve(t,e){Curve.call(this),this.v1=t,this.v2=e}function CurvePath(){Curve.call(this),this.curves=[],this.autoClose=!1}function EllipseCurve(t,e,n,r,i,o,a,s){Curve.call(this),this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function SplineCurve(t){Curve.call(this),this.points=void 0===t?[]:t}function CubicBezierCurve(t,e,n,r){Curve.call(this),this.v0=t,this.v1=e,this.v2=n,this.v3=r}function QuadraticBezierCurve(t,e,n){Curve.call(this),this.v0=t,this.v1=e,this.v2=n}function Path(t){CurvePath.call(this),this.currentPoint=new Vector2,t&&this.fromPoints(t)}function Shape(){Path.apply(this,arguments),this.holes=[]}function ShapePath(){this.subPaths=[],this.currentPath=null}function Font(t){this.data=t}function FontLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function AudioLoader(t){this.manager=void 0!==t?t:DefaultLoadingManager}function StereoCamera(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function CubeCamera(t,e,n){Object3D.call(this),this.type="CubeCamera";var r=90,i=1,o=new PerspectiveCamera(90,1,t,e);o.up.set(0,-1,0),o.lookAt(new Vector3(1,0,0)),this.add(o);var a=new PerspectiveCamera(90,1,t,e);a.up.set(0,-1,0),a.lookAt(new Vector3(-1,0,0)),this.add(a);var s=new PerspectiveCamera(90,1,t,e);s.up.set(0,0,1),s.lookAt(new Vector3(0,1,0)),this.add(s);var c=new PerspectiveCamera(90,1,t,e);c.up.set(0,0,-1),c.lookAt(new Vector3(0,-1,0)),this.add(c);var u=new PerspectiveCamera(90,1,t,e);u.up.set(0,-1,0),u.lookAt(new Vector3(0,0,1)),this.add(u);var h=new PerspectiveCamera(90,1,t,e);h.up.set(0,-1,0),h.lookAt(new Vector3(0,0,-1)),this.add(h);var l={format:RGBFormat,magFilter:LinearFilter,minFilter:LinearFilter};this.renderTarget=new WebGLRenderTargetCube(n,n,l),this.renderTarget.texture.name="CubeCamera",this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,o,n),n.activeCubeFace=1,t.render(e,a,n),n.activeCubeFace=2,t.render(e,s,n),n.activeCubeFace=3,t.render(e,c,n),n.activeCubeFace=4,t.render(e,u,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,t.render(e,h,n),t.setRenderTarget(null)}}function ArrayCamera(t){PerspectiveCamera.call(this),this.enabled=!1,this.cameras=t||[]}function AudioListener(){Object3D.call(this),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Audio(t){Object3D.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function PositionalAudio(t){Audio.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function AudioAnalyser(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function PropertyMixer(t,e,n){this.binding=t,this.valueSize=n;var r=Float64Array,i;switch(e){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Pt(t,e,n){var r=n||PropertyBinding.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function PropertyBinding(t,e,n){this.path=e,this.parsedPath=n||PropertyBinding.parseTrackName(e),this.node=PropertyBinding.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function AnimationObjectGroup(t){this.uuid=Ut.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Ct(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),a={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding},s=0;s!==i;++s){var c=r[s].createInterpolant(null);o[s]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function AnimationMixer(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Uniform(t){"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function InstancedBufferGeometry(){BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function InterleavedBufferAttribute(t,e,n,r){this.uuid=Ut.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function InterleavedBuffer(t,e){this.uuid=Ut.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function InstancedInterleavedBuffer(t,e,n){InterleavedBuffer.call(this,t,e),this.meshPerAttribute=n||1}function InstancedBufferAttribute(t,e,n){BufferAttribute.call(this,t,e),this.meshPerAttribute=n||1}function Raycaster(t,e,n,r){this.ray=new Ray(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function It(t,e){return t.distance-e.distance}function Ot(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,o=0,a=i.length;o<a;o++)Ot(i[o],e,n,!0)}function Clock(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Spherical(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function Cylindrical(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function MorphBlendMesh(t,e){Mesh.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r="__default",i=0,o=n-1,a=n/1;this.createAnimation(r,0,o,a),this.setAnimationWeight(r,1)}function ImmediateRenderObject(t){Object3D.call(this),this.material=t,this.render=function(t){}}function VertexNormalsHelper(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var c=new BufferGeometry,u=new Float32BufferAttribute(2*a*3,3);c.addAttribute("position",u),LineSegments.call(this,c,new LineBasicMaterial({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function SpotLightHelper(t){Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new BufferGeometry,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1,o=32;r<o;r++,i++){var a=r/o*Math.PI*2,s=i/o*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}e.addAttribute("position",new Float32BufferAttribute(n,3));var c=new LineBasicMaterial({fog:!1});this.cone=new LineSegments(e,c),this.add(this.cone),this.update()}function SkeletonHelper(t){this.bones=this.getBoneList(t);for(var e=new BufferGeometry,n=[],r=[],i=new Color(0,0,1),o=new Color(0,1,0),a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(o.r,o.g,o.b))}e.addAttribute("position",new Float32BufferAttribute(n,3)),e.addAttribute("color",new Float32BufferAttribute(r,3));var c=new LineBasicMaterial({vertexColors:VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});LineSegments.call(this,e,c),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function PointLightHelper(t,e){this.light=t,this.light.updateMatrixWorld();var n=new SphereBufferGeometry(e,4,2),r=new MeshBasicMaterial({wireframe:!0,fog:!1});r.color.copy(this.light.color),Mesh.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function RectAreaLightHelper(t){Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var e=new LineBasicMaterial({color:t.color}),n=new BufferGeometry;n.addAttribute("position",new BufferAttribute(new Float32Array(15),3)),this.add(new Line(n,e)),this.update()}function HemisphereLightHelper(t,e){Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new OctahedronBufferGeometry(e);n.rotateY(.5*Math.PI);var r=new MeshBasicMaterial({vertexColors:VertexColors,wireframe:!0}),i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new BufferAttribute(o,3)),this.add(new Mesh(n,r)),this.update()}function GridHelper(t,e,n,r){t=t||10,e=e||10,n=new Color(void 0!==n?n:4473924),r=new Color(void 0!==r?r:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],c=[],u=0,h=0,l=-a;u<=e;u++,l+=o){s.push(-a,0,l,a,0,l),s.push(l,0,-a,l,0,a);var f=u===i?n:r;f.toArray(c,h),h+=3,f.toArray(c,h),h+=3,f.toArray(c,h),h+=3,f.toArray(c,h),h+=3}var p=new BufferGeometry;p.addAttribute("position",new Float32BufferAttribute(s,3)),p.addAttribute("color",new Float32BufferAttribute(c,3));var d=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,p,d)}function PolarGridHelper(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new Color(void 0!==i?i:4473924),o=new Color(void 0!==o?o:8947848);var a=[],s=[],c,u,h,l,f,p,d;for(l=0;l<=e;l++)h=l/e*(2*Math.PI),c=Math.sin(h)*t,u=Math.cos(h)*t,a.push(0,0,0),a.push(c,0,u),d=1&l?i:o,s.push(d.r,d.g,d.b),s.push(d.r,d.g,d.b);for(l=0;l<=n;l++)for(d=1&l?i:o,p=t-t/n*l,f=0;f<r;f++)h=f/r*(2*Math.PI),c=Math.sin(h)*p,u=Math.cos(h)*p,a.push(c,0,u),s.push(d.r,d.g,d.b),h=(f+1)/r*(2*Math.PI),c=Math.sin(h)*p,u=Math.cos(h)*p,a.push(c,0,u),s.push(d.r,d.g,d.b);var m=new BufferGeometry;m.addAttribute("position",new Float32BufferAttribute(a,3)),m.addAttribute("color",new Float32BufferAttribute(s,3));var v=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,m,v)}function FaceNormalsHelper(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new BufferGeometry,u=new Float32BufferAttribute(2*a*3,3);c.addAttribute("position",u),LineSegments.call(this,c,new LineBasicMaterial({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function DirectionalLightHelper(t,e){Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new BufferGeometry;n.addAttribute("position",new Float32BufferAttribute([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new LineBasicMaterial({fog:!1});this.add(new Line(n,r)),n=new BufferGeometry,n.addAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.add(new Line(n,r)),this.update()}function CameraHelper(t){function e(t,e,r){n(t,r),n(e,r)}function n(t,e){o.push(0,0,0),a.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(o.length/3-1)}var r=new BufferGeometry,i=new LineBasicMaterial({color:16777215,vertexColors:FaceColors}),o=[],a=[],s={},c=new Color(16755200),u=new Color(16711680),h=new Color(43775),l=new Color(16777215),f=new Color(3355443);e("n1","n2",c),e("n2","n4",c),e("n4","n3",c),e("n3","n1",c),e("f1","f2",c),e("f2","f4",c),e("f4","f3",c),e("f3","f1",c),e("n1","f1",c),e("n2","f2",c),e("n3","f3",c),e("n4","f4",c),e("p","n1",u),e("p","n2",u),e("p","n3",u),e("p","n4",u),e("u1","u2",h),e("u2","u3",h),e("u3","u1",h),e("c","t",l),e("p","c",f),e("cn1","cn2",f),e("cn3","cn4",f),e("cf1","cf2",f),e("cf3","cf4",f),r.addAttribute("position",new Float32BufferAttribute(o,3)),r.addAttribute("color",new Float32BufferAttribute(a,3)),LineSegments.call(this,r,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function BoxHelper(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new BufferGeometry;i.setIndex(new BufferAttribute(n,1)),i.addAttribute("position",new BufferAttribute(r,3)),LineSegments.call(this,i,new LineBasicMaterial({color:e})),this.matrixAutoUpdate=!1,this.update()}function ArrowHelper(t,e,n,r,i,o){Object3D.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===sr&&(sr=new BufferGeometry,sr.addAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),cr=new CylinderBufferGeometry(0,.5,1,5,1),cr.translate(0,-.5,0)),this.position.copy(e),this.line=new Line(sr,new LineBasicMaterial({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(cr,new MeshBasicMaterial({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function AxisHelper(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new BufferGeometry;r.addAttribute("position",new Float32BufferAttribute(e,3)),r.addAttribute("color",new Float32BufferAttribute(n,3));var i=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,r,i)}function Nt(){function t(t,o,a,s){e=t,n=a,r=-3*t+3*o-2*a-s,i=2*t-2*o+a+s}var e=0,n=0,r=0,i=0;return{initCatmullRom:function(e,n,r,i,o){t(n,r,o*(r-e),o*(i-n))},initNonuniformCatmullRom:function(e,n,r,i,o,a,s){var c=(n-e)/o-(r-e)/(o+a)+(r-n)/a,u=(r-n)/a-(i-n)/(a+s)+(i-r)/s;c*=a,u*=a,t(n,r,c,u)},calc:function(t){var o=t*t;return e+n*t+r*o+i*(o*t)}}}function CatmullRomCurve3(t){Curve.call(this),this.points=t||[],this.closed=!1}function CubicBezierCurve3(t,e,n,r){Curve.call(this),this.v0=t,this.v1=e,this.v2=n,this.v3=r}function QuadraticBezierCurve3(t,e,n){Curve.call(this),this.v0=t,this.v1=e,this.v2=n}function LineCurve3(t,e){Curve.call(this),this.v1=t,this.v2=e}function ArcCurve(t,e,n,r,i,o){EllipseCurve.call(this,t,e,n,n,r,i,o)}function Face4(t,e,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Face3(t,e,n,i,o,a)}function MeshFaceMaterial(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function MultiMaterial(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function PointCloud(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Points(t,e)}function Particle(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Sprite(t)}function ParticleSystem(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Points(t,e)}function PointCloudMaterial(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(t)}function ParticleBasicMaterial(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(t)}function ParticleSystemMaterial(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(t)}function Vertex(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Vector3(t,e,n)}function DynamicBufferAttribute(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new BufferAttribute(t,e).setDynamic(!0)}function Int8Attribute(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Int8BufferAttribute(t,e)}function Uint8Attribute(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Uint8BufferAttribute(t,e)}function Uint8ClampedAttribute(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Uint8ClampedBufferAttribute(t,e)}function Int16Attribute(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Int16BufferAttribute(t,e)}function Uint16Attribute(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Uint16BufferAttribute(t,e)}function Int32Attribute(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Int32BufferAttribute(t,e)}function Uint32Attribute(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Uint32BufferAttribute(t,e)}function Float32Attribute(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Float32BufferAttribute(t,e)}function Float64Attribute(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Float64BufferAttribute(t,e)}function ClosedSplineCurve3(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,t),this.type="catmullrom",this.closed=!0}function SplineCurve3(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,t),this.type="catmullrom"}function Spline(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,t),this.type="catmullrom"}function BoundingBoxHelper(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new BoxHelper(t,e)}function EdgesHelper(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new LineSegments(new EdgesGeometry(t.geometry),new LineBasicMaterial({color:void 0!==e?e:16777215}))}function WireframeHelper(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new LineSegments(new WireframeGeometry(t.geometry),new LineBasicMaterial({color:void 0!==e?e:16777215}))}function XHRLoader(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new FileLoader(t)}function BinaryTextureLoader(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new DataTextureLoader(t)}function Projector(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function CanvasRenderer(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}n.d(e,"d",function(){return ObjectLoader}),n.d(e,"a",function(){return EquirectangularReflectionMapping}),n.d(e,"b",function(){return LinearFilter}),n.d(e,"c",function(){return LinearMipMapLinearFilter}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\\s*function\\s*([^\\(\\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}}(),Object.assign(EventDispatcher.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,r=n[t];if(void 0!==r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;var r=[],i=0,o=n.length;for(i=0;i<o;i++)r[i]=n[i];for(i=0;i<o;i++)r[i].call(this,t)}}}});var REVISION="85",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,FrontFaceDirectionCW=0,FrontFaceDirectionCCW=1,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,FrontSide=0,BackSide=1,DoubleSide=2,FlatShading=1,SmoothShading=2,NoColors=0,FaceColors=1,VertexColors=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,Uncharted2ToneMapping=3,CineonToneMapping=4,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,SphericalReflectionMapping=305,CubeUVReflectionMapping=306,CubeUVRefractionMapping=307,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipMapNearestFilter=1004,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipMapNearestFilter=1007,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedShort565Type=1019,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,RGBEFormat=RGBAFormat,DepthFormat=1026,DepthStencilFormat=1027,RGB_S3TC_DXT1_Format=2001,RGBA_S3TC_DXT1_Format=2002,RGBA_S3TC_DXT3_Format=2003,RGBA_S3TC_DXT5_Format=2004,RGB_PVRTC_4BPPV1_Format=2100,RGB_PVRTC_2BPPV1_Format=2101,RGBA_PVRTC_4BPPV1_Format=2102,RGBA_PVRTC_2BPPV1_Format=2103,RGB_ETC1_Format=2151,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,GammaEncoding=3007,RGBEEncoding=3002,LogLuvEncoding=3003,RGBM7Encoding=3004,RGBM16Encoding=3005,RGBDEncoding=3006,BasicDepthPacking=3200,RGBADepthPacking=3201,Ut={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=new Array(36),n=0,r;return function i(){for(var o=0;o<36;o++)8===o||13===o||18===o||23===o?e[o]="-":14===o?e[o]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),r=15&n,n>>=4,e[o]=t[19===o?3&r|8:r]);return e.join("")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Ut.DEG2RAD},radToDeg:function(t){return t*Ut.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};Object.defineProperties(Vector2.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(Vector2.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new Vector2,e=new Vector2;return function n(r,i){return t.set(r,r),e.set(i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}});var Dt=0;Texture.DEFAULT_IMAGE=void 0,Texture.DEFAULT_MAPPING=300,Object.defineProperty(Texture.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Texture.prototype,EventDispatcher.prototype,{constructor:Texture,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){function e(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;void 0===r.uuid&&(r.uuid=Ut.generateUUID()),void 0===t.images[r.uuid]&&(t.images[r.uuid]={uuid:r.uuid,url:e(r)}),n.image=r.uuid}return t.textures[this.uuid]=n,n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300===this.mapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case RepeatWrapping:t.x=t.x-Math.floor(t.x);break;case ClampToEdgeWrapping:t.x=t.x<0?0:1;break;case MirroredRepeatWrapping:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case RepeatWrapping:t.y=t.y-Math.floor(t.y);break;case ClampToEdgeWrapping:t.y=t.y<0?0:1;break;case MirroredRepeatWrapping:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.assign(Vector4.prototype,{isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=.01,a=.1,s=t.elements,c=s[0],u=s[4],h=s[8],l=s[1],f=s[5],p=s[9],d=s[2],m=s[6],v=s[10];if(Math.abs(u-l)<.01&&Math.abs(h-d)<.01&&Math.abs(p-m)<.01){if(Math.abs(u+l)<.1&&Math.abs(h+d)<.1&&Math.abs(p+m)<.1&&Math.abs(c+f+v-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var g=(c+1)/2,y=(f+1)/2,x=(v+1)/2,_=(u+l)/4,b=(h+d)/4,w=(p+m)/4;return g>y&&g>x?g<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(g),r=_/n,i=b/n):y>x?y<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(y),n=_/r,i=w/r):x<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(x),n=b/i,r=w/i),this.set(n,r,i,e),this}var M=Math.sqrt((m-p)*(m-p)+(h-d)*(h-d)+(l-u)*(l-u));return Math.abs(M)<.001&&(M=1),this.x=(m-p)/M,this.y=(h-d)/M,this.z=(l-u)/M,this.w=Math.acos((c+f+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t=new Vector4,e=new Vector4;return function n(r,i){return t.set(r,r,r,r),e.set(i,i,i,i),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),Object.assign(WebGLRenderTarget.prototype,EventDispatcher.prototype,{isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),WebGLRenderTargetCube.prototype=Object.create(WebGLRenderTarget.prototype),WebGLRenderTargetCube.prototype.constructor=WebGLRenderTargetCube,WebGLRenderTargetCube.prototype.isWebGLRenderTargetCube=!0,Object.assign(Quaternion,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,a){var s=n[r+0],c=n[r+1],u=n[r+2],h=n[r+3],l=i[o+0],f=i[o+1],p=i[o+2],d=i[o+3];if(h!==d||s!==l||c!==f||u!==p){var m=1-a,v=s*l+c*f+u*p+h*d,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var x=Math.sqrt(y),_=Math.atan2(x,v*g);m=Math.sin(m*_)/x,a=Math.sin(a*_)/x}var b=a*g;if(s=s*m+l*b,c=c*m+f*b,u=u*m+p*b,h=h*m+d*b,m===1-a){var w=1/Math.sqrt(s*s+c*c+u*u+h*h);s*=w,c*=w,u*=w,h*=w}}t[e]=s,t[e+1]=c,t[e+2]=u,t[e+3]=h}}),Object.defineProperties(Quaternion.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(Quaternion.prototype,{set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,r=t._y,i=t._z,o=t.order,a=Math.cos,s=Math.sin,c=a(n/2),u=a(r/2),h=a(i/2),l=s(n/2),f=s(r/2),p=s(i/2);return"XYZ"===o?(this._x=l*u*h+c*f*p,this._y=c*f*h-l*u*p,this._z=c*u*p+l*f*h,this._w=c*u*h-l*f*p):"YXZ"===o?(this._x=l*u*h+c*f*p,this._y=c*f*h-l*u*p,this._z=c*u*p-l*f*h,this._w=c*u*h+l*f*p):"ZXY"===o?(this._x=l*u*h-c*f*p,this._y=c*f*h+l*u*p,this._z=c*u*p+l*f*h,this._w=c*u*h-l*f*p):"ZYX"===o?(this._x=l*u*h-c*f*p,this._y=c*f*h+l*u*p,this._z=c*u*p-l*f*h,this._w=c*u*h+l*f*p):"YZX"===o?(this._x=l*u*h+c*f*p,this._y=c*f*h+l*u*p,this._z=c*u*p-l*f*h,this._w=c*u*h-l*f*p):"XZY"===o&&(this._x=l*u*h-c*f*p,this._y=c*f*h-l*u*p,this._z=c*u*p+l*f*h,this._w=c*u*h+l*f*p),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e=t.elements,n=e[0],r=e[4],i=e[8],o=e[1],a=e[5],s=e[9],c=e[2],u=e[6],h=e[10],l=n+a+h,f;return l>0?(f=.5/Math.sqrt(l+1),this._w=.25/f,this._x=(u-s)*f,this._y=(i-c)*f,this._z=(o-r)*f):n>a&&n>h?(f=2*Math.sqrt(1+n-a-h),this._w=(u-s)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(i+c)/f):a>h?(f=2*Math.sqrt(1+a-n-h),this._w=(i-c)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(s+u)/f):(f=2*Math.sqrt(1+h-n-a),this._w=(o-r)/f,this._x=(i+c)/f,this._y=(s+u)/f,this._z=.25*f),this.onChangeCallback(),this},setFromUnitVectors:function(){var t=new Vector3,e;return function n(r,i){return void 0===t&&(t=new Vector3),e=r.dot(i)+1,e<1e-6?(e=0,Math.abs(r.x)>Math.abs(r.z)?t.set(-r.y,r.x,0):t.set(0,-r.z,r.y)):t.crossVectors(r,i),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,c=e._z,u=e._w;return this._x=n*u+o*a+r*c-i*s,this._y=r*u+o*s+i*a-n*c,this._z=i*u+o*c+n*s-r*a,this._w=o*u-n*a-r*s-i*c,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var c=Math.atan2(s,a),u=Math.sin((1-e)*c)/s,h=Math.sin(e*c)/s;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Vector3.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new Quaternion;return function e(n){return!1===(n&&n.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(n))}}(),applyAxisAngle:function(){var t=new Quaternion;return function e(n,r){return this.applyQuaternion(t.setFromAxisAngle(n,r))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14];var o=i[3]*e+i[7]*n+i[11]*r+i[15];return this.divideScalar(o)},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,c=s*e+o*r-a*n,u=s*n+a*e-i*r,h=s*r+i*n-o*e,l=-i*e-o*n-a*r;return this.x=c*s+l*-i+u*-a-h*-o,this.y=u*s+l*-o+h*-i-c*-a,this.z=h*s+l*-a+c*-o-u*-i,this},project:function(){var t=new Matrix4;return function e(n){return t.multiplyMatrices(n.projectionMatrix,t.getInverse(n.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new Matrix4;return function e(n){return t.multiplyMatrices(n.matrixWorld,t.getInverse(n.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new Vector3,e=new Vector3;return function n(r,i){return t.set(r,r,r),e.set(i,i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new Vector3;return function e(n){return t.copy(this).projectOnVector(n),this.sub(t)}}(),reflect:function(){var t=new Vector3;return function e(n){return this.sub(t.copy(n).multiplyScalar(2*this.dot(n)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Ut.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(Matrix4.prototype,{isMatrix4:!0,set:function(t,e,n,r,i,o,a,s,c,u,h,l,f,p,d,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=c,v[6]=u,v[10]=h,v[14]=l,v[3]=f,v[7]=p,v[11]=d,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Matrix4).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new Vector3;return function e(n){var r=this.elements,i=n.elements,o=1/t.setFromMatrixColumn(n,0).length(),a=1/t.setFromMatrixColumn(n,1).length(),s=1/t.setFromMatrixColumn(n,2).length();return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r[4]=i[4]*a,r[5]=i[5]*a,r[6]=i[6]*a,r[8]=i[8]*s,r[9]=i[9]*s,r[10]=i[10]*s,this}}(),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),c=Math.sin(r),u=Math.cos(i),h=Math.sin(i);if("XYZ"===t.order){var l=o*u,f=o*h,p=a*u,d=a*h;e[0]=s*u,e[4]=-s*h,e[8]=c,e[1]=f+p*c,e[5]=l-d*c,e[9]=-a*s,e[2]=d-l*c,e[6]=p+f*c,e[10]=o*s}else if("YXZ"===t.order){var m=s*u,v=s*h,g=c*u,y=c*h;e[0]=m+y*a,e[4]=g*a-v,e[8]=o*c,e[1]=o*h,e[5]=o*u,e[9]=-a,e[2]=v*a-g,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order){var m=s*u,v=s*h,g=c*u,y=c*h;e[0]=m-y*a,e[4]=-o*h,e[8]=g+v*a,e[1]=v+g*a,e[5]=o*u,e[9]=y-m*a,e[2]=-o*c,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){var l=o*u,f=o*h,p=a*u,d=a*h;e[0]=s*u,e[4]=p*c-f,e[8]=l*c+d,e[1]=s*h,e[5]=d*c+l,e[9]=f*c-p,e[2]=-c,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var x=o*s,_=o*c,b=a*s,w=a*c;e[0]=s*u,e[4]=w-x*h,e[8]=b*h+_,e[1]=h,e[5]=o*u,e[9]=-a*u,e[2]=-c*u,e[6]=_*h+b,e[10]=x-w*h}else if("XZY"===t.order){var x=o*s,_=o*c,b=a*s,w=a*c;e[0]=s*u,e[4]=-h,e[8]=c*u,e[1]=x*h+w,e[5]=o*u,e[9]=_*h-b,e[2]=b*h-_,e[6]=a*u,e[10]=w*h+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t._x,r=t._y,i=t._z,o=t._w,a=n+n,s=r+r,c=i+i,u=n*a,h=n*s,l=n*c,f=r*s,p=r*c,d=i*c,m=o*a,v=o*s,g=o*c;return e[0]=1-(f+d),e[4]=h-g,e[8]=l+v,e[1]=h+g,e[5]=1-(u+d),e[9]=p-m,e[2]=l-v,e[6]=p+m,e[10]=1-(u+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(i,o,a){var s=this.elements;return n.subVectors(i,o),0===n.lengthSq()&&(n.z=1),n.normalize(),t.crossVectors(a,n),0===t.lengthSq()&&(n.z+=1e-4,t.crossVectors(a,n)),t.normalize(),e.crossVectors(n,t),s[0]=t.x,s[4]=e.x,s[8]=n.x,s[1]=t.y,s[5]=e.y,s[9]=n.y,s[2]=t.z,s[6]=e.z,s[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],c=n[12],u=n[1],h=n[5],l=n[9],f=n[13],p=n[2],d=n[6],m=n[10],v=n[14],g=n[3],y=n[7],x=n[11],_=n[15],b=r[0],w=r[4],M=r[8],E=r[12],S=r[1],T=r[5],A=r[9],R=r[13],L=r[2],P=r[6],C=r[10],I=r[14],O=r[3],N=r[7],U=r[11],D=r[15];return i[0]=o*b+a*S+s*L+c*O,i[4]=o*w+a*T+s*P+c*N,i[8]=o*M+a*A+s*C+c*U,i[12]=o*E+a*R+s*I+c*D,i[1]=u*b+h*S+l*L+f*O,i[5]=u*w+h*T+l*P+f*N,i[9]=u*M+h*A+l*C+f*U,i[13]=u*E+h*R+l*I+f*D,i[2]=p*b+d*S+m*L+v*O,i[6]=p*w+d*T+m*P+v*N,i[10]=p*M+d*A+m*C+v*U,i[14]=p*E+d*R+m*I+v*D,i[3]=g*b+y*S+x*L+_*O,i[7]=g*w+y*T+x*P+_*N,i[11]=g*M+y*A+x*C+_*U,i[15]=g*E+y*R+x*I+_*D,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new Vector3;return function e(n){for(var r=0,i=n.count;r<i;r++)t.x=n.getX(r),t.y=n.getY(r),t.z=n.getZ(r),t.applyMatrix4(this),n.setXYZ(r,t.x,t.y,t.z);return n}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],c=t[13],u=t[2],h=t[6],l=t[10],f=t[14];return t[3]*(+i*s*h-r*c*h-i*a*l+n*c*l+r*a*f-n*s*f)+t[7]*(+e*s*f-e*c*l+i*o*l-r*o*f+r*c*u-i*s*u)+t[11]*(+e*c*h-e*a*f-i*o*h+n*o*f+i*a*u-n*c*u)+t[15]*(-r*a*u-e*s*h+e*a*l+r*o*h-n*o*l+n*s*u)},transpose:function(){var t=this.elements,e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],u=r[5],h=r[6],l=r[7],f=r[8],p=r[9],d=r[10],m=r[11],v=r[12],g=r[13],y=r[14],x=r[15],_=p*y*l-g*d*l+g*h*m-u*y*m-p*h*x+u*d*x,b=v*d*l-f*y*l-v*h*m+c*y*m+f*h*x-c*d*x,w=f*g*l-v*p*l+v*u*m-c*g*m-f*u*x+c*p*x,M=v*p*h-f*g*h-v*u*d+c*g*d+f*u*y-c*p*y,E=i*_+o*b+a*w+s*M;if(0===E){var S="THREE.Matrix4.getInverse(): can\'t invert matrix, determinant is 0";if(!0===e)throw new Error(S);return console.warn(S),this.identity()}var T=1/E;return n[0]=_*T,n[1]=(g*d*s-p*y*s-g*a*m+o*y*m+p*a*x-o*d*x)*T,n[2]=(u*y*s-g*h*s+g*a*l-o*y*l-u*a*x+o*h*x)*T,n[3]=(p*h*s-u*d*s-p*a*l+o*d*l+u*a*m-o*h*m)*T,n[4]=b*T,n[5]=(f*y*s-v*d*s+v*a*m-i*y*m-f*a*x+i*d*x)*T,n[6]=(v*h*s-c*y*s-v*a*l+i*y*l+c*a*x-i*h*x)*T,n[7]=(c*d*s-f*h*s+f*a*l-i*d*l-c*a*m+i*h*m)*T,n[8]=w*T,n[9]=(v*p*s-f*g*s-v*o*m+i*g*m+f*o*x-i*p*x)*T,n[10]=(c*g*s-v*u*s+v*o*l-i*g*l-c*o*x+i*u*x)*T,n[11]=(f*u*s-c*p*s-f*o*l+i*p*l+c*o*m-i*u*m)*T,n[12]=M*T,n[13]=(f*g*a-v*p*a+v*o*d-i*g*d-f*o*y+i*p*y)*T,n[14]=(v*u*a-c*g*a-v*o*h+i*g*h+c*o*y-i*u*y)*T,n[15]=(c*p*a-f*u*a+f*o*h-i*p*h-c*o*d+i*u*d)*T,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,c=i*o,u=i*a;return this.set(c*o+n,c*a-r*s,c*s+r*a,0,c*a+r*s,u*a+n,u*s-r*o,0,c*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t=new Vector3,e=new Matrix4;return function n(r,i,o){var a=this.elements,s=t.set(a[0],a[1],a[2]).length(),c=t.set(a[4],a[5],a[6]).length(),u=t.set(a[8],a[9],a[10]).length();this.determinant()<0&&(s=-s),r.x=a[12],r.y=a[13],r.z=a[14],e.copy(this);var h=1/s,l=1/c,f=1/u;return e.elements[0]*=h,e.elements[1]*=h,e.elements[2]*=h,e.elements[4]*=l,e.elements[5]*=l,e.elements[6]*=l,e.elements[8]*=f,e.elements[9]*=f,e.elements[10]*=f,i.setFromRotationMatrix(e),o.x=s,o.y=c,o.z=u,this}}(),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(e-t),c=2*i/(n-r),u=(e+t)/(e-t),h=(n+r)/(n-r),l=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=1/(e-t),c=1/(n-r),u=1/(o-i),h=(e+t)*s,l=(n+r)*c,f=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),DataTexture.prototype=Object.create(Texture.prototype),DataTexture.prototype.constructor=DataTexture,DataTexture.prototype.isDataTexture=!0,CubeTexture.prototype=Object.create(Texture.prototype),CubeTexture.prototype.constructor=CubeTexture,CubeTexture.prototype.isCubeTexture=!0,Object.defineProperty(CubeTexture.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var Ft=new Texture,zt=new CubeTexture,Bt=[],Gt=[],Ht=new Float32Array(16),jt=new Float32Array(9);O.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(t,e[o.id])}};var kt=/([\\w\\d_]+)(\\])?(\\[|\\.)?/g;D.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},D.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},D.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},D.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n};var Vt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(Color.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function e(n,r,i){if(n=Ut.euclideanModulo(n,1),r=Ut.clamp(r,0,1),i=Ut.clamp(i,0,1),0===r)this.r=this.g=this.b=i;else{var o=i<=.5?i*(1+r):i+r-i*r,a=2*i-o;this.r=t(a,o,n+1/3),this.g=t(a,o,n),this.b=t(a,o,n-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(t)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(a,s,c)}}}else if(n=/^\\#([A-Fa-f0-9]+)$/.exec(t)){var u=n[1],h=u.length;if(3===h)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}if(t&&t.length>0){var u=Vt[t];void 0!==u?this.setHex(u):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e=t||{h:0,s:0,l:0},n=this.r,r=this.g,i=this.b,o=Math.max(n,r,i),a=Math.min(n,r,i),s,c,u=(a+o)/2;if(a===o)s=0,c=0;else{var h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case n:s=(r-i)/h+(r<i?6:0);break;case r:s=(i-n)/h+2;break;case i:s=(n-r)/h+4}s/=6}return e.h=s,e.s=c,e.l=u,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var UniformsLib={common:{diffuse:{value:new Color(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new Vector4(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Color(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new Vector4(0,0,1,1)}}},UniformsUtils={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var r in t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}},Wt="#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\\n",Xt="#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\\n",Yt="#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\\n",qt="#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\\n",Zt="#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif",Jt="\\nvec3 transformed = vec3( position );\\n",Qt="\\nvec3 objectNormal = vec3( normal );\\n",Kt="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\tif( decayExponent > 0.0 ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\treturn distanceFalloff * maxDistanceCutoffFactor;\\n#else\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n#endif\\n\\t}\\n\\treturn 1.0;\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat theta = acos( dot( N, V ) );\\n\\tvec2 uv = vec2(\\n\\t\\tsqrt( saturate( roughness ) ),\\n\\t\\tsaturate( theta / ( 0.5 * PI ) ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\\n\\tfloat b = 3.45068 + (4.18814 + y) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\\n\\treturn result;\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\\treturn specularColor * AB.x + AB.y;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n",$t="#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = dFdx( surf_pos );\\n\\t\\tvec3 vSigmaY = dFdy( surf_pos );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\\n",te="#if NUM_CLIPPING_PLANES > 0\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\\n\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t\\t\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\\n\\t\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t\\n\\t#endif\\n#endif\\n",ee="#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\\n",ne="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n",re="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n",ie="#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif",oe="#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\\n",ae="#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif",se="#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif",ce="#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transpose( const in mat3 v ) {\\n\\tmat3 tmp;\\n\\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\\n\\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\\n\\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\\n\\treturn tmp;\\n}\\n",ue="#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\\n",he="#ifdef FLIP_SIDED\\n\\tobjectNormal = -objectNormal;\\n#endif\\nvec3 transformedNormal = normalMatrix * objectNormal;\\n",le="#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\\n",fe="#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\\n",pe="#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\\n",de="#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\\n",me="  gl_FragColor = linearToOutputTexel( gl_FragColor );\\n",ve="\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM            = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat D      = max( maxRange / maxRGB, 1.0 );\\n\\tD            = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\n\\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract(Le);\\n\\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\n\\treturn vec4( max(vRGB, 0.0), 1.0 );\\n}\\n",ge="#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\n\\t\\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\\n",ye="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\\n",xe="#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\\n",_e="#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\n",be="\\n#ifdef USE_FOG\\nfogDepth = -mvPosition.z;\\n#endif",we="#ifdef USE_FOG\\n  varying float fogDepth;\\n#endif\\n",Me="#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\\n",Ee="#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\\n",Se="#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\\n",Te="#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\\n",Ae="#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif",Re="vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\\n",Le="uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltcMat;\\tuniform sampler2D ltcMag;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\\n",Pe="BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\\n",Ce="varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tfloat norm = texture2D( ltcMag, uv ).a;\\n\\t\\tvec4 t = texture2D( ltcMat, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3(   1,   0, t.y ),\\n\\t\\t\\tvec3(   0, t.z,   0 ),\\n\\t\\t\\tvec3( t.w,   0, t.x )\\n\\t\\t);\\n\\t\\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\\n",Ie="PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\\n",Oe="struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tfloat norm = texture2D( ltcMag, uv ).a;\\n\\t\\tvec4 t = texture2D( ltcMat, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3(   1,   0, t.y ),\\n\\t\\t\\tvec3(   0, t.z,   0 ),\\n\\t\\t\\tvec3( t.w,   0, t.x )\\n\\t\\t);\\n\\t\\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\\n",Ne="\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\\n\\t#endif\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\\n\\t#ifndef STANDARD\\n\\t\\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\\n\\t#else\\n\\t\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n\\t#endif\\n\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\\n",Ue="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\\n\\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\\n#endif",De="#ifdef USE_LOGDEPTHBUF\\n\\tuniform float logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n#endif\\n",Fe="#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n\\tuniform float logDepthBufFC;\\n#endif",ze="#ifdef USE_LOGDEPTHBUF\\n\\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\\n\\t#endif\\n#endif\\n",Be="#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\\n",Ge="#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n",He="#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n",je="#ifdef USE_MAP\\n\\tuniform vec4 offsetRepeat;\\n\\tuniform sampler2D map;\\n#endif\\n",ke="float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\\n",Ve="#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif",We="#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\\n",Xe="#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif",Ye="#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\\n",qe="#ifdef DOUBLE_SIDED\\n\\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n#else\\n\\tfloat flipNormal = 1.0;\\n#endif\\n",Ze="#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal ) * flipNormal;\\n#endif\\n#ifdef USE_NORMALMAP\\n\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\\n",Je="#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\tvec3 q0 = dFdx( eye_pos.xyz );\\n\\t\\tvec3 q1 = dFdy( eye_pos.xyz );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n\\t\\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\\n",Qe="vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 1.0 - 2.0 * rgb.xyz;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\\n",Ke="#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n",$e="#ifdef USE_SKINNING\\n\\tvec4 mvPosition = modelViewMatrix * skinned;\\n#else\\n\\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\n#endif\\ngl_Position = projectionMatrix * mvPosition;\\n",tn="#if defined( DITHERING )\\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\\n",en="#if defined( DITHERING )\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\\n",nn="float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\\n",rn="#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif",on="#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\\n",an="#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\\n",sn="#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\\n",cn="float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\\n",un="#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif",hn="#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\\n",ln="#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\tskinned  = bindMatrixInverse * skinned;\\n#endif\\n",fn="#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\\n",pn="float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif",dn="#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif",mn="#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\\n",vn="#define saturate(a) clamp( a, 0.0, 1.0 )\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\n",gn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif",yn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform vec4 offsetRepeat;\\n#endif\\n",xn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\\n#endif",_n="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif",bn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif",wn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif",Mn="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\\n\\t#ifdef USE_SKINNING\\n\\t\\tvec4 worldPosition = modelMatrix * skinned;\\n\\t#else\\n\\t\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n\\t#endif\\n#endif\\n",En="uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\n\\tgl_FragColor.a *= opacity;\\n}\\n",Sn="varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n",Tn="#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\\n",An="#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\\n",Rn="uniform vec3 lightPos;\\nvarying vec4 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\\n}\\n",Ln="varying vec4 vWorldPosition;\\n#include <common>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <skinbase_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition;\\n}\\n",Pn="uniform sampler2D tEquirect;\\nuniform float tFlip;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldPosition );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n}\\n",Cn="varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n",In="uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n",On="uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\\n",Nn="uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <normal_flip>\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n",Un="#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n",Dn="uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <normal_flip>\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n",Fn="#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n",zn="#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n",Bn="#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n",Gn="#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <lights_pars>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n",Hn="#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n",jn="#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\\n",kn="#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\\n",Vn="uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n",Wn="uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tgl_PointSize = size * ( scale / - mvPosition.z );\\n\\t#else\\n\\t\\tgl_PointSize = size;\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n",Xn="uniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\\n}\\n",Yn="#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n}\\n",ShaderChunk={alphamap_fragment:Wt,alphamap_pars_fragment:Xt,alphatest_fragment:Yt,aomap_fragment:qt,aomap_pars_fragment:Zt,begin_vertex:Jt,beginnormal_vertex:Qt,bsdfs:Kt,bumpmap_pars_fragment:$t,clipping_planes_fragment:te,clipping_planes_pars_fragment:ee,clipping_planes_pars_vertex:ne,clipping_planes_vertex:re,color_fragment:ie,color_pars_fragment:oe,color_pars_vertex:ae,color_vertex:se,common:ce,cube_uv_reflection_fragment:ue,defaultnormal_vertex:he,displacementmap_pars_vertex:le,displacementmap_vertex:fe,emissivemap_fragment:pe,emissivemap_pars_fragment:de,encodings_fragment:me,encodings_pars_fragment:ve,envmap_fragment:ge,envmap_pars_fragment:ye,envmap_pars_vertex:xe,envmap_vertex:_e,fog_vertex:be,fog_pars_vertex:we,fog_fragment:Me,fog_pars_fragment:Ee,gradientmap_pars_fragment:Se,lightmap_fragment:Te,lightmap_pars_fragment:Ae,lights_lambert_vertex:Re,lights_pars:Le,lights_phong_fragment:Pe,lights_phong_pars_fragment:Ce,lights_physical_fragment:Ie,lights_physical_pars_fragment:Oe,lights_template:Ne,logdepthbuf_fragment:Ue,logdepthbuf_pars_fragment:De,logdepthbuf_pars_vertex:Fe,logdepthbuf_vertex:ze,map_fragment:Be,map_pars_fragment:Ge,map_particle_fragment:He,map_particle_pars_fragment:je,metalnessmap_fragment:ke,metalnessmap_pars_fragment:Ve,morphnormal_vertex:We,morphtarget_pars_vertex:Xe,morphtarget_vertex:Ye,normal_flip:qe,normal_fragment:Ze,normalmap_pars_fragment:Je,packing:Qe,premultiplied_alpha_fragment:Ke,project_vertex:$e,dithering_fragment:tn,dithering_pars_fragment:en,roughnessmap_fragment:nn,roughnessmap_pars_fragment:rn,shadowmap_pars_fragment:on,shadowmap_pars_vertex:an,shadowmap_vertex:sn,shadowmask_pars_fragment:cn,skinbase_vertex:un,skinning_pars_vertex:hn,skinning_vertex:ln,skinnormal_vertex:fn,specularmap_fragment:pn,specularmap_pars_fragment:dn,tonemapping_fragment:mn,tonemapping_pars_fragment:vn,uv_pars_fragment:gn,uv_pars_vertex:yn,uv_vertex:xn,uv2_pars_fragment:_n,uv2_pars_vertex:bn,uv2_vertex:wn,worldpos_vertex:Mn,cube_frag:En,cube_vert:Sn,depth_frag:Tn,depth_vert:An,distanceRGBA_frag:Rn,distanceRGBA_vert:Ln,equirect_frag:Pn,equirect_vert:Cn,linedashed_frag:In,linedashed_vert:On,meshbasic_frag:Nn,meshbasic_vert:Un,meshlambert_frag:Dn,meshlambert_vert:Fn,meshphong_frag:zn,meshphong_vert:Bn,meshphysical_frag:Gn,meshphysical_vert:Hn,normal_frag:jn,normal_vert:kn,points_frag:Vn,points_vert:Wn,shadow_frag:Xn,shadow_vert:Yn},ShaderLib={basic:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},points:{uniforms:UniformsUtils.merge([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.normal_vert,fragmentShader:ShaderChunk.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new Vector3}},vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag}};ShaderLib.physical={uniforms:UniformsUtils.merge([ShaderLib.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},Object.assign(Box2.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Vector2;return function e(n,r){var i=t.copy(r).multiplyScalar(.5);return this.min.copy(n).sub(i),this.max.copy(n).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new Vector2;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new Vector2;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new Vector2).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new Vector2).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Vector2;return function e(n){return t.copy(n).clamp(this.min,this.max).sub(n).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var qn=0;Object.assign(Material.prototype,EventDispatcher.prototype,{isMaterial:!0,setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": \'"+e+"\' is not a property of this material.")}else console.warn("THREE.Material: \'"+e+"\' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t;n&&(t={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(r.blending=this.blending),this.shading!==SmoothShading&&(r.shading=this.shading),this.side!==FrontSide&&(r.side=this.side),this.vertexColors!==NoColors&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),r.skinning=this.skinning,r.morphTargets=this.morphTargets,r.dithering=this.dithering,n){var i=e(t.textures),o=e(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ShaderMaterial.prototype=Object.create(Material.prototype),ShaderMaterial.prototype.constructor=ShaderMaterial,ShaderMaterial.prototype.isShaderMaterial=!0,ShaderMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=UniformsUtils.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},ShaderMaterial.prototype.toJSON=function(t){var e=Material.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},MeshDepthMaterial.prototype=Object.create(Material.prototype),MeshDepthMaterial.prototype.constructor=MeshDepthMaterial,MeshDepthMaterial.prototype.isMeshDepthMaterial=!0,MeshDepthMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Object.assign(Box3.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=t.length;s<c;s+=3){var u=t[s],h=t[s+1],l=t[s+2];u<e&&(e=u),h<n&&(n=h),l<r&&(r=l),u>i&&(i=u),h>o&&(o=h),l>a&&(a=l)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=t.count;s<c;s++){var u=t.getX(s),h=t.getY(s),l=t.getZ(s);u<e&&(e=u),h<n&&(n=h),l<r&&(r=l),u>i&&(i=u),h>o&&(o=h),l>a&&(a=l)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Vector3;return function e(n,r){var i=t.copy(r).multiplyScalar(.5);return this.min.copy(n).sub(i),this.max.copy(n).add(i),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new Vector3;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new Vector3;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t=new Vector3;return function e(n){var r=this;return n.updateMatrixWorld(!0),n.traverse(function(e){var n,i,o=e.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(n=0,i=a.length;n<i;n++)t.copy(a[n]),t.applyMatrix4(e.matrixWorld),r.expandByPoint(t)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(n=0,i=s.count;n<i;n++)t.fromBufferAttribute(s,n).applyMatrix4(e.matrixWorld),r.expandByPoint(t)}}),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new Vector3).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new Vector3;return function e(n){return this.clampPoint(n.center,t),t.distanceToSquared(n.center)<=n.radius*n.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new Vector3).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Vector3;return function e(n){return t.copy(n).clamp(this.min,this.max).sub(n).length()}}(),getBoundingSphere:function(){var t=new Vector3;return function e(n){var r=n||new Sphere;return this.getCenter(r.center),r.radius=.5*this.getSize(t).length(),r}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3];return function e(n){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(n),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(n),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(n),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(n),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(n),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(n),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(n),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(n),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(Sphere.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new Box3;return function e(n,r){var i=this.center;void 0!==r?i.copy(r):t.setFromPoints(n).getCenter(i);for(var o=0,a=0,s=n.length;a<s;a++)o=Math.max(o,i.distanceToSquared(n[a]));return this.radius=Math.sqrt(o),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new Vector3;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new Box3;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(Matrix3.prototype,{isMatrix3:!0,set:function(t,e,n,r,i,o,a,s,c){var u=this.elements;return u[0]=t,u[1]=r,u[2]=a,u[3]=e,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new Vector3;return function e(n){for(var r=0,i=n.count;r<i;r++)t.x=n.getX(r),t.y=n.getY(r),t.z=n.getZ(r),t.applyMatrix3(this),n.setXYZ(r,t.x,t.y,t.z);return n}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[3],s=n[6],c=n[1],u=n[4],h=n[7],l=n[2],f=n[5],p=n[8],d=r[0],m=r[3],v=r[6],g=r[1],y=r[4],x=r[7],_=r[2],b=r[5],w=r[8];return i[0]=o*d+a*g+s*_,i[3]=o*m+a*y+s*b,i[6]=o*v+a*x+s*w,i[1]=c*d+u*g+h*_,i[4]=c*m+u*y+h*b,i[7]=c*v+u*x+h*w,i[2]=l*d+f*g+p*_,i[5]=l*m+f*y+p*b,i[8]=l*v+f*x+p*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],u=t[8];return e*o*u-e*a*c-n*i*u+n*a*s+r*i*c-r*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=n[5],h=n[6],l=n[7],f=n[8],p=f*c-u*l,d=u*h-f*s,m=l*s-c*h,v=i*p+o*d+a*m;if(0===v){var g="THREE.Matrix3.getInverse(): can\'t invert matrix, determinant is 0";if(!0===e)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=p*y,r[1]=(a*l-f*o)*y,r[2]=(u*o-a*c)*y,r[3]=d*y,r[4]=(f*i-a*h)*y,r[5]=(a*s-u*i)*y,r[6]=m*y,r[7]=(o*h-l*i)*y,r[8]=(c*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}),Object.assign(Plane.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new Vector3,e=new Vector3;return function n(r,i,o){var a=t.subVectors(o,i).cross(e.subVectors(r,i)).normalize();return this.setFromNormalAndCoplanarPoint(a,r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new Vector3).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new Vector3;return function e(n,r){var i=r||new Vector3,o=n.delta(t),a=this.normal.dot(o);if(0!==a){var s=-(n.start.dot(this.normal)+this.constant)/a;if(!(s<0||s>1))return i.copy(o).multiplyScalar(s).add(n.start)}else if(0===this.distanceToPoint(n.start))return i.copy(n.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new Vector3,e=new Matrix3;return function n(r,i){var o=this.coplanarPoint(t).applyMatrix4(r),a=i||e.getNormalMatrix(r),s=this.normal.applyMatrix3(a).normalize();return this.constant=-o.dot(s),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(Frustum.prototype,{set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],u=n[6],h=n[7],l=n[8],f=n[9],p=n[10],d=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return e[0].setComponents(a-r,h-s,d-l,y-m).normalize(),e[1].setComponents(a+r,h+s,d+l,y+m).normalize(),e[2].setComponents(a+i,h+c,d+f,y+v).normalize(),e[3].setComponents(a-i,h-c,d-f,y-v).normalize(),e[4].setComponents(a-o,h-u,d-p,y-g).normalize(),e[5].setComponents(a+o,h+u,d+p,y+g).normalize(),this},intersectsObject:function(){var t=new Sphere;return function e(n){var r=n.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),t.copy(r.boundingSphere).applyMatrix4(n.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new Sphere;return function e(n){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(n.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var t=new Vector3,e=new Vector3;return function n(r){for(var i=this.planes,o=0;o<6;o++){var a=i[o];t.x=a.normal.x>0?r.min.x:r.max.x,e.x=a.normal.x>0?r.max.x:r.min.x,t.y=a.normal.y>0?r.min.y:r.max.y,e.y=a.normal.y>0?r.max.y:r.min.y,t.z=a.normal.z>0?r.min.z:r.max.z,e.z=a.normal.z>0?r.max.z:r.min.z;var s=a.distanceToPoint(t),c=a.distanceToPoint(e);if(s<0&&c<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}),Object.assign(Ray.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new Vector3).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new Vector3;return function e(n){return this.origin.copy(this.at(n,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new Vector3;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new Vector3;return function e(n){var r=t.subVectors(n,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(n):(t.copy(this.direction).multiplyScalar(r).add(this.origin),t.distanceToSquared(n))}}(),distanceSqToSegment:function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(i,o,a,s){t.copy(i).add(o).multiplyScalar(.5),e.copy(o).sub(i).normalize(),n.copy(this.origin).sub(t);var c=.5*i.distanceTo(o),u=-this.direction.dot(e),h=n.dot(this.direction),l=-n.dot(e),f=n.lengthSq(),p=Math.abs(1-u*u),d,m,v,g;if(p>0)if(d=u*l-h,m=u*h-l,g=c*p,d>=0)if(m>=-g)if(m<=g){var y=1/p;d*=y,m*=y,v=d*(d+u*m+2*h)+m*(u*d+m+2*l)+f}else m=c,d=Math.max(0,-(u*m+h)),v=-d*d+m*(m+2*l)+f;else m=-c,d=Math.max(0,-(u*m+h)),v=-d*d+m*(m+2*l)+f;else m<=-g?(d=Math.max(0,-(-u*c+h)),m=d>0?-c:Math.min(Math.max(-c,-l),c),v=-d*d+m*(m+2*l)+f):m<=g?(d=0,m=Math.min(Math.max(-c,-l),c),v=m*(m+2*l)+f):(d=Math.max(0,-(u*c+h)),m=d>0?c:Math.min(Math.max(-c,-l),c),v=-d*d+m*(m+2*l)+f);else m=u>0?-c:c,d=Math.max(0,-(u*m+h)),v=-d*d+m*(m+2*l)+f;return a&&a.copy(this.direction).multiplyScalar(d).add(this.origin),s&&s.copy(e).multiplyScalar(m).add(t),v}}(),intersectSphere:function(){var t=new Vector3;return function e(n,r){t.subVectors(n.center,this.origin);var i=t.dot(this.direction),o=t.dot(t)-i*i,a=n.radius*n.radius;if(o>a)return null;var s=Math.sqrt(a-o),c=i-s,u=i+s;return c<0&&u<0?null:c<0?this.at(u,r):this.at(c,r)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,a,s,c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,l=this.origin;return c>=0?(n=(t.min.x-l.x)*c,r=(t.max.x-l.x)*c):(n=(t.max.x-l.x)*c,r=(t.min.x-l.x)*c),u>=0?(i=(t.min.y-l.y)*u,o=(t.max.y-l.y)*u):(i=(t.max.y-l.y)*u,o=(t.min.y-l.y)*u),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),h>=0?(a=(t.min.z-l.z)*h,s=(t.max.z-l.z)*h):(a=(t.max.z-l.z)*h,s=(t.min.z-l.z)*h),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(){var t=new Vector3;return function e(n){return null!==this.intersectBox(n,t)}}(),intersectTriangle:function(){var t=new Vector3,e=new Vector3,n=new Vector3,r=new Vector3;return function i(o,a,s,c,u){e.subVectors(a,o),n.subVectors(s,o),r.crossVectors(e,n);var h=this.direction.dot(r),l;if(h>0){if(c)return null;l=1}else{if(!(h<0))return null;l=-1,h=-h}t.subVectors(this.origin,o);var f=l*this.direction.dot(n.crossVectors(t,n));if(f<0)return null;var p=l*this.direction.dot(e.cross(t));if(p<0)return null;if(f+p>h)return null;var d=-l*t.dot(r);return d<0?null:this.at(d/h,u)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Euler.DefaultOrder="XYZ",Object.defineProperties(Euler.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(Euler.prototype,{isEuler:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=Ut.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],c=i[1],u=i[5],h=i[9],l=i[2],f=i[6],p=i[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-l,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-l,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===e?(this._y=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u))):"YZX"===e?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-l,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-h,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Matrix4;return function e(n,r,i){return t.makeRotationFromQuaternion(n),this.setFromRotationMatrix(t,r,i)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new Quaternion;return function e(n){return t.setFromEuler(this),this.setFromQuaternion(t,n)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Vector3(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Layers.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!==(this.mask&t.mask)}});var Zn=0;Object3D.DefaultUp=new Vector3(0,1,0),Object3D.DefaultMatrixAutoUpdate=!0,Object.assign(Object3D.prototype,EventDispatcher.prototype,{isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new Quaternion;return function e(n,r){return t.setFromAxisAngle(n,r),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new Vector3(1,0,0);return function e(n){return this.rotateOnAxis(t,n)}}(),rotateY:function(){var t=new Vector3(0,1,0);return function e(n){return this.rotateOnAxis(t,n)}}(),rotateZ:function(){var t=new Vector3(0,0,1);return function e(n){return this.rotateOnAxis(t,n)}}(),translateOnAxis:function(){var t=new Vector3;return function e(n,r){return t.copy(n).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(r)),this}}(),translateX:function(){var t=new Vector3(1,0,0);return function e(n){return this.translateOnAxis(t,n)}}(),translateY:function(){var t=new Vector3(0,1,0);return function e(n){return this.translateOnAxis(t,n)}}(),translateZ:function(){var t=new Vector3(0,0,1);return function e(n){return this.translateOnAxis(t,n)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new Matrix4;return function e(n){return n.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new Matrix4;return function e(n){this.isCamera?t.lookAt(this.position,n,this.up):t.lookAt(n,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can\'t be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){var e=t||new Vector3;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new Vector3,e=new Vector3;return function n(r){var i=r||new Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,i,e),i}}(),getWorldRotation:function(){var t=new Quaternion;return function e(n){var r=n||new Euler;return this.getWorldQuaternion(t),r.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new Vector3,e=new Quaternion;return function n(r){var i=r||new Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(){var t=new Quaternion;return function e(n){var r=n||new Vector3;return this.getWorldQuaternion(t),r.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}function n(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var r=void 0===t||""===t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),o.matrix=this.matrix.toArray(),void 0!==this.geometry&&(o.geometry=e(t.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var a=[],s=0,c=this.material.length;s<c;s++)a.push(e(t.materials,this.material[s]));o.material=a}else o.material=e(t.materials,this.material);if(this.children.length>0){o.children=[];for(var s=0;s<this.children.length;s++)o.children.push(this.children[s].toJSON(t).object)}if(r){var u=n(t.geometries),h=n(t.materials),l=n(t.textures),f=n(t.images);u.length>0&&(i.geometries=u),h.length>0&&(i.materials=h),l.length>0&&(i.textures=l),f.length>0&&(i.images=f)}return i.object=o,i},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}}),Object.assign(Line3.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new Vector3;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new Vector3,e=new Vector3;return function n(r,i){t.subVectors(r,this.start),e.subVectors(this.end,this.start);var o=e.dot(e),a=e.dot(t),s=a/o;return i&&(s=Ut.clamp(s,0,1)),s}}(),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new Vector3;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Object.assign(Triangle,{normal:function(){var t=new Vector3;return function e(n,r,i,o){var a=o||new Vector3;a.subVectors(i,r),t.subVectors(n,r),a.cross(t);var s=a.lengthSq();return s>0?a.multiplyScalar(1/Math.sqrt(s)):a.set(0,0,0)}}(),barycoordFromPoint:function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(i,o,a,s,c){t.subVectors(s,o),e.subVectors(a,o),n.subVectors(i,o);var u=t.dot(t),h=t.dot(e),l=t.dot(n),f=e.dot(e),p=e.dot(n),d=u*f-h*h,m=c||new Vector3;if(0===d)return m.set(-2,-1,-1);var v=1/d,g=(f*l-h*p)*v,y=(u*p-h*l)*v;return m.set(1-g-y,y,g)}}(),containsPoint:function(){var t=new Vector3;return function e(n,r,i,o){var a=Triangle.barycoordFromPoint(n,r,i,o,t);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}()}),Object.assign(Triangle.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new Vector3,e=new Vector3;return function n(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return Triangle.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return Triangle.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return Triangle.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t=new Plane,e=[new Line3,new Line3,new Line3],n=new Vector3,r=new Vector3;return function i(o,a){var s=a||new Vector3,c=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(o,n),!0===this.containsPoint(n))s.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var u=0;u<e.length;u++){e[u].closestPointToPoint(n,!0,r);var h=n.distanceToSquared(r);h<c&&(c=h,s.copy(r))}}return s}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Object.assign(Face3.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),MeshBasicMaterial.prototype=Object.create(Material.prototype),MeshBasicMaterial.prototype.constructor=MeshBasicMaterial,MeshBasicMaterial.prototype.isMeshBasicMaterial=!0,MeshBasicMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Object.defineProperty(BufferAttribute.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(BufferAttribute.prototype,{isBufferAttribute:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Color),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Vector2),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Vector3),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Vector4),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),Int8BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int8BufferAttribute.prototype.constructor=Int8BufferAttribute,Uint8BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint8BufferAttribute.prototype.constructor=Uint8BufferAttribute,Uint8ClampedBufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint8ClampedBufferAttribute.prototype.constructor=Uint8ClampedBufferAttribute,Int16BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int16BufferAttribute.prototype.constructor=Int16BufferAttribute,Uint16BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint16BufferAttribute.prototype.constructor=Uint16BufferAttribute,Int32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int32BufferAttribute.prototype.constructor=Int32BufferAttribute,Uint32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint32BufferAttribute.prototype.constructor=Uint32BufferAttribute,Float32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Float32BufferAttribute.prototype.constructor=Float32BufferAttribute,Float64BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Float64BufferAttribute.prototype.constructor=Float64BufferAttribute,Object.assign(G.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e=t.faces,n=t.vertices,r=t.faceVertexUvs,i=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,a=t.morphTargets,s=a.length,c;if(s>0){c=[];for(var u=0;u<s;u++)c[u]=[];this.morphTargets.position=c}var h=t.morphNormals,l=h.length,f;if(l>0){f=[];for(var u=0;u<l;u++)f[u]=[];this.morphTargets.normal=f}for(var p=t.skinIndices,d=t.skinWeights,m=p.length===n.length,v=d.length===n.length,u=0;u<e.length;u++){var g=e[u];this.vertices.push(n[g.a],n[g.b],n[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var x=g.normal;this.normals.push(x,x,x)}var _=g.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var b=g.color;this.colors.push(b,b,b)}if(!0===i){var w=r[0][u];void 0!==w?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new Vector2,new Vector2,new Vector2))}if(!0===o){var w=r[1][u];void 0!==w?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new Vector2,new Vector2,new Vector2))}for(var M=0;M<s;M++){var E=a[M].vertices;c[M].push(E[g.a],E[g.b],E[g.c])}for(var M=0;M<l;M++){var S=h[M].vertexNormals[u];f[M].push(S.a,S.b,S.c)}m&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),v&&this.skinWeights.push(d[g.a],d[g.b],d[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Jn=0;Object.assign(Geometry.prototype,EventDispatcher.prototype,{isGeometry:!0,applyMatrix:function(t){for(var e=(new Matrix3).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(var n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Matrix4;return function e(n){return t.makeRotationX(n),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Matrix4;return function e(n){return t.makeRotationY(n),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Matrix4;return function e(n){return t.makeRotationZ(n),this.applyMatrix(t),this}}(),translate:function(){var t=new Matrix4;return function e(n,r,i){return t.makeTranslation(n,r,i),this.applyMatrix(t),this}}(),scale:function(){var t=new Matrix4;return function e(n,r,i){return t.makeScale(n,r,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Object3D;return function e(n){t.lookAt(n),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,r,i){var o=void 0!==a?[h[t].clone(),h[e].clone(),h[r].clone()]:[],p=void 0!==s?[n.colors[t].clone(),n.colors[e].clone(),n.colors[r].clone()]:[],d=new Face3(t,e,r,o,p,i);n.faces.push(d),void 0!==c&&n.faceVertexUvs[0].push([l[t].clone(),l[e].clone(),l[r].clone()]),void 0!==u&&n.faceVertexUvs[1].push([f[t].clone(),f[e].clone(),f[r].clone()])}var n=this,r=null!==t.index?t.index.array:void 0,i=t.attributes,o=i.position.array,a=void 0!==i.normal?i.normal.array:void 0,s=void 0!==i.color?i.color.array:void 0,c=void 0!==i.uv?i.uv.array:void 0,u=void 0!==i.uv2?i.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var h=[],l=[],f=[],p=0,d=0;p<o.length;p+=3,d+=2)n.vertices.push(new Vector3(o[p],o[p+1],o[p+2])),void 0!==a&&h.push(new Vector3(a[p],a[p+1],a[p+2])),void 0!==s&&n.colors.push(new Color(s[p],s[p+1],s[p+2])),void 0!==c&&l.push(new Vector2(c[d],c[d+1])),void 0!==u&&f.push(new Vector2(u[d],u[d+1]));var m=t.groups;if(m.length>0)for(var p=0;p<m.length;p++)for(var v=m[p],g=v.start,y=v.count,d=g,x=g+y;d<x;d+=3)void 0!==r?e(r[d],r[d+1],r[d+2],v.materialIndex):e(d,d+1,d+2,v.materialIndex);else if(void 0!==r)for(var p=0;p<r.length;p+=3)e(r[p],r[p+1],r[p+2]);else for(var p=0;p<o.length/3;p+=3)e(p,p+1,p+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new Matrix4;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new Vector3,e=new Vector3,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,r,i,o,a;for(a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new Vector3;if(t){var s,c,u,h=new Vector3,l=new Vector3;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],c=this.vertices[o.b],u=this.vertices[o.c],h.subVectors(u,c),l.subVectors(s,c),h.cross(l),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var f=o.vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new Geometry;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals,c,u;for(n=0,r=this.faces.length;n<r;n++)c=new Vector3,u={a:new Vector3,b:new Vector3,c:new Vector3},a.push(c),s.push(u)}var h=this.morphNormals[t];o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals();var c,u;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],c=h.faceNormals[n],u=h.vertexNormals[n],c.copy(i.normal),u.a.copy(i.vertexNormals[0]),u.b.copy(i.vertexNormals[1]),u.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!1===(t&&t.isGeometry))return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var r,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,c=t.faces,u=this.faceVertexUvs[0],h=t.faceVertexUvs[0],l=this.colors,f=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new Matrix3).getNormalMatrix(e));for(var p=0,d=a.length;p<d;p++){var m=a[p],v=m.clone();void 0!==e&&v.applyMatrix4(e),o.push(v)}for(var p=0,d=f.length;p<d;p++)l.push(f[p].clone());for(p=0,d=c.length;p<d;p++){var g=c[p],y,x,_,b=g.vertexNormals,w=g.vertexColors;y=new Face3(g.a+i,g.b+i,g.c+i),y.normal.copy(g.normal),void 0!==r&&y.normal.applyMatrix3(r).normalize();for(var M=0,E=b.length;M<E;M++)x=b[M].clone(),void 0!==r&&x.applyMatrix3(r).normalize(),y.vertexNormals.push(x);y.color.copy(g.color);for(var M=0,E=w.length;M<E;M++)_=w[M],y.vertexColors.push(_.clone());y.materialIndex=g.materialIndex+n,s.push(y)}for(p=0,d=h.length;p<d;p++){var S=h[p],T=[];if(void 0!==S){for(var M=0,E=S.length;M<E;M++)T.push(S[M].clone());u.push(T)}}},mergeMesh:function(t){if(!1===(t&&t.isMesh))return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(){var t={},e=[],n=[],r,i,o=4,a=Math.pow(10,4),s,c,u,h,l,f;for(s=0,c=this.vertices.length;s<c;s++)r=this.vertices[s],i=Math.round(r.x*a)+"_"+Math.round(r.y*a)+"_"+Math.round(r.z*a),void 0===t[i]?(t[i]=s,e.push(this.vertices[s]),n[s]=e.length-1):n[s]=n[t[i]];var p=[];for(s=0,c=this.faces.length;s<c;s++){u=this.faces[s],u.a=n[u.a],u.b=n[u.b],u.c=n[u.c],h=[u.a,u.b,u.c];for(var d=0;d<3;d++)if(h[d]===h[(d+1)%3]){p.push(s);break}}for(s=p.length-1;s>=0;s--){var m=p[s];for(this.faces.splice(m,1),l=0,f=this.faceVertexUvs.length;l<f;l++)this.faceVertexUvs[l].splice(m,1)}var v=this.vertices.length-e.length;return this.vertices=e,v},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,r=0;r<n;r++)e[r]._id=r;e.sort(t);var i=this.faceVertexUvs[0],o=this.faceVertexUvs[1],a,s;i&&i.length===n&&(a=[]),o&&o.length===n&&(s=[]);for(var r=0;r<n;r++){var c=e[r]._id;a&&a.push(i[c]),s&&s.push(o[c])}a&&(this.faceVertexUvs[0]=a),s&&(this.faceVertexUvs[1]=s)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==f[e]?f[e]:(f[e]=l.length/3,l.push(t.x,t.y,t.z),f[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==d[e]?d[e]:(d[e]=p.length,p.push(t.getHex()),d[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==v[e]?v[e]:(v[e]=m.length/2,m.push(t.x,t.y),v[e])}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],c=0;c<this.vertices.length;c++){var u=this.vertices[c];s.push(u.x,u.y,u.z)}for(var h=[],l=[],f={},p=[],d={},m=[],v={},c=0;c<this.faces.length;c++){var g=this.faces[c],y=!0,x=!1,_=void 0!==this.faceVertexUvs[0][c],b=g.normal.length()>0,w=g.vertexNormals.length>0,M=1!==g.color.r||1!==g.color.g||1!==g.color.b,E=g.vertexColors.length>0,S=0;if(S=t(S,0,0),S=t(S,1,!0),S=t(S,2,!1),S=t(S,3,_),S=t(S,4,b),S=t(S,5,w),S=t(S,6,M),S=t(S,7,E),h.push(S),h.push(g.a,g.b,g.c),h.push(g.materialIndex),_){var T=this.faceVertexUvs[0][c];h.push(r(T[0]),r(T[1]),r(T[2]))}if(b&&h.push(e(g.normal)),w){var A=g.vertexNormals;h.push(e(A[0]),e(A[1]),e(A[2]))}if(M&&h.push(n(g.color)),E){var R=g.vertexColors;h.push(n(R[0]),n(R[1]),n(R[2]))}}return i.data={},i.data.vertices=s,i.data.normals=l,p.length>0&&(i.data.colors=p),m.length>0&&(i.data.uvs=[m]),i.data.faces=h,i},clone:function(){return(new Geometry).copy(this)},copy:function(t){var e,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var c=t.colors;for(e=0,n=c.length;e<n;e++)this.colors.push(c[e].clone());var u=t.faces;for(e=0,n=u.length;e<n;e++)this.faces.push(u[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var h=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=h.length;r<i;r++){var l=h[r],f=[];for(o=0,a=l.length;o<a;o++){var p=l[o];f.push(p.clone())}this.faceVertexUvs[e].push(f)}}var d=t.morphTargets;for(e=0,n=d.length;e<n;e++){var m={};if(m.name=d[e].name,void 0!==d[e].vertices)for(m.vertices=[],r=0,i=d[e].vertices.length;r<i;r++)m.vertices.push(d[e].vertices[r].clone());if(void 0!==d[e].normals)for(m.normals=[],r=0,i=d[e].normals.length;r<i;r++)m.normals.push(d[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,n=v.length;e<n;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,i=v[e].vertexNormals.length;r<i;r++){var y=v[e].vertexNormals[r],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),g.vertexNormals.push(x)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,i=v[e].faceNormals.length;r<i;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var _=t.skinWeights;for(e=0,n=_.length;e<n;e++)this.skinWeights.push(_[e].clone());var b=t.skinIndices;for(e=0,n=b.length;e<n;e++)this.skinIndices.push(b[e].clone());var w=t.lineDistances;for(e=0,n=w.length;e<n;e++)this.lineDistances.push(w[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var E=t.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),BufferGeometry.MaxIndex=65535,Object.assign(BufferGeometry.prototype,EventDispatcher.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(H(t)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(t,1):this.index=t},addAttribute:function(t,e){return!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new BufferAttribute(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new Matrix3).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Matrix4;return function e(n){return t.makeRotationX(n),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Matrix4;return function e(n){return t.makeRotationY(n),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Matrix4;return function e(n){return t.makeRotationZ(n),this.applyMatrix(t),this}}(),translate:function(){var t=new Matrix4;return function e(n,r,i){return t.makeTranslation(n,r,i),this.applyMatrix(t),this}}(),scale:function(){var t=new Matrix4;return function e(n,r,i){return t.makeScale(n,r,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Object3D;return function e(n){t.lookAt(n),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new Float32BufferAttribute(3*e.vertices.length,3),r=new Float32BufferAttribute(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Float32BufferAttribute(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var r;return!0===e.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(e.vertices),r.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(e.colors),r.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(e.uvs),r.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(e.lineDistances),r.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new G).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new BufferAttribute(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new BufferAttribute(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new BufferAttribute(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new BufferAttribute(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new BufferAttribute(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=H(t.indices)>65535?Uint32Array:Uint16Array,s=new a(3*t.indices.length);this.setIndex(new BufferAttribute(s,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var c in t.morphTargets){for(var u=[],h=t.morphTargets[c],l=0,f=h.length;l<f;l++){var p=h[l],d=new Float32BufferAttribute(3*p.length,3);u.push(d.copyVector3sArray(p))}this.morphAttributes[c]=u}if(t.skinIndices.length>0){var m=new Float32BufferAttribute(4*t.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var v=new Float32BufferAttribute(4*t.skinWeights.length,4);this.addAttribute("skinWeight",v.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Box3);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error(\'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.\',this)},computeBoundingSphere:function(){var t=new Box3,e=new Vector3;return function n(){null===this.boundingSphere&&(this.boundingSphere=new Sphere);var r=this.attributes.position;if(r){var i=this.boundingSphere.center;t.setFromBufferAttribute(r),t.getCenter(i);for(var o=0,a=0,s=r.count;a<s;a++)e.x=r.getX(a),e.y=r.getY(a),e.z=r.getZ(a),o=Math.max(o,i.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error(\'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.\',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new BufferAttribute(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s=e.normal.array,c,u,h,l=new Vector3,f=new Vector3,p=new Vector3,d=new Vector3,m=new Vector3;if(t){var v=t.array;0===n.length&&this.addGroup(0,v.length);for(var g=0,y=n.length;g<y;++g)for(var x=n[g],_=x.start,b=x.count,o=_,a=_+b;o<a;o+=3)c=3*v[o+0],u=3*v[o+1],h=3*v[o+2],l.fromArray(r,c),f.fromArray(r,u),p.fromArray(r,h),d.subVectors(p,f),m.subVectors(l,f),d.cross(m),s[c]+=d.x,s[c+1]+=d.y,s[c+2]+=d.z,s[u]+=d.x,s[u+1]+=d.y,s[u+2]+=d.z,s[h]+=d.x,s[h+1]+=d.y,s[h+2]+=d.z}else for(var o=0,a=r.length;o<a;o+=9)l.fromArray(r,o),f.fromArray(r,o+3),p.fromArray(r,o+6),d.subVectors(p,f),m.subVectors(l,f),d.cross(m),s[o]=d.x,s[o+1]=d.y,s[o+2]=d.z,s[o+3]=d.x,s[o+4]=d.y,s[o+5]=d.z,s[o+6]=d.x,s[o+7]=d.y,s[o+8]=d.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1===(t&&t.isBufferGeometry))return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r],o=i.array,a=t.attributes[r],s=a.array,c=a.itemSize,u=0,h=c*e;u<s.length;u++,h++)o[h]=s[u];return this},normalizeNormals:function(){for(var t=this.attributes.normal,e,n,r,i,o=0,a=t.count;o<a;o++)e=t.getX(o),n=t.getY(o),r=t.getZ(o),i=1/Math.sqrt(e*e+n*n+r*r),t.setXYZ(o,e*i,n*i,r*i)},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new BufferGeometry,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),c=0,u=0,h=0,l=e.length;h<l;h++){c=e[h]*a;for(var f=0;f<a;f++)s[u++]=o[c++]}t.addAttribute(r,new BufferAttribute(s,a))}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new BufferGeometry).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var c=[],u=s[e];for(n=0,r=u.length;n<r;n++)c.push(u[n].clone());this.morphAttributes[e]=c}var h=t.groups;for(n=0,r=h.length;n<r;n++){var l=h[n];this.addGroup(l.start,l.count,l.materialIndex)}var f=t.boundingBox;null!==f&&(this.boundingBox=f.clone());var p=t.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Mesh.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Mesh,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return Object3D.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,n,r,i,o,a){return Triangle.barycoordFromPoint(t,e,n,r,m),i.multiplyScalar(m.x),o.multiplyScalar(m.y),a.multiplyScalar(m.z),i.add(o).add(a),i.clone()}function e(t,e,n,r,i,o,a){var s,c=t.material;if(null===(s=c.side===BackSide?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,c.side!==DoubleSide,a)))return null;g.copy(a),g.applyMatrix4(t.matrixWorld);var u=e.ray.origin.distanceTo(g);return u<e.near||u>e.far?null:{distance:u,point:g.clone(),object:t}}function n(n,r,i,o,u,h,l,m){a.fromBufferAttribute(o,h),s.fromBufferAttribute(o,l),c.fromBufferAttribute(o,m);var g=e(n,r,i,a,s,c,v);return g&&(u&&(f.fromBufferAttribute(u,h),p.fromBufferAttribute(u,l),d.fromBufferAttribute(u,m),g.uv=t(v,a,s,c,f,p,d)),g.face=new Face3(h,l,m,Triangle.normal(a,s,c)),g.faceIndex=h),g}var r=new Matrix4,i=new Ray,o=new Sphere,a=new Vector3,s=new Vector3,c=new Vector3,u=new Vector3,h=new Vector3,l=new Vector3,f=new Vector2,p=new Vector2,d=new Vector2,m=new Vector3,v=new Vector3,g=new Vector3;return function m(g,y){var x=this.geometry,_=this.material,b=this.matrixWorld;if(void 0!==_&&(null===x.boundingSphere&&x.computeBoundingSphere(),o.copy(x.boundingSphere),o.applyMatrix4(b),!1!==g.ray.intersectsSphere(o)&&(r.getInverse(b),i.copy(g.ray).applyMatrix4(r),null===x.boundingBox||!1!==i.intersectsBox(x.boundingBox)))){var w;if(x.isBufferGeometry){var M,E,S,T=x.index,A=x.attributes.position,R=x.attributes.uv,L,P;if(null!==T)for(L=0,P=T.count;L<P;L+=3)M=T.getX(L),E=T.getX(L+1),S=T.getX(L+2),(w=n(this,g,i,A,R,M,E,S))&&(w.faceIndex=Math.floor(L/3),y.push(w));else for(L=0,P=A.count;L<P;L+=3)M=L,E=L+1,S=L+2,(w=n(this,g,i,A,R,M,E,S))&&(w.index=M,y.push(w))}else if(x.isGeometry){var C,I,O,N=Array.isArray(_),U=x.vertices,D=x.faces,F,z=x.faceVertexUvs[0];z.length>0&&(F=z);for(var B=0,G=D.length;B<G;B++){var H=D[B],j=N?_[H.materialIndex]:_;if(void 0!==j){if(C=U[H.a],I=U[H.b],O=U[H.c],!0===j.morphTargets){var k=x.morphTargets,V=this.morphTargetInfluences;a.set(0,0,0),s.set(0,0,0),c.set(0,0,0);for(var W=0,X=k.length;W<X;W++){var Y=V[W];if(0!==Y){var q=k[W].vertices;a.addScaledVector(u.subVectors(q[H.a],C),Y),s.addScaledVector(h.subVectors(q[H.b],I),Y),c.addScaledVector(l.subVectors(q[H.c],O),Y)}}a.add(C),s.add(I),c.add(O),C=a,I=s,O=c}if(w=e(this,g,i,C,I,O,v)){if(F&&F[B]){var Z=F[B];f.copy(Z[0]),p.copy(Z[1]),d.copy(Z[2]),w.uv=t(v,C,I,O,f,p,d)}w.face=H,w.faceIndex=B,y.push(w)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),BoxGeometry.prototype=Object.create(Geometry.prototype),BoxGeometry.prototype.constructor=BoxGeometry,BoxBufferGeometry.prototype=Object.create(BufferGeometry.prototype),BoxBufferGeometry.prototype.constructor=BoxBufferGeometry,PlaneGeometry.prototype=Object.create(Geometry.prototype),PlaneGeometry.prototype.constructor=PlaneGeometry,PlaneBufferGeometry.prototype=Object.create(BufferGeometry.prototype),PlaneBufferGeometry.prototype.constructor=PlaneBufferGeometry,Camera.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Camera,isCamera:!0,copy:function(t){return Object3D.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:function(){var t=new Quaternion;return function e(n){var r=n||new Vector3;return this.getWorldQuaternion(t),r.set(0,0,-1).applyQuaternion(t)}}(),clone:function(){return(new this.constructor).copy(this)}}),PerspectiveCamera.prototype=Object.assign(Object.create(Camera.prototype),{constructor:PerspectiveCamera,isPerspectiveCamera:!0,copy:function(t){return Camera.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Ut.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Ut.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Ut.RAD2DEG*Math.atan(Math.tan(.5*Ut.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Ut.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var c=this.filmOffset;0!==c&&(i+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),OrthographicCamera.prototype=Object.assign(Object.create(Camera.prototype),{constructor:OrthographicCamera,isOrthographicCamera:!0,copy:function(t){return Camera.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view){var c=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,l=(this.top-this.bottom)/this.view.height;i+=h*(this.view.offsetX/c),o=i+h*(this.view.width/c),a-=l*(this.view.offsetY/u),s=a-l*(this.view.height/u)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Qn=0;FogExp2.prototype.isFogExp2=!0,FogExp2.prototype.clone=function(){return new FogExp2(this.color.getHex(),this.density)},FogExp2.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Fog.prototype.isFog=!0,Fog.prototype.clone=function(){return new Fog(this.color.getHex(),this.near,this.far)},Fog.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Scene.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Scene,copy:function(t,e){return Object3D.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),LensFlare.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:LensFlare,isLensFlare:!0,copy:function(t){Object3D.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new Color(16777215)),void 0===r&&(r=NormalBlending),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var t,e=this.lensFlares.length,n,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<e;t++)n=this.lensFlares[t],n.x=this.positionScreen.x+r*n.distance,n.y=this.positionScreen.y+i*n.distance,n.wantedRotation=n.x*Math.PI*.25,n.rotation+=.25*(n.wantedRotation-n.rotation)}}),SpriteMaterial.prototype=Object.create(Material.prototype),SpriteMaterial.prototype.constructor=SpriteMaterial,SpriteMaterial.prototype.isSpriteMaterial=!0,SpriteMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},Sprite.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Sprite,isSprite:!0,raycast:function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(i,o){e.setFromMatrixPosition(this.matrixWorld),i.ray.closestPointToPoint(e,t),n.setFromMatrixScale(this.matrixWorld);var a=n.x*n.y/4;if(!(e.distanceToSquared(t)>a)){var s=i.ray.origin.distanceTo(t);s<i.near||s>i.far||o.push({distance:s,point:t.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),LOD.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:LOD,copy:function(t){Object3D.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new Vector3;return function e(n,r){t.setFromMatrixPosition(this.matrixWorld);var i=n.ray.origin.distanceTo(t);this.getObjectForDistance(i).raycast(n,r)}}(),update:function(){var t=new Vector3,e=new Vector3;return function n(r){var i=this.levels;if(i.length>1){t.setFromMatrixPosition(r.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var o=t.distanceTo(e);i[0].object.visible=!0;for(var a=1,s=i.length;a<s&&o>=i[a].distance;a++)i[a-1].object.visible=!1,i[a].object.visible=!0;for(;a<s;a++)i[a].object.visible=!1}}}(),toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new Matrix4;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new Matrix4,e=new Matrix4;return function n(){for(var r=this.bones,i=this.boneInverses,o=this.boneMatrices,a=this.boneTexture,s=0,c=r.length;s<c;s++){var u=r[s]?r[s].matrixWorld:e;t.multiplyMatrices(u,i[s]),t.toArray(o,16*s)}void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new Skeleton(this.bones,this.boneInverses)}}),Bone.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Bone,isBone:!0}),SkinnedMesh.prototype=Object.assign(Object.create(Mesh.prototype),{constructor:SkinnedMesh,isSkinnedMesh:!0,initBones:function(){var t=[],e,n,r,i;if(this.geometry&&void 0!==this.geometry.bones){for(r=0,i=this.geometry.bones.length;r<i;r++)n=this.geometry.bones[r],e=new Bone,t.push(e),e.name=n.name,e.position.fromArray(n.pos),e.quaternion.fromArray(n.rotq),void 0!==n.scl&&e.scale.fromArray(n.scl);for(r=0,i=this.geometry.bones.length;r<i;r++)n=this.geometry.bones[r],-1!==n.parent&&null!==n.parent&&void 0!==t[n.parent]?t[n.parent].add(t[r]):this.add(t[r])}return this.updateMatrixWorld(!0),t},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var n=this.geometry.skinWeights[e];t=1/n.lengthManhattan(),t!==1/0?n.multiplyScalar(t):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new Vector4,i=this.geometry.attributes.skinWeight;for(e=0;e<i.count;e++)r.x=i.getX(e),r.y=i.getY(e),r.z=i.getZ(e),r.w=i.getW(e),t=1/r.lengthManhattan(),t!==1/0?r.multiplyScalar(t):r.set(1,0,0,0),i.setXYZW(e,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(t){Mesh.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),LineBasicMaterial.prototype=Object.create(Material.prototype),LineBasicMaterial.prototype.constructor=LineBasicMaterial,LineBasicMaterial.prototype.isLineBasicMaterial=!0,LineBasicMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Line.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Line,isLine:!0,raycast:function(){var t=new Matrix4,e=new Ray,n=new Sphere;return function r(i,o){var a=i.linePrecision,s=a*a,c=this.geometry,u=this.matrixWorld;if(null===c.boundingSphere&&c.computeBoundingSphere(),n.copy(c.boundingSphere),n.applyMatrix4(u),!1!==i.ray.intersectsSphere(n)){t.getInverse(u),e.copy(i.ray).applyMatrix4(t);var h=new Vector3,l=new Vector3,f=new Vector3,p=new Vector3,d=this&&this.isLineSegments?2:1;if(c.isBufferGeometry){var m=c.index,v=c.attributes,g=v.position.array;if(null!==m)for(var y=m.array,x=0,_=y.length-1;x<_;x+=d){var b=y[x],w=y[x+1];h.fromArray(g,3*b),l.fromArray(g,3*w);var M=e.distanceSqToSegment(h,l,p,f);if(!(M>s)){p.applyMatrix4(this.matrixWorld);var E=i.ray.origin.distanceTo(p);E<i.near||E>i.far||o.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else for(var x=0,_=g.length/3-1;x<_;x+=d){h.fromArray(g,3*x),l.fromArray(g,3*x+3);var M=e.distanceSqToSegment(h,l,p,f);if(!(M>s)){p.applyMatrix4(this.matrixWorld);var E=i.ray.origin.distanceTo(p);E<i.near||E>i.far||o.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}else if(c.isGeometry)for(var S=c.vertices,T=S.length,x=0;x<T-1;x+=d){var M=e.distanceSqToSegment(S[x],S[x+1],p,f);if(!(M>s)){p.applyMatrix4(this.matrixWorld);var E=i.ray.origin.distanceTo(p);E<i.near||E>i.far||o.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),LineSegments.prototype=Object.assign(Object.create(Line.prototype),{constructor:LineSegments,isLineSegments:!0}),LineLoop.prototype=Object.assign(Object.create(Line.prototype),{constructor:LineLoop,isLineLoop:!0}),PointsMaterial.prototype=Object.create(Material.prototype),PointsMaterial.prototype.constructor=PointsMaterial,PointsMaterial.prototype.isPointsMaterial=!0,PointsMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Points.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Points,isPoints:!0,raycast:function(){var t=new Matrix4,e=new Ray,n=new Sphere;return function r(i,o){function a(t,n){var r=e.distanceSqToPoint(t);if(r<f){var a=e.closestPointToPoint(t);a.applyMatrix4(u);var c=i.ray.origin.distanceTo(a);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(r),point:a.clone(),index:n,face:null,object:s})}}var s=this,c=this.geometry,u=this.matrixWorld,h=i.params.Points.threshold;if(null===c.boundingSphere&&c.computeBoundingSphere(),n.copy(c.boundingSphere),n.applyMatrix4(u),n.radius+=h,!1!==i.ray.intersectsSphere(n)){t.getInverse(u),e.copy(i.ray).applyMatrix4(t);var l=h/((this.scale.x+this.scale.y+this.scale.z)/3),f=l*l,p=new Vector3;if(c.isBufferGeometry){var d=c.index,m=c.attributes,v=m.position.array;if(null!==d)for(var g=d.array,y=0,x=g.length;y<x;y++){var _=g[y];p.fromArray(v,3*_),a(p,_)}else for(var y=0,b=v.length/3;y<b;y++)p.fromArray(v,3*y),a(p,y)}else for(var w=c.vertices,y=0,b=w.length;y<b;y++)a(w[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Group.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Group}),VideoTexture.prototype=Object.create(Texture.prototype),VideoTexture.prototype.constructor=VideoTexture,CompressedTexture.prototype=Object.create(Texture.prototype),CompressedTexture.prototype.constructor=CompressedTexture,CompressedTexture.prototype.isCompressedTexture=!0,CanvasTexture.prototype=Object.create(Texture.prototype),CanvasTexture.prototype.constructor=CanvasTexture,DepthTexture.prototype=Object.create(Texture.prototype),DepthTexture.prototype.constructor=DepthTexture,DepthTexture.prototype.isDepthTexture=!0,WireframeGeometry.prototype=Object.create(BufferGeometry.prototype),WireframeGeometry.prototype.constructor=WireframeGeometry,ParametricGeometry.prototype=Object.create(Geometry.prototype),ParametricGeometry.prototype.constructor=ParametricGeometry,ParametricBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ParametricBufferGeometry.prototype.constructor=ParametricBufferGeometry,PolyhedronGeometry.prototype=Object.create(Geometry.prototype),PolyhedronGeometry.prototype.constructor=PolyhedronGeometry,PolyhedronBufferGeometry.prototype=Object.create(BufferGeometry.prototype),PolyhedronBufferGeometry.prototype.constructor=PolyhedronBufferGeometry,TetrahedronGeometry.prototype=Object.create(Geometry.prototype),TetrahedronGeometry.prototype.constructor=TetrahedronGeometry,TetrahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),TetrahedronBufferGeometry.prototype.constructor=TetrahedronBufferGeometry,OctahedronGeometry.prototype=Object.create(Geometry.prototype),OctahedronGeometry.prototype.constructor=OctahedronGeometry,OctahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),OctahedronBufferGeometry.prototype.constructor=OctahedronBufferGeometry,IcosahedronGeometry.prototype=Object.create(Geometry.prototype),IcosahedronGeometry.prototype.constructor=IcosahedronGeometry,IcosahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),IcosahedronBufferGeometry.prototype.constructor=IcosahedronBufferGeometry,DodecahedronGeometry.prototype=Object.create(Geometry.prototype),DodecahedronGeometry.prototype.constructor=DodecahedronGeometry,DodecahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),DodecahedronBufferGeometry.prototype.constructor=DodecahedronBufferGeometry,TubeGeometry.prototype=Object.create(Geometry.prototype),TubeGeometry.prototype.constructor=TubeGeometry,TubeBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TubeBufferGeometry.prototype.constructor=TubeBufferGeometry,TorusKnotGeometry.prototype=Object.create(Geometry.prototype),TorusKnotGeometry.prototype.constructor=TorusKnotGeometry,TorusKnotBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TorusKnotBufferGeometry.prototype.constructor=TorusKnotBufferGeometry,TorusGeometry.prototype=Object.create(Geometry.prototype),TorusGeometry.prototype.constructor=TorusGeometry,TorusBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TorusBufferGeometry.prototype.constructor=TorusBufferGeometry;var ShapeUtils={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,o){var a,s,c,u,h,l,f,p,d;if(s=t[o[e]].x,c=t[o[e]].y,u=t[o[n]].x,h=t[o[n]].y,l=t[o[r]].x,f=t[o[r]].y,(u-s)*(f-c)-(h-c)*(l-s)<=0)return!1;var m,v,g,y,x,_,b,w,M,E,S,T,A,R,L;for(m=l-u,v=f-h,g=s-l,y=c-f,x=u-s,_=h-c,a=0;a<i;a++)if(p=t[o[a]].x,d=t[o[a]].y,!(p===s&&d===c||p===u&&d===h||p===l&&d===f)&&(b=p-s,w=d-c,M=p-u,E=d-h,S=p-l,T=d-f,L=m*E-v*M,A=x*w-_*b,R=g*T-y*S,L>=-Number.EPSILON&&R>=-Number.EPSILON&&A>=-Number.EPSILON))return!1;return!0}return function e(n,r){var i=n.length;if(i<3)return null;var o=[],a=[],s=[],c,u,h;if(ShapeUtils.area(n)>0)for(u=0;u<i;u++)a[u]=u;else for(u=0;u<i;u++)a[u]=i-1-u;var l=i,f=2*l;for(u=l-1;l>2;){if(f--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),r?s:o;if(c=u,l<=c&&(c=0),u=c+1,l<=u&&(u=0),h=u+1,l<=h&&(h=0),t(n,c,u,h,l,a)){var p,d,m,v,g;for(p=a[c],d=a[u],m=a[h],o.push([n[p],n[d],n[m]]),s.push([a[c],a[u],a[h]]),v=u,g=u+1;g<l;v++,g++)a[v]=a[g];l--,f=2*l}}return r?s:o}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function r(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function i(t,e,n,i,o){var a=e.x-t.x,s=e.y-t.y,c=i.x-n.x,u=i.y-n.y,h=t.x-n.x,l=t.y-n.y,f=s*c-a*u,p=s*h-a*l;if(Math.abs(f)>Number.EPSILON){var d;if(f>0){if(p<0||p>f)return[];if((d=u*h-c*l)<0||d>f)return[]}else{if(p>0||p<f)return[];if((d=u*h-c*l)>0||d<f)return[]}if(0===d)return!o||0!==p&&p!==f?[t]:[];if(d===f)return!o||0!==p&&p!==f?[e]:[];if(0===p)return[n];if(p===f)return[i];var m=d/f;return[{x:t.x+m*a,y:t.y+m*s}]}if(0!==p||u*h!==c*l)return[];var v=0===a&&0===s,g=0===c&&0===u;if(v&&g)return t.x!==n.x||t.y!==n.y?[]:[t];if(v)return r(n,i,t)?[t]:[];if(g)return r(t,e,n)?[n]:[];var y,x,_,b,w,M,E,S;return 0!==a?(t.x<e.x?(y=t,_=t.x,x=e,b=e.x):(y=e,_=e.x,x=t,b=t.x),n.x<i.x?(w=n,E=n.x,M=i,S=i.x):(w=i,E=i.x,M=n,S=n.x)):(t.y<e.y?(y=t,_=t.y,x=e,b=e.y):(y=e,_=e.y,x=t,b=t.y),n.y<i.y?(w=n,E=n.y,M=i,S=i.y):(w=i,E=i.y,M=n,S=n.y)),_<=E?b<E?[]:b===E?o?[]:[w]:b<=S?[w,x]:[w,M]:_>S?[]:_===S?o?[]:[y]:b<=S?[y,x]:[y,M]}function o(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=n.x-t.x,s=n.y-t.y,c=r.x-t.x,u=r.y-t.y,h=i*s-o*a,l=i*u-o*c;if(Math.abs(h)>Number.EPSILON){var f=c*s-u*a;return h>0?l>=0&&f>=0:l>=0||f>=0}return l>0}function a(t,e){function n(t,e){var n=s.length-1,r=t-1;r<0&&(r=n);var i=t+1;i>n&&(i=0);var a=o(s[t],s[r],s[i],c[e]);if(!a)return!1;var u=c.length-1,h=e-1;h<0&&(h=u);var l=e+1;return l>u&&(l=0),!!(a=o(c[e],c[h],c[l],s[t]))}function r(t,e){var n,r,o;for(n=0;n<s.length;n++)if(r=n+1,r%=s.length,o=i(t,e,s[n],s[r],!0),o.length>0)return!0;return!1}function a(t,n){var r,o,a,s,c;for(r=0;r<u.length;r++)for(o=e[u[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,c=i(t,n,o[a],o[s],!0),c.length>0)return!0;return!1}for(var s=t.concat(),c,u=[],h,l,f,p,d,m,v=[],g,y,x,_,b=0,w=e.length;b<w;b++)u.push(b);for(var M=0,E=2*u.length;u.length>0;){if(--E<0){console.log("Infinite Loop! Holes left:"+u.length+", Probably Hole outside Shape!");break}for(l=M;l<s.length;l++){f=s[l],h=-1;for(var b=0;b<u.length;b++)if(d=u[b],m=f.x+":"+f.y+":"+d,void 0===v[m]){c=e[d];for(var S=0;S<c.length;S++)if(p=c[S],n(l,S)&&!r(f,p)&&!a(f,p)){h=S,u.splice(b,1),g=s.slice(0,l+1),y=s.slice(l),x=c.slice(h),_=c.slice(0,h+1),s=g.concat(x).concat(_).concat(y),M=l;break}if(h>=0)break;v[m]=!0}if(h>=0)break}}return s}n(t),e.forEach(n);for(var s,c,u,h,l,f,p={},d=t.concat(),m=0,v=e.length;m<v;m++)Array.prototype.push.apply(d,e[m]);for(s=0,c=d.length;s<c;s++)l=d[s].x+":"+d[s].y,void 0!==p[l]&&console.warn("THREE.ShapeUtils: Duplicate point",l,s),p[l]=s;var g=a(t,e),y=ShapeUtils.triangulate(g,!1);for(s=0,c=y.length;s<c;s++)for(h=y[s],u=0;u<3;u++)l=h[u].x+":"+h[u].y,void 0!==(f=p[l])&&(h[u]=f);return y.concat()},isClockWise:function(t){return ShapeUtils.area(t)<0}};ExtrudeGeometry.prototype=Object.create(Geometry.prototype),ExtrudeGeometry.prototype.constructor=ExtrudeGeometry,ExtrudeBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ExtrudeBufferGeometry.prototype.constructor=ExtrudeBufferGeometry,ExtrudeBufferGeometry.prototype.getArrays=function(){var t=this.getAttribute("position"),e=t?Array.prototype.slice.call(t.array):[],n=this.getAttribute("uv"),r=n?Array.prototype.slice.call(n.array):[],i=this.index;return{position:e,uv:r,index:i?Array.prototype.slice.call(i.array):[]}},ExtrudeBufferGeometry.prototype.addShapeList=function(t,e){var n=t.length;e.arrays=this.getArrays();for(var r=0;r<n;r++){var i=t[r];this.addShape(i,e)}this.setIndex(e.arrays.index),this.addAttribute("position",new Float32BufferAttribute(e.arrays.position,3)),this.addAttribute("uv",new Float32BufferAttribute(e.arrays.uv,2))},ExtrudeBufferGeometry.prototype.addShape=function(t,e){function n(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function r(t,e,n){var r,i,o=1,a=t.x-e.x,s=t.y-e.y,c=n.x-t.x,u=n.y-t.y,h=a*a+s*s,l=a*u-s*c;if(Math.abs(l)>Number.EPSILON){var f=Math.sqrt(h),p=Math.sqrt(c*c+u*u),d=e.x-s/f,m=e.y+a/f,v=n.x-u/p,g=n.y+c/p,y=((v-d)*u-(g-m)*c)/(a*u-s*c);r=d+a*y-t.x,i=m+s*y-t.y;var x=r*r+i*i;if(x<=2)return new Vector2(r,i);o=Math.sqrt(x/2)}else{var _=!1;a>Number.EPSILON?c>Number.EPSILON&&(_=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(_=!0):Math.sign(s)===Math.sign(u)&&(_=!0),_?(r=-s,i=a,o=Math.sqrt(h)):(r=a,i=s,o=Math.sqrt(h/2))}return new Vector2(r/o,i/o)}function i(){var t=p.length/3;if(b){var n=0,r=Y*n;for(Q=0;Q<Z;Q++)q=G[Q],c(q[2]+r,q[1]+r,q[0]+r);for(n=M+2*_,r=Y*n,Q=0;Q<Z;Q++)q=G[Q],c(q[0]+r,q[1]+r,q[2]+r)}else{for(Q=0;Q<Z;Q++)q=G[Q],c(q[2],q[1],q[0]);for(Q=0;Q<Z;Q++)q=G[Q],c(q[0]+Y*M,q[1]+Y*M,q[2]+Y*M)}U.addGroup(t,p.length/3-t,void 0!==e.material?e.material:0)}function o(){var t=p.length/3,n=0;for(a(H,n),n+=H.length,O=0,N=z.length;O<N;O++)I=z[O],a(I,n),n+=I.length;U.addGroup(t,p.length/3-t,void 0!==e.extrudeMaterial?e.extrudeMaterial:1)}function a(t,e){var n,r;for(Q=t.length;--Q>=0;){n=Q,r=Q-1,r<0&&(r=t.length-1);var i=0,o=M+2*_;for(i=0;i<o;i++){var a=Y*i,s=Y*(i+1);u(e+n+a,e+r+a,e+r+s,e+n+s,t,i,o,n,r)}}}function s(t,e,n){v.push(t),v.push(e),v.push(n)}function c(t,e,n){h(t),h(e),h(n);var r=p.length/3,i=A.generateTopUV(U,p,r-3,r-2,r-1);l(i[0]),l(i[1]),l(i[2])}function u(t,e,n,r,i,o,a,s,c){h(t),h(e),h(r),h(e),h(n),h(r);var u=p.length/3,f=A.generateSideWallUV(U,p,u-6,u-3,u-2,u-1);l(f[0]),l(f[1]),l(f[3]),l(f[1]),l(f[2]),l(f[3])}function h(t){d.push(p.length/3),p.push(v[3*t+0]),p.push(v[3*t+1]),p.push(v[3*t+2])}function l(t){m.push(t.x),m.push(t.y)}var f=e.arrays?e.arrays:this.getArrays(),p=f.position,d=f.index,m=f.uv,v=[],g=void 0!==e.amount?e.amount:100,y=void 0!==e.bevelThickness?e.bevelThickness:6,x=void 0!==e.bevelSize?e.bevelSize:y-2,_=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0===e.bevelEnabled||e.bevelEnabled,w=void 0!==e.curveSegments?e.curveSegments:12,M=void 0!==e.steps?e.steps:1,E=e.extrudePath,S,T=!1,A=void 0!==e.UVGenerator?e.UVGenerator:ExtrudeGeometry.WorldUVGenerator,R,L,P,C;E&&(S=E.getSpacedPoints(M),T=!0,b=!1,R=void 0!==e.frames?e.frames:E.computeFrenetFrames(M,!1),L=new Vector3,P=new Vector3,C=new Vector3),b||(_=0,y=0,x=0);var I,O,N,U=this,D=t.extractPoints(w),F=D.shape,z=D.holes,B=!ShapeUtils.isClockWise(F);if(B){for(F=F.reverse(),O=0,N=z.length;O<N;O++)I=z[O],ShapeUtils.isClockWise(I)&&(z[O]=I.reverse());B=!1}var G=ShapeUtils.triangulateShape(F,z),H=F;for(O=0,N=z.length;O<N;O++)I=z[O],F=F.concat(I);for(var j,k,V,W,X,Y=F.length,q,Z=G.length,J=[],Q=0,K=H.length,$=K-1,tt=Q+1;Q<K;Q++,$++,tt++)$===K&&($=0),tt===K&&(tt=0),J[Q]=r(H[Q],H[$],H[tt]);var et=[],nt,rt=J.concat();for(O=0,N=z.length;O<N;O++){for(I=z[O],nt=[],Q=0,K=I.length,$=K-1,tt=Q+1;Q<K;Q++,$++,tt++)$===K&&($=0),tt===K&&(tt=0),nt[Q]=r(I[Q],I[$],I[tt]);et.push(nt),rt=rt.concat(nt)}for(j=0;j<_;j++){for(V=j/_,W=y*Math.cos(V*Math.PI/2),k=x*Math.sin(V*Math.PI/2),Q=0,K=H.length;Q<K;Q++)X=n(H[Q],J[Q],k),s(X.x,X.y,-W);for(O=0,N=z.length;O<N;O++)for(I=z[O],nt=et[O],Q=0,K=I.length;Q<K;Q++)X=n(I[Q],nt[Q],k),s(X.x,X.y,-W)}for(k=x,Q=0;Q<Y;Q++)X=b?n(F[Q],rt[Q],k):F[Q],T?(P.copy(R.normals[0]).multiplyScalar(X.x),L.copy(R.binormals[0]).multiplyScalar(X.y),C.copy(S[0]).add(P).add(L),s(C.x,C.y,C.z)):s(X.x,X.y,0);var it;for(it=1;it<=M;it++)for(Q=0;Q<Y;Q++)X=b?n(F[Q],rt[Q],k):F[Q],T?(P.copy(R.normals[it]).multiplyScalar(X.x),L.copy(R.binormals[it]).multiplyScalar(X.y),C.copy(S[it]).add(P).add(L),s(C.x,C.y,C.z)):s(X.x,X.y,g/M*it);for(j=_-1;j>=0;j--){for(V=j/_,W=y*Math.cos(V*Math.PI/2),k=x*Math.sin(V*Math.PI/2),Q=0,K=H.length;Q<K;Q++)X=n(H[Q],J[Q],k),s(X.x,X.y,g+W);for(O=0,N=z.length;O<N;O++)for(I=z[O],nt=et[O],Q=0,K=I.length;Q<K;Q++)X=n(I[Q],nt[Q],k),T?s(X.x,X.y+S[M-1].y,S[M-1].x+W):s(X.x,X.y,g+W)}i(),o(),e.arrays||(this.setIndex(d),this.addAttribute("position",new Float32BufferAttribute(p,3)),this.addAttribute("uv",new Float32BufferAttribute(e.arrays.uv,2)))},ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(t,e,n,r,i){var o=e[3*n],a=e[3*n+1],s=e[3*r],c=e[3*r+1],u=e[3*i],h=e[3*i+1];return[new Vector2(o,a),new Vector2(s,c),new Vector2(u,h)]},generateSideWallUV:function(t,e,n,r,i,o){var a=e[3*n],s=e[3*n+1],c=e[3*n+2],u=e[3*r],h=e[3*r+1],l=e[3*r+2],f=e[3*i],p=e[3*i+1],d=e[3*i+2],m=e[3*o],v=e[3*o+1],g=e[3*o+2];return Math.abs(s-h)<.01?[new Vector2(a,1-c),new Vector2(u,1-l),new Vector2(f,1-d),new Vector2(m,1-g)]:[new Vector2(s,1-c),new Vector2(h,1-l),new Vector2(p,1-d),new Vector2(v,1-g)]}},TextGeometry.prototype=Object.create(Geometry.prototype),TextGeometry.prototype.constructor=TextGeometry,TextBufferGeometry.prototype=Object.create(ExtrudeBufferGeometry.prototype),TextBufferGeometry.prototype.constructor=TextBufferGeometry,SphereGeometry.prototype=Object.create(Geometry.prototype),SphereGeometry.prototype.constructor=SphereGeometry,SphereBufferGeometry.prototype=Object.create(BufferGeometry.prototype),SphereBufferGeometry.prototype.constructor=SphereBufferGeometry,RingGeometry.prototype=Object.create(Geometry.prototype),RingGeometry.prototype.constructor=RingGeometry,RingBufferGeometry.prototype=Object.create(BufferGeometry.prototype),RingBufferGeometry.prototype.constructor=RingBufferGeometry,LatheGeometry.prototype=Object.create(Geometry.prototype),LatheGeometry.prototype.constructor=LatheGeometry,LatheBufferGeometry.prototype=Object.create(BufferGeometry.prototype),LatheBufferGeometry.prototype.constructor=LatheBufferGeometry,ShapeGeometry.prototype=Object.create(Geometry.prototype),ShapeGeometry.prototype.constructor=ShapeGeometry,ShapeBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ShapeBufferGeometry.prototype.constructor=ShapeBufferGeometry,EdgesGeometry.prototype=Object.create(BufferGeometry.prototype),EdgesGeometry.prototype.constructor=EdgesGeometry,CylinderGeometry.prototype=Object.create(Geometry.prototype),CylinderGeometry.prototype.constructor=CylinderGeometry,CylinderBufferGeometry.prototype=Object.create(BufferGeometry.prototype),CylinderBufferGeometry.prototype.constructor=CylinderBufferGeometry,ConeGeometry.prototype=Object.create(CylinderGeometry.prototype),ConeGeometry.prototype.constructor=ConeGeometry,ConeBufferGeometry.prototype=Object.create(CylinderBufferGeometry.prototype),ConeBufferGeometry.prototype.constructor=ConeBufferGeometry,CircleGeometry.prototype=Object.create(Geometry.prototype),CircleGeometry.prototype.constructor=CircleGeometry,CircleBufferGeometry.prototype=Object.create(BufferGeometry.prototype),CircleBufferGeometry.prototype.constructor=CircleBufferGeometry;var Kn=Object.freeze({WireframeGeometry:WireframeGeometry,ParametricGeometry:ParametricGeometry,ParametricBufferGeometry:ParametricBufferGeometry,TetrahedronGeometry:TetrahedronGeometry,TetrahedronBufferGeometry:TetrahedronBufferGeometry,OctahedronGeometry:OctahedronGeometry,OctahedronBufferGeometry:OctahedronBufferGeometry,IcosahedronGeometry:IcosahedronGeometry,IcosahedronBufferGeometry:IcosahedronBufferGeometry,DodecahedronGeometry:DodecahedronGeometry,DodecahedronBufferGeometry:DodecahedronBufferGeometry,PolyhedronGeometry:PolyhedronGeometry,PolyhedronBufferGeometry:PolyhedronBufferGeometry,TubeGeometry:TubeGeometry,TubeBufferGeometry:TubeBufferGeometry,TorusKnotGeometry:TorusKnotGeometry,TorusKnotBufferGeometry:TorusKnotBufferGeometry,TorusGeometry:TorusGeometry,TorusBufferGeometry:TorusBufferGeometry,TextGeometry:TextGeometry,TextBufferGeometry:TextBufferGeometry,SphereGeometry:SphereGeometry,SphereBufferGeometry:SphereBufferGeometry,RingGeometry:RingGeometry,RingBufferGeometry:RingBufferGeometry,PlaneGeometry:PlaneGeometry,PlaneBufferGeometry:PlaneBufferGeometry,LatheGeometry:LatheGeometry,LatheBufferGeometry:LatheBufferGeometry,ShapeGeometry:ShapeGeometry,ShapeBufferGeometry:ShapeBufferGeometry,ExtrudeGeometry:ExtrudeGeometry,ExtrudeBufferGeometry:ExtrudeBufferGeometry,EdgesGeometry:EdgesGeometry,ConeGeometry:ConeGeometry,ConeBufferGeometry:ConeBufferGeometry,CylinderGeometry:CylinderGeometry,CylinderBufferGeometry:CylinderBufferGeometry,CircleGeometry:CircleGeometry,CircleBufferGeometry:CircleBufferGeometry,BoxGeometry:BoxGeometry,BoxBufferGeometry:BoxBufferGeometry});ShadowMaterial.prototype=Object.create(ShaderMaterial.prototype),ShadowMaterial.prototype.constructor=ShadowMaterial,ShadowMaterial.prototype.isShadowMaterial=!0,RawShaderMaterial.prototype=Object.create(ShaderMaterial.prototype),RawShaderMaterial.prototype.constructor=RawShaderMaterial,RawShaderMaterial.prototype.isRawShaderMaterial=!0,MeshStandardMaterial.prototype=Object.create(Material.prototype),MeshStandardMaterial.prototype.constructor=MeshStandardMaterial,MeshStandardMaterial.prototype.isMeshStandardMaterial=!0,MeshStandardMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},MeshPhysicalMaterial.prototype=Object.create(MeshStandardMaterial.prototype),MeshPhysicalMaterial.prototype.constructor=MeshPhysicalMaterial,MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial=!0,MeshPhysicalMaterial.prototype.copy=function(t){return MeshStandardMaterial.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},MeshPhongMaterial.prototype=Object.create(Material.prototype),MeshPhongMaterial.prototype.constructor=MeshPhongMaterial,MeshPhongMaterial.prototype.isMeshPhongMaterial=!0,MeshPhongMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},MeshToonMaterial.prototype=Object.create(MeshPhongMaterial.prototype),MeshToonMaterial.prototype.constructor=MeshToonMaterial,MeshToonMaterial.prototype.isMeshToonMaterial=!0,MeshToonMaterial.prototype.copy=function(t){return MeshPhongMaterial.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},MeshNormalMaterial.prototype=Object.create(Material.prototype),MeshNormalMaterial.prototype.constructor=MeshNormalMaterial,MeshNormalMaterial.prototype.isMeshNormalMaterial=!0,MeshNormalMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},MeshLambertMaterial.prototype=Object.create(Material.prototype),MeshLambertMaterial.prototype.constructor=MeshLambertMaterial,MeshLambertMaterial.prototype.isMeshLambertMaterial=!0,MeshLambertMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},LineDashedMaterial.prototype=Object.create(Material.prototype),LineDashedMaterial.prototype.constructor=LineDashedMaterial,LineDashedMaterial.prototype.isLineDashedMaterial=!0,LineDashedMaterial.prototype.copy=function(t){return Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var $n=Object.freeze({ShadowMaterial:ShadowMaterial,SpriteMaterial:SpriteMaterial,RawShaderMaterial:RawShaderMaterial,ShaderMaterial:ShaderMaterial,PointsMaterial:PointsMaterial,MeshPhysicalMaterial:MeshPhysicalMaterial,MeshStandardMaterial:MeshStandardMaterial,MeshPhongMaterial:MeshPhongMaterial,MeshToonMaterial:MeshToonMaterial,MeshNormalMaterial:MeshNormalMaterial,MeshLambertMaterial:MeshLambertMaterial,MeshDepthMaterial:MeshDepthMaterial,MeshBasicMaterial:MeshBasicMaterial,LineDashedMaterial:LineDashedMaterial,LineBasicMaterial:LineBasicMaterial,Material:Material}),Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},DefaultLoadingManager=new LoadingManager;Object.assign(FileLoader.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=Cache.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(a);if(s){var c=s[1],u=!!s[2],h=s[3];h=window.decodeURIComponent(h),u&&(h=window.atob(h));try{var l,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":l=new ArrayBuffer(h.length);for(var p=new Uint8Array(l),d=0;d<h.length;d++)p[d]=h.charCodeAt(d);"blob"===f&&(l=new Blob([l],{type:c}));break;case"document":var m=new DOMParser;l=m.parseFromString(h,c);break;case"json":l=JSON.parse(h);break;default:l=h}window.setTimeout(function(){e&&e(l),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},0)}}else{var v=new XMLHttpRequest;v.open("GET",t,!0),v.addEventListener("load",function(n){var o=n.target.response;Cache.add(t,o),200===this.status?(e&&e(o),i.manager.itemEnd(t)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),e&&e(o),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemEnd(t),i.manager.itemError(t))},!1),void 0!==n&&v.addEventListener("progress",function(t){n(t)},!1),v.addEventListener("error",function(e){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var g in this.requestHeader)v.setRequestHeader(g,this.requestHeader[g]);v.send(null)}return i.manager.itemStart(t),v},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(CompressedTextureLoader.prototype,{load:function(t,e,n,r){function i(i){c.load(t[i],function(t){var n=o._parser(t,!0);a[i]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(s.minFilter=LinearFilter),s.format=n.format,s.needsUpdate=!0,e&&e(s))},n,r)}var o=this,a=[],s=new CompressedTexture;s.image=a;var c=new FileLoader(this.manager);if(c.setPath(this.path),c.setResponseType("arraybuffer"),Array.isArray(t))for(var u=0,h=0,l=t.length;h<l;++h)i(h);else c.load(t,function(t){var n=o._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,i=0;i<r;i++){a[i]={mipmaps:[]};for(var c=0;c<n.mipmapCount;c++)a[i].mipmaps.push(n.mipmaps[i*n.mipmapCount+c]),a[i].format=n.format,a[i].width=n.width,a[i].height=n.height}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=LinearFilter),s.format=n.format,s.needsUpdate=!0,e&&e(s)},n,r);return s},setPath:function(t){return this.path=t,this}}),Object.assign(DataTextureLoader.prototype,{load:function(t,e,n,r){var i=this,o=new DataTexture,a=new FileLoader(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var n=i._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:ClampToEdgeWrapping,o.wrapT=void 0!==n.wrapT?n.wrapT:ClampToEdgeWrapping,o.magFilter=void 0!==n.magFilter?n.magFilter:LinearFilter,o.minFilter=void 0!==n.minFilter?n.minFilter:LinearMipMapLinearFilter,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=LinearFilter),o.needsUpdate=!0,e&&e(o,n))},n,r),o}}),Object.assign(ImageLoader.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=Cache.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");return a.addEventListener("load",function(){Cache.add(t,this),e&&e(this),i.manager.itemEnd(t)},!1),a.addEventListener("error",function(e){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(CubeTextureLoader.prototype,{load:function(t,e,n,r){function i(n){a.load(t[n],function(t){o.images[n]=t,6===++s&&(o.needsUpdate=!0,e&&e(o))},void 0,r)}var o=new CubeTexture,a=new ImageLoader(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);for(var s=0,c=0;c<t.length;++c)i(c);return o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(TextureLoader.prototype,{load:function(t,e,n,r){var i=new ImageLoader(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);var o=new Texture;return o.image=i.load(t,function(){var n=t.search(/\\.(jpg|jpeg)$/)>0||0===t.search(/^data\\:image\\/jpeg/);o.format=n?RGBFormat:RGBAFormat,o.needsUpdate=!0,void 0!==e&&e(o)},n,r),o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Light.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Light,isLight:!0,copy:function(t){return Object3D.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),HemisphereLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:HemisphereLight,isHemisphereLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(LightShadow.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),SpotLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:SpotLightShadow,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*Ut.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix())}}),SpotLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:SpotLight,isSpotLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),PointLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:PointLight,isPointLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),DirectionalLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:DirectionalLightShadow}),DirectionalLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:DirectionalLight,isDirectionalLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),AmbientLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:AmbientLight,isAmbientLight:!0}),RectAreaLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:RectAreaLight,isRectAreaLight:!0,copy:function(t){return Light.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=Light.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});var AnimationUtils={arraySlice:function(t,e,n){return AnimationUtils.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*e,c=0;c!==e;++c)i[a++]=t[s+c];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)}}};Object.assign(Interpolant.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}{if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(var a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){var c=n+o>>>1;t<e[c]?o=c:n=c+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(t,e,n,r){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}}),Object.assign(Interpolant.prototype,{beforeStart_:Interpolant.prototype.copySampleValue_,afterEnd_:Interpolant.prototype.copySampleValue_}),CubicInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:CubicInterpolant,DefaultSettings_:{endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=t,a=2*e-n;break;case 2402:i=r.length-2,a=e+r[i]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=t,s=2*n-e;break;case 2402:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}var c=.5*(n-e),u=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,u=this._offsetPrev,h=this._offsetNext,l=this._weightPrev,f=this._weightNext,p=(n-e)/(r-e),d=p*p,m=d*p,v=-l*m+2*l*d-l*p,g=(1+l)*m+(-1.5-2*l)*d+(-.5+l)*p+1,y=(-1-f)*m+(1.5+f)*d+.5*p,x=f*m-f*d,_=0;_!==a;++_)i[_]=v*o[u+_]+g*o[c+_]+y*o[s+_]+x*o[h+_];return i}}),LinearInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:LinearInterpolant,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,u=(n-e)/(r-e),h=1-u,l=0;l!==a;++l)i[l]=o[c+l]*h+o[s+l]*u;return i}}),DiscreteInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:DiscreteInterpolant,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}});var tr;tr={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new LinearInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new CubicInterpolant(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(n)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=AnimationUtils.arraySlice(n,i,o),this.values=AnimationUtils.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("invalid value size in track",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("track is empty",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("out of order keys",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&AnimationUtils.isTypedArray(r))for(var a=0,c=r.length;a!==c;++a){var u=r[a];if(isNaN(u)){console.error("value is not a valid number",this,a,u),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,o=t.length-1,a=1;a<o;++a){var s=!1,c=t[a];if(c!==t[a+1]&&(1!==a||c!==c[0]))if(r)s=!0;else for(var u=a*n,h=u-n,l=u+n,f=0;f!==n;++f){var p=e[u+f];if(p!==e[h+f]||p!==e[l+f]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];for(var d=a*n,m=i*n,f=0;f!==n;++f)e[m+f]=e[d+f]}++i}}if(o>0){t[i]=t[o];for(var d=o*n,m=i*n,f=0;f!==n;++f)e[m+f]=e[d+f];++i}return i!==t.length&&(this.times=AnimationUtils.arraySlice(t,0,i),this.values=AnimationUtils.arraySlice(e,0,i*n)),this}},VectorKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:VectorKeyframeTrack,ValueTypeName:"vector"}),QuaternionLinearInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:QuaternionLinearInterpolant,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=(n-e)/(r-e),u=s+a;s!==u;s+=4)Quaternion.slerpFlat(i,0,o,s-a,o,s,c);return i}}),QuaternionKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),NumberKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:NumberKeyframeTrack,ValueTypeName:"number"}),StringKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),BooleanKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ColorKeyframeTrack.prototype=Object.assign(Object.create(tr),{constructor:ColorKeyframeTrack,ValueTypeName:"color"}),KeyframeTrack.prototype=tr,tr.constructor=KeyframeTrack,Object.assign(KeyframeTrack,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=KeyframeTrack._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];AnimationUtils.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e=t.constructor,n;if(void 0!==e.toJSON)n=e.toJSON(t);else{n={name:t.name,times:AnimationUtils.convertArray(t.times,Array),values:AnimationUtils.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(n.interpolation=r)}return n.type=t.ValueTypeName,n},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("Unsupported typeName: "+t)}}),Object.assign(AnimationClip,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(KeyframeTrack.parse(n[i]).scale(r));return new AnimationClip(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,o=n.length;i!==o;++i)e.push(KeyframeTrack.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var u=AnimationUtils.getKeyframeOrder(s);s=AnimationUtils.sortedArray(s,1,u),c=AnimationUtils.sortedArray(c,1,u),r||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new NumberKeyframeTrack(".morphTargetInfluences["+e[a].name+"]",s,c).scale(1/n))}return new AnimationClip(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\\w-]*?)([\\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],c=s.name.match(i);if(c&&c.length>1){var u=c[1],h=r[u];h||(r[u]=h=[]),h.push(s)}}var l=[];for(var u in r)l.push(AnimationClip.CreateFromMorphTargetSequence(u,r[u],e,n));return l},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var o=[],a=[];AnimationUtils.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],c=0;c<s.length;c++){var u=s[c].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var h={},l=0;l<u.length;l++)if(u[l].morphTargets)for(var f=0;f<u[l].morphTargets.length;f++)h[u[l].morphTargets[f]]=-1;for(var p in h){for(var d=[],m=[],f=0;f!==u[l].morphTargets.length;++f){var v=u[l];d.push(v.time),m.push(v.morphTarget===p?1:0)}r.push(new NumberKeyframeTrack(".morphTargetInfluence["+p+"]",d,m))}o=h.length*(a||1)}else{var g=".bones["+e[c].name+"]";n(VectorKeyframeTrack,g+".position",u,"pos",r),n(QuaternionKeyframeTrack,g+".quaternion",u,"rot",r),n(VectorKeyframeTrack,g+".scale",u,"scl",r)}}return 0===r.length?null:new AnimationClip(i,o,r)}}),Object.assign(AnimationClip.prototype,{resetDuration:function(){for(var t=this.tracks,e=0,n=0,r=t.length;n!==r;++n){var i=this.tracks[n];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(MaterialLoader.prototype,{load:function(t,e,n,r){var i=this,o=new FileLoader(i.manager);o.setResponseType("json"),o.load(t,function(t){e(i.parse(t))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,r=new $n[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var i=t.normalScale;!1===Array.isArray(i)&&(i=[i,i]),r.normalScale=(new Vector2).fromArray(i)}return void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=e(t.gradientMap)),r}}),Object.assign(BufferGeometryLoader.prototype,{load:function(t,e,n,r){var i=this,o=new FileLoader(i.manager);o.setResponseType("json"),o.load(t,function(t){e(i.parse(t))},n,r)},parse:function(t){var e=new BufferGeometry,n=t.data.index;if(void 0!==n){var r=new er[n.type](n.array);e.setIndex(new BufferAttribute(r,1))}var i=t.data.attributes;for(var o in i){var a=i[o],r=new er[a.type](a.array);e.addAttribute(o,new BufferAttribute(r,a.itemSize,a.normalized))}var s=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==s)for(var c=0,u=s.length;c!==u;++c){var h=s[c];e.addGroup(h.start,h.count,h.materialIndex)}var l=t.data.boundingSphere;if(void 0!==l){var f=new Vector3;void 0!==l.center&&f.fromArray(l.center),e.boundingSphere=new Sphere(f,l.radius)}return e}});var er={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};Loader.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],o=e[n+1];if(i.test(t))return o}return null}},Object.assign(Loader.prototype,{crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(){var t={NoBlending:NoBlending,NormalBlending:NormalBlending,AdditiveBlending:AdditiveBlending,SubtractiveBlending:SubtractiveBlending,MultiplyBlending:MultiplyBlending,CustomBlending:CustomBlending},e=new Color,n=new TextureLoader,r=new MaterialLoader;return function i(o,a,s){function c(t,e,r,i,o){var c=a+t,h=Loader.Handlers.get(c),l;null!==h?l=h.load(c):(n.setCrossOrigin(s),l=n.load(c)),void 0!==e&&(l.repeat.fromArray(e),1!==e[0]&&(l.wrapS=RepeatWrapping),1!==e[1]&&(l.wrapT=RepeatWrapping)),void 0!==r&&l.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(l.wrapS=RepeatWrapping),"mirror"===i[0]&&(l.wrapS=MirroredRepeatWrapping),"repeat"===i[1]&&(l.wrapT=RepeatWrapping),"mirror"===i[1]&&(l.wrapT=MirroredRepeatWrapping)),void 0!==o&&(l.anisotropy=o);var f=Ut.generateUUID();return u[f]=l,f}var u={},h={uuid:Ut.generateUUID(),type:"MeshLambertMaterial"};for(var l in o){var f=o[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":h.name=f;break;case"blending":h.blending=t[f];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":h.color=e.fromArray(f).getHex();break;case"colorSpecular":h.specular=e.fromArray(f).getHex();break;case"colorEmissive":h.emissive=e.fromArray(f).getHex();break;case"specularCoef":h.shininess=f;break;case"shading":"basic"===f.toLowerCase()&&(h.type="MeshBasicMaterial"),"phong"===f.toLowerCase()&&(h.type="MeshPhongMaterial"),"standard"===f.toLowerCase()&&(h.type="MeshStandardMaterial");break;case"mapDiffuse":h.map=c(f,o.mapDiffuseRepeat,o.mapDiffuseOffset,o.mapDiffuseWrap,o.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":h.emissiveMap=c(f,o.mapEmissiveRepeat,o.mapEmissiveOffset,o.mapEmissiveWrap,o.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":h.lightMap=c(f,o.mapLightRepeat,o.mapLightOffset,o.mapLightWrap,o.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":h.aoMap=c(f,o.mapAORepeat,o.mapAOOffset,o.mapAOWrap,o.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":h.bumpMap=c(f,o.mapBumpRepeat,o.mapBumpOffset,o.mapBumpWrap,o.mapBumpAnisotropy);break;case"mapBumpScale":h.bumpScale=f;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":h.normalMap=c(f,o.mapNormalRepeat,o.mapNormalOffset,o.mapNormalWrap,o.mapNormalAnisotropy);break;case"mapNormalFactor":h.normalScale=[f,f];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":h.specularMap=c(f,o.mapSpecularRepeat,o.mapSpecularOffset,o.mapSpecularWrap,o.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":h.metalnessMap=c(f,o.mapMetalnessRepeat,o.mapMetalnessOffset,o.mapMetalnessWrap,o.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":h.roughnessMap=c(f,o.mapRoughnessRepeat,o.mapRoughnessOffset,o.mapRoughnessWrap,o.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":h.alphaMap=c(f,o.mapAlphaRepeat,o.mapAlphaOffset,o.mapAlphaWrap,o.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":h.side=BackSide;break;case"doubleSided":h.side=DoubleSide;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),h.opacity=f;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":h[l]=f;break;case"vertexColors":!0===f&&(h.vertexColors=VertexColors),"face"===f&&(h.vertexColors=FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,f)}}return"MeshBasicMaterial"===h.type&&delete h.emissive,"MeshPhongMaterial"!==h.type&&delete h.specular,h.opacity<1&&(h.transparent=!0),r.setTextures(u),r.parse(h)}}()}),Object.assign(JSONLoader.prototype,{load:function(t,e,n,r){var i=this,o=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:Loader.prototype.extractUrlBase(t),a=new FileLoader(this.manager);a.setResponseType("json"),a.setWithCredentials(this.withCredentials),a.load(t,function(n){var r=n.metadata;if(void 0!==r){var a=r.type;if(void 0!==a){if("object"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var s=i.parse(n,o);e(s.geometry,s.materials)},n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(){function t(t,e){function n(t,e){return t&1<<e}var r,i,o,a,s,c,u,h,l,f,p,d,m,v,g,y,x,_,b,w,M,E,S,T,A,R,L,P=t.faces,C=t.vertices,I=t.normals,O=t.colors,N=t.scale,U=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&U++;for(r=0;r<U;r++)e.faceVertexUvs[r]=[]}for(a=0,s=C.length;a<s;)_=new Vector3,_.x=C[a++]*N,_.y=C[a++]*N,_.z=C[a++]*N,e.vertices.push(_);for(a=0,s=P.length;a<s;)if(f=P[a++],p=n(f,0),d=n(f,1),m=n(f,3),v=n(f,4),g=n(f,5),y=n(f,6),x=n(f,7),p){if(w=new Face3,w.a=P[a],w.b=P[a+1],w.c=P[a+3],M=new Face3,M.a=P[a+1],M.b=P[a+2],M.c=P[a+3],a+=4,d&&(l=P[a++],w.materialIndex=l,M.materialIndex=l),o=e.faces.length,m)for(r=0;r<U;r++)for(T=t.uvs[r],e.faceVertexUvs[r][o]=[],e.faceVertexUvs[r][o+1]=[],i=0;i<4;i++)h=P[a++],R=T[2*h],L=T[2*h+1],A=new Vector2(R,L),2!==i&&e.faceVertexUvs[r][o].push(A),0!==i&&e.faceVertexUvs[r][o+1].push(A);if(v&&(u=3*P[a++],w.normal.set(I[u++],I[u++],I[u]),M.normal.copy(w.normal)),g)for(r=0;r<4;r++)u=3*P[a++],S=new Vector3(I[u++],I[u++],I[u]),2!==r&&w.vertexNormals.push(S),0!==r&&M.vertexNormals.push(S);if(y&&(c=P[a++],E=O[c],w.color.setHex(E),M.color.setHex(E)),x)for(r=0;r<4;r++)c=P[a++],E=O[c],2!==r&&w.vertexColors.push(new Color(E)),0!==r&&M.vertexColors.push(new Color(E));e.faces.push(w),e.faces.push(M)}else{if(b=new Face3,b.a=P[a++],b.b=P[a++],b.c=P[a++],d&&(l=P[a++],b.materialIndex=l),o=e.faces.length,m)for(r=0;r<U;r++)for(T=t.uvs[r],e.faceVertexUvs[r][o]=[],i=0;i<3;i++)h=P[a++],R=T[2*h],L=T[2*h+1],A=new Vector2(R,L),e.faceVertexUvs[r][o].push(A);if(v&&(u=3*P[a++],b.normal.set(I[u++],I[u++],I[u])),g)for(r=0;r<3;r++)u=3*P[a++],S=new Vector3(I[u++],I[u++],I[u]),b.vertexNormals.push(S);if(y&&(c=P[a++],b.color.setHex(O[c])),x)for(r=0;r<3;r++)c=P[a++],b.vertexColors.push(new Color(O[c]));e.faces.push(b)}}function e(t,e){var n=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,i=t.skinWeights.length;r<i;r+=n){var o=t.skinWeights[r],a=n>1?t.skinWeights[r+1]:0,s=n>2?t.skinWeights[r+2]:0,c=n>3?t.skinWeights[r+3]:0;e.skinWeights.push(new Vector4(o,a,s,c))}if(t.skinIndices)for(var r=0,i=t.skinIndices.length;r<i;r+=n){var u=t.skinIndices[r],h=n>1?t.skinIndices[r+1]:0,l=n>2?t.skinIndices[r+2]:0,f=n>3?t.skinIndices[r+3]:0;e.skinIndices.push(new Vector4(u,h,l,f))}e.bones=t.bones,e.bones&&e.bones.length>0&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")}function n(t,e){var n=t.scale;if(void 0!==t.morphTargets)for(var r=0,i=t.morphTargets.length;r<i;r++){e.morphTargets[r]={},e.morphTargets[r].name=t.morphTargets[r].name,e.morphTargets[r].vertices=[];for(var o=e.morphTargets[r].vertices,a=t.morphTargets[r].vertices,s=0,c=a.length;s<c;s+=3){var u=new Vector3;u.x=a[s]*n,u.y=a[s+1]*n,u.z=a[s+2]*n,o.push(u)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn(\'THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.\');for(var h=e.faces,l=t.morphColors[0].colors,r=0,i=h.length;r<i;r++)h[r].color.fromArray(l,3*r)}}function r(t,e){var n=[],r=[];void 0!==t.animation&&r.push(t.animation),void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var i=0;i<r.length;i++){var o=AnimationClip.parseAnimation(r[i],e.bones);o&&n.push(o)}if(e.morphTargets){var a=AnimationClip.CreateClipsFromMorphTargetSequences(e.morphTargets,10);n=n.concat(a)}n.length>0&&(e.animations=n)}return function(i,o){void 0!==i.data&&(i=i.data),void 0!==i.scale?i.scale=1/i.scale:i.scale=1;var a=new Geometry;return t(i,a),e(i,a),n(i,a),r(i,a),a.computeFaceNormals(),a.computeBoundingSphere(),void 0===i.materials||0===i.materials.length?{geometry:a}:{geometry:a,materials:Loader.prototype.initMaterials(i.materials,o,this.crossOrigin)}}}()}),Object.assign(ObjectLoader.prototype,{load:function(t,e,n,r){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new FileLoader(i.manager).load(t,function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can\'t parse "+t+".",e.message)}var a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can\'t load "+t+". Use THREE.JSONLoader instead.");i.parse(o,e)},n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,function(){void 0!==e&&e(a)}),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,n,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new JSONLoader,r=new BufferGeometryLoader,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Kn[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Kn[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Kn[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Kn[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Kn[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Kn[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new Kn[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Kn[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Kn[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Kn[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Kn[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s,this.texturePath).geometry;break;default:console.warn(\'THREE.ObjectLoader: Unsupported geometry type "\'+s.type+\'"\');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new MaterialLoader;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=t[i];if("MultiMaterial"===a.type){for(var s=[],c=0;c<a.materials.length;c++)s.push(r.parse(a.materials[c]));n[a.uuid]=s}else n[a.uuid]=r.parse(a)}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=AnimationClip.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){function n(t){return r.manager.itemStart(t),a.load(t,function(){r.manager.itemEnd(t)},void 0,function(){r.manager.itemEnd(t),r.manager.itemError(t)})}var r=this,i={};if(void 0!==t&&t.length>0){var o=new LoadingManager(e),a=new ImageLoader(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,c=t.length;s<c;s++){var u=t[s],h=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(u.url)?u.url:r.texturePath+u.url;i[u.uuid]=n(h)}}return i},parseTextures:function(t,e){function n(t,e){return"number"===typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var i=0,o=t.length;i<o;i++){var a=t[i];void 0===a.image&&console.warn(\'THREE.ObjectLoader: No "image" specified for\',a.uuid),void 0===e[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=new Texture(e[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,nr)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],rr),s.wrapT=n(a.wrap[1],rr)),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,ir)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,ir)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),r[a.uuid]=s}return r},parseObject:function(){var t=new Matrix4;return function e(n,r,i){function o(t){return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),r[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];void 0===i[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),e.push(i[o])}return e}return void 0===i[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),i[t]}}var s;switch(n.type){case"Scene":s=new Scene,void 0!==n.background&&Number.isInteger(n.background)&&(s.background=new Color(n.background)),void 0!==n.fog&&("Fog"===n.fog.type?s.fog=new Fog(n.fog.color,n.fog.near,n.fog.far):"FogExp2"===n.fog.type&&(s.fog=new FogExp2(n.fog.color,n.fog.density)));break;case"PerspectiveCamera":s=new PerspectiveCamera(n.fov,n.aspect,n.near,n.far),void 0!==n.focus&&(s.focus=n.focus),void 0!==n.zoom&&(s.zoom=n.zoom),void 0!==n.filmGauge&&(s.filmGauge=n.filmGauge),void 0!==n.filmOffset&&(s.filmOffset=n.filmOffset),void 0!==n.view&&(s.view=Object.assign({},n.view));break;case"OrthographicCamera":s=new OrthographicCamera(n.left,n.right,n.top,n.bottom,n.near,n.far);break;case"AmbientLight":s=new AmbientLight(n.color,n.intensity);break;case"DirectionalLight":s=new DirectionalLight(n.color,n.intensity);break;case"PointLight":s=new PointLight(n.color,n.intensity,n.distance,n.decay);break;case"RectAreaLight":s=new RectAreaLight(n.color,n.intensity,n.width,n.height);break;case"SpotLight":s=new SpotLight(n.color,n.intensity,n.distance,n.angle,n.penumbra,n.decay);break;case"HemisphereLight":s=new HemisphereLight(n.color,n.groundColor,n.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var c=o(n.geometry),u=a(n.material);s=c.bones&&c.bones.length>0?new SkinnedMesh(c,u):new Mesh(c,u);break;case"LOD":s=new LOD;break;case"Line":s=new Line(o(n.geometry),a(n.material),n.mode);break;case"LineLoop":s=new LineLoop(o(n.geometry),a(n.material));break;case"LineSegments":s=new LineSegments(o(n.geometry),a(n.material));break;case"PointCloud":case"Points":s=new Points(o(n.geometry),a(n.material));break;case"Sprite":s=new Sprite(a(n.material));break;case"Group":s=new Group;break;default:s=new Object3D}if(s.uuid=n.uuid,void 0!==n.name&&(s.name=n.name),void 0!==n.matrix?(t.fromArray(n.matrix),t.decompose(s.position,s.quaternion,s.scale)):(void 0!==n.position&&s.position.fromArray(n.position),void 0!==n.rotation&&s.rotation.fromArray(n.rotation),void 0!==n.quaternion&&s.quaternion.fromArray(n.quaternion),void 0!==n.scale&&s.scale.fromArray(n.scale)),void 0!==n.castShadow&&(s.castShadow=n.castShadow),void 0!==n.receiveShadow&&(s.receiveShadow=n.receiveShadow),n.shadow&&(void 0!==n.shadow.bias&&(s.shadow.bias=n.shadow.bias),void 0!==n.shadow.radius&&(s.shadow.radius=n.shadow.radius),void 0!==n.shadow.mapSize&&s.shadow.mapSize.fromArray(n.shadow.mapSize),void 0!==n.shadow.camera&&(s.shadow.camera=this.parseObject(n.shadow.camera))),void 0!==n.visible&&(s.visible=n.visible),void 0!==n.userData&&(s.userData=n.userData),void 0!==n.children)for(var h in n.children)s.add(this.parseObject(n.children[h],r,i));if("LOD"===n.type)for(var l=n.levels,f=0;f<l.length;f++){var p=l[f],h=s.getObjectByProperty("uuid",p.object);void 0!==h&&s.addLevel(h,p.distance)}return s}}()});var nr={UVMapping:300,CubeReflectionMapping:CubeReflectionMapping,CubeRefractionMapping:CubeRefractionMapping,EquirectangularReflectionMapping:EquirectangularReflectionMapping,EquirectangularRefractionMapping:EquirectangularRefractionMapping,SphericalReflectionMapping:SphericalReflectionMapping,CubeUVReflectionMapping:CubeUVReflectionMapping,CubeUVRefractionMapping:CubeUVRefractionMapping},rr={RepeatWrapping:RepeatWrapping,ClampToEdgeWrapping:ClampToEdgeWrapping,MirroredRepeatWrapping:MirroredRepeatWrapping},ir={NearestFilter:NearestFilter,NearestMipMapNearestFilter:NearestMipMapNearestFilter,NearestMipMapLinearFilter:NearestMipMapLinearFilter,LinearFilter:LinearFilter,LinearMipMapNearestFilter:LinearMipMapNearestFilter,LinearMipMapLinearFilter:LinearMipMapLinearFilter};Object.assign(Curve.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e=[],n,r=this.getPoint(0),i,o=0;for(e.push(0),i=1;i<=t;i++)n=this.getPoint(i/t),o+=n.distanceTo(r),e.push(o),r=n;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n=this.getLengths(),r=0,i=n.length,o;o=e||t*n[i-1];for(var a=0,s=i-1,c;a<=s;)if(r=Math.floor(a+(s-a)/2),(c=n[r]-o)<0)a=r+1;else{if(!(c>0)){s=r;break}s=r-1}if(r=s,n[r]===o)return r/(i-1);var u=n[r];return(r+(o-u)/(n[r+1]-u))/(i-1)},getTangent:function(t){var e=1e-4,n=t-1e-4,r=t+1e-4;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n);return this.getPoint(r).clone().sub(i).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n=new Vector3,r=[],i=[],o=[],a=new Vector3,s=new Matrix4,c,u,h;for(c=0;c<=t;c++)u=c/t,r[c]=this.getTangentAt(u),r[c].normalize();i[0]=new Vector3,o[0]=new Vector3;var l=Number.MAX_VALUE,f=Math.abs(r[0].x),p=Math.abs(r[0].y),d=Math.abs(r[0].z);for(f<=l&&(l=f,n.set(1,0,0)),p<=l&&(l=p,n.set(0,1,0)),d<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]),c=1;c<=t;c++)i[c]=i[c-1].clone(),o[c]=o[c-1].clone(),a.crossVectors(r[c-1],r[c]),a.length()>Number.EPSILON&&(a.normalize(),h=Math.acos(Ut.clamp(r[c-1].dot(r[c]),-1,1)),i[c].applyMatrix4(s.makeRotationAxis(a,h))),o[c].crossVectors(r[c],i[c]);if(!0===e)for(h=Math.acos(Ut.clamp(i[0].dot(i[t]),-1,1)),h/=t,r[0].dot(a.crossVectors(i[0],i[t]))>0&&(h=-h),c=1;c<=t;c++)i[c].applyMatrix4(s.makeRotationAxis(r[c],h*c)),o[c].crossVectors(r[c],i[c]);return{tangents:r,normals:i,binormals:o}}}),LineCurve.prototype=Object.create(Curve.prototype),LineCurve.prototype.constructor=LineCurve,LineCurve.prototype.isLineCurve=!0,LineCurve.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},LineCurve.prototype.getPointAt=function(t){return this.getPoint(t)},LineCurve.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},CurvePath.prototype=Object.assign(Object.create(Curve.prototype),{constructor:CurvePath,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new LineCurve(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e=[],n,r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),c=0;c<s.length;c++){var u=s[c];n&&n.equals(u)||(e.push(u),n=u)}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Geometry,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new Vector3(i.x,i.y,i.z||0))}return e}}),EllipseCurve.prototype=Object.create(Curve.prototype),EllipseCurve.prototype.constructor=EllipseCurve,EllipseCurve.prototype.isEllipseCurve=!0,EllipseCurve.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=r?0:e),!0!==this.aClockwise||r||(n===e?n=-e:n-=e);var i=this.aStartAngle+t*n,o=this.aX+this.xRadius*Math.cos(i),a=this.aY+this.yRadius*Math.sin(i);if(0!==this.aRotation){var s=Math.cos(this.aRotation),c=Math.sin(this.aRotation),u=o-this.aX,h=a-this.aY;o=u*s-h*c+this.aX,a=u*c+h*s+this.aY}return new Vector2(o,a)},SplineCurve.prototype=Object.create(Curve.prototype),SplineCurve.prototype.constructor=SplineCurve,SplineCurve.prototype.isSplineCurve=!0,SplineCurve.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),i=n-r,o=e[0===r?r:r-1],a=e[r],s=e[r>e.length-2?e.length-1:r+1],c=e[r>e.length-3?e.length-1:r+2];return new Vector2(_t(i,o.x,a.x,s.x,c.x),_t(i,o.y,a.y,s.y,c.y))},CubicBezierCurve.prototype=Object.create(Curve.prototype),CubicBezierCurve.prototype.constructor=CubicBezierCurve,CubicBezierCurve.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new Vector2(Lt(t,e.x,n.x,r.x,i.x),Lt(t,e.y,n.y,r.y,i.y))},QuadraticBezierCurve.prototype=Object.create(Curve.prototype),QuadraticBezierCurve.prototype.constructor=QuadraticBezierCurve,QuadraticBezierCurve.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new Vector2(Et(t,e.x,n.x,r.x),Et(t,e.y,n.y,r.y))};var or=Object.assign(Object.create(CurvePath.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new LineCurve(this.currentPoint.clone(),new Vector2(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var i=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(t,e),new Vector2(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,i,o){var a=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(t,e),new Vector2(n,r),new Vector2(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new SplineCurve(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,a,s){var c=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(t+c,e+u,n,r,i,o,a,s)},absellipse:function(t,e,n,r,i,o,a,s){var c=new EllipseCurve(t,e,n,r,i,o,a,s);if(this.curves.length>0){var u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);var h=c.getPoint(1);this.currentPoint.copy(h)}});Path.prototype=or,or.constructor=Path,Shape.prototype=Object.assign(Object.create(or),{constructor:Shape,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),Object.assign(ShapePath.prototype,{moveTo:function(t,e){this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,o){this.currentPath.bezierCurveTo(t,e,n,r,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new Shape;o.curves=i.curves,e.push(o)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=e[i],s=e[o],c=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=e[o],c=-c,s=e[i],u=-u),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var h=u*(t.x-a.x)-c*(t.y-a.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r}var i=ShapeUtils.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);var a,s,c,u=[];if(1===o.length)return s=o[0],c=new Shape,c.curves=s.curves,u.push(c),u;var h=!i(o[0].getPoints());h=t?!h:h;var l=[],f=[],p=[],d=0,m;f[d]=void 0,p[d]=[];for(var v=0,g=o.length;v<g;v++)s=o[v],m=s.getPoints(),a=i(m),a=t?!a:a,a?(!h&&f[d]&&d++,f[d]={s:new Shape,p:m},f[d].s.curves=s.curves,h&&d++,p[d]=[]):p[d].push({h:s,p:m[0]});if(!f[0])return n(o);if(f.length>1){for(var y=!1,x=[],_=0,b=f.length;_<b;_++)l[_]=[];for(var _=0,b=f.length;_<b;_++)for(var w=p[_],M=0;M<w.length;M++){for(var E=w[M],S=!0,T=0;T<f.length;T++)r(E.p,f[T].p)&&(_!==T&&x.push({froms:_,tos:T,hole:M}),S?(S=!1,l[T].push(E)):y=!0);S&&l[_].push(E)}x.length>0&&(y||(p=l))}for(var A,v=0,R=f.length;v<R;v++){c=f[v].s,u.push(c),A=p[v];for(var L=0,P=A.length;L<P;L++)c.holes.push(A[L].h)}return u}}),Object.assign(Font.prototype,{isFont:!0,generateShapes:function(t,e,n){function r(t){for(var n=String(t).split(""),r=e/o.resolution,a=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*r,s=0,c=0,u=[],h=0;h<n.length;h++){var l=n[h];if("\\n"===l)s=0,c-=a;else{var f=i(l,r,s,c);s+=f.offsetX,u.push(f.path)}}return u}function i(t,e,r,i){var a=o.glyphs[t]||o.glyphs["?"];if(a){var s=new ShapePath,c=[],u,h,l,f,p,d,m,v,g,y,x;if(a.o)for(var _=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),b=0,w=_.length;b<w;){var M=_[b++];switch(M){case"m":u=_[b++]*e+r,h=_[b++]*e+i,s.moveTo(u,h);break;case"l":u=_[b++]*e+r,h=_[b++]*e+i,s.lineTo(u,h);break;case"q":if(l=_[b++]*e+r,f=_[b++]*e+i,m=_[b++]*e+r,v=_[b++]*e+i,s.quadraticCurveTo(m,v,l,f),x=c[c.length-1]){p=x.x,d=x.y;for(var E=1;E<=n;E++){var S=E/n;Et(S,p,m,l),Et(S,d,v,f)}}break;case"b":if(l=_[b++]*e+r,f=_[b++]*e+i,m=_[b++]*e+r,v=_[b++]*e+i,g=_[b++]*e+r,y=_[b++]*e+i,s.bezierCurveTo(m,v,g,y,l,f),x=c[c.length-1]){p=x.x,d=x.y;for(var E=1;E<=n;E++){var S=E/n;Lt(S,p,m,g,l),Lt(S,d,v,y,f)}}}}return{offsetX:a.ha*e,path:s}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var o=this.data,a=r(t),s=[],c=0,u=a.length;c<u;c++)Array.prototype.push.apply(s,a[c].toShapes());return s}}),Object.assign(FontLoader.prototype,{load:function(t,e,n,r){var i=this;new FileLoader(this.manager).load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)},n,r)},parse:function(t){return new Font(t)}});var ar,AudioContext={getContext:function(){return void 0===ar&&(ar=new(window.AudioContext||window.webkitAudioContext)),ar},setContext:function(t){ar=t}};Object.assign(AudioLoader.prototype,{load:function(t,e,n,r){var i=new FileLoader(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){AudioContext.getContext().decodeAudioData(t,function(t){e(t)})},n,r)}}),Object.assign(StereoCamera.prototype,{update:function(){var t,e,n,r,i,o,a,s,c=new Matrix4,u=new Matrix4;return function h(l){if(t!==this||e!==l.focus||n!==l.fov||r!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom||s!==this.eyeSep){t=this,e=l.focus,n=l.fov,r=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var f=l.projectionMatrix.clone();s=this.eyeSep/2;var p=s*i/e,d=i*Math.tan(Ut.DEG2RAD*n*.5)/a,m,v;u.elements[12]=-s,c.elements[12]=s,m=-d*r+p,v=d*r+p,f.elements[0]=2*i/(v-m),f.elements[8]=(v+m)/(v-m),this.cameraL.projectionMatrix.copy(f),m=-d*r-p,v=d*r-p,f.elements[0]=2*i/(v-m),f.elements[8]=(v+m)/(v-m),this.cameraR.projectionMatrix.copy(f)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(c)}}()}),CubeCamera.prototype=Object.create(Object3D.prototype),CubeCamera.prototype.constructor=CubeCamera,ArrayCamera.prototype=Object.assign(Object.create(PerspectiveCamera.prototype),{constructor:ArrayCamera,isArrayCamera:!0}),AudioListener.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new Vector3,e=new Quaternion,n=new Vector3,r=new Vector3;return function i(o){Object3D.prototype.updateMatrixWorld.call(this,o);var a=this.context.listener,s=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),a.positionX?(a.positionX.setValueAtTime(t.x,this.context.currentTime),a.positionY.setValueAtTime(t.y,this.context.currentTime),a.positionZ.setValueAtTime(t.z,this.context.currentTime),a.forwardX.setValueAtTime(r.x,this.context.currentTime),a.forwardY.setValueAtTime(r.y,this.context.currentTime),a.forwardZ.setValueAtTime(r.z,this.context.currentTime),a.upX.setValueAtTime(s.x,this.context.currentTime),a.upY.setValueAtTime(s.y,this.context.currentTime),a.upZ.setValueAtTime(s.z,this.context.currentTime)):(a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z))}}()}),Audio.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Audio,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),PositionalAudio.prototype=Object.assign(Object.create(Audio.prototype),{constructor:PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new Vector3;return function e(n){Object3D.prototype.updateMatrixWorld.call(this,n),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(AudioAnalyser.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(PropertyMixer.prototype,{accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=e}else{o+=e;var s=e/o;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(n,r,a,1-i,e)}for(var s=e,c=e+e;s!==c;++s)if(n[s]!==n[s+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,o=r;i!==o;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r){Quaternion.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*r}}}),Object.assign(Pt.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(PropertyBinding,{Composite:Pt,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new PropertyBinding.Composite(t,e,n):new PropertyBinding(t,e,n)},parseTrackName:function(){var t=/((?:[\\w-]+[\\/:])*)/,e=/([\\w-\\.]+)?/,n=/(?:\\.([\\w-]+)(?:\\[(.+)\\])?)?/,r=/\\.([\\w-]+)(?:\\[(.+)\\])?/,i=new RegExp("^"+t.source+e.source+n.source+r.source+"$"),o=["material","materials","bones"];return function(t){var e=i.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var a=n.nodeName.substring(r+1);-1!==o.indexOf(a)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}}(),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null},r=n(t.skeleton);if(r)return r}if(t.children){var i=function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.name===e||r.uuid===e)return r;var o=i(r.children);if(o)return o}return null},o=i(t.children);if(o)return o}return null}}),Object.assign(PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function t(e,n){e[n]=this.node[this.propertyName]},function t(e,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)e[n++]=r[i]},function t(e,n){e[n]=this.resolvedProperty[this.propertyIndex]},function t(e,n){this.resolvedProperty.toArray(e,n)}],SetterByBindingTypeAndVersioning:[[function t(e,n){this.node[this.propertyName]=e[n]},function t(e,n){this.node[this.propertyName]=e[n],this.targetObject.needsUpdate=!0},function t(e,n){this.node[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function t(e,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=e[n++]},function t(e,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0},function t(e,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function t(e,n){this.resolvedProperty[this.propertyIndex]=e[n]},function t(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0},function t(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function t(e,n){this.resolvedProperty.fromArray(e,n)},function t(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0},function t(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function t(e,n){this.bind(),this.getValue(e,n)},setValue:function t(e,n){this.bind(),this.setValue(e,n)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=PropertyBinding.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("  trying to update node for track: "+this.path+" but it wasn\'t found.");if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("  can not bind to objectName of node, undefined",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[o]}}var s=t[r];if(void 0===s){var c=e.nodeName;return void console.error("  trying to update property for track: "+c+"."+r+" but it wasn\'t found.",t)}var u=this.Versioning.None;void 0!==t.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var h=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}h=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(h=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(PropertyBinding.prototype,{_getValue_unbound:PropertyBinding.prototype.getValue,_setValue_unbound:PropertyBinding.prototype.setValue}),Object.assign(AnimationObjectGroup.prototype,{isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,c=s.length,u=0,h=arguments.length;u!==h;++u){var l=arguments[u],f=l.uuid,p=i[f],d=void 0;if(void 0===p){p=n++,i[f]=p,e.push(l);for(var m=0,v=c;m!==v;++m)s[m].push(new PropertyBinding(l,o[m],a[m]))}else if(p<r){d=e[p];var g=--r,y=e[g];i[y.uuid]=p,e[p]=y,i[f]=g,e[g]=l;for(var m=0,v=c;m!==v;++m){var x=s[m],_=x[g],b=x[p];x[p]=_,void 0===b&&(b=new PropertyBinding(l,o[m],a[m])),x[g]=b}}else e[p]!==d&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a],u=c.uuid,h=r[u];if(void 0!==h&&h>=n){var l=n++,f=e[l];r[f.uuid]=h,e[h]=f,r[u]=l,e[l]=c;for(var p=0,d=o;p!==d;++p){var m=i[p],v=m[l],g=m[h];m[h]=v,m[l]=g}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,c=arguments.length;s!==c;++s){var u=arguments[s],h=u.uuid,l=i[h];if(void 0!==l)if(delete i[h],l<r){var f=--r,p=e[f],d=--n,m=e[d];i[p.uuid]=l,e[l]=p,i[m.uuid]=f,e[f]=m,e.pop();for(var v=0,g=a;v!==g;++v){var y=o[v],x=y[f],_=y[d];y[l]=x,y[f]=_,y.pop()}}else{var d=--n,m=e[d];i[m.uuid]=l,e[l]=m,e.pop();for(var v=0,g=a;v!==g;++v){var y=o[v];y[l]=y[d],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,u=this.nCachedObjects_,h=new Array(c);r=i.length,n[t]=r,o.push(t),a.push(e),i.push(h);for(var l=u,f=s.length;l!==f;++l){var p=s[l];h[l]=new PropertyBinding(p,t,e)}return h},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(Ct.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=i/r,a=r/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+n,c[0]=t/a,c[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){if(!this.enabled)return void this._updateWeight(t);var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var c=this._interpolants,u=this._propertyBindings,h=0,l=c.length;h!==l;++h)c[h].evaluate(a),u[h].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=2202===r;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1===(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:ZeroCurvatureEnding:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:ZeroCurvatureEnding:2402)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}}),Object.assign(AnimationMixer.prototype,EventDispatcher.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,c=this._bindingsByRootAndName,u=c[s];void 0===u&&(u={},c[s]=u);for(var h=0;h!==i;++h){var l=r[h],f=l.name,p=u[f];if(void 0!==p)o[h]=p;else{if(void 0!==(p=o[h])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,f));continue}var d=e&&e._propertyBindings[h].binding.parsedPath;p=new PropertyMixer(PropertyBinding.create(n,f,d),l.ValueTypeName,l.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,s,f),o[h]=p}a[h].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],u=t._byClipCacheIndex;c._byClipCacheIndex=u,s[u]=c,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete a[i];t:{for(var u in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"===typeof t?AnimationClip.findByName(n,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[r];if(void 0!==c)return c;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var u=new Ct(this,i,e);return this._bindAction(u,s),this._addInactiveAction(u,o,r),u},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"===typeof t?AnimationClip.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[r]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){e[a]._update(r,t,i,o)}for(var s=this._bindings,c=this._nActiveBindings,a=0;a!==c;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var u=c._cacheIndex,h=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,e[u]=h,e.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[e];if(void 0!==s)for(var c in s){var u=s[c];u.restoreOriginalState(),this._removeInactiveBinding(u)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Uniform.prototype.clone=function(){return new Uniform(void 0===this.value.clone?this.value:this.value.clone())},InstancedBufferGeometry.prototype=Object.assign(Object.create(BufferGeometry.prototype),{constructor:InstancedBufferGeometry,isInstancedBufferGeometry:!0,addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var c=o[a];this.addGroup(c.start,c.count,c.materialIndex)}return this}}),Object.defineProperties(InterleavedBufferAttribute.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(InterleavedBufferAttribute.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}}),Object.defineProperty(InterleavedBuffer.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(InterleavedBuffer.prototype,{isInterleavedBuffer:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),InstancedInterleavedBuffer.prototype=Object.assign(Object.create(InterleavedBuffer.prototype),{constructor:InstancedInterleavedBuffer,isInstancedInterleavedBuffer:!0,copy:function(t){return InterleavedBuffer.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),InstancedBufferAttribute.prototype=Object.assign(Object.create(BufferAttribute.prototype),{constructor:InstancedBufferAttribute,isInstancedBufferAttribute:!0,copy:function(t){return BufferAttribute.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Raycaster.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return Ot(t,this,n,e),n.sort(It),n},intersectObjects:function(t,e){var n=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=t.length;r<i;r++)Ot(t[r],this,n,e);return n.sort(It),n}}),Object.assign(Clock.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"===typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(Spherical.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Ut.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(Cylindrical.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),MorphBlendMesh.prototype=Object.create(Mesh.prototype),MorphBlendMesh.prototype.constructor=MorphBlendMesh,MorphBlendMesh.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},MorphBlendMesh.prototype.autoCreateAnimations=function(t){for(var e=/([a-z]+)_?(\\d+)/i,n,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o],c=s.name.match(e);if(c&&c.length>1){var u=c[1];r[u]||(r[u]={start:1/0,end:-1/0});var h=r[u];o<h.start&&(h.start=o),o>h.end&&(h.end=o),n||(n=u)}}for(var u in r){var h=r[u];this.createAnimation(u,h.start,h.end,t)}this.firstAnimation=n},MorphBlendMesh.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},MorphBlendMesh.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},MorphBlendMesh.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},MorphBlendMesh.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},MorphBlendMesh.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},MorphBlendMesh.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},MorphBlendMesh.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},MorphBlendMesh.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},MorphBlendMesh.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},MorphBlendMesh.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},MorphBlendMesh.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+Ut.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},ImmediateRenderObject.prototype=Object.create(Object3D.prototype),ImmediateRenderObject.prototype.constructor=ImmediateRenderObject,ImmediateRenderObject.prototype.isImmediateRenderObject=!0,VertexNormalsHelper.prototype=Object.create(LineSegments.prototype),VertexNormalsHelper.prototype.constructor=VertexNormalsHelper,VertexNormalsHelper.prototype.update=function(){var t=new Vector3,e=new Vector3,n=new Matrix3;return function r(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var o=this.object.matrixWorld,a=this.geometry.attributes.position,s=this.object.geometry;if(s&&s.isGeometry)for(var c=s.vertices,u=s.faces,h=0,l=0,f=u.length;l<f;l++)for(var p=u[l],d=0,m=p.vertexNormals.length;d<m;d++){var v=c[p[i[d]]],g=p.vertexNormals[d];t.copy(v).applyMatrix4(o),e.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(h,t.x,t.y,t.z),h+=1,a.setXYZ(h,e.x,e.y,e.z),h+=1}else if(s&&s.isBufferGeometry)for(var y=s.attributes.position,x=s.attributes.normal,h=0,d=0,m=y.count;d<m;d++)t.set(y.getX(d),y.getY(d),y.getZ(d)).applyMatrix4(o),e.set(x.getX(d),x.getY(d),x.getZ(d)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(h,t.x,t.y,t.z),h+=1,a.setXYZ(h,e.x,e.y,e.z),h+=1;a.needsUpdate=!0}}(),SpotLightHelper.prototype=Object.create(Object3D.prototype),SpotLightHelper.prototype.constructor=SpotLightHelper,SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},SpotLightHelper.prototype.update=function(){var t=new Vector3,e=new Vector3;return function n(){var r=this.light.distance?this.light.distance:1e3,i=r*Math.tan(this.light.angle);this.cone.scale.set(i,i,r),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color)}}(),SkeletonHelper.prototype=Object.create(LineSegments.prototype),SkeletonHelper.prototype.constructor=SkeletonHelper,SkeletonHelper.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},SkeletonHelper.prototype.update=function(){var t=new Vector3,e=new Matrix4,n=new Matrix4;return function r(){var i=this.geometry,o=i.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a=0,s=0;a<this.bones.length;a++){var c=this.bones[a];c.parent&&c.parent.isBone&&(e.multiplyMatrices(n,c.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(s,t.x,t.y,t.z),e.multiplyMatrices(n,c.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(s+1,t.x,t.y,t.z),s+=2)}i.getAttribute("position").needsUpdate=!0}}(),PointLightHelper.prototype=Object.create(Mesh.prototype),PointLightHelper.prototype.constructor=PointLightHelper,PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color)},RectAreaLightHelper.prototype=Object.create(Object3D.prototype),RectAreaLightHelper.prototype.constructor=RectAreaLightHelper,RectAreaLightHelper.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},RectAreaLightHelper.prototype.update=function(){var t=this.children[0];t.material.color.copy(this.light.color);var e=.5*this.light.width,n=.5*this.light.height,r=t.geometry.attributes.position,i=r.array;i[0]=e,i[1]=-n,i[2]=0,i[3]=e,i[4]=n,i[5]=0,i[6]=-e,i[7]=n,i[8]=0,i[9]=-e,i[10]=-n,i[11]=0,i[12]=e,i[13]=-n,i[14]=0,r.needsUpdate=!0},HemisphereLightHelper.prototype=Object.create(Object3D.prototype),HemisphereLightHelper.prototype.constructor=HemisphereLightHelper,HemisphereLightHelper.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},HemisphereLightHelper.prototype.update=function(){var t=new Vector3,e=new Color,n=new Color;return function r(){var i=this.children[0],o=i.geometry.getAttribute("color");e.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,s=o.count;a<s;a++){var c=a<s/2?e:n;o.setXYZ(a,c.r,c.g,c.b)}i.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),o.needsUpdate=!0}}(),GridHelper.prototype=Object.create(LineSegments.prototype),GridHelper.prototype.constructor=GridHelper,PolarGridHelper.prototype=Object.create(LineSegments.prototype),PolarGridHelper.prototype.constructor=PolarGridHelper,FaceNormalsHelper.prototype=Object.create(LineSegments.prototype),FaceNormalsHelper.prototype.constructor=FaceNormalsHelper,FaceNormalsHelper.prototype.update=function(){var t=new Vector3,e=new Vector3,n=new Matrix3;return function r(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry,s=a.vertices,c=a.faces,u=0,h=0,l=c.length;h<l;h++){var f=c[h],p=f.normal;t.copy(s[f.a]).add(s[f.b]).add(s[f.c]).divideScalar(3).applyMatrix4(i),e.copy(p).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(u,t.x,t.y,t.z),u+=1,o.setXYZ(u,e.x,e.y,e.z),u+=1}o.needsUpdate=!0}}(),DirectionalLightHelper.prototype=Object.create(Object3D.prototype),DirectionalLightHelper.prototype.constructor=DirectionalLightHelper,DirectionalLightHelper.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},DirectionalLightHelper.prototype.update=function(){var t=new Vector3,e=new Vector3,n=new Vector3;return function r(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var i=this.children[0],o=this.children[1];i.lookAt(n),i.material.color.copy(this.light.color),o.lookAt(n),o.scale.z=n.length()}}(),CameraHelper.prototype=Object.create(LineSegments.prototype),CameraHelper.prototype.constructor=CameraHelper,CameraHelper.prototype.update=function(){function t(t,o,a,s){r.set(o,a,s).unproject(i);var c=n[t];if(void 0!==c)for(var u=e.getAttribute("position"),h=0,l=c.length;h<l;h++)u.setXYZ(c[h],r.x,r.y,r.z)}var e,n,r=new Vector3,i=new Camera;return function r(){e=this.geometry,n=this.pointMap;var o=1,a=1;i.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),BoxHelper.prototype=Object.create(LineSegments.prototype),BoxHelper.prototype.constructor=BoxHelper,BoxHelper.prototype.update=function(){var t=new Box3;return function e(n){if(void 0!==n&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var r=t.min,i=t.max,o=this.geometry.attributes.position,a=o.array;a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=r.x,a[4]=i.y,a[5]=i.z,a[6]=r.x,a[7]=r.y,a[8]=i.z,a[9]=i.x,a[10]=r.y,a[11]=i.z,a[12]=i.x,a[13]=i.y,a[14]=r.z,a[15]=r.x,a[16]=i.y,a[17]=r.z,a[18]=r.x,a[19]=r.y,a[20]=r.z,a[21]=i.x,a[22]=r.y,a[23]=r.z,o.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),BoxHelper.prototype.setFromObject=function(t){return this.object=t,this.update(),this};var sr,cr;ArrowHelper.prototype=Object.create(Object3D.prototype),ArrowHelper.prototype.constructor=ArrowHelper,ArrowHelper.prototype.setDirection=function(){var t=new Vector3,e;return function n(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(r.z,0,-r.x).normalize(),e=Math.acos(r.y),this.quaternion.setFromAxisAngle(t,e))}}(),ArrowHelper.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},ArrowHelper.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},AxisHelper.prototype=Object.create(LineSegments.prototype),AxisHelper.prototype.constructor=AxisHelper;var ur=new Vector3,hr=new Nt,lr=new Nt,fr=new Nt;CatmullRomCurve3.prototype=Object.create(Curve.prototype),CatmullRomCurve3.prototype.constructor=CatmullRomCurve3,CatmullRomCurve3.prototype.getPoint=function(t){var e=this.points,n=e.length;n<2&&console.log("duh, you need at least 2 points");var r=(n-(this.closed?0:1))*t,i=Math.floor(r),o=r-i;this.closed?i+=i>0?0:(Math.floor(Math.abs(i)/e.length)+1)*e.length:0===o&&i===n-1&&(i=n-2,o=1);var a,s,c,u;if(this.closed||i>0?a=e[(i-1)%n]:(ur.subVectors(e[0],e[1]).add(e[0]),a=ur),s=e[i%n],c=e[(i+1)%n],this.closed||i+2<n?u=e[(i+2)%n]:(ur.subVectors(e[n-1],e[n-2]).add(e[n-1]),u=ur),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var h="chordal"===this.type?.5:.25,l=Math.pow(a.distanceToSquared(s),h),f=Math.pow(s.distanceToSquared(c),h),p=Math.pow(c.distanceToSquared(u),h);f<1e-4&&(f=1),l<1e-4&&(l=f),p<1e-4&&(p=f),hr.initNonuniformCatmullRom(a.x,s.x,c.x,u.x,l,f,p),lr.initNonuniformCatmullRom(a.y,s.y,c.y,u.y,l,f,p),fr.initNonuniformCatmullRom(a.z,s.z,c.z,u.z,l,f,p)}else if("catmullrom"===this.type){var d=void 0!==this.tension?this.tension:.5;hr.initCatmullRom(a.x,s.x,c.x,u.x,d),lr.initCatmullRom(a.y,s.y,c.y,u.y,d),fr.initCatmullRom(a.z,s.z,c.z,u.z,d)}return new Vector3(hr.calc(o),lr.calc(o),fr.calc(o))},CubicBezierCurve3.prototype=Object.create(Curve.prototype),CubicBezierCurve3.prototype.constructor=CubicBezierCurve3,CubicBezierCurve3.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new Vector3(Lt(t,e.x,n.x,r.x,i.x),Lt(t,e.y,n.y,r.y,i.y),Lt(t,e.z,n.z,r.z,i.z))},QuadraticBezierCurve3.prototype=Object.create(Curve.prototype),QuadraticBezierCurve3.prototype.constructor=QuadraticBezierCurve3,QuadraticBezierCurve3.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new Vector3(Et(t,e.x,n.x,r.x),Et(t,e.y,n.y,r.y),Et(t,e.z,n.z,r.z))},LineCurve3.prototype=Object.create(Curve.prototype),LineCurve3.prototype.constructor=LineCurve3,LineCurve3.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new Vector3;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},ArcCurve.prototype=Object.create(EllipseCurve.prototype),ArcCurve.prototype.constructor=ArcCurve;var SceneUtils={createMultiMaterialObject:function(t,e){for(var n=new Group,r=0,i=e.length;r<i;r++)n.add(new Mesh(t,e[r]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var r=new Matrix4;r.getInverse(n.matrixWorld),t.applyMatrix(r),e.remove(t),n.add(t)}},LineStrip=0,LinePieces=1;Curve.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Curve.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},ClosedSplineCurve3.prototype=Object.create(CatmullRomCurve3.prototype),SplineCurve3.prototype=Object.create(CatmullRomCurve3.prototype),Spline.prototype=Object.create(CatmullRomCurve3.prototype),Object.assign(Spline.prototype,{initFromArray:function(t){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(t){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(t){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(Box2.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Box3.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Line3.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Ut.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(Matrix3.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Matrix4.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function e(){return void 0===t&&(t=new Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)}}),Plane.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Quaternion.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Ray.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Shape.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ExtrudeGeometry(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ShapeGeometry(this,t)}}),Object.assign(Vector2.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(Vector4.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Geometry.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(Object3D.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(LOD.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Skeleton.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Curve.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),PerspectiveCamera.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(BufferGeometry.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Uniform.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Material.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Color}}}),Object.defineProperties(MeshPhongMaterial.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(WebGLRenderer.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \'OES_texture_float\' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \'OES_texture_half_float\' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \'OES_standard_derivatives\' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \'WEBGL_compressed_texture_s3tc\' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \'WEBGL_compressed_texture_pvrtc\' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \'EXT_blend_minmax\' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \'ANGLE_instanced_arrays\' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(B.prototype,{cullFace:{get:function(){return this.renderReverseSided?CullFaceFront:CullFaceBack},set:function(t){var e=t!==CullFaceBack;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Audio.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new AudioLoader).load(t,function(t){e.setBuffer(t)}),this},AudioAnalyser.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};var GeometryUtils={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},ImageUtils={crossOrigin:void 0,loadTexture:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new TextureLoader;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new CubeTextureLoader;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}}}]);\n//# sourceMappingURL=88f2f88da04d25590d99.worker.js.map',null)}},function(t,e,n){t.exports=function(){return n(126)('!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function n(){return t.default}:function n(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/",n(n.s=133)}([function(t,n,e){var r=e(2),i=e(18),o=e(11),a=e(12),u=e(19),s="prototype",c=function(t,n,e){var f=t&c.F,l=t&c.G,h=t&c.S,d=t&c.P,v=t&c.B,p=l?r:h?r[n]||(r[n]={}):(r[n]||{})[s],_=l?i:i[n]||(i[n]={}),g=_[s]||(_[s]={}),y,b,w,m;l&&(e=n);for(y in e)b=!f&&p&&void 0!==p[y],w=(b?p:e)[y],m=v&&b?u(w,r):d&&"function"==typeof w?u(Function.call,w):w,p&&a(p,y,w,t&c.U),_[y]!=w&&o(_,y,m),d&&g[y]!=w&&(g[y]=w)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n,e){var r=e(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,n,e){var r=e(50)("wks"),i=e(34),o=e(2).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,n,e){t.exports=!e(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,e){var r=e(1),i=e(93),o=e(22),a=Object.defineProperty;n.f=e(6)?Object.defineProperty:function t(n,e,u){if(r(n),e=o(e,!0),r(u),i)try{return a(n,e,u)}catch(t){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(n[e]=u.value),n}},function(t,n,e){var r=e(24),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,n,e){var r=e(23);t.exports=function(t){return Object(r(t))}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var r=e(7),i=e(33);t.exports=e(6)?function(t,n,e){return r.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(2),i=e(11),o=e(14),a=e(34)("src"),u="toString",s=Function[u],c=(""+s).split(u);e(18).inspectSource=function(t){return s.call(t)},(t.exports=function(t,n,e,u){var s="function"==typeof e;s&&(o(e,"name")||i(e,"name",n)),t[n]!==e&&(s&&(o(e,a)||i(e,a,t[n]?""+t[n]:c.join(String(n)))),t===r?t[n]=e:u?t[n]?t[n]=e:i(t,n,e):(delete t[n],i(t,n,e)))})(Function.prototype,u,function t(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,n,e){var r=e(0),i=e(3),o=e(23),a=/"/g,u=function(t,n,e,r){var i=String(o(t)),u="<"+n;return""!==e&&(u+=" "+e+\'="\'+String(r).replace(a,"&quot;")+\'"\'),u+">"+i+"</"+n+">"};t.exports=function(t,n){var e={};e[t]=n(u),r(r.P+r.F*i(function(){var n=""[t](\'"\');return n!==n.toLowerCase()||n.split(\'"\').length>3}),"String",e)}},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var r=e(47),i=e(23);t.exports=function(t){return r(i(t))}},function(t,n,e){var r=e(48),i=e(33),o=e(15),a=e(22),u=e(14),s=e(93),c=Object.getOwnPropertyDescriptor;n.f=e(6)?c:function t(n,e){if(n=o(n),e=a(e,!0),s)try{return c(n,e)}catch(t){}if(u(n,e))return i(!r.f.call(n,e),n[e])}},function(t,n,e){var r=e(14),i=e(9),o=e(67)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,n){var e=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)},function(t,n,e){var r=e(10);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){"use strict";var r=e(3);t.exports=function(t,n){return!!t&&r(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,e){var r=e(4);t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can\'t convert object to primitive value")}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can\'t call method on  "+t);return t}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(0),i=e(18),o=e(3);t.exports=function(t,n){var e=(i.Object||{})[t]||Object[t],a={};a[t]=n(e),r(r.S+r.F*o(function(){e(1)}),"Object",a)}},function(t,n,e){var r=e(19),i=e(47),o=e(9),a=e(8),u=e(84);t.exports=function(t,n){var e=1==t,s=2==t,c=3==t,f=4==t,l=6==t,h=5==t||l,d=n||u;return function(n,u,v){for(var p=o(n),_=i(p),g=r(u,v,3),y=a(_.length),b=0,w=e?d(n,y):s?d(n,0):void 0,m,x;y>b;b++)if((h||b in _)&&(m=_[b],x=g(m,b,p),t))if(e)w[b]=x;else if(x)switch(t){case 3:return!0;case 5:return m;case 6:return b;case 2:w.push(m)}else if(f)return!1;return l?-1:c||f?f:w}}},function(t,n,e){"use strict";if(e(6)){var r=e(30),i=e(2),o=e(3),a=e(0),u=e(61),s=e(90),c=e(19),f=e(40),l=e(33),h=e(11),d=e(42),v=e(24),p=e(8),_=e(119),g=e(36),y=e(22),b=e(14),w=e(49),m=e(4),x=e(9),S=e(81),k=e(37),E=e(17),O=e(38).f,M=e(83),A=e(34),F=e(5),P=e(26),N=e(51),I=e(58),T=e(86),z=e(45),R=e(55),j=e(39),L=e(85),B=e(109),C=e(7),D=e(16),U=C.f,G=D.f,Z=i.RangeError,W=i.TypeError,V=i.Uint8Array,H="ArrayBuffer",K="SharedArrayBuffer",Y="BYTES_PER_ELEMENT",J="prototype",q=Array[J],X=s.ArrayBuffer,$=s.DataView,Q=P(0),tt=P(2),nt=P(3),et=P(4),rt=P(5),it=P(6),ot=N(!0),at=N(!1),ut=T.values,st=T.keys,ct=T.entries,ft=q.lastIndexOf,lt=q.reduce,ht=q.reduceRight,dt=q.join,vt=q.sort,pt=q.slice,_t=q.toString,gt=q.toLocaleString,yt=F("iterator"),bt=F("toStringTag"),wt=A("typed_constructor"),mt=A("def_constructor"),xt=u.CONSTR,St=u.TYPED,kt=u.VIEW,Et="Wrong length!",Ot=P(1,function(t,n){return Nt(I(t,t[mt]),n)}),Mt=o(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),At=!!V&&!!V[J].set&&o(function(){new V(1).set({})}),Ft=function(t,n){var e=v(t);if(e<0||e%n)throw Z("Wrong offset!");return e},Pt=function(t){if(m(t)&&St in t)return t;throw W(t+" is not a typed array!")},Nt=function(t,n){if(!(m(t)&&wt in t))throw W("It is not a typed array constructor!");return new t(n)},It=function(t,n){return Tt(I(t,t[mt]),n)},Tt=function(t,n){for(var e=0,r=n.length,i=Nt(t,r);r>e;)i[e]=n[e++];return i},zt=function(t,n,e){U(t,n,{get:function(){return this._d[e]}})},Rt=function t(n){var e=x(n),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i,a=M(e),u,s,f,l,h,d;if(void 0!=a&&!S(a)){for(d=a.call(e),f=[],u=0;!(h=d.next()).done;u++)f.push(h.value);e=f}for(o&&r>2&&(i=c(i,arguments[2],2)),u=0,s=p(e.length),l=Nt(this,s);s>u;u++)l[u]=o?i(e[u],u):e[u];return l},jt=function t(){for(var n=0,e=arguments.length,r=Nt(this,e);e>n;)r[n]=arguments[n++];return r},Lt=!!V&&o(function(){gt.call(new V(1))}),Bt=function t(){return gt.apply(Lt?pt.call(Pt(this)):Pt(this),arguments)},Ct={copyWithin:function t(n,e){return B.call(Pt(this),n,e,arguments.length>2?arguments[2]:void 0)},every:function t(n){return et(Pt(this),n,arguments.length>1?arguments[1]:void 0)},fill:function t(n){return L.apply(Pt(this),arguments)},filter:function t(n){return It(this,tt(Pt(this),n,arguments.length>1?arguments[1]:void 0))},find:function t(n){return rt(Pt(this),n,arguments.length>1?arguments[1]:void 0)},findIndex:function t(n){return it(Pt(this),n,arguments.length>1?arguments[1]:void 0)},forEach:function t(n){Q(Pt(this),n,arguments.length>1?arguments[1]:void 0)},indexOf:function t(n){return at(Pt(this),n,arguments.length>1?arguments[1]:void 0)},includes:function t(n){return ot(Pt(this),n,arguments.length>1?arguments[1]:void 0)},join:function t(n){return dt.apply(Pt(this),arguments)},lastIndexOf:function t(n){return ft.apply(Pt(this),arguments)},map:function t(n){return Ot(Pt(this),n,arguments.length>1?arguments[1]:void 0)},reduce:function t(n){return lt.apply(Pt(this),arguments)},reduceRight:function t(n){return ht.apply(Pt(this),arguments)},reverse:function t(){for(var n=this,e=Pt(n).length,r=Math.floor(e/2),i=0,o;i<r;)o=n[i],n[i++]=n[--e],n[e]=o;return n},some:function t(n){return nt(Pt(this),n,arguments.length>1?arguments[1]:void 0)},sort:function t(n){return vt.call(Pt(this),n)},subarray:function t(n,e){var r=Pt(this),i=r.length,o=g(n,i);return new(I(r,r[mt]))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,p((void 0===e?i:g(e,i))-o))}},Dt=function t(n,e){return It(this,pt.call(Pt(this),n,e))},Ut=function t(n){Pt(this);var e=Ft(arguments[1],1),r=this.length,i=x(n),o=p(i.length),a=0;if(o+e>r)throw Z(Et);for(;a<o;)this[e+a]=i[a++]},Gt={entries:function t(){return ct.call(Pt(this))},keys:function t(){return st.call(Pt(this))},values:function t(){return ut.call(Pt(this))}},Zt=function(t,n){return m(t)&&t[St]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Wt=function t(n,e){return Zt(n,e=y(e,!0))?l(2,n[e]):G(n,e)},Vt=function t(n,e,r){return!(Zt(n,e=y(e,!0))&&m(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?U(n,e,r):(n[e]=r.value,n)};xt||(D.f=Wt,C.f=Vt),a(a.S+a.F*!xt,"Object",{getOwnPropertyDescriptor:Wt,defineProperty:Vt}),o(function(){_t.call({})})&&(_t=gt=function t(){return dt.call(this)});var Ht=d({},Ct);d(Ht,Gt),h(Ht,yt,Gt.values),d(Ht,{slice:Dt,set:Ut,constructor:function(){},toString:_t,toLocaleString:Bt}),zt(Ht,"buffer","b"),zt(Ht,"byteOffset","o"),zt(Ht,"byteLength","l"),zt(Ht,"length","e"),U(Ht,bt,{get:function(){return this[St]}}),t.exports=function(t,n,e,s){s=!!s;var c=t+(s?"Clamped":"")+"Array",l="get"+t,d="set"+t,v=i[c],g=v||{},y=v&&E(v),b=!v||!u.ABV,x={},S=v&&v[J],M=function(t,e){var r=t._d;return r.v[l](e*n+r.o,Mt)},A=function(t,e,r){var i=t._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](e*n+i.o,r,Mt)},F=function(t,n){U(t,n,{get:function(){return M(this,n)},set:function(t){return A(this,n,t)},enumerable:!0})};b?(v=e(function(t,e,r,i){f(t,v,c,"_d");var o=0,a=0,u,s,l,d;if(m(e)){if(!(e instanceof X||(d=w(e))==H||d==K))return St in e?Tt(v,e):Rt.call(v,e);u=e,a=Ft(r,n);var g=e.byteLength;if(void 0===i){if(g%n)throw Z(Et);if((s=g-a)<0)throw Z(Et)}else if((s=p(i)*n)+a>g)throw Z(Et);l=s/n}else l=_(e),s=l*n,u=new X(s);for(h(t,"_d",{b:u,o:a,l:s,e:l,v:new $(u)});o<l;)F(t,o++)}),S=v[J]=k(Ht),h(S,"constructor",v)):o(function(){v(1)})&&o(function(){new v(-1)})&&R(function(t){new v,new v(null),new v(1.5),new v(t)},!0)||(v=e(function(t,e,r,i){f(t,v,c);var o;return m(e)?e instanceof X||(o=w(e))==H||o==K?void 0!==i?new g(e,Ft(r,n),i):void 0!==r?new g(e,Ft(r,n)):new g(e):St in e?Tt(v,e):Rt.call(v,e):new g(_(e))}),Q(y!==Function.prototype?O(g).concat(O(y)):O(g),function(t){t in v||h(v,t,g[t])}),v[J]=S,r||(S.constructor=v));var P=S[yt],N=!!P&&("values"==P.name||void 0==P.name),I=Gt.values;h(v,wt,!0),h(S,St,c),h(S,kt,!0),h(S,mt,v),(s?new v(1)[bt]==c:bt in S)||U(S,bt,{get:function(){return c}}),x[c]=v,a(a.G+a.W+a.F*(v!=g),x),a(a.S,c,{BYTES_PER_ELEMENT:n}),a(a.S+a.F*o(function(){g.of.call(v,1)}),c,{from:Rt,of:jt}),Y in S||h(S,Y,n),a(a.P,c,Ct),j(c),a(a.P+a.F*At,c,{set:Ut}),a(a.P+a.F*!N,c,Gt),r||S.toString==_t||(S.toString=_t),a(a.P+a.F*o(function(){new v(1).slice()}),c,{slice:Dt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()})||!o(function(){S.toLocaleString.call([1,2])})),c,{toLocaleString:Bt}),z[c]=N?P:I,r||N||h(S,yt,I)}}else t.exports=function(){}},function(t,n,e){var r=e(114),i=e(0),o=e(50)("metadata"),a=o.store||(o.store=new(e(117))),u=function(t,n,e){var i=a.get(t);if(!i){if(!e)return;a.set(t,i=new r)}var o=i.get(n);if(!o){if(!e)return;i.set(n,o=new r)}return o},s=function(t,n,e){var r=u(n,e,!1);return void 0!==r&&r.has(t)},c=function(t,n,e){var r=u(n,e,!1);return void 0===r?void 0:r.get(t)},f=function(t,n,e,r){u(e,r,!0).set(t,n)},l=function(t,n){var e=u(t,n,!1),r=[];return e&&e.forEach(function(t,n){r.push(n)}),r},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},d=function(t){i(i.S,"Reflect",t)};t.exports={store:a,map:u,has:s,get:c,set:f,keys:l,key:h,exp:d}},function(t,n,e){var r=e(34)("meta"),i=e(4),o=e(14),a=e(7).f,u=0,s=Object.isExtensible||function(){return!0},c=!e(3)(function(){return s(Object.preventExtensions({}))}),f=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!s(t))return"F";if(!n)return"E";f(t)}return t[r].i},h=function(t,n){if(!o(t,r)){if(!s(t))return!0;if(!n)return!1;f(t)}return t[r].w},d=function(t){return c&&v.NEED&&s(t)&&!o(t,r)&&f(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:h,onFreeze:d}},function(t,n){t.exports=!1},function(t,n,e){var r=e(5)("unscopables"),i=Array.prototype;void 0==i[r]&&e(11)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,n,e){"use strict";function r(t,n){return Object.prototype.hasOwnProperty.call(t,n)}var i="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;n.assign=function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var e=n.shift();if(e){if("object"!==typeof e)throw new TypeError(e+"must be non-object");for(var i in e)r(e,i)&&(t[i]=e[i])}}return t},n.shrinkBuf=function(t,n){return t.length===n?t:t.subarray?t.subarray(0,n):(t.length=n,t)};var o={arraySet:function(t,n,e,r,i){if(n.subarray&&t.subarray)return void t.set(n.subarray(e,e+r),i);for(var o=0;o<r;o++)t[i+o]=n[e+o]},flattenChunks:function(t){var n,e,r,i,o,a;for(r=0,n=0,e=t.length;n<e;n++)r+=t[n].length;for(a=new Uint8Array(r),i=0,n=0,e=t.length;n<e;n++)o=t[n],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,n,e,r,i){for(var o=0;o<r;o++)t[i+o]=n[e+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(i)},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n,e){var r=e(95),i=e(68);t.exports=Object.keys||function t(n){return r(n,i)}},function(t,n,e){var r=e(24),i=Math.max,o=Math.min;t.exports=function(t,n){return t=r(t),t<0?i(t+n,0):o(t,n)}},function(t,n,e){var r=e(1),i=e(96),o=e(68),a=e(67)("IE_PROTO"),u=function(){},s="prototype",c=function(){var t=e(65)("iframe"),n=o.length,r="<",i=">",a;for(t.style.display="none",e(69).appendChild(t),t.src="javascript:",a=t.contentWindow.document,a.open(),a.write("<script>document.F=Object<\\/script>"),a.close(),c=a.F;n--;)delete c[s][o[n]];return c()};t.exports=Object.create||function t(n,e){var o;return null!==n?(u[s]=r(n),o=new u,u[s]=null,o[a]=n):o=c(),void 0===e?o:i(o,e)}},function(t,n,e){var r=e(95),i=e(68).concat("length","prototype");n.f=Object.getOwnPropertyNames||function t(n){return r(n,i)}},function(t,n,e){"use strict";var r=e(2),i=e(7),o=e(6),a=e(5)("species");t.exports=function(t){var n=r[t];o&&n&&!n[a]&&i.f(n,a,{configurable:!0,get:function(){return this}})}},function(t,n){t.exports=function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!");return t}},function(t,n,e){var r=e(19),i=e(107),o=e(81),a=e(1),u=e(8),s=e(83),c={},f={},n=t.exports=function(t,n,e,l,h){var d=h?function(){return t}:s(t),v=r(e,l,n?2:1),p=0,_,g,y,b;if("function"!=typeof d)throw TypeError(t+" is not iterable!");if(o(d)){for(_=u(t.length);_>p;p++)if((b=n?v(a(g=t[p])[0],g[1]):v(t[p]))===c||b===f)return b}else for(y=d.call(t);!(g=y.next()).done;)if((b=i(y,v,g.value,n))===c||b===f)return b};n.BREAK=c,n.RETURN=f},function(t,n,e){var r=e(12);t.exports=function(t,n,e){for(var i in n)r(t,i,n[i],e);return t}},function(t,n,e){var r=e(7).f,i=e(14),o=e(5)("toStringTag");t.exports=function(t,n,e){t&&!i(t=e?t:t.prototype,o)&&r(t,o,{configurable:!0,value:n})}},function(t,n,e){var r=e(0),i=e(23),o=e(3),a=e(71),u="["+a+"]",s="\\u200b\\x85",c=RegExp("^"+u+u+"*"),f=RegExp(u+u+"*$"),l=function(t,n,e){var i={},u=o(function(){return!!a[t]()||s[t]()!=s}),c=i[t]=u?n(h):a[t];e&&(i[e]=c),r(r.P+r.F*u,"String",i)},h=l.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(c,"")),2&n&&(t=t.replace(f,"")),t};t.exports=l},function(t,n){t.exports={}},function(t,n,e){var r=e(4);t.exports=function(t,n){if(!r(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},function(t,n,e){var r=e(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(20),i=e(5)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,n){try{return t[n]}catch(t){}};t.exports=function(t){var n,e,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=a(n=Object(t),i))?e:o?r(n):"Object"==(u=r(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n,e){var r=e(18),i=e(2),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,n){return a[t]||(a[t]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:e(30)?"pure":"global",copyright:"\\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(t,n,e){var r=e(15),i=e(8),o=e(36);t.exports=function(t){return function(n,e,a){var u=r(n),s=i(u.length),c=o(a,s),f;if(t&&e!=e){for(;s>c;)if((f=u[c++])!=f)return!0}else for(;s>c;c++)if((t||c in u)&&u[c]===e)return t||c||0;return!t&&-1}}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(20);t.exports=Array.isArray||function t(n){return"Array"==r(n)}},function(t,n,e){var r=e(4),i=e(20),o=e(5)("match");t.exports=function(t){var n;return r(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},function(t,n,e){var r=e(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!i)return!1;var e=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:e=!0}},o[r]=function(){return a},t(o)}catch(t){}return e}},function(t,n,e){"use strict";var r=e(1);t.exports=function(){var t=r(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n,e){"use strict";var r=e(11),i=e(12),o=e(3),a=e(23),u=e(5);t.exports=function(t,n,e){var s=u(t),c=e(a,s,""[t]),f=c[0],l=c[1];o(function(){var n={};return n[s]=function(){return 7},7!=""[t](n)})&&(i(String.prototype,t,f),r(RegExp.prototype,s,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}},function(t,n,e){var r=e(1),i=e(10),o=e(5)("species");t.exports=function(t,n){var e=r(t).constructor,a;return void 0===e||void 0==(a=r(e)[o])?n:i(a)}},function(t,n,e){var r=e(2),i=r.navigator;t.exports=i&&i.userAgent||""},function(t,n,e){"use strict";var r=e(2),i=e(0),o=e(12),a=e(42),u=e(29),s=e(41),c=e(40),f=e(4),l=e(3),h=e(55),d=e(43),v=e(72);t.exports=function(t,n,e,p,_,g){var y=r[t],b=y,w=_?"set":"add",m=b&&b.prototype,x={},S=function(t){var n=m[t];o(m,t,"delete"==t?function(t){return!(g&&!f(t))&&n.call(this,0===t?0:t)}:"has"==t?function t(e){return!(g&&!f(e))&&n.call(this,0===e?0:e)}:"get"==t?function t(e){return g&&!f(e)?void 0:n.call(this,0===e?0:e)}:"add"==t?function t(e){return n.call(this,0===e?0:e),this}:function t(e,r){return n.call(this,0===e?0:e,r),this})};if("function"==typeof b&&(g||m.forEach&&!l(function(){(new b).entries().next()}))){var k=new b,E=k[w](g?{}:-0,1)!=k,O=l(function(){k.has(1)}),M=h(function(t){new b(t)}),A=!g&&l(function(){for(var t=new b,n=5;n--;)t[w](n,n);return!t.has(-0)});M||(b=n(function(n,e){c(n,b,t);var r=v(new y,n,b);return void 0!=e&&s(e,_,r[w],r),r}),b.prototype=m,m.constructor=b),(O||A)&&(S("delete"),S("has"),_&&S("get")),(A||E)&&S(w),g&&m.clear&&delete m.clear}else b=p.getConstructor(n,t,_,w),a(b.prototype,e),u.NEED=!0;return d(b,t),x[t]=b,i(i.G+i.W+i.F*(b!=y),x),g||p.setStrong(b,t,_),b}},function(t,n,e){for(var r=e(2),i=e(11),o=e(34),a=o("typed_array"),u=o("view"),s=!(!r.ArrayBuffer||!r.DataView),c=s,f=0,l=9,h,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(h=r[d[f++]])?(i(h.prototype,a,!0),i(h.prototype,u,!0)):c=!1;t.exports={ABV:s,CONSTR:c,TYPED:a,VIEW:u}},function(t,n,e){"use strict";t.exports=e(30)||!e(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete e(2)[t]})},function(t,n,e){"use strict";var r=e(0);t.exports=function(t){r(r.S,t,{of:function t(){for(var n=arguments.length,e=new Array(n);n--;)e[n]=arguments[n];return new this(e)}})}},function(t,n,e){"use strict";var r=e(0),i=e(10),o=e(19),a=e(41);t.exports=function(t){r(r.S,t,{from:function t(n){var e=arguments[1],r,u,s,c;return i(this),r=void 0!==e,r&&i(e),void 0==n?new this:(u=[],r?(s=0,c=o(e,arguments[2],2),a(n,!1,function(t){u.push(c(t,s++))})):a(n,!1,u.push,u),new this(u))}})}},function(t,n,e){var r=e(4),i=e(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,e){var r=e(2),i=e(18),o=e(30),a=e(94),u=e(7).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||u(n,t,{value:a.f(t)})}},function(t,n,e){var r=e(50)("keys"),i=e(34);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){var r=e(2).document;t.exports=r&&r.documentElement},function(t,n,e){var r=e(4),i=e(1),o=function(t,n){if(i(t),!r(n)&&null!==n)throw TypeError(n+": can\'t set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=e(19)(Function.call,e(16).f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function t(e,i){return o(e,i),n?e.__proto__=i:r(e,i),e}}({},!1):void 0),check:o}},function(t,n){t.exports="\\t\\n\\v\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff"},function(t,n,e){var r=e(4),i=e(70).set;t.exports=function(t,n,e){var o=n.constructor,a;return o!==e&&"function"==typeof o&&(a=o.prototype)!==e.prototype&&r(a)&&i&&i(t,a),t}},function(t,n,e){"use strict";var r=e(24),i=e(23);t.exports=function t(n){var e=String(i(this)),o="",a=r(n);if(a<0||a==1/0)throw RangeError("Count can\'t be negative");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(o+=e);return o}},function(t,n){t.exports=Math.sign||function t(n){return 0==(n=+n)||n!=n?n:n<0?-1:1}},function(t,n){var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function t(n){return 0==(n=+n)?n:n>-1e-6&&n<1e-6?n+n*n/2:Math.exp(n)-1}:e},function(t,n,e){var r=e(24),i=e(23);t.exports=function(t){return function(n,e){var o=String(i(n)),a=r(e),u=o.length,s,c;return a<0||a>=u?t?"":void 0:(s=o.charCodeAt(a),s<55296||s>56319||a+1===u||(c=o.charCodeAt(a+1))<56320||c>57343?t?o.charAt(a):s:t?o.slice(a,a+2):c-56320+(s-55296<<10)+65536)}}},function(t,n,e){"use strict";var r=e(30),i=e(0),o=e(12),a=e(11),u=e(45),s=e(78),c=e(43),f=e(17),l=e(5)("iterator"),h=!([].keys&&"next"in[].keys()),d="keys",v="values",p=function(){return this};t.exports=function(t,n,e,_,g,y,b){s(e,n,_);var w=function(t){if(!h&&t in k)return k[t];switch(t){case d:return function n(){return new e(this,t)};case v:return function n(){return new e(this,t)}}return function n(){return new e(this,t)}},m=n+" Iterator",x=g==v,S=!1,k=t.prototype,E=k[l]||k["@@iterator"]||g&&k[g],O=E||w(g),M=g?x?w("entries"):O:void 0,A="Array"==n?k.entries||E:E,F,P,N;if(A&&(N=f(A.call(new t)))!==Object.prototype&&N.next&&(c(N,m,!0),r||"function"==typeof N[l]||a(N,l,p)),x&&E&&E.name!==v&&(S=!0,O=function t(){return E.call(this)}),r&&!b||!h&&!S&&k[l]||a(k,l,O),u[n]=O,u[m]=p,g)if(F={values:x?O:w(v),keys:y?O:w(d),entries:M},b)for(P in F)P in k||o(k,P,F[P]);else i(i.P+i.F*(h||S),n,F);return F}},function(t,n,e){"use strict";var r=e(37),i=e(33),o=e(43),a={};e(11)(a,e(5)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(a,{next:i(1,e)}),o(t,n+" Iterator")}},function(t,n,e){var r=e(54),i=e(23);t.exports=function(t,n,e){if(r(n))throw TypeError("String#"+e+" doesn\'t accept regex!");return String(i(t))}},function(t,n,e){var r=e(5)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,e){var r=e(45),i=e(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,n,e){"use strict";var r=e(7),i=e(33);t.exports=function(t,n,e){n in t?r.f(t,n,i(0,e)):t[n]=e}},function(t,n,e){var r=e(49),i=e(5)("iterator"),o=e(45);t.exports=e(18).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,n,e){var r=e(226);t.exports=function(t,n){return new(r(t))(n)}},function(t,n,e){"use strict";var r=e(9),i=e(36),o=e(8);t.exports=function t(n){for(var e=r(this),a=o(e.length),u=arguments.length,s=i(u>1?arguments[1]:void 0,a),c=u>2?arguments[2]:void 0,f=void 0===c?a:i(c,a);f>s;)e[s++]=n;return e}},function(t,n,e){"use strict";var r=e(31),i=e(110),o=e(45),a=e(15);t.exports=e(77)(Array,"Array",function(t,n){this._t=a(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,e):"values"==n?i(0,t[e]):i(0,[e,t[e]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,n,e){var r=e(19),i=e(100),o=e(69),a=e(65),u=e(2),s=u.process,c=u.setImmediate,f=u.clearImmediate,l=u.MessageChannel,h=u.Dispatch,d=0,v={},p="onreadystatechange",_,g,y,b=function(){var t=+this;if(v.hasOwnProperty(t)){var n=v[t];delete v[t],n()}},w=function(t){b.call(t.data)};c&&f||(c=function t(n){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return v[++d]=function(){i("function"==typeof n?n:Function(n),e)},_(d),d},f=function t(n){delete v[n]},"process"==e(20)(s)?_=function(t){s.nextTick(r(b,t,1))}:h&&h.now?_=function(t){h.now(r(b,t,1))}:l?(g=new l,y=g.port2,g.port1.onmessage=w,_=r(y.postMessage,y,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(_=function(t){u.postMessage(t+"","*")},u.addEventListener("message",w,!1)):_=p in a("script")?function(t){o.appendChild(a("script"))[p]=function(){o.removeChild(this),b.call(t)}}:function(t){setTimeout(r(b,t,1),0)}),t.exports={set:c,clear:f}},function(t,n,e){var r=e(2),i=e(87).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==e(20)(a);t.exports=function(){var t,n,e,c=function(){var r,i;for(s&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?e():n=void 0,r}}n=void 0,r&&r.enter()};if(s)e=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var f=u.resolve(void 0);e=function(){f.then(c)}}else e=function(){i.call(r,c)};else{var l=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),e=function(){h.data=l=!l}}return function(r){var i={fn:r,next:void 0};n&&(n.next=i),t||(t=i,e()),n=i}}},function(t,n,e){"use strict";function r(t){var n,e;this.promise=new t(function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r}),this.resolve=i(n),this.reject=i(e)}var i=e(10);t.exports.f=function(t){return new r(t)}},function(t,n,e){"use strict";function r(t,n,e){var r=new Array(e),i=8*e-n-1,o=(1<<i)-1,a=o>>1,u=23===n?C(2,-24)-C(2,-77):0,s=0,c=t<0||0===t&&1/t<0?1:0,f,l,h;for(t=B(t),t!=t||t===j?(l=t!=t?1:0,f=o):(f=D(U(t)/G),t*(h=C(2,-f))<1&&(f--,h*=2),t+=f+a>=1?u/h:u*C(2,1-a),t*h>=2&&(f++,h/=2),f+a>=o?(l=0,f=o):f+a>=1?(l=(t*h-1)*C(2,n),f+=a):(l=t*C(2,a-1)*C(2,n),f=0));n>=8;r[s++]=255&l,l/=256,n-=8);for(f=f<<n|l,i+=n;i>0;r[s++]=255&f,f/=256,i-=8);return r[--s]|=128*c,r}function i(t,n,e){var r=8*e-n-1,i=(1<<r)-1,o=i>>1,a=r-7,u=e-1,s=t[u--],c=127&s,f;for(s>>=7;a>0;c=256*c+t[u],u--,a-=8);for(f=c&(1<<-a)-1,c>>=-a,a+=n;a>0;f=256*f+t[u],u--,a-=8);if(0===c)c=1-o;else{if(c===i)return f?NaN:s?-j:j;f+=C(2,n),c-=o}return(s?-1:1)*f*C(2,c-n)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return[255&t]}function u(t){return[255&t,t>>8&255]}function s(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function c(t){return r(t,52,8)}function f(t){return r(t,23,4)}function l(t,n,e){O(t[N],n,{get:function(){return this[e]}})}function h(t,n,e,r){var i=+e,o=k(i);if(o+n>t[K])throw R(I);var a=t[H]._b,u=o+t[Y],s=a.slice(u,u+n);return r?s:s.reverse()}function d(t,n,e,r,i,o){var a=+e,u=k(a);if(u+n>t[K])throw R(I);for(var s=t[H]._b,c=u+t[Y],f=r(+i),l=0;l<n;l++)s[c+l]=f[o?l:n-l-1]}var v=e(2),p=e(6),_=e(30),g=e(61),y=e(11),b=e(42),w=e(3),m=e(40),x=e(24),S=e(8),k=e(119),E=e(38).f,O=e(7).f,M=e(85),A=e(43),F="ArrayBuffer",P="DataView",N="prototype",I="Wrong index!",T=v[F],z=v[P],Math=v.Math,R=v.RangeError,j=v.Infinity,L=T,B=Math.abs,C=Math.pow,D=Math.floor,U=Math.log,G=Math.LN2,Z="buffer",W="byteLength",V="byteOffset",H=p?"_b":Z,K=p?"_l":W,Y=p?"_o":V;if(g.ABV){if(!w(function(){T(1)})||!w(function(){new T(-1)})||w(function(){return new T,new T(1.5),new T(NaN),T.name!=F})){T=function t(n){return m(this,T),new L(k(n))};for(var J=T[N]=L[N],q=E(L),X=0,$;q.length>X;)($=q[X++])in T||y(T,$,L[$]);_||(J.constructor=T)}var Q=new z(new T(2)),tt=z[N].setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||b(z[N],{setInt8:function t(n,e){tt.call(this,n,e<<24>>24)},setUint8:function t(n,e){tt.call(this,n,e<<24>>24)}},!0)}else T=function t(n){m(this,T,F);var e=k(n);this._b=M.call(new Array(e),0),this[K]=e},z=function t(n,e,r){m(this,z,P),m(n,T,P);var i=n[K],o=x(e);if(o<0||o>i)throw R("Wrong offset!");if(r=void 0===r?i-o:S(r),o+r>i)throw R("Wrong length!");this[H]=n,this[Y]=o,this[K]=r},p&&(l(T,W,"_l"),l(z,Z,"_b"),l(z,W,"_l"),l(z,V,"_o")),b(z[N],{getInt8:function t(n){return h(this,1,n)[0]<<24>>24},getUint8:function t(n){return h(this,1,n)[0]},getInt16:function t(n){var e=h(this,2,n,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function t(n){var e=h(this,2,n,arguments[1]);return e[1]<<8|e[0]},getInt32:function t(n){return o(h(this,4,n,arguments[1]))},getUint32:function t(n){return o(h(this,4,n,arguments[1]))>>>0},getFloat32:function t(n){return i(h(this,4,n,arguments[1]),23,4)},getFloat64:function t(n){return i(h(this,8,n,arguments[1]),52,8)},setInt8:function t(n,e){d(this,1,n,a,e)},setUint8:function t(n,e){d(this,1,n,a,e)},setInt16:function t(n,e){d(this,2,n,u,e,arguments[2])},setUint16:function t(n,e){d(this,2,n,u,e,arguments[2])},setInt32:function t(n,e){d(this,4,n,s,e,arguments[2])},setUint32:function t(n,e){d(this,4,n,s,e,arguments[2])},setFloat32:function t(n,e){d(this,4,n,f,e,arguments[2])},setFloat64:function t(n,e){d(this,8,n,c,e,arguments[2])}});A(T,F),A(z,P),y(z[N],g.VIEW,!0),n[F]=T,n[P]=z},function(t,n,e){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(e=window)}t.exports=e},function(t,n,e){t.exports=!e(6)&&!e(3)(function(){return 7!=Object.defineProperty(e(65)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){n.f=e(5)},function(t,n,e){var r=e(14),i=e(15),o=e(51)(!1),a=e(67)("IE_PROTO");t.exports=function(t,n){var e=i(t),u=0,s=[],c;for(c in e)c!=a&&r(e,c)&&s.push(c);for(;n.length>u;)r(e,c=n[u++])&&(~o(s,c)||s.push(c));return s}},function(t,n,e){var r=e(7),i=e(1),o=e(35);t.exports=e(6)?Object.defineProperties:function t(n,e){i(n);for(var a=o(e),u=a.length,s=0,c;u>s;)r.f(n,c=a[s++],e[c]);return n}},function(t,n,e){var r=e(15),i=e(38).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function t(n){return a&&"[object Window]"==o.call(n)?u(n):i(r(n))}},function(t,n,e){"use strict";var r=e(35),i=e(52),o=e(48),a=e(9),u=e(47),s=Object.assign;t.exports=!s||e(3)(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=s({},t)[e]||Object.keys(s({},n)).join("")!=r})?function t(n,e){for(var s=a(n),c=arguments.length,f=1,l=i.f,h=o.f;c>f;)for(var d=u(arguments[f++]),v=l?r(d).concat(l(d)):r(d),p=v.length,_=0,g;p>_;)h.call(d,g=v[_++])&&(s[g]=d[g]);return s}:s},function(t,n,e){"use strict";var r=e(10),i=e(4),o=e(100),a=[].slice,u={},s=function(t,n,e){if(!(n in u)){for(var r=[],i=0;i<n;i++)r[i]="a["+i+"]";u[n]=Function("F,a","return new F("+r.join(",")+")")}return u[n](t,e)};t.exports=Function.bind||function t(n){var e=r(this),u=a.call(arguments,1),c=function(){var t=u.concat(a.call(arguments));return this instanceof c?s(e,t.length,t):o(e,t,n)};return i(e.prototype)&&(c.prototype=e.prototype),c}},function(t,n){t.exports=function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},function(t,n,e){var r=e(2).parseInt,i=e(44).trim,o=e(71),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function t(n,e){var o=i(String(n),3);return r(o,e>>>0||(a.test(o)?16:10))}:r},function(t,n,e){var r=e(2).parseFloat,i=e(44).trim;t.exports=1/r(e(71)+"-0")!==-1/0?function t(n){var e=i(String(n),3),o=r(e);return 0===o&&"-"==e.charAt(0)?-0:o}:r},function(t,n,e){var r=e(20);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(n);return+t}},function(t,n,e){var r=e(4),i=Math.floor;t.exports=function t(n){return!r(n)&&isFinite(n)&&i(n)===n}},function(t,n){t.exports=Math.log1p||function t(n){return(n=+n)>-1e-8&&n<1e-8?n-n*n/2:Math.log(1+n)}},function(t,n,e){var r=e(74),i=Math.pow,o=i(2,-52),a=i(2,-23),u=i(2,127)*(2-a),s=i(2,-126),c=function(t){return t+1/o-1/o};t.exports=Math.fround||function t(n){var e=Math.abs(n),i=r(n),f,l;return e<s?i*c(e/s/a)*s*a:(f=(1+a/o)*e,l=f-(f-e),l>u||l!=l?i*(1/0):i*l)}},function(t,n,e){var r=e(1);t.exports=function(t,n,e,i){try{return i?n(r(e)[0],e[1]):n(e)}catch(n){var o=t.return;throw void 0!==o&&r(o.call(t)),n}}},function(t,n,e){var r=e(10),i=e(9),o=e(47),a=e(8);t.exports=function(t,n,e,u,s){r(n);var c=i(t),f=o(c),l=a(c.length),h=s?l-1:0,d=s?-1:1;if(e<2)for(;;){if(h in f){u=f[h],h+=d;break}if(h+=d,s?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;s?h>=0:l>h;h+=d)h in f&&(u=n(u,f[h],h,c));return u}},function(t,n,e){"use strict";var r=e(9),i=e(36),o=e(8);t.exports=[].copyWithin||function t(n,e){var a=r(this),u=o(a.length),s=i(n,u),c=i(e,u),f=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===f?u:i(f,u))-c,u-s),h=1;for(c<s&&s<c+l&&(h=-1,c+=l-1,s+=l-1);l-- >0;)c in a?a[s]=a[c]:delete a[s],s+=h,c+=h;return a}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){e(6)&&"g"!=/./g.flags&&e(7).f(RegExp.prototype,"flags",{configurable:!0,get:e(56)})},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,e){var r=e(1),i=e(4),o=e(89);t.exports=function(t,n){if(r(t),i(n)&&n.constructor===t)return n;var e=o.f(t);return(0,e.resolve)(n),e.promise}},function(t,n,e){"use strict";var r=e(115),i=e(46),o="Map";t.exports=e(60)(o,function(t){return function n(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function t(n){var e=r.getEntry(i(this,o),n);return e&&e.v},set:function t(n,e){return r.def(i(this,o),0===n?0:n,e)}},r,!0)},function(t,n,e){"use strict";var r=e(7).f,i=e(37),o=e(42),a=e(19),u=e(40),s=e(41),c=e(77),f=e(110),l=e(39),h=e(6),d=e(29).fastKey,v=e(46),p=h?"_s":"size",_=function(t,n){var e=d(n),r;if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,e,c){var f=t(function(t,r){u(t,f,n,"_i"),t._t=n,t._i=i(null),t._f=void 0,t._l=void 0,t[p]=0,void 0!=r&&s(r,e,t[c],t)});return o(f.prototype,{clear:function t(){for(var e=v(this,n),r=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];e._f=e._l=void 0,e[p]=0},delete:function(t){var e=v(this,n),r=_(e,t);if(r){var i=r.n,o=r.p;delete e._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),e._f==r&&(e._f=i),e._l==r&&(e._l=o),e[p]--}return!!r},forEach:function t(e){v(this,n);for(var r=a(e,arguments.length>1?arguments[1]:void 0,3),i;i=i?i.n:this._f;)for(r(i.v,i.k,this);i&&i.r;)i=i.p},has:function t(e){return!!_(v(this,n),e)}}),h&&r(f.prototype,"size",{get:function(){return v(this,n)[p]}}),f},def:function(t,n,e){var r=_(t,n),i,o;return r?r.v=e:(t._l=r={i:o=d(n,!0),k:n,v:e,p:i=t._l,n:void 0,r:!1},t._f||(t._f=r),i&&(i.n=r),t[p]++,"F"!==o&&(t._i[o]=r)),t},getEntry:_,setStrong:function(t,n,e){c(t,n,function(t,e){this._t=v(t,n),this._k=e,this._l=void 0},function(){for(var t=this,n=t._k,e=t._l;e&&e.r;)e=e.p;return t._t&&(t._l=e=e?e.n:t._t._f)?"keys"==n?f(0,e.k):"values"==n?f(0,e.v):f(0,[e.k,e.v]):(t._t=void 0,f(1))},e?"entries":"values",!e,!0),l(n)}}},function(t,n,e){"use strict";var r=e(115),i=e(46),o="Set";t.exports=e(60)(o,function(t){return function n(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function t(n){return r.def(i(this,o),n=0===n?0:n,n)}},r)},function(t,n,e){"use strict";var r=e(26)(0),i=e(12),o=e(29),a=e(98),u=e(118),s=e(4),c=e(3),f=e(46),l="WeakMap",h=o.getWeak,d=Object.isExtensible,v=u.ufstore,p={},_,g=function(t){return function n(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function t(n){if(s(n)){var e=h(n);return!0===e?v(f(this,l)).get(n):e?e[this._i]:void 0}},set:function t(n,e){return u.def(f(this,l),n,e)}},b=t.exports=e(60)(l,g,y,u,!0,!0);c(function(){return 7!=(new b).set((Object.freeze||Object)(p),7).get(p)})&&(_=u.getConstructor(g,l),a(_.prototype,y),o.NEED=!0,r(["delete","has","get","set"],function(t){var n=b.prototype,e=n[t];i(n,t,function(n,r){if(s(n)&&!d(n)){this._f||(this._f=new _);var i=this._f[t](n,r);return"set"==t?this:i}return e.call(this,n,r)})}))},function(t,n,e){"use strict";var r=e(42),i=e(29).getWeak,o=e(1),a=e(4),u=e(40),s=e(41),c=e(26),f=e(14),l=e(46),h=c(5),d=c(6),v=0,p=function(t){return t._l||(t._l=new _)},_=function(){this.a=[]},g=function(t,n){return h(t.a,function(t){return t[0]===n})};_.prototype={get:function(t){var n=g(this,t);if(n)return n[1]},has:function(t){return!!g(this,t)},set:function(t,n){var e=g(this,t);e?e[1]=n:this.a.push([t,n])},delete:function(t){var n=d(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,e,o){var c=t(function(t,r){u(t,c,n,"_i"),t._t=n,t._i=v++,t._l=void 0,void 0!=r&&s(r,e,t[o],t)});return r(c.prototype,{delete:function(t){if(!a(t))return!1;var e=i(t);return!0===e?p(l(this,n)).delete(t):e&&f(e,this._i)&&delete e[this._i]},has:function t(e){if(!a(e))return!1;var r=i(e);return!0===r?p(l(this,n)).has(e):r&&f(r,this._i)}}),c},def:function(t,n,e){var r=i(o(n),!0);return!0===r?p(t).set(n,e):r[t._i]=e,t},ufstore:p}},function(t,n,e){var r=e(24),i=e(8);t.exports=function(t){if(void 0===t)return 0;var n=r(t),e=i(n);if(n!==e)throw RangeError("Wrong length!");return e}},function(t,n,e){var r=e(38),i=e(52),o=e(1),a=e(2).Reflect;t.exports=a&&a.ownKeys||function t(n){var e=r.f(o(n)),a=i.f;return a?e.concat(a(n)):e}},function(t,n,e){"use strict";function r(t,n,e,c,f,l,h,d){for(var v=f,p=0,_=!!h&&u(h,d,3),g,y;p<c;){if(p in e){if(g=_?_(e[p],p,n):e[p],y=!1,o(g)&&(y=g[s],y=void 0!==y?!!y:i(g)),y&&l>0)v=r(t,n,g,a(g.length),v,l-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=g}v++}p++}return v}var i=e(53),o=e(4),a=e(8),u=e(19),s=e(5)("isConcatSpreadable");t.exports=r},function(t,n,e){var r=e(8),i=e(73),o=e(23);t.exports=function(t,n,e,a){var u=String(o(t)),s=u.length,c=void 0===e?" ":String(e),f=r(n);if(f<=s||""==c)return u;var l=f-s,h=i.call(c,Math.ceil(l/c.length));return h.length>l&&(h=h.slice(0,l)),a?h+u:u+h}},function(t,n,e){var r=e(35),i=e(15),o=e(48).f;t.exports=function(t){return function(n){for(var e=i(n),a=r(e),u=a.length,s=0,c=[],f;u>s;)o.call(e,f=a[s++])&&c.push(t?[f,e[f]]:e[f]);return c}}},function(t,n,e){var r=e(49),i=e(125);t.exports=function(t){return function n(){if(r(this)!=t)throw TypeError(t+"#toJSON isn\'t generic");return i(this)}}},function(t,n,e){var r=e(41);t.exports=function(t,n){var e=[];return r(t,!1,e.push,e,n),e}},function(t,n){t.exports=Math.scale||function t(n,e,r,i,o){return 0===arguments.length||n!=n||e!=e||r!=r||i!=i||o!=o?NaN:n===1/0||n===-1/0?n:(n-e)*(o-i)/(r-e)+i}},function(t,n,e){"use strict";function r(t,n,e,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==e;){a=e>2e3?2e3:e,e-=a;do{i=i+n[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},function(t,n,e){"use strict";function r(){for(var t,n=[],e=0;e<256;e++){t=e;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;n[e]=t}return n}function i(t,n,e,r){var i=o,a=r+e;t^=-1;for(var u=r;u<a;u++)t=t>>>8^i[255&(t^n[u])];return-1^t}var o=r();t.exports=i},function(t,n,e){"use strict";function r(t,n){if(n<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,n));for(var e="",r=0;r<n;r++)e+=String.fromCharCode(t[r]);return e}var i=e(32),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var u=new i.Buf8(256),s=0;s<256;s++)u[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;u[254]=u[254]=1,n.string2buf=function(t){var n,e,r,o,a,u=t.length,s=0;for(o=0;o<u;o++)e=t.charCodeAt(o),55296===(64512&e)&&o+1<u&&56320===(64512&(r=t.charCodeAt(o+1)))&&(e=65536+(e-55296<<10)+(r-56320),o++),s+=e<128?1:e<2048?2:e<65536?3:4;for(n=new i.Buf8(s),a=0,o=0;a<s;o++)e=t.charCodeAt(o),55296===(64512&e)&&o+1<u&&56320===(64512&(r=t.charCodeAt(o+1)))&&(e=65536+(e-55296<<10)+(r-56320),o++),e<128?n[a++]=e:e<2048?(n[a++]=192|e>>>6,n[a++]=128|63&e):e<65536?(n[a++]=224|e>>>12,n[a++]=128|e>>>6&63,n[a++]=128|63&e):(n[a++]=240|e>>>18,n[a++]=128|e>>>12&63,n[a++]=128|e>>>6&63,n[a++]=128|63&e);return n},n.buf2binstring=function(t){return r(t,t.length)},n.binstring2buf=function(t){for(var n=new i.Buf8(t.length),e=0,r=n.length;e<r;e++)n[e]=t.charCodeAt(e);return n},n.buf2string=function(t,n){var e,i,o,a,s=n||t.length,c=new Array(2*s);for(i=0,e=0;e<s;)if((o=t[e++])<128)c[i++]=o;else if((a=u[o])>4)c[i++]=65533,e+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&e<s;)o=o<<6|63&t[e++],a--;a>1?c[i++]=65533:o<65536?c[i++]=o:(o-=65536,c[i++]=55296|o>>10&1023,c[i++]=56320|1023&o)}return r(c,i)},n.utf8border=function(t,n){var e;for(n=n||t.length,n>t.length&&(n=t.length),e=n-1;e>=0&&128===(192&t[e]);)e--;return e<0?n:0===e?n:e+u[t[e]]>n?e:n}},function(t,n,e){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},function(t,n,e){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,n,e){"use strict";e.d(n,"c",function(){return L}),e.d(n,"b",function(){return B}),e.d(n,"a",function(){return C});var r="BUILD_ENV_OMEKA",i="BUILD_ENV_NODE",o=r,a="GROUP",u="COMPONENT",s="CM",c="MM",f="IN",l="FT",h=[c,s,f,l],d={inner:"rgb(105, 105, 105)",outer:"rgb(35, 35, 35)"},v=0,p=2.5,_="pinchend",g="pinchstart",y="zoomin",b="zoomout",w=.25,m=6710886,x=function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}}(),S={ANDROID_SMARTPHONE:function t(){return navigator.userAgent.match(/Android/i)&&matchMedia("only screen and (max-width: 1024px)")},ANDROID_TABLET:function t(){return navigator.userAgent.match(/Android/i)&&matchMedia("only screen and (max-width: 768px)")},IPHONE:function t(){return navigator.userAgent.match(/iPhone/i)},IPAD:function t(){return navigator.userAgent.match(/iPad/i)},SMARTPHONE:function t(){return S.ANDROID_SMARTPHONE()||S.IPHONE()},TABLET:function t(){return S.ANDROID_TABLET()||S.IPAD()}},k={MM_TO_CM:function t(n){return n/10},MM_TO_IN:function t(n){return n/25.4},MM_TO_FT:function t(n){return n/304.8},CM_TO_IN:function t(n){return n/2.54},CM_TO_MM:function t(n){return 10*n},CM_TO_FT:function t(n){return n/30.48},IN_TO_FT:function t(n){return n/12},IN_TO_CM:function t(n){return 2.54*n},IN_TO_MM:function t(n){return 25.4*n},FT_TO_IN:function t(n){return 12*n},FT_TO_CM:function t(n){return 30.48*n},FT_TO_MM:function t(n){return 304.8*n}},E={DIFFUSE_MAP:0,NORMAL_MAP:1,ROUGHNESS_MAP:2,METALNESS_MAP:3},O=".obj",M=".stl",A=".mtl",F=".zip",P=".gz",N=".js",I=0,T=1,z="ThreeModelCache",R="ThreeModelCacheIndex",j=["id"],L="WORKER_PROGRESS",B="WORKER_DATA",C=524288,D="Color",U="Vector2",G="Vector3",Z="Group",W="Mesh",V="map",H=new Set(["Color","Vector2","Vector3","Group","Mesh"]),K="MeshStandardMaterial",Y="CONVERSION_TYPE_MESH",J="CONVERSION_TYPE_RTI",q=".jpg,.png,.bmp,.gif,.jpeg",X=".obj",$=".ptm",Q=".mtl",tt="checkbox",nt="map",et="file",rt="data:image/jpeg;base64,",it="data:image/jpeg;base64,"},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(134),i=e.n(r),o=e(336),a=e.n(o),u=e(132),s=function t(n,e){for(var r=new a.a.Deflate({gzip:!0}),i=!1,o=0;o<n.length;o+=e){var s=o+e,c=Math.floor(s/n.length*100);postMessage({type:u.c,payload:c<=100?c:100}),s>=n.length&&(i=!0),r.push(n.slice(o,o+e),i)}return r.err?(console.warn(r.msg),null):r.result};self.onmessage=function(t){var n=t.data,e=n;n.constructor!==String&&(e=JSON.stringify(n));var r=s(e,u.a);null!==r&&postMessage({type:u.b,payload:r})}},function(t,n,e){"use strict";(function(t){function n(t,n,e){t[n]||Object[r](t,n,{writable:!0,configurable:!0,value:e})}if(e(135),e(332),e(333),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(n,e(92))},function(t,n,e){e(136),e(138),e(139),e(140),e(141),e(142),e(143),e(144),e(145),e(146),e(147),e(148),e(149),e(150),e(151),e(152),e(154),e(155),e(156),e(157),e(158),e(159),e(160),e(161),e(162),e(163),e(164),e(165),e(166),e(167),e(168),e(169),e(170),e(171),e(172),e(173),e(174),e(175),e(176),e(177),e(178),e(179),e(180),e(181),e(182),e(183),e(184),e(185),e(186),e(187),e(188),e(189),e(190),e(191),e(192),e(193),e(194),e(195),e(196),e(197),e(198),e(199),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(209),e(210),e(211),e(212),e(213),e(214),e(216),e(217),e(219),e(220),e(221),e(222),e(223),e(224),e(225),e(227),e(228),e(229),e(230),e(231),e(232),e(233),e(234),e(235),e(236),e(237),e(238),e(239),e(86),e(240),e(241),e(111),e(242),e(243),e(244),e(245),e(246),e(114),e(116),e(117),e(247),e(248),e(249),e(250),e(251),e(252),e(253),e(254),e(255),e(256),e(257),e(258),e(259),e(260),e(261),e(262),e(263),e(264),e(265),e(266),e(267),e(268),e(269),e(270),e(271),e(272),e(273),e(274),e(275),e(276),e(277),e(278),e(279),e(280),e(281),e(282),e(283),e(284),e(285),e(286),e(287),e(288),e(289),e(290),e(291),e(292),e(293),e(294),e(295),e(296),e(297),e(298),e(299),e(300),e(301),e(302),e(303),e(304),e(305),e(306),e(307),e(308),e(309),e(310),e(311),e(312),e(313),e(314),e(315),e(316),e(317),e(318),e(319),e(320),e(321),e(322),e(323),e(324),e(325),e(326),e(327),e(328),e(329),e(330),e(331),t.exports=e(18)},function(t,n,e){"use strict";var r=e(2),i=e(14),o=e(6),a=e(0),u=e(12),s=e(29).KEY,c=e(3),f=e(50),l=e(43),h=e(34),d=e(5),v=e(94),p=e(66),_=e(137),g=e(53),y=e(1),b=e(4),w=e(15),m=e(22),x=e(33),S=e(37),k=e(97),E=e(16),O=e(7),M=e(35),A=E.f,F=O.f,P=k.f,N=r.Symbol,I=r.JSON,T=I&&I.stringify,z="prototype",R=d("_hidden"),j=d("toPrimitive"),L={}.propertyIsEnumerable,B=f("symbol-registry"),C=f("symbols"),D=f("op-symbols"),U=Object[z],G="function"==typeof N,Z=r.QObject,W=!Z||!Z[z]||!Z[z].findChild,V=o&&c(function(){return 7!=S(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=A(U,n);r&&delete U[n],F(t,n,e),r&&t!==U&&F(U,n,r)}:F,H=function(t){var n=C[t]=S(N[z]);return n._k=t,n},K=G&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function t(n,e,r){return n===U&&Y(D,e,r),y(n),e=m(e,!0),y(r),i(C,e)?(r.enumerable?(i(n,R)&&n[R][e]&&(n[R][e]=!1),r=S(r,{enumerable:x(0,!1)})):(i(n,R)||F(n,R,x(1,{})),n[R][e]=!0),V(n,e,r)):F(n,e,r)},J=function t(n,e){y(n);for(var r=_(e=w(e)),i=0,o=r.length,a;o>i;)Y(n,a=r[i++],e[a]);return n},q=function t(n,e){return void 0===e?S(n):J(S(n),e)},X=function t(n){var e=L.call(this,n=m(n,!0));return!(this===U&&i(C,n)&&!i(D,n))&&(!(e||!i(this,n)||!i(C,n)||i(this,R)&&this[R][n])||e)},$=function t(n,e){if(n=w(n),e=m(e,!0),n!==U||!i(C,e)||i(D,e)){var r=A(n,e);return!r||!i(C,e)||i(n,R)&&n[R][e]||(r.enumerable=!0),r}},Q=function t(n){for(var e=P(w(n)),r=[],o=0,a;e.length>o;)i(C,a=e[o++])||a==R||a==s||r.push(a);return r},tt=function t(n){for(var e=n===U,r=P(e?D:w(n)),o=[],a=0,u;r.length>a;)!i(C,u=r[a++])||e&&!i(U,u)||o.push(C[u]);return o};G||(N=function t(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var n=h(arguments.length>0?arguments[0]:void 0),e=function(t){this===U&&e.call(D,t),i(this,R)&&i(this[R],n)&&(this[R][n]=!1),V(this,n,x(1,t))};return o&&W&&V(U,n,{configurable:!0,set:e}),H(n)},u(N[z],"toString",function t(){return this._k}),E.f=$,O.f=Y,e(38).f=k.f=Q,e(48).f=X,e(52).f=tt,o&&!e(30)&&u(U,"propertyIsEnumerable",X,!0),v.f=function(t){return H(d(t))}),a(a.G+a.W+a.F*!G,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)d(nt[et++]);for(var rt=M(d.store),it=0;rt.length>it;)p(rt[it++]);a(a.S+a.F*!G,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=N(t)},keyFor:function t(n){if(!K(n))throw TypeError(n+" is not a symbol!");for(var e in B)if(B[e]===n)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!G,"Object",{create:q,defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:tt}),I&&a(a.S+a.F*(!G||c(function(){var t=N();return"[null]"!=T([t])||"{}"!=T({a:t})||"{}"!=T(Object(t))})),"JSON",{stringify:function t(n){for(var e=[n],r=1,i,o;arguments.length>r;)e.push(arguments[r++]);if(o=i=e[1],(b(i)||void 0!==n)&&!K(n))return g(i)||(i=function(t,n){if("function"==typeof o&&(n=o.call(this,t,n)),!K(n))return n}),e[1]=i,T.apply(I,e)}}),N[z][j]||e(11)(N[z],j,N[z].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,n,e){var r=e(35),i=e(52),o=e(48);t.exports=function(t){var n=r(t),e=i.f;if(e)for(var a=e(t),u=o.f,s=0,c;a.length>s;)u.call(t,c=a[s++])&&n.push(c);return n}},function(t,n,e){var r=e(0);r(r.S,"Object",{create:e(37)})},function(t,n,e){var r=e(0);r(r.S+r.F*!e(6),"Object",{defineProperty:e(7).f})},function(t,n,e){var r=e(0);r(r.S+r.F*!e(6),"Object",{defineProperties:e(96)})},function(t,n,e){var r=e(15),i=e(16).f;e(25)("getOwnPropertyDescriptor",function(){return function t(n,e){return i(r(n),e)}})},function(t,n,e){var r=e(9),i=e(17);e(25)("getPrototypeOf",function(){return function t(n){return i(r(n))}})},function(t,n,e){var r=e(9),i=e(35);e(25)("keys",function(){return function t(n){return i(r(n))}})},function(t,n,e){e(25)("getOwnPropertyNames",function(){return e(97).f})},function(t,n,e){var r=e(4),i=e(29).onFreeze;e(25)("freeze",function(t){return function n(e){return t&&r(e)?t(i(e)):e}})},function(t,n,e){var r=e(4),i=e(29).onFreeze;e(25)("seal",function(t){return function n(e){return t&&r(e)?t(i(e)):e}})},function(t,n,e){var r=e(4),i=e(29).onFreeze;e(25)("preventExtensions",function(t){return function n(e){return t&&r(e)?t(i(e)):e}})},function(t,n,e){var r=e(4);e(25)("isFrozen",function(t){return function n(e){return!r(e)||!!t&&t(e)}})},function(t,n,e){var r=e(4);e(25)("isSealed",function(t){return function n(e){return!r(e)||!!t&&t(e)}})},function(t,n,e){var r=e(4);e(25)("isExtensible",function(t){return function n(e){return!!r(e)&&(!t||t(e))}})},function(t,n,e){var r=e(0);r(r.S+r.F,"Object",{assign:e(98)})},function(t,n,e){var r=e(0);r(r.S,"Object",{is:e(153)})},function(t,n){t.exports=Object.is||function t(n,e){return n===e?0!==n||1/n===1/e:n!=n&&e!=e}},function(t,n,e){var r=e(0);r(r.S,"Object",{setPrototypeOf:e(70).set})},function(t,n,e){"use strict";var r=e(49),i={};i[e(5)("toStringTag")]="z",i+""!="[object z]"&&e(12)(Object.prototype,"toString",function t(){return"[object "+r(this)+"]"},!0)},function(t,n,e){var r=e(0);r(r.P,"Function",{bind:e(99)})},function(t,n,e){var r=e(7).f,i=Function.prototype,o=/^\\s*function ([^ (]*)/,a="name";a in i||e(6)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,n,e){"use strict";var r=e(4),i=e(17),o=e(5)("hasInstance"),a=Function.prototype;o in a||e(7).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,e){var r=e(0),i=e(101);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,n,e){var r=e(0),i=e(102);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,n,e){"use strict";var r=e(2),i=e(14),o=e(20),a=e(72),u=e(22),s=e(3),c=e(38).f,f=e(16).f,l=e(7).f,h=e(44).trim,d="Number",v=r[d],p=v,_=v.prototype,g=o(e(37)(_))==d,y="trim"in String.prototype,b=function(t){var n=u(t,!1);if("string"==typeof n&&n.length>2){n=y?n.trim():h(n,3);var e=n.charCodeAt(0),r,i,o;if(43===e||45===e){if(88===(r=n.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(n.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+n}for(var a=n.slice(2),s=0,c=a.length,f;s<c;s++)if((f=a.charCodeAt(s))<48||f>o)return NaN;return parseInt(a,i)}}return+n};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function t(n){var e=arguments.length<1?0:n,r=this;return r instanceof v&&(g?s(function(){_.valueOf.call(r)}):o(r)!=d)?a(new p(b(e)),r,v):b(e)};for(var w=e(6)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),m=0,x;w.length>m;m++)i(p,x=w[m])&&!i(v,x)&&l(v,x,f(p,x));v.prototype=_,_.constructor=v,e(12)(r,d,v)}},function(t,n,e){"use strict";var r=e(0),i=e(24),o=e(103),a=e(73),u=1..toFixed,s=Math.floor,c=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",l="0",h=function(t,n){for(var e=-1,r=n;++e<6;)r+=t*c[e],c[e]=r%1e7,r=s(r/1e7)},d=function(t){for(var n=6,e=0;--n>=0;)e+=c[n],c[n]=s(e/t),e=e%t*1e7},v=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==c[t]){var e=String(c[t]);n=""===n?e:n+a.call("0",7-e.length)+e}return n},p=function(t,n,e){return 0===n?e:n%2===1?p(t,n-1,e*t):p(t*t,n/2,e)},_=function(t){for(var n=0,e=t;e>=4096;)n+=12,e/=4096;for(;e>=2;)n+=1,e/=2;return n};r(r.P+r.F*(!!u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e(3)(function(){u.call({})})),"Number",{toFixed:function t(n){var e=o(this,f),r=i(n),u="",s="0",c,l,g,y;if(r<0||r>20)throw RangeError(f);if(e!=e)return"NaN";if(e<=-1e21||e>=1e21)return String(e);if(e<0&&(u="-",e=-e),e>1e-21)if(c=_(e*p(2,69,1))-69,l=c<0?e*p(2,-c,1):e/p(2,c,1),l*=4503599627370496,(c=52-c)>0){for(h(0,l),g=r;g>=7;)h(1e7,0),g-=7;for(h(p(10,g,1),0),g=c-1;g>=23;)d(1<<23),g-=23;d(1<<g),h(1,1),d(2),s=v()}else h(0,l),h(1<<-c,0),s=v()+a.call("0",r);return r>0?(y=s.length,s=u+(y<=r?"0."+a.call("0",r-y)+s:s.slice(0,y-r)+"."+s.slice(y-r))):s=u+s,s}})},function(t,n,e){"use strict";var r=e(0),i=e(3),o=e(103),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function t(n){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===n?a.call(e):a.call(e,n)}})},function(t,n,e){var r=e(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,e){var r=e(0),i=e(2).isFinite;r(r.S,"Number",{isFinite:function t(n){return"number"==typeof n&&i(n)}})},function(t,n,e){var r=e(0);r(r.S,"Number",{isInteger:e(104)})},function(t,n,e){var r=e(0);r(r.S,"Number",{isNaN:function t(n){return n!=n}})},function(t,n,e){var r=e(0),i=e(104),o=Math.abs;r(r.S,"Number",{isSafeInteger:function t(n){return i(n)&&o(n)<=9007199254740991}})},function(t,n,e){var r=e(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,e){var r=e(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,e){var r=e(0),i=e(102);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,e){var r=e(0),i=e(101);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,e){var r=e(0),i=e(105),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function t(n){return(n=+n)<1?NaN:n>94906265.62425156?Math.log(n)+Math.LN2:i(n-1+o(n-1)*o(n+1))}})},function(t,n,e){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=e(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(t,n,e){var r=e(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function t(n){return 0==(n=+n)?n:Math.log((1+n)/(1-n))/2}})},function(t,n,e){var r=e(0),i=e(74);r(r.S,"Math",{cbrt:function t(n){return i(n=+n)*Math.pow(Math.abs(n),1/3)}})},function(t,n,e){var r=e(0);r(r.S,"Math",{clz32:function t(n){return(n>>>=0)?31-Math.floor(Math.log(n+.5)*Math.LOG2E):32}})},function(t,n,e){var r=e(0),i=Math.exp;r(r.S,"Math",{cosh:function t(n){return(i(n=+n)+i(-n))/2}})},function(t,n,e){var r=e(0),i=e(75);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n,e){var r=e(0);r(r.S,"Math",{fround:e(106)})},function(t,n,e){var r=e(0),i=Math.abs;r(r.S,"Math",{hypot:function t(n,e){for(var r=0,o=0,a=arguments.length,u=0,s,c;o<a;)s=i(arguments[o++]),u<s?(c=u/s,r=r*c*c+1,u=s):s>0?(c=s/u,r+=c*c):r+=s;return u===1/0?1/0:u*Math.sqrt(r)}})},function(t,n,e){var r=e(0),i=Math.imul;r(r.S+r.F*e(3)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function t(n,e){var r=65535,i=+n,o=+e,a=65535&i,u=65535&o;return 0|a*u+((65535&i>>>16)*u+a*(65535&o>>>16)<<16>>>0)}})},function(t,n,e){var r=e(0);r(r.S,"Math",{log10:function t(n){return Math.log(n)*Math.LOG10E}})},function(t,n,e){var r=e(0);r(r.S,"Math",{log1p:e(105)})},function(t,n,e){var r=e(0);r(r.S,"Math",{log2:function t(n){return Math.log(n)/Math.LN2}})},function(t,n,e){var r=e(0);r(r.S,"Math",{sign:e(74)})},function(t,n,e){var r=e(0),i=e(75),o=Math.exp;r(r.S+r.F*e(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function t(n){return Math.abs(n=+n)<1?(i(n)-i(-n))/2:(o(n-1)-o(-n-1))*(Math.E/2)}})},function(t,n,e){var r=e(0),i=e(75),o=Math.exp;r(r.S,"Math",{tanh:function t(n){var e=i(n=+n),r=i(-n);return e==1/0?1:r==1/0?-1:(e-r)/(o(n)+o(-n))}})},function(t,n,e){var r=e(0);r(r.S,"Math",{trunc:function t(n){return(n>0?Math.floor:Math.ceil)(n)}})},function(t,n,e){var r=e(0),i=e(36),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function t(n){for(var e=[],r=arguments.length,a=0,u;r>a;){if(u=+arguments[a++],i(u,1114111)!==u)throw RangeError(u+" is not a valid code point");e.push(u<65536?o(u):o(55296+((u-=65536)>>10),u%1024+56320))}return e.join("")}})},function(t,n,e){var r=e(0),i=e(15),o=e(8);r(r.S,"String",{raw:function t(n){for(var e=i(n.raw),r=o(e.length),a=arguments.length,u=[],s=0;r>s;)u.push(String(e[s++])),s<a&&u.push(String(arguments[s]));return u.join("")}})},function(t,n,e){"use strict";e(44)("trim",function(t){return function n(){return t(this,3)}})},function(t,n,e){"use strict";var r=e(76)(!0);e(77)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,n=this._i,e;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(t,n,e){"use strict";var r=e(0),i=e(76)(!1);r(r.P,"String",{codePointAt:function t(n){return i(this,n)}})},function(t,n,e){"use strict";var r=e(0),i=e(8),o=e(79),a="endsWith",u=""[a];r(r.P+r.F*e(80)(a),"String",{endsWith:function t(n){var e=o(this,n,a),r=arguments.length>1?arguments[1]:void 0,s=i(e.length),c=void 0===r?s:Math.min(i(r),s),f=String(n);return u?u.call(e,f,c):e.slice(c-f.length,c)===f}})},function(t,n,e){"use strict";var r=e(0),i=e(79),o="includes";r(r.P+r.F*e(80)(o),"String",{includes:function t(n){return!!~i(this,n,o).indexOf(n,arguments.length>1?arguments[1]:void 0)}})},function(t,n,e){var r=e(0);r(r.P,"String",{repeat:e(73)})},function(t,n,e){"use strict";var r=e(0),i=e(8),o=e(79),a="startsWith",u=""[a];r(r.P+r.F*e(80)(a),"String",{startsWith:function t(n){var e=o(this,n,a),r=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),s=String(n);return u?u.call(e,s,r):e.slice(r,r+s.length)===s}})},function(t,n,e){"use strict";e(13)("anchor",function(t){return function n(e){return t(this,"a","name",e)}})},function(t,n,e){"use strict";e(13)("big",function(t){return function n(){return t(this,"big","","")}})},function(t,n,e){"use strict";e(13)("blink",function(t){return function n(){return t(this,"blink","","")}})},function(t,n,e){"use strict";e(13)("bold",function(t){return function n(){return t(this,"b","","")}})},function(t,n,e){"use strict";e(13)("fixed",function(t){return function n(){return t(this,"tt","","")}})},function(t,n,e){"use strict";e(13)("fontcolor",function(t){return function n(e){return t(this,"font","color",e)}})},function(t,n,e){"use strict";e(13)("fontsize",function(t){return function n(e){return t(this,"font","size",e)}})},function(t,n,e){"use strict";e(13)("italics",function(t){return function n(){return t(this,"i","","")}})},function(t,n,e){"use strict";e(13)("link",function(t){return function n(e){return t(this,"a","href",e)}})},function(t,n,e){"use strict";e(13)("small",function(t){return function n(){return t(this,"small","","")}})},function(t,n,e){"use strict";e(13)("strike",function(t){return function n(){return t(this,"strike","","")}})},function(t,n,e){"use strict";e(13)("sub",function(t){return function n(){return t(this,"sub","","")}})},function(t,n,e){"use strict";e(13)("sup",function(t){return function n(){return t(this,"sup","","")}})},function(t,n,e){var r=e(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,e){"use strict";var r=e(0),i=e(9),o=e(22);r(r.P+r.F*e(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function t(n){var e=i(this),r=o(e);return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},function(t,n,e){var r=e(0),i=e(215);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,n,e){"use strict";var r=e(3),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function t(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var n=this,e=n.getUTCFullYear(),r=n.getUTCMilliseconds(),o=e<0?"-":e>9999?"+":"";return o+("00000"+Math.abs(e)).slice(o?-6:-4)+"-"+a(n.getUTCMonth()+1)+"-"+a(n.getUTCDate())+"T"+a(n.getUTCHours())+":"+a(n.getUTCMinutes())+":"+a(n.getUTCSeconds())+"."+(r>99?r:"0"+a(r))+"Z"}:o},function(t,n,e){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],u=r.getTime;new Date(NaN)+""!=i&&e(12)(r,o,function t(){var n=u.call(this);return n===n?a.call(this):i})},function(t,n,e){var r=e(5)("toPrimitive"),i=Date.prototype;r in i||e(11)(i,r,e(218))},function(t,n,e){"use strict";var r=e(1),i=e(22),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},function(t,n,e){var r=e(0);r(r.S,"Array",{isArray:e(53)})},function(t,n,e){"use strict";var r=e(19),i=e(0),o=e(9),a=e(107),u=e(81),s=e(8),c=e(82),f=e(83);i(i.S+i.F*!e(55)(function(t){Array.from(t)}),"Array",{from:function t(n){var e=o(n),i="function"==typeof this?this:Array,l=arguments.length,h=l>1?arguments[1]:void 0,d=void 0!==h,v=0,p=f(e),_,g,y,b;if(d&&(h=r(h,l>2?arguments[2]:void 0,2)),void 0==p||i==Array&&u(p))for(_=s(e.length),g=new i(_);_>v;v++)c(g,v,d?h(e[v],v):e[v]);else for(b=p.call(e),g=new i;!(y=b.next()).done;v++)c(g,v,d?a(b,h,[y.value,v],!0):y.value);return g.length=v,g}})},function(t,n,e){"use strict";var r=e(0),i=e(82);r(r.S+r.F*e(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function t(){for(var n=0,e=arguments.length,r=new("function"==typeof this?this:Array)(e);e>n;)i(r,n,arguments[n++]);return r.length=e,r}})},function(t,n,e){"use strict";var r=e(0),i=e(15),o=[].join;r(r.P+r.F*(e(47)!=Object||!e(21)(o)),"Array",{join:function t(n){return o.call(i(this),void 0===n?",":n)}})},function(t,n,e){"use strict";var r=e(0),i=e(69),o=e(20),a=e(36),u=e(8),s=[].slice;r(r.P+r.F*e(3)(function(){i&&s.call(i)}),"Array",{slice:function t(n,e){var r=u(this.length),i=o(this);if(e=void 0===e?r:e,"Array"==i)return s.call(this,n,e);for(var c=a(n,r),f=a(e,r),l=u(f-c),h=new Array(l),d=0;d<l;d++)h[d]="String"==i?this.charAt(c+d):this[c+d];return h}})},function(t,n,e){"use strict";var r=e(0),i=e(10),o=e(9),a=e(3),u=[].sort,s=[1,2,3];r(r.P+r.F*(a(function(){s.sort(void 0)})||!a(function(){s.sort(null)})||!e(21)(u)),"Array",{sort:function t(n){return void 0===n?u.call(o(this)):u.call(o(this),i(n))}})},function(t,n,e){"use strict";var r=e(0),i=e(26)(0),o=e(21)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function t(n){return i(this,n,arguments[1])}})},function(t,n,e){var r=e(4),i=e(53),o=e(5)("species");t.exports=function(t){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),r(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,e){"use strict";var r=e(0),i=e(26)(1);r(r.P+r.F*!e(21)([].map,!0),"Array",{map:function t(n){return i(this,n,arguments[1])}})},function(t,n,e){"use strict";var r=e(0),i=e(26)(2);r(r.P+r.F*!e(21)([].filter,!0),"Array",{filter:function t(n){return i(this,n,arguments[1])}})},function(t,n,e){"use strict";var r=e(0),i=e(26)(3);r(r.P+r.F*!e(21)([].some,!0),"Array",{some:function t(n){return i(this,n,arguments[1])}})},function(t,n,e){"use strict";var r=e(0),i=e(26)(4);r(r.P+r.F*!e(21)([].every,!0),"Array",{every:function t(n){return i(this,n,arguments[1])}})},function(t,n,e){"use strict";var r=e(0),i=e(108);r(r.P+r.F*!e(21)([].reduce,!0),"Array",{reduce:function t(n){return i(this,n,arguments.length,arguments[1],!1)}})},function(t,n,e){"use strict";var r=e(0),i=e(108);r(r.P+r.F*!e(21)([].reduceRight,!0),"Array",{reduceRight:function t(n){return i(this,n,arguments.length,arguments[1],!0)}})},function(t,n,e){"use strict";var r=e(0),i=e(51)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!e(21)(o)),"Array",{indexOf:function t(n){return a?o.apply(this,arguments)||0:i(this,n,arguments[1])}})},function(t,n,e){"use strict";var r=e(0),i=e(15),o=e(24),a=e(8),u=[].lastIndexOf,s=!!u&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(s||!e(21)(u)),"Array",{lastIndexOf:function t(n){if(s)return u.apply(this,arguments)||0;var e=i(this),r=a(e.length),c=r-1;for(arguments.length>1&&(c=Math.min(c,o(arguments[1]))),c<0&&(c=r+c);c>=0;c--)if(c in e&&e[c]===n)return c||0;return-1}})},function(t,n,e){var r=e(0);r(r.P,"Array",{copyWithin:e(109)}),e(31)("copyWithin")},function(t,n,e){var r=e(0);r(r.P,"Array",{fill:e(85)}),e(31)("fill")},function(t,n,e){"use strict";var r=e(0),i=e(26)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function t(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}}),e(31)(o)},function(t,n,e){"use strict";var r=e(0),i=e(26)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function t(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}}),e(31)(o)},function(t,n,e){e(39)("Array")},function(t,n,e){var r=e(2),i=e(72),o=e(7).f,a=e(38).f,u=e(54),s=e(56),c=r.RegExp,f=c,l=c.prototype,h=/a/g,d=/a/g,v=new c(h)!==h;if(e(6)&&(!v||e(3)(function(){return d[e(5)("match")]=!1,c(h)!=h||c(d)==d||"/a/i"!=c(h,"i")}))){c=function t(n,e){var r=this instanceof c,o=u(n),a=void 0===e;return!r&&o&&n.constructor===c&&a?n:i(v?new f(o&&!a?n.source:n,e):f((o=n instanceof c)?n.source:n,o&&a?s.call(n):e),r?this:l,c)};for(var p=(function(t){t in c||o(c,t,{configurable:!0,get:function(){return f[t]},set:function(n){f[t]=n}})}),_=a(f),g=0;_.length>g;)p(_[g++]);l.constructor=c,c.prototype=l,e(12)(r,"RegExp",c)}e(39)("RegExp")},function(t,n,e){"use strict";e(111);var r=e(1),i=e(56),o=e(6),a="toString",u=/./[a],s=function(t){e(12)(RegExp.prototype,a,t,!0)};e(3)(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?s(function t(){var n=r(this);return"/".concat(n.source,"/","flags"in n?n.flags:!o&&n instanceof RegExp?i.call(n):void 0)}):u.name!=a&&s(function t(){return u.call(this)})},function(t,n,e){e(57)("match",1,function(t,n,e){return[function e(r){"use strict";var i=t(this),o=void 0==r?void 0:r[n];return void 0!==o?o.call(r,i):new RegExp(r)[n](String(i))},e]})},function(t,n,e){e(57)("replace",2,function(t,n,e){return[function r(i,o){"use strict";var a=t(this),u=void 0==i?void 0:i[n];return void 0!==u?u.call(i,a,o):e.call(String(a),i,o)},e]})},function(t,n,e){e(57)("search",1,function(t,n,e){return[function e(r){"use strict";var i=t(this),o=void 0==r?void 0:r[n];return void 0!==o?o.call(r,i):new RegExp(r)[n](String(i))},e]})},function(t,n,e){e(57)("split",2,function(t,n,r){"use strict";var i=e(54),o=r,a=[].push,u="split",s="length",c="lastIndex";if("c"=="abbc"[u](/(b)*/)[1]||4!="test"[u](/(?:)/,-1)[s]||2!="ab"[u](/(?:ab)*/)[s]||4!="."[u](/(.?)(.?)/)[s]||"."[u](/()()/)[s]>1||""[u](/.?/)[s]){var f=void 0===/()??/.exec("")[1];r=function(t,n){var e=String(this);if(void 0===t&&0===n)return[];if(!i(t))return o.call(e,t,n);var r=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,h=void 0===n?4294967295:n>>>0,d=new RegExp(t.source,u+"g"),v,p,_,g,y;for(f||(v=new RegExp("^"+d.source+"$(?!\\\\s)",u));(p=d.exec(e))&&!((_=p.index+p[0][s])>l&&(r.push(e.slice(l,p.index)),!f&&p[s]>1&&p[0].replace(v,function(){for(y=1;y<arguments[s]-2;y++)void 0===arguments[y]&&(p[y]=void 0)}),p[s]>1&&p.index<e[s]&&a.apply(r,p.slice(1)),g=p[0][s],l=_,r[s]>=h));)d[c]===p.index&&d[c]++;return l===e[s]?!g&&d.test("")||r.push(""):r.push(e.slice(l)),r[s]>h?r.slice(0,h):r}}else"0"[u](void 0,0)[s]&&(r=function(t,n){return void 0===t&&0===n?[]:o.call(this,t,n)});return[function e(i,o){var a=t(this),u=void 0==i?void 0:i[n];return void 0!==u?u.call(i,a,o):r.call(String(a),i,o)},r]})},function(t,n,e){"use strict";var r=e(30),i=e(2),o=e(19),a=e(49),u=e(0),s=e(4),c=e(10),f=e(40),l=e(41),h=e(58),d=e(87).set,v=e(88)(),p=e(89),_=e(112),g=e(59),y=e(113),b="Promise",w=i.TypeError,m=i.process,x=m&&m.versions,S=x&&x.v8||"",k=i[b],E="process"==a(m),O=function(){},M,A,F,P,N=A=p.f,I=!!function(){try{var t=k.resolve(1),n=(t.constructor={})[e(5)("species")]=function(t){t(O,O)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof n&&0!==S.indexOf("6.6")&&-1===g.indexOf("Chrome/66")}catch(t){}}(),T=function(t){var n;return!(!s(t)||"function"!=typeof(n=t.then))&&n},z=function(t,n){if(!t._n){t._n=!0;var e=t._c;v(function(){for(var r=t._v,i=1==t._s,o=0,a=function(n){var e=i?n.ok:n.fail,o=n.resolve,a=n.reject,u=n.domain,s,c,f;try{e?(i||(2==t._h&&L(t),t._h=1),!0===e?s=r:(u&&u.enter(),s=e(r),u&&(u.exit(),f=!0)),s===n.promise?a(w("Promise-chain cycle")):(c=T(s))?c.call(s,o,a):o(s)):a(r)}catch(t){u&&!f&&u.exit(),a(t)}};e.length>o;)a(e[o++]);t._c=[],t._n=!1,n&&!t._h&&R(t)})}},R=function(t){d.call(i,function(){var n=t._v,e=j(t),r,o,a;if(e&&(r=_(function(){E?m.emit("unhandledRejection",n,t):(o=i.onunhandledrejection)?o({promise:t,reason:n}):(a=i.console)&&a.error&&a.error("Unhandled promise rejection",n)}),t._h=E||j(t)?2:1),t._a=void 0,e&&r.e)throw r.v})},j=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){d.call(i,function(){var n;E?m.emit("rejectionHandled",t):(n=i.onrejectionhandled)&&n({promise:t,reason:t._v})})},B=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),z(n,!0))},C=function(t){var n=this,e;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can\'t be resolved itself");(e=T(t))?v(function(){var r={_w:n,_d:!1};try{e.call(t,o(C,r,1),o(B,r,1))}catch(t){B.call(r,t)}}):(n._v=t,n._s=1,z(n,!1))}catch(t){B.call({_w:n,_d:!1},t)}}};I||(k=function t(n){f(this,k,b,"_h"),c(n),M.call(this);try{n(o(C,this,1),o(B,this,1))}catch(t){B.call(this,t)}},M=function t(n){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},M.prototype=e(42)(k.prototype,{then:function t(n,e){var r=N(h(this,k));return r.ok="function"!=typeof n||n,r.fail="function"==typeof e&&e,r.domain=E?m.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&z(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),F=function(){var t=new M;this.promise=t,this.resolve=o(C,t,1),this.reject=o(B,t,1)},p.f=N=function(t){return t===k||t===P?new F(t):A(t)}),u(u.G+u.W+u.F*!I,{Promise:k}),e(43)(k,b),e(39)(b),P=e(18)[b],u(u.S+u.F*!I,b,{reject:function t(n){var e=N(this);return(0,e.reject)(n),e.promise}}),u(u.S+u.F*(r||!I),b,{resolve:function t(n){return y(r&&this===P?k:this,n)}}),u(u.S+u.F*!(I&&e(55)(function(t){k.all(t).catch(O)})),b,{all:function t(n){var e=this,r=N(e),i=r.resolve,o=r.reject,a=_(function(){var t=[],r=0,a=1;l(n,!1,function(n){var u=r++,s=!1;t.push(void 0),a++,e.resolve(n).then(function(n){s||(s=!0,t[u]=n,--a||i(t))},o)}),--a||i(t)});return a.e&&o(a.v),r.promise},race:function t(n){var e=this,r=N(e),i=r.reject,o=_(function(){l(n,!1,function(t){e.resolve(t).then(r.resolve,i)})});return o.e&&i(o.v),r.promise}})},function(t,n,e){"use strict";var r=e(118),i=e(46),o="WeakSet";e(60)(o,function(t){return function n(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function t(n){return r.def(i(this,o),n,!0)}},r,!1,!0)},function(t,n,e){"use strict";var r=e(0),i=e(61),o=e(90),a=e(1),u=e(36),s=e(8),c=e(4),f=e(2).ArrayBuffer,l=e(58),h=o.ArrayBuffer,d=o.DataView,v=i.ABV&&f.isView,p=h.prototype.slice,_=i.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(f!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,g,{isView:function t(n){return v&&v(n)||c(n)&&_ in n}}),r(r.P+r.U+r.F*e(3)(function(){return!new h(2).slice(1,void 0).byteLength}),g,{slice:function t(n,e){if(void 0!==p&&void 0===e)return p.call(a(this),n);for(var r=a(this).byteLength,i=u(n,r),o=u(void 0===e?r:e,r),c=new(l(this,h))(s(o-i)),f=new d(this),v=new d(c),_=0;i<o;)v.setUint8(_++,f.getUint8(i++));return c}}),e(39)(g)},function(t,n,e){var r=e(0);r(r.G+r.W+r.F*!e(61).ABV,{DataView:e(90).DataView})},function(t,n,e){e(27)("Int8",1,function(t){return function n(e,r,i){return t(this,e,r,i)}})},function(t,n,e){e(27)("Uint8",1,function(t){return function n(e,r,i){return t(this,e,r,i)}})},function(t,n,e){e(27)("Uint8",1,function(t){return function n(e,r,i){return t(this,e,r,i)}},!0)},function(t,n,e){e(27)("Int16",2,function(t){return function n(e,r,i){return t(this,e,r,i)}})},function(t,n,e){e(27)("Uint16",2,function(t){return function n(e,r,i){return t(this,e,r,i)}})},function(t,n,e){e(27)("Int32",4,function(t){return function n(e,r,i){return t(this,e,r,i)}})},function(t,n,e){e(27)("Uint32",4,function(t){return function n(e,r,i){return t(this,e,r,i)}})},function(t,n,e){e(27)("Float32",4,function(t){return function n(e,r,i){return t(this,e,r,i)}})},function(t,n,e){e(27)("Float64",8,function(t){return function n(e,r,i){return t(this,e,r,i)}})},function(t,n,e){var r=e(0),i=e(10),o=e(1),a=(e(2).Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!e(3)(function(){a(function(){})}),"Reflect",{apply:function t(n,e,r){var s=i(n),c=o(r);return a?a(s,e,c):u.call(s,e,c)}})},function(t,n,e){var r=e(0),i=e(37),o=e(10),a=e(1),u=e(4),s=e(3),c=e(99),f=(e(2).Reflect||{}).construct,l=s(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),h=!s(function(){f(function(){})});r(r.S+r.F*(l||h),"Reflect",{construct:function t(n,e){o(n),a(e);var r=arguments.length<3?n:o(arguments[2]);if(h&&!l)return f(n,e,r);if(n==r){switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3])}var s=[null];return s.push.apply(s,e),new(c.apply(n,s))}var d=r.prototype,v=i(u(d)?d:Object.prototype),p=Function.apply.call(n,v,e);return u(p)?p:v}})},function(t,n,e){var r=e(7),i=e(0),o=e(1),a=e(22);i(i.S+i.F*e(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function t(n,e,i){o(n),e=a(e,!0),o(i);try{return r.f(n,e,i),!0}catch(t){return!1}}})},function(t,n,e){var r=e(0),i=e(16).f,o=e(1);r(r.S,"Reflect",{deleteProperty:function t(n,e){var r=i(o(n),e);return!(r&&!r.configurable)&&delete n[e]}})},function(t,n,e){"use strict";var r=e(0),i=e(1),o=function(t){this._t=i(t),this._i=0;var n=this._k=[],e;for(e in t)n.push(e)};e(78)(o,"Object",function(){var t=this,n=t._k,e;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function t(n){return new o(n)}})},function(t,n,e){function r(t,n){var e=arguments.length<3?t:arguments[2],u,f;return c(t)===e?t[n]:(u=i.f(t,n))?a(u,"value")?u.value:void 0!==u.get?u.get.call(e):void 0:s(f=o(t))?r(f,n,e):void 0}var i=e(16),o=e(17),a=e(14),u=e(0),s=e(4),c=e(1);u(u.S,"Reflect",{get:r})},function(t,n,e){var r=e(16),i=e(0),o=e(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function t(n,e){return r.f(o(n),e)}})},function(t,n,e){var r=e(0),i=e(17),o=e(1);r(r.S,"Reflect",{getPrototypeOf:function t(n){return i(o(n))}})},function(t,n,e){var r=e(0);r(r.S,"Reflect",{has:function t(n,e){return e in n}})},function(t,n,e){var r=e(0),i=e(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function t(n){return i(n),!o||o(n)}})},function(t,n,e){var r=e(0);r(r.S,"Reflect",{ownKeys:e(120)})},function(t,n,e){var r=e(0),i=e(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function t(n){i(n);try{return o&&o(n),!0}catch(t){return!1}}})},function(t,n,e){function r(t,n,e){var s=arguments.length<4?t:arguments[3],h=o.f(f(t),n),d,v;if(!h){if(l(v=a(t)))return r(v,n,e,s);h=c(0)}if(u(h,"value")){if(!1===h.writable||!l(s))return!1;if(d=o.f(s,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=e,i.f(s,n,d)}else i.f(s,n,c(0,e));return!0}return void 0!==h.set&&(h.set.call(s,e),!0)}var i=e(7),o=e(16),a=e(17),u=e(14),s=e(0),c=e(33),f=e(1),l=e(4);s(s.S,"Reflect",{set:r})},function(t,n,e){var r=e(0),i=e(70);i&&r(r.S,"Reflect",{setPrototypeOf:function t(n,e){i.check(n,e);try{return i.set(n,e),!0}catch(t){return!1}}})},function(t,n,e){"use strict";var r=e(0),i=e(51)(!0);r(r.P,"Array",{includes:function t(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}}),e(31)("includes")},function(t,n,e){"use strict";var r=e(0),i=e(121),o=e(9),a=e(8),u=e(10),s=e(84);r(r.P,"Array",{flatMap:function t(n){var e=o(this),r,c;return u(n),r=a(e.length),c=s(e,0),i(c,e,e,r,0,1,n,arguments[1]),c}}),e(31)("flatMap")},function(t,n,e){"use strict";var r=e(0),i=e(121),o=e(9),a=e(8),u=e(24),s=e(84);r(r.P,"Array",{flatten:function t(){var n=arguments[0],e=o(this),r=a(e.length),c=s(e,0);return i(c,e,e,r,0,void 0===n?1:u(n)),c}}),e(31)("flatten")},function(t,n,e){"use strict";var r=e(0),i=e(76)(!0);r(r.P,"String",{at:function t(n){return i(this,n)}})},function(t,n,e){"use strict";var r=e(0),i=e(122),o=e(59);r(r.P+r.F*/Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(o),"String",{padStart:function t(n){return i(this,n,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,e){"use strict";var r=e(0),i=e(122),o=e(59);r(r.P+r.F*/Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(o),"String",{padEnd:function t(n){return i(this,n,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,e){"use strict";e(44)("trimLeft",function(t){return function n(){return t(this,1)}},"trimStart")},function(t,n,e){"use strict";e(44)("trimRight",function(t){return function n(){return t(this,2)}},"trimEnd")},function(t,n,e){"use strict";var r=e(0),i=e(23),o=e(8),a=e(54),u=e(56),s=RegExp.prototype,c=function(t,n){this._r=t,this._s=n};e(78)(c,"RegExp String",function t(){var n=this._r.exec(this._s);return{value:n,done:null===n}}),r(r.P,"String",{matchAll:function t(n){if(i(this),!a(n))throw TypeError(n+" is not a regexp!");var e=String(this),r="flags"in s?String(n.flags):u.call(n),f=new RegExp(n.source,~r.indexOf("g")?r:"g"+r);return f.lastIndex=o(n.lastIndex),new c(f,e)}})},function(t,n,e){e(66)("asyncIterator")},function(t,n,e){e(66)("observable")},function(t,n,e){var r=e(0),i=e(120),o=e(15),a=e(16),u=e(82);r(r.S,"Object",{getOwnPropertyDescriptors:function t(n){for(var e=o(n),r=a.f,s=i(e),c={},f=0,l,h;s.length>f;)void 0!==(h=r(e,l=s[f++]))&&u(c,l,h);return c}})},function(t,n,e){var r=e(0),i=e(123)(!1);r(r.S,"Object",{values:function t(n){return i(n)}})},function(t,n,e){var r=e(0),i=e(123)(!0);r(r.S,"Object",{entries:function t(n){return i(n)}})},function(t,n,e){"use strict";var r=e(0),i=e(9),o=e(10),a=e(7);e(6)&&r(r.P+e(62),"Object",{__defineGetter__:function t(n,e){a.f(i(this),n,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,n,e){"use strict";var r=e(0),i=e(9),o=e(10),a=e(7);e(6)&&r(r.P+e(62),"Object",{__defineSetter__:function t(n,e){a.f(i(this),n,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,n,e){"use strict";var r=e(0),i=e(9),o=e(22),a=e(17),u=e(16).f;e(6)&&r(r.P+e(62),"Object",{__lookupGetter__:function t(n){var e=i(this),r=o(n,!0),s;do{if(s=u(e,r))return s.get}while(e=a(e))}})},function(t,n,e){"use strict";var r=e(0),i=e(9),o=e(22),a=e(17),u=e(16).f;e(6)&&r(r.P+e(62),"Object",{__lookupSetter__:function t(n){var e=i(this),r=o(n,!0),s;do{if(s=u(e,r))return s.set}while(e=a(e))}})},function(t,n,e){var r=e(0);r(r.P+r.R,"Map",{toJSON:e(124)("Map")})},function(t,n,e){var r=e(0);r(r.P+r.R,"Set",{toJSON:e(124)("Set")})},function(t,n,e){e(63)("Map")},function(t,n,e){e(63)("Set")},function(t,n,e){e(63)("WeakMap")},function(t,n,e){e(63)("WeakSet")},function(t,n,e){e(64)("Map")},function(t,n,e){e(64)("Set")},function(t,n,e){e(64)("WeakMap")},function(t,n,e){e(64)("WeakSet")},function(t,n,e){var r=e(0);r(r.G,{global:e(2)})},function(t,n,e){var r=e(0);r(r.S,"System",{global:e(2)})},function(t,n,e){var r=e(0),i=e(20);r(r.S,"Error",{isError:function t(n){return"Error"===i(n)}})},function(t,n,e){var r=e(0);r(r.S,"Math",{clamp:function t(n,e,r){return Math.min(r,Math.max(e,n))}})},function(t,n,e){var r=e(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,n,e){var r=e(0),i=180/Math.PI;r(r.S,"Math",{degrees:function t(n){return n*i}})},function(t,n,e){var r=e(0),i=e(126),o=e(106);r(r.S,"Math",{fscale:function t(n,e,r,a,u){return o(i(n,e,r,a,u))}})},function(t,n,e){var r=e(0);r(r.S,"Math",{iaddh:function t(n,e,r,i){var o=n>>>0,a=e>>>0,u=r>>>0;return a+(i>>>0)+((o&u|(o|u)&~(o+u>>>0))>>>31)|0}})},function(t,n,e){var r=e(0);r(r.S,"Math",{isubh:function t(n,e,r,i){var o=n>>>0,a=e>>>0,u=r>>>0;return a-(i>>>0)-((~o&u|~(o^u)&o-u>>>0)>>>31)|0}})},function(t,n,e){var r=e(0);r(r.S,"Math",{imulh:function t(n,e){var r=65535,i=+n,o=+e,a=65535&i,u=65535&o,s=i>>16,c=o>>16,f=(s*u>>>0)+(a*u>>>16);return s*c+(f>>16)+((a*c>>>0)+(65535&f)>>16)}})},function(t,n,e){var r=e(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,n,e){var r=e(0),i=Math.PI/180;r(r.S,"Math",{radians:function t(n){return n*i}})},function(t,n,e){var r=e(0);r(r.S,"Math",{scale:e(126)})},function(t,n,e){var r=e(0);r(r.S,"Math",{umulh:function t(n,e){var r=65535,i=+n,o=+e,a=65535&i,u=65535&o,s=i>>>16,c=o>>>16,f=(s*u>>>0)+(a*u>>>16);return s*c+(f>>>16)+((a*c>>>0)+(65535&f)>>>16)}})},function(t,n,e){var r=e(0);r(r.S,"Math",{signbit:function t(n){return(n=+n)!=n?n:0==n?1/n==1/0:n>0}})},function(t,n,e){"use strict";var r=e(0),i=e(18),o=e(2),a=e(58),u=e(113);r(r.P+r.R,"Promise",{finally:function(t){var n=a(this,i.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return u(n,t()).then(function(){return e})}:t,e?function(e){return u(n,t()).then(function(){throw e})}:t)}})},function(t,n,e){"use strict";var r=e(0),i=e(89),o=e(112);r(r.S,"Promise",{try:function(t){var n=i.f(this),e=o(t);return(e.e?n.reject:n.resolve)(e.v),n.promise}})},function(t,n,e){var r=e(28),i=e(1),o=r.key,a=r.set;r.exp({defineMetadata:function t(n,e,r,u){a(n,e,i(r),o(u))}})},function(t,n,e){var r=e(28),i=e(1),o=r.key,a=r.map,u=r.store;r.exp({deleteMetadata:function t(n,e){var r=arguments.length<3?void 0:o(arguments[2]),s=a(i(e),r,!1);if(void 0===s||!s.delete(n))return!1;if(s.size)return!0;var c=u.get(e);return c.delete(r),!!c.size||u.delete(e)}})},function(t,n,e){var r=e(28),i=e(1),o=e(17),a=r.has,u=r.get,s=r.key,c=function(t,n,e){if(a(t,n,e))return u(t,n,e);var r=o(n);return null!==r?c(t,r,e):void 0};r.exp({getMetadata:function t(n,e){return c(n,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,n,e){var r=e(116),i=e(125),o=e(28),a=e(1),u=e(17),s=o.keys,c=o.key,f=function(t,n){var e=s(t,n),o=u(t);if(null===o)return e;var a=f(o,n);return a.length?e.length?i(new r(e.concat(a))):a:e};o.exp({getMetadataKeys:function t(n){return f(a(n),arguments.length<2?void 0:c(arguments[1]))}})},function(t,n,e){var r=e(28),i=e(1),o=r.get,a=r.key;r.exp({getOwnMetadata:function t(n,e){return o(n,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,n,e){var r=e(28),i=e(1),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function t(n){return o(i(n),arguments.length<2?void 0:a(arguments[1]))}})},function(t,n,e){var r=e(28),i=e(1),o=e(17),a=r.has,u=r.key,s=function(t,n,e){if(a(t,n,e))return!0;var r=o(n);return null!==r&&s(t,r,e)};r.exp({hasMetadata:function t(n,e){return s(n,i(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,e){var r=e(28),i=e(1),o=r.has,a=r.key;r.exp({hasOwnMetadata:function t(n,e){return o(n,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,n,e){var r=e(28),i=e(1),o=e(10),a=r.key,u=r.set;r.exp({metadata:function t(n,e){return function t(r,s){u(n,e,(void 0!==s?i:o)(r),a(s))}}})},function(t,n,e){var r=e(0),i=e(88)(),o=e(2).process,a="process"==e(20)(o);r(r.G,{asap:function t(n){var e=a&&o.domain;i(e?e.bind(n):n)}})},function(t,n,e){"use strict";var r=e(0),i=e(2),o=e(18),a=e(88)(),u=e(5)("observable"),s=e(10),c=e(1),f=e(40),l=e(42),h=e(11),d=e(41),v=d.RETURN,p=function(t){return null==t?void 0:s(t)},_=function(t){var n=t._c;n&&(t._c=void 0,n())},g=function(t){return void 0===t._o},y=function(t){g(t)||(t._o=void 0,_(t))},b=function(t,n){c(t),this._c=void 0,this._o=t,t=new w(this);try{var e=n(t),r=e;null!=e&&("function"===typeof e.unsubscribe?e=function(){r.unsubscribe()}:s(e),this._c=e)}catch(n){return void t.error(n)}g(this)&&_(this)};b.prototype=l({},{unsubscribe:function t(){y(this)}});var w=function(t){this._s=t};w.prototype=l({},{next:function t(n){var e=this._s;if(!g(e)){var r=e._o;try{var i=p(r.next);if(i)return i.call(r,n)}catch(t){try{y(e)}finally{throw t}}}},error:function t(n){var e=this._s;if(g(e))throw n;var r=e._o;e._o=void 0;try{var i=p(r.error);if(!i)throw n;n=i.call(r,n)}catch(t){try{_(e)}finally{throw t}}return _(e),n},complete:function t(n){var e=this._s;if(!g(e)){var r=e._o;e._o=void 0;try{var i=p(r.complete);n=i?i.call(r,n):void 0}catch(t){try{_(e)}finally{throw t}}return _(e),n}}});var m=function t(n){f(this,m,"Observable","_f")._f=s(n)};l(m.prototype,{subscribe:function t(n){return new b(n,this._f)},forEach:function t(n){var e=this;return new(o.Promise||i.Promise)(function(t,r){s(n);var i=e.subscribe({next:function(t){try{return n(t)}catch(t){r(t),i.unsubscribe()}},error:r,complete:t})})}}),l(m,{from:function t(n){var e="function"===typeof this?this:m,r=p(c(n)[u]);if(r){var i=c(r.call(n));return i.constructor===e?i:new e(function(t){return i.subscribe(t)})}return new e(function(t){var e=!1;return a(function(){if(!e){try{if(d(n,!1,function(n){if(t.next(n),e)return v})===v)return}catch(n){if(e)throw n;return void t.error(n)}t.complete()}}),function(){e=!0}})},of:function t(){for(var n=0,e=arguments.length,r=new Array(e);n<e;)r[n]=arguments[n++];return new("function"===typeof this?this:m)(function(t){var n=!1;return a(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),h(m.prototype,u,function(){return this}),r(r.G,{Observable:m}),e(39)("Observable")},function(t,n,e){var r=e(2),i=e(0),o=e(59),a=[].slice,u=/MSIE .\\./.test(o),s=function(t){return function(n,e){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof n?n:Function(n)).apply(this,i)}:n,e)}};i(i.G+i.B+i.F*u,{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},function(t,n,e){var r=e(0),i=e(87);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,e){for(var r=e(86),i=e(35),o=e(12),a=e(2),u=e(11),s=e(45),c=e(5),f=c("iterator"),l=c("toStringTag"),h=s.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=i(d),p=0;p<v.length;p++){var _=v[p],g=d[_],y=a[_],b=y&&y.prototype,w;if(b&&(b[f]||u(b,f,h),b[l]||u(b,l,_),s[_]=h,g))for(w in r)b[w]||o(b,w,r[w],!0)}},function(t,n,e){(function(n){!function(n){"use strict";function e(t,n,e,r){var o=n&&n.prototype instanceof i?n:i,a=Object.create(o.prototype),u=new d(r||[]);return a._invoke=c(t,e,u),a}function r(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function u(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function s(t){function e(n,i,o,a){var u=r(t[n],t,i);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"===typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){s.value=t,o(s)},a)}a(u.arg)}function i(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return o=o?o.then(r,r):r()}"object"===typeof n.process&&n.process.domain&&(e=n.process.domain.bind(e));var o;this._invoke=i}function c(t,n,e){var i=E;return function o(a,u){if(i===M)throw new Error("Generator is already running");if(i===A){if("throw"===a)throw u;return p()}for(e.method=a,e.arg=u;;){var s=e.delegate;if(s){var c=f(s,e);if(c){if(c===F)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(i===E)throw i=A,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i=M;var l=r(t,n,e);if("normal"===l.type){if(i=e.done?A:O,l.arg===F)continue;return{value:l.arg,done:e.done}}"throw"===l.type&&(i=A,e.method="throw",e.arg=l.arg)}}}function f(t,n){var e=t.iterator[n.method];if(e===y){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=y,f(t,n),"throw"===n.method))return F;n.method="throw",n.arg=new TypeError("The iterator does not provide a \'throw\' method")}return F}var i=r(e,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,F;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=y),n.delegate=null,F):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,F)}function l(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function h(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(l,this),this.reset(!0)}function v(t){if(t){var n=t[w];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var e=-1,r=function n(){for(;++e<t.length;)if(g.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=y,n.done=!0,n};return r.next=r}}return{next:p}}function p(){return{value:y,done:!0}}var _=Object.prototype,g=_.hasOwnProperty,y,b="function"===typeof Symbol?Symbol:{},w=b.iterator||"@@iterator",m=b.asyncIterator||"@@asyncIterator",x=b.toStringTag||"@@toStringTag",S="object"===typeof t,k=n.regeneratorRuntime;if(k)return void(S&&(t.exports=k));k=n.regeneratorRuntime=S?t.exports:{},k.wrap=e;var E="suspendedStart",O="suspendedYield",M="executing",A="completed",F={},P={};P[w]=function(){return this};var N=Object.getPrototypeOf,I=N&&N(N(v([])));I&&I!==_&&g.call(I,w)&&(P=I);var T=a.prototype=i.prototype=Object.create(P);o.prototype=T.constructor=a,a.constructor=o,a[x]=o.displayName="GeneratorFunction",k.isGeneratorFunction=function(t){var n="function"===typeof t&&t.constructor;return!!n&&(n===o||"GeneratorFunction"===(n.displayName||n.name))},k.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(T),t},k.awrap=function(t){return{__await:t}},u(s.prototype),s.prototype[m]=function(){return this},k.AsyncIterator=s,k.async=function(t,n,r,i){var o=new s(e(t,n,r,i));return k.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},u(T),T[x]="Generator",T[w]=function(){return this},T.toString=function(){return"[object Generator]"},k.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},k.values=v,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(h),!t)for(var n in this)"t"===n.charAt(0)&&g.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=y),!!r}if(this.done)throw t;for(var e=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=g.call(i,"catchLoc"),u=g.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=n,i?(this.method="next",this.next=i.finallyLoc,F):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),F},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),h(e),F}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var i=r.arg;h(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:v(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=y),F}}}("object"===typeof n?n:"object"===typeof window?window:"object"===typeof self?self:this)}).call(n,e(92))},function(t,n,e){e(334),t.exports=e(18).RegExp.escape},function(t,n,e){var r=e(0),i=e(335)(/[\\\\^$*+?.()|[\\]{}]/g,"\\\\$&");r(r.S,"RegExp",{escape:function t(n){return i(n)}})},function(t,n){t.exports=function(t,n){var e=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,e)}}},function(t,n,e){"use strict";var r=e(32).assign,i=e(337),o=e(340),a=e(131),u={};r(u,i,o,a),t.exports=u},function(t,n,e){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=s.assign({level:y,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},t||{});var n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var e=u.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(e!==p)throw new Error(f[e]);if(n.header&&u.deflateSetHeader(this.strm,n.header),n.dictionary){var i;if(i="string"===typeof n.dictionary?c.string2buf(n.dictionary):"[object ArrayBuffer]"===h.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,(e=u.deflateSetDictionary(this.strm,i))!==p)throw new Error(f[e]);this._dict_set=!0}}function i(t,n){var e=new r(n);if(e.push(t,!0),e.err)throw e.msg||f[e.err];return e.result}function o(t,n){return n=n||{},n.raw=!0,i(t,n)}function a(t,n){return n=n||{},n.gzip=!0,i(t,n)}var u=e(338),s=e(32),c=e(129),f=e(91),l=e(130),h=Object.prototype.toString,d=0,v=4,p=0,_=1,g=2,y=-1,b=0,w=8;r.prototype.push=function(t,n){var e=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;o=n===~~n?n:!0===n?4:0,"string"===typeof t?e.input=c.string2buf(t):"[object ArrayBuffer]"===h.call(t)?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new s.Buf8(r),e.next_out=0,e.avail_out=r),1!==(i=u.deflate(e,o))&&i!==p)return this.onEnd(i),this.ended=!0,!1;0!==e.avail_out&&(0!==e.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(c.buf2binstring(s.shrinkBuf(e.output,e.next_out))):this.onData(s.shrinkBuf(e.output,e.next_out)))}while((e.avail_in>0||0===e.avail_out)&&1!==i);return 4===o?(i=u.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===p):2!==o||(this.onEnd(p),e.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===p&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=r,n.deflate=i,n.deflateRaw=o,n.gzip=a},function(t,n,e){"use strict";function r(t,n){return t.msg=T[n],n}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var n=t.length;--n>=0;)t[n]=0}function a(t){var n=t.state,e=n.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(F.arraySet(t.output,n.pending_buf,n.pending_out,e,t.next_out),t.next_out+=e,n.pending_out+=e,t.total_out+=e,t.avail_out-=e,n.pending-=e,0===n.pending&&(n.pending_out=0))}function u(t,n){P._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,a(t.strm)}function s(t,n){t.pending_buf[t.pending++]=n}function c(t,n){t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=255&n}function f(t,n,e,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,F.arraySet(n,t.input,t.next_in,i,e),1===t.state.wrap?t.adler=N(t.adler,n,i,e):2===t.state.wrap&&(t.adler=I(t.adler,n,i,e)),t.next_in+=i,t.total_in+=i,i)}function l(t,n){var e=t.max_chain_length,r=t.strstart,i,o,a=t.prev_length,u=t.nice_match,s=t.strstart>t.w_size-ft?t.strstart-(t.w_size-ft):0,c=t.window,f=t.w_mask,l=t.prev,h=t.strstart+ct,d=c[r+a-1],v=c[r+a];t.prev_length>=t.good_match&&(e>>=2),u>t.lookahead&&(u=t.lookahead);do{if(i=n,c[i+a]===v&&c[i+a-1]===d&&c[i]===c[r]&&c[++i]===c[r+1]){r+=2,i++;do{}while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<h);if(o=ct-(h-r),r=h-ct,o>a){if(t.match_start=n,a=o,o>=u)break;d=c[r+a-1],v=c[r+a]}}}while((n=l[n&f])>s&&0!==--e);return a<=t.lookahead?a:t.lookahead}function h(t){var n=t.w_size,e,r,i,o,a;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=n+(n-ft)){F.arraySet(t.window,t.window,n,n,0),t.match_start-=n,t.strstart-=n,t.block_start-=n,r=t.hash_size,e=r;do{i=t.head[--e],t.head[e]=i>=n?i-n:0}while(--r);r=n,e=r;do{i=t.prev[--e],t.prev[e]=i>=n?i-n:0}while(--r);o+=n}if(0===t.strm.avail_in)break;if(r=f(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=r,t.lookahead+t.insert>=st)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+st-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<st)););}while(t.lookahead<ft&&0!==t.strm.avail_in)}function d(t,n){var e=65535;for(e>t.pending_buf_size-5&&(e=t.pending_buf_size-5);;){if(t.lookahead<=1){if(h(t),0===t.lookahead&&n===z)return bt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+e;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,u(t,!1),0===t.strm.avail_out))return bt;if(t.strstart-t.block_start>=t.w_size-ft&&(u(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,n===L?(u(t,!0),0===t.strm.avail_out?mt:xt):(t.strstart>t.block_start&&(u(t,!1),t.strm.avail_out),bt)}function v(t,n){for(var e,r;;){if(t.lookahead<ft){if(h(t),t.lookahead<ft&&n===z)return bt;if(0===t.lookahead)break}if(e=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==e&&t.strstart-e<=t.w_size-ft&&(t.match_length=l(t,e)),t.match_length>=st)if(r=P._tr_tally(t,t.strstart-t.match_start,t.match_length-st),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=st){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=P._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(u(t,!1),0===t.strm.avail_out))return bt}return t.insert=t.strstart<st-1?t.strstart:st-1,n===L?(u(t,!0),0===t.strm.avail_out?mt:xt):t.last_lit&&(u(t,!1),0===t.strm.avail_out)?bt:wt}function p(t,n){for(var e,r,i;;){if(t.lookahead<ft){if(h(t),t.lookahead<ft&&n===z)return bt;if(0===t.lookahead)break}if(e=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=st-1,0!==e&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-ft&&(t.match_length=l(t,e),t.match_length<=5&&(t.strategy===V||t.match_length===st&&t.strstart-t.match_start>4096)&&(t.match_length=st-1)),t.prev_length>=st&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-st,r=P._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-st),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=st-1,t.strstart++,r&&(u(t,!1),0===t.strm.avail_out))return bt}else if(t.match_available){if(r=P._tr_tally(t,0,t.window[t.strstart-1]),r&&u(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return bt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=P._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<st-1?t.strstart:st-1,n===L?(u(t,!0),0===t.strm.avail_out?mt:xt):t.last_lit&&(u(t,!1),0===t.strm.avail_out)?bt:wt}function _(t,n){for(var e,r,i,o,a=t.window;;){if(t.lookahead<=ct){if(h(t),t.lookahead<=ct&&n===z)return bt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=st&&t.strstart>0&&(i=t.strstart-1,(r=a[i])===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+ct;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=ct-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=st?(e=P._tr_tally(t,1,t.match_length-st),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=P._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(u(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,n===L?(u(t,!0),0===t.strm.avail_out?mt:xt):t.last_lit&&(u(t,!1),0===t.strm.avail_out)?bt:wt}function g(t,n){for(var e;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(n===z)return bt;break}if(t.match_length=0,e=P._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(u(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,n===L?(u(t,!0),0===t.strm.avail_out?mt:xt):t.last_lit&&(u(t,!1),0===t.strm.avail_out)?bt:wt}function y(t,n,e,r,i){this.good_length=t,this.max_lazy=n,this.nice_length=e,this.max_chain=r,this.func=i}function b(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=kt[t.level].max_lazy,t.good_match=kt[t.level].good_length,t.nice_match=kt[t.level].nice_length,t.max_chain_length=kt[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=st-1,t.match_available=0,t.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=X,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new F.Buf16(2*at),this.dyn_dtree=new F.Buf16(2*(2*it+1)),this.bl_tree=new F.Buf16(2*(2*ot+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new F.Buf16(ut+1),this.heap=new F.Buf16(2*rt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new F.Buf16(2*rt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function m(t){var n;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=q,n=t.state,n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?ht:gt,t.adler=2===n.wrap?0:1,n.last_flush=z,P._tr_init(n),C):r(t,U)}function x(t){var n=m(t);return n===C&&b(t.state),n}function S(t,n){return t&&t.state?2!==t.state.wrap?U:(t.state.gzhead=n,C):U}function k(t,n,e,i,o,a){if(!t)return U;var u=1;if(n===W&&(n=6),i<0?(u=0,i=-i):i>15&&(u=2,i-=16),o<1||o>$||e!==X||i<8||i>15||n<0||n>9||a<0||a>Y)return r(t,U);8===i&&(i=9);var s=new w;return t.state=s,s.strm=t,s.wrap=u,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+st-1)/st),s.window=new F.Buf8(2*s.w_size),s.head=new F.Buf16(s.hash_size),s.prev=new F.Buf16(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new F.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=n,s.strategy=a,s.method=e,x(t)}function E(t,n){return k(t,n,X,Q,tt,J)}function O(t,n){var e,u,f,l;if(!t||!t.state||n>B||n<0)return t?r(t,U):U;if(u=t.state,!t.output||!t.input&&0!==t.avail_in||u.status===yt&&n!==L)return r(t,0===t.avail_out?Z:U);if(u.strm=t,e=u.last_flush,u.last_flush=n,u.status===ht)if(2===u.wrap)t.adler=0,s(u,31),s(u,139),s(u,8),u.gzhead?(s(u,(u.gzhead.text?1:0)+(u.gzhead.hcrc?2:0)+(u.gzhead.extra?4:0)+(u.gzhead.name?8:0)+(u.gzhead.comment?16:0)),s(u,255&u.gzhead.time),s(u,u.gzhead.time>>8&255),s(u,u.gzhead.time>>16&255),s(u,u.gzhead.time>>24&255),s(u,9===u.level?2:u.strategy>=H||u.level<2?4:0),s(u,255&u.gzhead.os),u.gzhead.extra&&u.gzhead.extra.length&&(s(u,255&u.gzhead.extra.length),s(u,u.gzhead.extra.length>>8&255)),u.gzhead.hcrc&&(t.adler=I(t.adler,u.pending_buf,u.pending,0)),u.gzindex=0,u.status=dt):(s(u,0),s(u,0),s(u,0),s(u,0),s(u,0),s(u,9===u.level?2:u.strategy>=H||u.level<2?4:0),s(u,St),u.status=gt);else{var h=X+(u.w_bits-8<<4)<<8,d=-1;d=u.strategy>=H||u.level<2?0:u.level<6?1:6===u.level?2:3,h|=d<<6,0!==u.strstart&&(h|=lt),h+=31-h%31,u.status=gt,c(u,h),0!==u.strstart&&(c(u,t.adler>>>16),c(u,65535&t.adler)),t.adler=1}if(u.status===dt)if(u.gzhead.extra){for(f=u.pending;u.gzindex<(65535&u.gzhead.extra.length)&&(u.pending!==u.pending_buf_size||(u.gzhead.hcrc&&u.pending>f&&(t.adler=I(t.adler,u.pending_buf,u.pending-f,f)),a(t),f=u.pending,u.pending!==u.pending_buf_size));)s(u,255&u.gzhead.extra[u.gzindex]),u.gzindex++;u.gzhead.hcrc&&u.pending>f&&(t.adler=I(t.adler,u.pending_buf,u.pending-f,f)),u.gzindex===u.gzhead.extra.length&&(u.gzindex=0,u.status=vt)}else u.status=vt;if(u.status===vt)if(u.gzhead.name){f=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>f&&(t.adler=I(t.adler,u.pending_buf,u.pending-f,f)),a(t),f=u.pending,u.pending===u.pending_buf_size)){l=1;break}l=u.gzindex<u.gzhead.name.length?255&u.gzhead.name.charCodeAt(u.gzindex++):0,s(u,l)}while(0!==l);u.gzhead.hcrc&&u.pending>f&&(t.adler=I(t.adler,u.pending_buf,u.pending-f,f)),0===l&&(u.gzindex=0,u.status=pt)}else u.status=pt;if(u.status===pt)if(u.gzhead.comment){f=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>f&&(t.adler=I(t.adler,u.pending_buf,u.pending-f,f)),a(t),f=u.pending,u.pending===u.pending_buf_size)){l=1;break}l=u.gzindex<u.gzhead.comment.length?255&u.gzhead.comment.charCodeAt(u.gzindex++):0,s(u,l)}while(0!==l);u.gzhead.hcrc&&u.pending>f&&(t.adler=I(t.adler,u.pending_buf,u.pending-f,f)),0===l&&(u.status=_t)}else u.status=_t;if(u.status===_t&&(u.gzhead.hcrc?(u.pending+2>u.pending_buf_size&&a(t),u.pending+2<=u.pending_buf_size&&(s(u,255&t.adler),s(u,t.adler>>8&255),t.adler=0,u.status=gt)):u.status=gt),0!==u.pending){if(a(t),0===t.avail_out)return u.last_flush=-1,C}else if(0===t.avail_in&&i(n)<=i(e)&&n!==L)return r(t,Z);if(u.status===yt&&0!==t.avail_in)return r(t,Z);if(0!==t.avail_in||0!==u.lookahead||n!==z&&u.status!==yt){var v=u.strategy===H?g(u,n):u.strategy===K?_(u,n):kt[u.level].func(u,n);if(v!==mt&&v!==xt||(u.status=yt),v===bt||v===mt)return 0===t.avail_out&&(u.last_flush=-1),C;if(v===wt&&(n===R?P._tr_align(u):n!==B&&(P._tr_stored_block(u,0,0,!1),n===j&&(o(u.head),0===u.lookahead&&(u.strstart=0,u.block_start=0,u.insert=0))),a(t),0===t.avail_out))return u.last_flush=-1,C}return n!==L?C:u.wrap<=0?D:(2===u.wrap?(s(u,255&t.adler),s(u,t.adler>>8&255),s(u,t.adler>>16&255),s(u,t.adler>>24&255),s(u,255&t.total_in),s(u,t.total_in>>8&255),s(u,t.total_in>>16&255),s(u,t.total_in>>24&255)):(c(u,t.adler>>>16),c(u,65535&t.adler)),a(t),u.wrap>0&&(u.wrap=-u.wrap),0!==u.pending?C:D)}function M(t){var n;return t&&t.state?(n=t.state.status)!==ht&&n!==dt&&n!==vt&&n!==pt&&n!==_t&&n!==gt&&n!==yt?r(t,U):(t.state=null,n===gt?r(t,G):C):U}function A(t,n){var e=n.length,r,i,a,u,s,c,f,l;if(!t||!t.state)return U;if(r=t.state,2===(u=r.wrap)||1===u&&r.status!==ht||r.lookahead)return U;for(1===u&&(t.adler=N(t.adler,n,e,0)),r.wrap=0,e>=r.w_size&&(0===u&&(o(r.head),r.strstart=0,r.block_start=0,r.insert=0),l=new F.Buf8(r.w_size),F.arraySet(l,n,e-r.w_size,r.w_size,0),n=l,e=r.w_size),s=t.avail_in,c=t.next_in,f=t.input,t.avail_in=e,t.next_in=0,t.input=n,h(r);r.lookahead>=st;){i=r.strstart,a=r.lookahead-(st-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+st-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++}while(--a);r.strstart=i,r.lookahead=st-1,h(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=st-1,r.match_available=0,t.next_in=c,t.input=f,t.avail_in=s,r.wrap=u,C}var F=e(32),P=e(339),N=e(127),I=e(128),T=e(91),z=0,R=1,j=3,L=4,B=5,C=0,D=1,U=-2,G=-3,Z=-5,W=-1,V=1,H=2,K=3,Y=4,J=0,q=2,X=8,$=9,Q=15,tt=8,nt=29,et=256,rt=286,it=30,ot=19,at=2*rt+1,ut=15,st=3,ct=258,ft=ct+st+1,lt=32,ht=42,dt=69,vt=73,pt=91,_t=103,gt=113,yt=666,bt=1,wt=2,mt=3,xt=4,St=3,kt;kt=[new y(0,0,0,0,d),new y(4,4,8,4,v),new y(4,5,16,8,v),new y(4,6,32,32,v),new y(4,4,16,16,p),new y(8,16,32,32,p),new y(8,16,128,128,p),new y(8,32,128,256,p),new y(32,128,258,1024,p),new y(32,258,258,4096,p)],n.deflateInit=E,n.deflateInit2=k,n.deflateReset=x,n.deflateResetKeep=m,n.deflateSetHeader=S,n.deflate=O,n.deflateEnd=M,n.deflateSetDictionary=A,n.deflateInfo="pako deflate (from Nodeca project)"},function(t,n,e){"use strict";function r(t){for(var n=t.length;--n>=0;)t[n]=0}function i(t,n,e,r,i){this.static_tree=t,this.extra_bits=n,this.extra_base=e,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function o(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}function a(t){return t<256?st[t]:st[256+(t>>>7)]}function u(t,n){t.pending_buf[t.pending++]=255&n,t.pending_buf[t.pending++]=n>>>8&255}function s(t,n,e){t.bi_valid>J-e?(t.bi_buf|=n<<t.bi_valid&65535,u(t,t.bi_buf),t.bi_buf=n>>J-t.bi_valid,t.bi_valid+=e-J):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=e)}function c(t,n,e){s(t,e[2*n],e[2*n+1])}function f(t,n){var e=0;do{e|=1&t,t>>>=1,e<<=1}while(--n>0);return e>>>1}function l(t){16===t.bi_valid?(u(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function h(t,n){var e=n.dyn_tree,r=n.max_code,i=n.stat_desc.static_tree,o=n.stat_desc.has_stree,a=n.stat_desc.extra_bits,u=n.stat_desc.extra_base,s=n.stat_desc.max_length,c,f,l,h,d,v,p=0;for(h=0;h<=Y;h++)t.bl_count[h]=0;for(e[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<K;c++)f=t.heap[c],h=e[2*e[2*f+1]+1]+1,h>s&&(h=s,p++),e[2*f+1]=h,f>r||(t.bl_count[h]++,d=0,f>=u&&(d=a[f-u]),v=e[2*f],t.opt_len+=v*(h+d),o&&(t.static_len+=v*(i[2*f+1]+d)));if(0!==p){do{for(h=s-1;0===t.bl_count[h];)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[s]--,p-=2}while(p>0);for(h=s;0!==h;h--)for(f=t.bl_count[h];0!==f;)(l=t.heap[--c])>r||(e[2*l+1]!==h&&(t.opt_len+=(h-e[2*l+1])*e[2*l],e[2*l+1]=h),f--)}}function d(t,n,e){var r=new Array(Y+1),i=0,o,a;for(o=1;o<=Y;o++)r[o]=i=i+e[o-1]<<1;for(a=0;a<=n;a++){var u=t[2*a+1];0!==u&&(t[2*a]=f(r[u]++,u))}}function v(){var t,n,e,r,o,a=new Array(Y+1);for(e=0,r=0;r<G-1;r++)for(ft[r]=e,t=0;t<1<<nt[r];t++)ct[e++]=r;for(ct[e-1]=r,o=0,r=0;r<16;r++)for(lt[r]=o,t=0;t<1<<et[r];t++)st[o++]=r;for(o>>=7;r<V;r++)for(lt[r]=o<<7,t=0;t<1<<et[r]-7;t++)st[256+o++]=r;for(n=0;n<=Y;n++)a[n]=0;for(t=0;t<=143;)at[2*t+1]=8,t++,a[8]++;for(;t<=255;)at[2*t+1]=9,t++,a[9]++;for(;t<=279;)at[2*t+1]=7,t++,a[7]++;for(;t<=287;)at[2*t+1]=8,t++,a[8]++;for(d(at,W+1,a),t=0;t<V;t++)ut[2*t+1]=5,ut[2*t]=f(t,5);ht=new i(at,nt,Z+1,W,Y),dt=new i(ut,et,0,V,Y),vt=new i(new Array(0),rt,0,H,q)}function p(t){var n;for(n=0;n<W;n++)t.dyn_ltree[2*n]=0;for(n=0;n<V;n++)t.dyn_dtree[2*n]=0;for(n=0;n<H;n++)t.bl_tree[2*n]=0;t.dyn_ltree[2*X]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function _(t){t.bi_valid>8?u(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,n,e,r){_(t),r&&(u(t,e),u(t,~e)),I.arraySet(t.pending_buf,t.window,n,e,t.pending),t.pending+=e}function y(t,n,e,r){var i=2*n,o=2*e;return t[i]<t[o]||t[i]===t[o]&&r[n]<=r[e]}function b(t,n,e){for(var r=t.heap[e],i=e<<1;i<=t.heap_len&&(i<t.heap_len&&y(n,t.heap[i+1],t.heap[i],t.depth)&&i++,!y(n,r,t.heap[i],t.depth));)t.heap[e]=t.heap[i],e=i,i<<=1;t.heap[e]=r}function w(t,n,e){var r,i,o=0,u,f;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===r?c(t,i,n):(u=ct[i],c(t,u+Z+1,n),f=nt[u],0!==f&&(i-=ft[u],s(t,i,f)),r--,u=a(r),c(t,u,e),0!==(f=et[u])&&(r-=lt[u],s(t,r,f)))}while(o<t.last_lit);c(t,X,n)}function m(t,n){var e=n.dyn_tree,r=n.stat_desc.static_tree,i=n.stat_desc.has_stree,o=n.stat_desc.elems,a,u,s=-1,c;for(t.heap_len=0,t.heap_max=K,a=0;a<o;a++)0!==e[2*a]?(t.heap[++t.heap_len]=s=a,t.depth[a]=0):e[2*a+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=s<2?++s:0,e[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=r[2*c+1]);for(n.max_code=s,a=t.heap_len>>1;a>=1;a--)b(t,e,a);c=o;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],b(t,e,1),u=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=u,e[2*c]=e[2*a]+e[2*u],t.depth[c]=(t.depth[a]>=t.depth[u]?t.depth[a]:t.depth[u])+1,e[2*a+1]=e[2*u+1]=c,t.heap[1]=c++,b(t,e,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],h(t,n),d(e,s,t.bl_count)}function x(t,n,e){var r,i=-1,o,a=n[1],u=0,s=7,c=4;for(0===a&&(s=138,c=3),n[2*(e+1)+1]=65535,r=0;r<=e;r++)o=a,a=n[2*(r+1)+1],++u<s&&o===a||(u<c?t.bl_tree[2*o]+=u:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[2*$]++):u<=10?t.bl_tree[2*Q]++:t.bl_tree[2*tt]++,u=0,i=o,0===a?(s=138,c=3):o===a?(s=6,c=3):(s=7,c=4))}function S(t,n,e){var r,i=-1,o,a=n[1],u=0,f=7,l=4;for(0===a&&(f=138,l=3),r=0;r<=e;r++)if(o=a,a=n[2*(r+1)+1],!(++u<f&&o===a)){if(u<l)do{c(t,o,t.bl_tree)}while(0!==--u);else 0!==o?(o!==i&&(c(t,o,t.bl_tree),u--),c(t,$,t.bl_tree),s(t,u-3,2)):u<=10?(c(t,Q,t.bl_tree),s(t,u-3,3)):(c(t,tt,t.bl_tree),s(t,u-11,7));u=0,i=o,0===a?(f=138,l=3):o===a?(f=6,l=3):(f=7,l=4)}}function k(t){var n;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),m(t,t.bl_desc),n=H-1;n>=3&&0===t.bl_tree[2*it[n]+1];n--);return t.opt_len+=3*(n+1)+5+5+4,n}function E(t,n,e,r){var i;for(s(t,n-257,5),s(t,e-1,5),s(t,r-4,4),i=0;i<r;i++)s(t,t.bl_tree[2*it[i]+1],3);S(t,t.dyn_ltree,n-1),S(t,t.dyn_dtree,e-1)}function O(t){var n=4093624447,e;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return z;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return R;for(e=32;e<Z;e++)if(0!==t.dyn_ltree[2*e])return R;return z}function M(t){pt||(v(),pt=!0),t.l_desc=new o(t.dyn_ltree,ht),t.d_desc=new o(t.dyn_dtree,dt),t.bl_desc=new o(t.bl_tree,vt),t.bi_buf=0,t.bi_valid=0,p(t)}function A(t,n,e,r){s(t,(L<<1)+(r?1:0),3),g(t,n,e,!0)}function F(t){s(t,B<<1,3),c(t,X,at),l(t)}function P(t,n,e,r){var i,o,a=0;t.level>0?(t.strm.data_type===j&&(t.strm.data_type=O(t)),m(t,t.l_desc),m(t,t.d_desc),a=k(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=e+5,e+4<=i&&-1!==n?A(t,n,e,r):t.strategy===T||o===i?(s(t,(B<<1)+(r?1:0),3),w(t,at,ut)):(s(t,(C<<1)+(r?1:0),3),E(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),w(t,t.dyn_ltree,t.dyn_dtree)),p(t),r&&_(t)}function N(t,n,e){return t.pending_buf[t.d_buf+2*t.last_lit]=n>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&n,t.pending_buf[t.l_buf+t.last_lit]=255&e,t.last_lit++,0===n?t.dyn_ltree[2*e]++:(t.matches++,n--,t.dyn_ltree[2*(ct[e]+Z+1)]++,t.dyn_dtree[2*a(n)]++),t.last_lit===t.lit_bufsize-1}var I=e(32),T=4,z=0,R=1,j=2,L=0,B=1,C=2,D=3,U=258,G=29,Z=256,W=Z+1+G,V=30,H=19,K=2*W+1,Y=15,J=16,q=7,X=256,$=16,Q=17,tt=18,nt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],et=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=512,at=new Array(2*(W+2));r(at);var ut=new Array(2*V);r(ut);var st=new Array(512);r(st);var ct=new Array(256);r(ct);var ft=new Array(G);r(ft);var lt=new Array(V);r(lt);var ht,dt,vt,pt=!1;n._tr_init=M,n._tr_stored_block=A,n._tr_flush_block=P,n._tr_tally=N,n._tr_align=F},function(t,n,e){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},t||{});var n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,0===n.windowBits&&(n.windowBits=-15)),!(n.windowBits>=0&&n.windowBits<16)||t&&t.windowBits||(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&0===(15&n.windowBits)&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var e=a.inflateInit2(this.strm,n.windowBits);if(e!==c.Z_OK)throw new Error(f[e]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function i(t,n){var e=new r(n);if(e.push(t,!0),e.err)throw e.msg||f[e.err];return e.result}function o(t,n){return n=n||{},n.raw=!0,i(t,n)}var a=e(341),u=e(32),s=e(129),c=e(131),f=e(91),l=e(130),h=e(344),d=Object.prototype.toString;r.prototype.push=function(t,n){var e=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,f,l,h,v,p,_=!1;if(this.ended)return!1;f=n===~~n?n:!0===n?c.Z_FINISH:c.Z_NO_FLUSH,"string"===typeof t?e.input=s.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new u.Buf8(r),e.next_out=0,e.avail_out=r),o=a.inflate(e,c.Z_NO_FLUSH),o===c.Z_NEED_DICT&&i&&(p="string"===typeof i?s.string2buf(i):"[object ArrayBuffer]"===d.call(i)?new Uint8Array(i):i,o=a.inflateSetDictionary(this.strm,p)),o===c.Z_BUF_ERROR&&!0===_&&(o=c.Z_OK,_=!1),o!==c.Z_STREAM_END&&o!==c.Z_OK)return this.onEnd(o),this.ended=!0,!1;e.next_out&&(0!==e.avail_out&&o!==c.Z_STREAM_END&&(0!==e.avail_in||f!==c.Z_FINISH&&f!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(e.output,e.next_out),h=e.next_out-l,v=s.buf2string(e.output,l),e.next_out=h,e.avail_out=r-h,h&&u.arraySet(e.output,e.output,l,h,0),this.onData(v)):this.onData(u.shrinkBuf(e.output,e.next_out)))),0===e.avail_in&&0===e.avail_out&&(_=!0)}while((e.avail_in>0||0===e.avail_out)&&o!==c.Z_STREAM_END);return o===c.Z_STREAM_END&&(f=c.Z_FINISH),f===c.Z_FINISH?(o=a.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===c.Z_OK):f!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),e.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=r,n.inflate=i,n.inflateRaw=o,n.ungzip=i},function(t,n,e){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var n;return t&&t.state?(n=t.state,t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=1&n.wrap),n.mode=R,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new _.Buf32(dt),n.distcode=n.distdyn=new _.Buf32(vt),n.sane=1,n.back=-1,M):P}function a(t){var n;return t&&t.state?(n=t.state,n.wsize=0,n.whave=0,n.wnext=0,o(t)):P}function u(t,n){var e,r;return t&&t.state?(r=t.state,n<0?(e=0,n=-n):(e=1+(n>>4),n<48&&(n&=15)),n&&(n<8||n>15)?P:(null!==r.window&&r.wbits!==n&&(r.window=null),r.wrap=e,r.wbits=n,a(t))):P}function s(t,n){var e,r;return t?(r=new i,t.state=r,r.window=null,e=u(t,n),e!==M&&(t.state=null),e):P}function c(t){return s(t,_t)}function f(t){if(gt){var n;for(yt=new _.Buf32(512),bt=new _.Buf32(32),n=0;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(w(x,t.lens,0,288,yt,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;w(S,t.lens,0,32,bt,0,t.work,{bits:5}),gt=!1}t.lencode=yt,t.lenbits=9,t.distcode=bt,t.distbits=5}function l(t,n,e,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new _.Buf8(o.wsize)),r>=o.wsize?(_.arraySet(o.window,n,e-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),_.arraySet(o.window,n,e-r,i,o.wnext),r-=i,r?(_.arraySet(o.window,n,e-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function h(t,n){var e,i,o,a,u,s,c,h,d,v,p,dt,vt,pt,_t=0,gt,yt,bt,wt,mt,xt,St,kt,Et=new _.Buf8(4),Ot,Mt,At=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return P;e=t.state,e.mode===H&&(e.mode=K),u=t.next_out,o=t.output,c=t.avail_out,a=t.next_in,i=t.input,s=t.avail_in,h=e.hold,d=e.bits,v=s,p=c,kt=M;t:for(;;)switch(e.mode){case R:if(0===e.wrap){e.mode=K;break}for(;d<16;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}if(2&e.wrap&&35615===h){e.check=0,Et[0]=255&h,Et[1]=h>>>8&255,e.check=y(e.check,Et,2,0),h=0,d=0,e.mode=j;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",e.mode=ft;break}if((15&h)!==z){t.msg="unknown compression method",e.mode=ft;break}if(h>>>=4,d-=4,St=8+(15&h),0===e.wbits)e.wbits=St;else if(St>e.wbits){t.msg="invalid window size",e.mode=ft;break}e.dmax=1<<St,t.adler=e.check=1,e.mode=512&h?W:H,h=0,d=0;break;case j:for(;d<16;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}if(e.flags=h,(255&e.flags)!==z){t.msg="unknown compression method",e.mode=ft;break}if(57344&e.flags){t.msg="unknown header flags set",e.mode=ft;break}e.head&&(e.head.text=h>>8&1),512&e.flags&&(Et[0]=255&h,Et[1]=h>>>8&255,e.check=y(e.check,Et,2,0)),h=0,d=0,e.mode=L;case L:for(;d<32;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}e.head&&(e.head.time=h),512&e.flags&&(Et[0]=255&h,Et[1]=h>>>8&255,Et[2]=h>>>16&255,Et[3]=h>>>24&255,e.check=y(e.check,Et,4,0)),h=0,d=0,e.mode=B;case B:for(;d<16;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}e.head&&(e.head.xflags=255&h,e.head.os=h>>8),512&e.flags&&(Et[0]=255&h,Et[1]=h>>>8&255,e.check=y(e.check,Et,2,0)),h=0,d=0,e.mode=C;case C:if(1024&e.flags){for(;d<16;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}e.length=h,e.head&&(e.head.extra_len=h),512&e.flags&&(Et[0]=255&h,Et[1]=h>>>8&255,e.check=y(e.check,Et,2,0)),h=0,d=0}else e.head&&(e.head.extra=null);e.mode=D;case D:if(1024&e.flags&&(dt=e.length,dt>s&&(dt=s),dt&&(e.head&&(St=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),_.arraySet(e.head.extra,i,a,dt,St)),512&e.flags&&(e.check=y(e.check,i,dt,a)),s-=dt,a+=dt,e.length-=dt),e.length))break t;e.length=0,e.mode=U;case U:if(2048&e.flags){if(0===s)break t;dt=0;do{St=i[a+dt++],e.head&&St&&e.length<65536&&(e.head.name+=String.fromCharCode(St))}while(St&&dt<s);if(512&e.flags&&(e.check=y(e.check,i,dt,a)),s-=dt,a+=dt,St)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=G;case G:if(4096&e.flags){if(0===s)break t;dt=0;do{St=i[a+dt++],e.head&&St&&e.length<65536&&(e.head.comment+=String.fromCharCode(St))}while(St&&dt<s);if(512&e.flags&&(e.check=y(e.check,i,dt,a)),s-=dt,a+=dt,St)break t}else e.head&&(e.head.comment=null);e.mode=Z;case Z:if(512&e.flags){for(;d<16;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}if(h!==(65535&e.check)){t.msg="header crc mismatch",e.mode=ft;break}h=0,d=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=H;break;case W:for(;d<32;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}t.adler=e.check=r(h),h=0,d=0,e.mode=V;case V:if(0===e.havedict)return t.next_out=u,t.avail_out=c,t.next_in=a,t.avail_in=s,e.hold=h,e.bits=d,F;t.adler=e.check=1,e.mode=H;case H:if(n===E||n===O)break t;case K:if(e.last){h>>>=7&d,d-=7&d,e.mode=ut;break}for(;d<3;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}switch(e.last=1&h,h>>>=1,d-=1,3&h){case 0:e.mode=Y;break;case 1:if(f(e),e.mode=tt,n===O){h>>>=2,d-=2;break t}break;case 2:e.mode=X;break;case 3:t.msg="invalid block type",e.mode=ft}h>>>=2,d-=2;break;case Y:for(h>>>=7&d,d-=7&d;d<32;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}if((65535&h)!==(h>>>16^65535)){t.msg="invalid stored block lengths",e.mode=ft;break}if(e.length=65535&h,h=0,d=0,e.mode=J,n===O)break t;case J:e.mode=q;case q:if(dt=e.length){if(dt>s&&(dt=s),dt>c&&(dt=c),0===dt)break t;_.arraySet(o,i,a,dt,u),s-=dt,a+=dt,c-=dt,u+=dt,e.length-=dt;break}e.mode=H;break;case X:for(;d<14;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}if(e.nlen=257+(31&h),h>>>=5,d-=5,e.ndist=1+(31&h),h>>>=5,d-=5,e.ncode=4+(15&h),h>>>=4,d-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=ft;break}e.have=0,e.mode=$;case $:for(;e.have<e.ncode;){for(;d<3;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}e.lens[At[e.have++]]=7&h,h>>>=3,d-=3}for(;e.have<19;)e.lens[At[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,Ot={bits:e.lenbits},kt=w(m,e.lens,0,19,e.lencode,0,e.work,Ot),e.lenbits=Ot.bits,kt){t.msg="invalid code lengths set",e.mode=ft;break}e.have=0,e.mode=Q;case Q:for(;e.have<e.nlen+e.ndist;){for(;_t=e.lencode[h&(1<<e.lenbits)-1],gt=_t>>>24,yt=_t>>>16&255,bt=65535&_t,!(gt<=d);){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}if(bt<16)h>>>=gt,d-=gt,e.lens[e.have++]=bt;else{if(16===bt){for(Mt=gt+2;d<Mt;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}if(h>>>=gt,d-=gt,0===e.have){t.msg="invalid bit length repeat",e.mode=ft;break}St=e.lens[e.have-1],dt=3+(3&h),h>>>=2,d-=2}else if(17===bt){for(Mt=gt+3;d<Mt;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}h>>>=gt,d-=gt,St=0,dt=3+(7&h),h>>>=3,d-=3}else{for(Mt=gt+7;d<Mt;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}h>>>=gt,d-=gt,St=0,dt=11+(127&h),h>>>=7,d-=7}if(e.have+dt>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=ft;break}for(;dt--;)e.lens[e.have++]=St}}if(e.mode===ft)break;if(0===e.lens[256]){t.msg="invalid code -- missing end-of-block",e.mode=ft;break}if(e.lenbits=9,Ot={bits:e.lenbits},kt=w(x,e.lens,0,e.nlen,e.lencode,0,e.work,Ot),e.lenbits=Ot.bits,kt){t.msg="invalid literal/lengths set",e.mode=ft;break}if(e.distbits=6,e.distcode=e.distdyn,Ot={bits:e.distbits},kt=w(S,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,Ot),e.distbits=Ot.bits,kt){t.msg="invalid distances set",e.mode=ft;break}if(e.mode=tt,n===O)break t;case tt:e.mode=nt;case nt:if(s>=6&&c>=258){t.next_out=u,t.avail_out=c,t.next_in=a,t.avail_in=s,e.hold=h,e.bits=d,b(t,p),u=t.next_out,o=t.output,c=t.avail_out,a=t.next_in,i=t.input,s=t.avail_in,h=e.hold,d=e.bits,e.mode===H&&(e.back=-1);break}for(e.back=0;_t=e.lencode[h&(1<<e.lenbits)-1],gt=_t>>>24,yt=_t>>>16&255,bt=65535&_t,!(gt<=d);){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}if(yt&&0===(240&yt)){for(wt=gt,mt=yt,xt=bt;_t=e.lencode[xt+((h&(1<<wt+mt)-1)>>wt)],gt=_t>>>24,yt=_t>>>16&255,bt=65535&_t,!(wt+gt<=d);){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}h>>>=wt,d-=wt,e.back+=wt}if(h>>>=gt,d-=gt,e.back+=gt,e.length=bt,0===yt){e.mode=at;break}if(32&yt){e.back=-1,e.mode=H;break}if(64&yt){t.msg="invalid literal/length code",e.mode=ft;break}e.extra=15&yt,e.mode=et;case et:if(e.extra){for(Mt=e.extra;d<Mt;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}e.length+=h&(1<<e.extra)-1,h>>>=e.extra,d-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=rt;case rt:for(;_t=e.distcode[h&(1<<e.distbits)-1],gt=_t>>>24,yt=_t>>>16&255,bt=65535&_t,!(gt<=d);){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}if(0===(240&yt)){for(wt=gt,mt=yt,xt=bt;_t=e.distcode[xt+((h&(1<<wt+mt)-1)>>wt)],gt=_t>>>24,yt=_t>>>16&255,bt=65535&_t,!(wt+gt<=d);){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}h>>>=wt,d-=wt,e.back+=wt}if(h>>>=gt,d-=gt,e.back+=gt,64&yt){t.msg="invalid distance code",e.mode=ft;break}e.offset=bt,e.extra=15&yt,e.mode=it;case it:if(e.extra){for(Mt=e.extra;d<Mt;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}e.offset+=h&(1<<e.extra)-1,h>>>=e.extra,d-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=ft;break}e.mode=ot;case ot:if(0===c)break t;if(dt=p-c,e.offset>dt){if((dt=e.offset-dt)>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=ft;break}dt>e.wnext?(dt-=e.wnext,vt=e.wsize-dt):vt=e.wnext-dt,dt>e.length&&(dt=e.length),pt=e.window}else pt=o,vt=u-e.offset,dt=e.length;dt>c&&(dt=c),c-=dt,e.length-=dt;do{o[u++]=pt[vt++]}while(--dt);0===e.length&&(e.mode=nt);break;case at:if(0===c)break t;o[u++]=e.length,c--,e.mode=nt;break;case ut:if(e.wrap){for(;d<32;){if(0===s)break t;s--,h|=i[a++]<<d,d+=8}if(p-=c,t.total_out+=p,e.total+=p,p&&(t.adler=e.check=e.flags?y(e.check,o,p,u-p):g(e.check,o,p,u-p)),p=c,(e.flags?h:r(h))!==e.check){t.msg="incorrect data check",e.mode=ft;break}h=0,d=0}e.mode=st;case st:if(e.wrap&&e.flags){for(;d<32;){if(0===s)break t;s--,h+=i[a++]<<d,d+=8}if(h!==(4294967295&e.total)){t.msg="incorrect length check",e.mode=ft;break}h=0,d=0}e.mode=ct;case ct:kt=A;break t;case ft:kt=N;break t;case lt:return I;case ht:default:return P}return t.next_out=u,t.avail_out=c,t.next_in=a,t.avail_in=s,e.hold=h,e.bits=d,(e.wsize||p!==t.avail_out&&e.mode<ft&&(e.mode<ut||n!==k))&&l(t,t.output,t.next_out,p-t.avail_out)?(e.mode=lt,I):(v-=t.avail_in,p-=t.avail_out,t.total_in+=v,t.total_out+=p,e.total+=p,e.wrap&&p&&(t.adler=e.check=e.flags?y(e.check,o,p,t.next_out-p):g(e.check,o,p,t.next_out-p)),t.data_type=e.bits+(e.last?64:0)+(e.mode===H?128:0)+(e.mode===tt||e.mode===J?256:0),(0===v&&0===p||n===k)&&kt===M&&(kt=T),kt)}function d(t){if(!t||!t.state)return P;var n=t.state;return n.window&&(n.window=null),t.state=null,M}function v(t,n){var e;return t&&t.state?(e=t.state,0===(2&e.wrap)?P:(e.head=n,n.done=!1,M)):P}function p(t,n){var e=n.length,r,i,o;return t&&t.state?(r=t.state,0!==r.wrap&&r.mode!==V?P:r.mode===V&&(i=1,(i=g(i,n,e,0))!==r.check)?N:(o=l(t,n,e,e))?(r.mode=lt,I):(r.havedict=1,M)):P}var _=e(32),g=e(127),y=e(128),b=e(342),w=e(343),m=0,x=1,S=2,k=4,E=5,O=6,M=0,A=1,F=2,P=-2,N=-3,I=-4,T=-5,z=8,R=1,j=2,L=3,B=4,C=5,D=6,U=7,G=8,Z=9,W=10,V=11,H=12,K=13,Y=14,J=15,q=16,X=17,$=18,Q=19,tt=20,nt=21,et=22,rt=23,it=24,ot=25,at=26,ut=27,st=28,ct=29,ft=30,lt=31,ht=32,dt=852,vt=592,pt=15,_t=15,gt=!0,yt,bt;n.inflateReset=a,n.inflateReset2=u,n.inflateResetKeep=o,n.inflateInit=c,n.inflateInit2=s,n.inflate=h,n.inflateEnd=d,n.inflateGetHeader=v,n.inflateSetDictionary=p,n.inflateInfo="pako inflate (from Nodeca project)"},function(t,n,e){"use strict";var r=30,i=12;t.exports=function t(n,e){var r,i,o,a,u,s,c,f,l,h,d,v,p,_,g,y,b,w,m,x,S,k,E,O,M;r=n.state,i=n.next_in,O=n.input,o=i+(n.avail_in-5),a=n.next_out,M=n.output,u=a-(e-n.avail_out),s=a+(n.avail_out-257),c=r.dmax,f=r.wsize,l=r.whave,h=r.wnext,d=r.window,v=r.hold,p=r.bits,_=r.lencode,g=r.distcode,y=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{p<15&&(v+=O[i++]<<p,p+=8,v+=O[i++]<<p,p+=8),w=_[v&y];n:for(;;){if(m=w>>>24,v>>>=m,p-=m,0===(m=w>>>16&255))M[a++]=65535&w;else{if(!(16&m)){if(0===(64&m)){w=_[(65535&w)+(v&(1<<m)-1)];continue n}if(32&m){r.mode=12;break t}n.msg="invalid literal/length code",r.mode=30;break t}x=65535&w,m&=15,m&&(p<m&&(v+=O[i++]<<p,p+=8),x+=v&(1<<m)-1,v>>>=m,p-=m),p<15&&(v+=O[i++]<<p,p+=8,v+=O[i++]<<p,p+=8),w=g[v&b];e:for(;;){if(m=w>>>24,v>>>=m,p-=m,!(16&(m=w>>>16&255))){if(0===(64&m)){w=g[(65535&w)+(v&(1<<m)-1)];continue e}n.msg="invalid distance code",r.mode=30;break t}if(S=65535&w,m&=15,p<m&&(v+=O[i++]<<p,(p+=8)<m&&(v+=O[i++]<<p,p+=8)),(S+=v&(1<<m)-1)>c){n.msg="invalid distance too far back",r.mode=30;break t}if(v>>>=m,p-=m,m=a-u,S>m){if((m=S-m)>l&&r.sane){n.msg="invalid distance too far back",r.mode=30;break t}if(k=0,E=d,0===h){if(k+=f-m,m<x){x-=m;do{M[a++]=d[k++]}while(--m);k=a-S,E=M}}else if(h<m){if(k+=f+h-m,(m-=h)<x){x-=m;do{M[a++]=d[k++]}while(--m);if(k=0,h<x){m=h,x-=m;do{M[a++]=d[k++]}while(--m);k=a-S,E=M}}}else if(k+=h-m,m<x){x-=m;do{M[a++]=d[k++]}while(--m);k=a-S,E=M}for(;x>2;)M[a++]=E[k++],M[a++]=E[k++],M[a++]=E[k++],x-=3;x&&(M[a++]=E[k++],x>1&&(M[a++]=E[k++]))}else{k=a-S;do{M[a++]=M[k++],M[a++]=M[k++],M[a++]=M[k++],x-=3}while(x>2);x&&(M[a++]=M[k++],x>1&&(M[a++]=M[k++]))}break}}break}}while(i<o&&a<s);x=p>>3,i-=x,p-=x<<3,v&=(1<<p)-1,n.next_in=i,n.next_out=a,n.avail_in=i<o?o-i+5:5-(i-o),n.avail_out=a<s?s-a+257:257-(a-s),r.hold=v,r.bits=p}},function(t,n,e){"use strict";var r=e(32),i=15,o=852,a=592,u=0,s=1,c=2,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function t(n,e,i,o,a,u,s,c){var v=c.bits,p=0,_=0,g=0,y=0,b=0,w=0,m=0,x=0,S=0,k=0,E,O,M,A,F,P=null,N=0,I,T=new r.Buf16(16),z=new r.Buf16(16),R=null,j=0,L,B,C;for(p=0;p<=15;p++)T[p]=0;for(_=0;_<o;_++)T[e[i+_]]++;for(b=v,y=15;y>=1&&0===T[y];y--);if(b>y&&(b=y),0===y)return a[u++]=20971520,a[u++]=20971520,c.bits=1,0;for(g=1;g<y&&0===T[g];g++);for(b<g&&(b=g),x=1,p=1;p<=15;p++)if(x<<=1,(x-=T[p])<0)return-1;if(x>0&&(0===n||1!==y))return-1;for(z[1]=0,p=1;p<15;p++)z[p+1]=z[p]+T[p];for(_=0;_<o;_++)0!==e[i+_]&&(s[z[e[i+_]]++]=_);if(0===n?(P=R=s,I=19):1===n?(P=f,N-=257,R=l,j-=257,I=256):(P=h,R=d,I=-1),k=0,_=0,p=g,F=u,w=b,m=0,M=-1,S=1<<b,A=S-1,1===n&&S>852||2===n&&S>592)return 1;for(;;){L=p-m,s[_]<I?(B=0,C=s[_]):s[_]>I?(B=R[j+s[_]],C=P[N+s[_]]):(B=96,C=0),E=1<<p-m,O=1<<w,g=O;do{O-=E,a[F+(k>>m)+O]=L<<24|B<<16|C|0}while(0!==O);for(E=1<<p-1;k&E;)E>>=1;if(0!==E?(k&=E-1,k+=E):k=0,_++,0===--T[p]){if(p===y)break;p=e[i+s[_]]}if(p>b&&(k&A)!==M){for(0===m&&(m=b),F+=g,w=p-m,x=1<<w;w+m<y&&!((x-=T[w+m])<=0);)w++,x<<=1;if(S+=1<<w,1===n&&S>852||2===n&&S>592)return 1;M=k&A,a[M]=b<<24|w<<16|F-u|0}}return 0!==k&&(a[F+k]=p-m<<24|64<<16|0),c.bits=b,0}},function(t,n,e){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r}]);\n//# sourceMappingURL=fb8fe60529234f1eefb7.worker.js.map',null)}},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){var r=t.mesh,i=t.material,o=t.maps,a=t.options;new u.a(r,i,o,a).init().then(function(t){return t.convert()}).then(function(t){e({threeFile:t})}).catch(function(t){return console.warn(t)})})}function i(t){var e,n,r,i,o,s,d,p;return a.a.wrap(function a(f){for(;;)switch(f.prev=f.next){case 0:e=t.mesh,n=t.material,r=t.maps,i=t.options,o=new l.a,s=Object(c.a)(o),d=new u.a(e,n,r,i,o),d.init().then(function(t){return t.convert()}).catch(function(t){return console.warn(t)});case 5:return f.next=8,Object(h.c)(s);case 8:if(p=f.sent,p.type!==o.EVENT_TYPES.DONE){f.next=13;break}return f.abrupt("return",{threeFile:p.file});case 13:return f.next=15,Object(h.b)(p);case 15:f.next=5;break;case 17:case"end":return f.stop()}},f,this)}e.a=i;var o=n(296),a=n.n(o),s=n(24),u=n(633),c=n(660),l=n(213),h=n(192),f=a.a.mark(i)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(24),s=n(318),u=n(16),c=n(125),l=n.n(c),h=n(211),f=n(212),d=n(94),p=n.n(d),m=n(331),v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},y=a,b=function(t){function e(t,n,o,a,s){r(this,e);var u=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,a,s));return u.mtlFile=n,u.loadObj=u.loadObj.bind(u),u.loadObjCallback=u.loadObjCallback.bind(u),u.loadMtl=u.loadMtl.bind(u),u.loadMTLCallback=u.loadMTLCallback.bind(u),u.handleOptionsCallback=u.handleOptionsCallback.bind(u),u.convertWithMaterials=u.convertWithMaterials.bind(u),u.convertNoMaterials=u.convertNoMaterials.bind(u),u.setUpMaterials=u.setUpMaterials.bind(u),u.rectifyDataURLs=u.rectifyDataURLs.bind(u),u.loadedMaps={},u}return o(e,t),v(e,[{key:"loadObj",value:function t(e){var n=this;return new Promise(function(t,r){try{!1===n.loadersInitialized?r("ThreeConverter.init must be called before you can convert this mesh."):null!==n.meshFile?n.readASCII(n.meshFile).then(function(r){var i=new y.OBJLoader;i.setPath(""),void 0!==e&&i.setMaterials(e),n.mesh=i.parse(r),n.setUpMaterials().then(function(){return t(n.mesh)})}).catch(function(t){return r(t)}):t(new y.Mesh)}catch(t){r(t)}})}},{key:"rectifyTextureURL",value:function t(e,n){var r=n.find(function(t){return t.type===u.A});for(var i in e.materialsInfo){var o=e.materialsInfo[i];void 0!==o.map_kd&&r&&(o.map_kd=r.dataURL)}}},{key:"rectifyDataURLs",value:function t(e){var n=this;e.images.forEach(function(t){var e=Object.keys(n.loadedMaps).find(function(e){return n.loadedMaps[e].image.uuid===t.uuid}),r=n.loadedMaps[e];void 0!==r&&(t.url=r.image.currentSrc)})}},{key:"setUpMaterials",value:function t(){var e=this,n=[],r=void 0;return r=this.mesh.constructor.name===u.B?[this.mesh]:this.mesh.children,r.forEach(function(t){var r=new y.MeshStandardMaterial;for(var i in t.material)void 0!==r[i]&&(r[i]=t.material[i]);r.type=u.C,t.material=r;var o=function r(i){var o=e.maps[i],a=e.loadTexture(o.dataURL,function(n){t.material[o.type]=n,e.loadedMaps[o.type]=n});n.push(a)};for(var a in e.maps)o(a)}),Promise.all(n)}},{key:"loadMtl",value:function t(){var e=this;return new Promise(function(t,n){try{!1===e.loadersInitialized?n("ThreeConverter.init must be called before you can convert this material."):null!==e.mtlFile?e.readASCII(e.mtlFile).then(function(n){var r=new y.MTLLoader;r.setPath(""),e.materials=r.parse(n),p.a.isEmpty(e.mapFiles)?t(e.materials):e.readMaps(e.mapFiles).then(function(n){e.maps=n,e.rectifyTextureURL(e.materials,e.maps),t(e.materials)})}).catch(function(t){return n(t)}):t(new y.MeshStandardMaterial)}catch(t){console.log(t),n(t)}})}},{key:"loadMTLCallback",value:function t(e){return this.emitProgress("Reading Geometry Data",50),this.loadObj(e)}},{key:"loadObjCallback",value:function t(n){return g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"convert",this).call(this),this.emitProgress("Applying Post-Processing Options",75),this.handleOptions()}},{key:"handleOptionsCallback",value:function t(e){var n=e.toJSON();this.options.compress||void 0===this.maps||this.rectifyDataURLs(n),this.emitDone(n)}},{key:"convertWithMaterials",value:function t(){var e=this;return this.loadMtl().then(this.loadMTLCallback).then(this.loadObjCallback).then(this.handleOptionsCallback).then(function(t){return Promise.resolve(t)}).catch(function(t){return e.handleError(t)})}},{key:"convertNoMaterials",value:function t(){var e=this;return this.loadObj().then(this.loadObjCallback).then(this.handleOptionsCallback).then(function(t){return Promise.resolve(t)}).catch(function(t){return e.handleError(t)})}},{key:"convert",value:function t(){return this.emitProgress("Reading Material Data",25),null!==this.mtlFile?this.convertWithMaterials():this.convertNoMaterials()}}]),e}(m.a);e.a=b},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.MTLLoader=function(e){this.manager=void 0!==e?e:t.DefaultLoadingManager},t.MTLLoader.prototype={constructor:t.MTLLoader,load:function e(n,r,i,o){var a=this,s=new t.FileLoader(this.manager);s.setPath(this.path),s.load(n,function(t){r(a.parse(t))},i,o)},setPath:function t(e){return this.path=e,this},setTexturePath:function t(e){return this.texturePath=e,this},setBaseUrl:function t(e){return console.warn("threeInstance.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(e)},setCrossOrigin:function t(e){return this.crossOrigin=e,this},setMaterialOptions:function t(e){return this.materialOptions=e,this},parse:function e(n){for(var r=n.split("\n"),i={},o=/\s+/,a={},s=0;s<r.length;s++){var u=r[s];if(u=u.trim(),0!==u.length&&"#"!==u.charAt(0)){var c=u.indexOf(" "),l=c>=0?u.substring(0,c):u;l=l.toLowerCase();var h=c>=0?u.substring(c+1):"";if(h=h.trim(),"newmtl"===l)i={name:h},a[h]=i;else if("ka"===l||"kd"===l||"ks"===l){var f=h.split(o,3);i[l]=[parseFloat(f[0]),parseFloat(f[1]),parseFloat(f[2])]}else i[l]=h}}var d=new t.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return d.setCrossOrigin(this.crossOrigin),d.setManager(this.manager),d.setMaterials(a),d}},t.MTLLoader.MaterialCreator=function(e,n){this.baseUrl=e||"",this.options=n,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:t.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:t.RepeatWrapping},t.MTLLoader.MaterialCreator.prototype={constructor:t.MTLLoader.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function t(e){return this.crossOrigin=e,this},setManager:function t(e){this.manager=e},setMaterials:function t(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function t(e){if(!this.options)return e;var n={};for(var r in e){var i=e[r],o={};n[r]=o;for(var a in i){var s=!0,u=i[a],c=a.toLowerCase();switch(c){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(u=[u[0]/255,u[1]/255,u[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===u[0]&&0===u[1]&&0===u[2]&&(s=!1)}s&&(o[c]=u)}}return n},preload:function t(){for(var e in this.materialsInfo)this.create(e)},getIndex:function t(e){return this.nameLookup[e]},getAsArray:function t(){var e=0;for(var n in this.materialsInfo)this.materialsArray[e]=this.create(n),this.nameLookup[n]=e,e++;return this.materialsArray},create:function t(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function e(n){function r(t,e){return"string"!==typeof e||""===e?"":/^https?:\/\//i.test(e)?e:t+e}function i(t,e){if(!s[t]){var n=o.getTextureParams(e,s),i=o.loadTexture(r(o.baseUrl,n.url));i.repeat.copy(n.scale),i.offset.copy(n.offset),i.wrapS=o.wrap,i.wrapT=o.wrap,s[t]=i}}var o=this,a=this.materialsInfo[n],s={name:n,side:this.side};for(var u in a){var c=a[u],l;if(""!==c)switch(u.toLowerCase()){case"kd":s.color=(new t.Color).fromArray(c);break;case"ks":s.specular=(new t.Color).fromArray(c);break;case"map_kd":i("map",c);break;case"map_ks":i("specularMap",c);break;case"norm":i("normalMap",c);break;case"map_bump":case"bump":i("bumpMap",c);break;case"map_d":i("alphaMap",c),s.transparent=!0;break;case"ns":s.shininess=parseFloat(c);break;case"d":l=parseFloat(c),l<1&&(s.opacity=l,s.transparent=!0);break;case"tr":l=parseFloat(c),this.options&&this.options.invertTrProperty&&(l=1-l),l>0&&(s.opacity=1-l,s.transparent=!0)}}return this.materials[n]=new t.MeshPhongMaterial(s),this.materials[n]},getTextureParams:function e(n,r){var i={scale:new t.Vector2(1,1),offset:new t.Vector2(0,0)},o=n.split(/\s+/),a;return a=o.indexOf("-bm"),a>=0&&(r.bumpScale=parseFloat(o[a+1]),o.splice(a,2)),a=o.indexOf("-s"),a>=0&&(i.scale.set(parseFloat(o[a+1]),parseFloat(o[a+2])),o.splice(a,4)),a=o.indexOf("-o"),a>=0&&(i.offset.set(parseFloat(o[a+1]),parseFloat(o[a+2])),o.splice(a,4)),i.url=o.join(" ").trim(),i},loadTexture:function e(n,r,i,o,a){var s,u=t.Loader.Handlers.get(n),c=void 0!==this.manager?this.manager:t.DefaultLoadingManager;return null===u&&(u=new t.TextureLoader(c)),u.setCrossOrigin&&u.setCrossOrigin(this.crossOrigin),s=u.load(n,i,o,a),void 0!==r&&(s.mapping=r),s}},e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.OBJLoader=function(){function e(){var t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function t(e,n){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==n);var r=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==n,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function t(e,n){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var i={index:this.materials.length,name:e||"",mtllib:Array.isArray(n)&&n.length>0?n[n.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function t(e){var n={index:"number"===typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return n.clone=this.clone.bind(n),n}};return this.materials.push(i),i},currentMaterial:function t(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function t(e){var n=this.currentMaterial();if(n&&-1===n.groupEnd&&(n.groupEnd=this.geometry.vertices.length/3,n.groupCount=n.groupEnd-n.groupStart,n.inherited=!1),e&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),n}},r&&r.name&&"function"===typeof r.clone){var i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function t(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function t(e,n){var r=parseInt(e,10);return 3*(r>=0?r-1:r+n/3)},parseNormalIndex:function t(e,n){var r=parseInt(e,10);return 3*(r>=0?r-1:r+n/3)},parseUVIndex:function t(e,n){var r=parseInt(e,10);return 2*(r>=0?r-1:r+n/2)},addVertex:function t(e,n,r){var i=this.vertices,o=this.object.geometry.vertices;o.push(i[e+0],i[e+1],i[e+2]),o.push(i[n+0],i[n+1],i[n+2]),o.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function t(e){var n=this.vertices;this.object.geometry.vertices.push(n[e+0],n[e+1],n[e+2])},addVertexLine:function t(e){var n=this.vertices;this.object.geometry.vertices.push(n[e+0],n[e+1],n[e+2])},addNormal:function t(e,n,r){var i=this.normals,o=this.object.geometry.normals;o.push(i[e+0],i[e+1],i[e+2]),o.push(i[n+0],i[n+1],i[n+2]),o.push(i[r+0],i[r+1],i[r+2])},addColor:function t(e,n,r){var i=this.colors,o=this.object.geometry.colors;o.push(i[e+0],i[e+1],i[e+2]),o.push(i[n+0],i[n+1],i[n+2]),o.push(i[r+0],i[r+1],i[r+2])},addUV:function t(e,n,r){var i=this.uvs,o=this.object.geometry.uvs;o.push(i[e+0],i[e+1]),o.push(i[n+0],i[n+1]),o.push(i[r+0],i[r+1])},addUVLine:function t(e){var n=this.uvs;this.object.geometry.uvs.push(n[e+0],n[e+1])},addFace:function t(e,n,r,i,o,a,s,u,c){var l=this.vertices.length,h=this.parseVertexIndex(e,l),f=this.parseVertexIndex(n,l),d=this.parseVertexIndex(r,l);if(this.addVertex(h,f,d),void 0!==i&&""!==i){var p=this.uvs.length;h=this.parseUVIndex(i,p),f=this.parseUVIndex(o,p),d=this.parseUVIndex(a,p),this.addUV(h,f,d)}if(void 0!==s&&""!==s){var m=this.normals.length;h=this.parseNormalIndex(s,m),f=s===u?h:this.parseNormalIndex(u,m),d=s===c?h:this.parseNormalIndex(c,m),this.addNormal(h,f,d)}this.colors.length>0&&this.addColor(h,f,d)},addPointGeometry:function t(e){this.object.geometry.type="Points";for(var n=this.vertices.length,r=0,i=e.length;r<i;r++)this.addVertexPoint(this.parseVertexIndex(e[r],n))},addLineGeometry:function t(e,n){this.object.geometry.type="Line";for(var r=this.vertices.length,i=this.uvs.length,o=0,a=e.length;o<a;o++)this.addVertexLine(this.parseVertexIndex(e[o],r));for(var s=0,a=n.length;s<a;s++)this.addUVLine(this.parseUVIndex(n[s],i))}};return t.startObject("",!1),t}function n(e){this.manager=void 0!==e?e:t.DefaultLoadingManager,this.materials=null}var r=/^[og]\s*(.+)?/,i=/^mtllib /,o=/^usemtl /;return n.prototype={constructor:n,load:function e(n,r,i,o){var a=this,s=new t.FileLoader(a.manager);s.setPath(this.path),s.load(n,function(t){r(a.parse(t))},i,o)},setPath:function t(e){return this.path=e,this},setMaterials:function t(e){return this.materials=e,this},parse:function n(a){console.time("OBJLoader");var s=new e;-1!==a.indexOf("\r\n")&&(a=a.replace(/\r\n/g,"\n")),-1!==a.indexOf("\\\n")&&(a=a.replace(/\\\n/g,""));for(var u=a.split("\n"),c="",l="",h=0,f=[],d="function"===typeof"".trimLeft,p=0,m=u.length;p<m;p++)if(c=u[p],c=d?c.trimLeft():c.trim(),0!==(h=c.length)&&"#"!==(l=c.charAt(0)))if("v"===l){var v=c.split(/\s+/);switch(v[0]){case"v":s.vertices.push(parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])),8===v.length&&s.colors.push(parseFloat(v[4]),parseFloat(v[5]),parseFloat(v[6]));break;case"vn":s.normals.push(parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3]));break;case"vt":s.uvs.push(parseFloat(v[1]),parseFloat(v[2]))}}else if("f"===l){for(var g=c.substr(1).trim(),y=g.split(/\s+/),b=[],x=0,_=y.length;x<_;x++){var w=y[x];if(w.length>0){var E=w.split("/");b.push(E)}}for(var M=b[0],x=1,_=b.length-1;x<_;x++){var S=b[x],T=b[x+1];s.addFace(M[0],S[0],T[0],M[1],S[1],T[1],M[2],S[2],T[2])}}else if("l"===l){var A=c.substring(1).trim().split(" "),C=[],O=[];if(-1===c.indexOf("/"))C=A;else for(var P=0,L=A.length;P<L;P++){var R=A[P].split("/");""!==R[0]&&C.push(R[0]),""!==R[1]&&O.push(R[1])}s.addLineGeometry(C,O)}else if("p"===l){var g=c.substr(1).trim(),k=g.split(" ");s.addPointGeometry(k)}else if(null!==(f=r.exec(c))){var N=(" "+f[0].substr(1).trim()).substr(1);s.startObject(N)}else if(o.test(c))s.object.startMaterial(c.substring(7).trim(),s.materialLibraries);else if(i.test(c))s.materialLibraries.push(c.substring(7).trim());else{if("s"!==l){if("\0"===c)continue;throw new Error('threeInstance.OBJLoader: Unexpected line: "'+c+'"')}if(f=c.split(" "),f.length>1){var I=f[1].trim().toLowerCase();s.object.smooth="0"!==I&&"off"!==I}else s.object.smooth=!0;var j=s.object.currentMaterial();j&&(j.smooth=s.object.smooth)}s.finalize();var D=new t.Group;D.materialLibraries=[].concat(s.materialLibraries);for(var p=0,m=s.objects.length;p<m;p++){var B=s.objects[p],F=B.geometry,U=B.materials,G="Line"===F.type,z="Points"===F.type,V=!1;if(0!==F.vertices.length){var H=new t.BufferGeometry;H.addAttribute("position",new t.Float32BufferAttribute(F.vertices,3)),F.normals.length>0?H.addAttribute("normal",new t.Float32BufferAttribute(F.normals,3)):H.computeVertexNormals(),F.colors.length>0&&(V=!0,H.addAttribute("color",new t.Float32BufferAttribute(F.colors,3))),F.uvs.length>0&&H.addAttribute("uv",new t.Float32BufferAttribute(F.uvs,2));for(var W=[],q=0,X=U.length;q<X;q++){var Y=U[q],j=void 0;if(null!==this.materials)if(j=this.materials.create(Y.name),!G||!j||j instanceof t.LineBasicMaterial){if(z&&j&&!(j instanceof t.PointsMaterial)){var K=new t.PointsMaterial({size:10,sizeAttenuation:!1});Z.copy(j),j=K}}else{var Z=new t.LineBasicMaterial;Z.copy(j),Z.lights=!1,j=Z}j||(j=G?new t.LineBasicMaterial:z?new t.PointsMaterial({size:1,sizeAttenuation:!1}):new t.MeshPhongMaterial,j.name=Y.name),j.flatShading=!Y.smooth,j.vertexColors=V?t.VertexColors:t.NoColors,W.push(j)}var Q;if(W.length>1){for(var q=0,X=U.length;q<X;q++){var Y=U[q];H.addGroup(Y.groupStart,Y.groupCount,q)}Q=G?new t.LineSegments(H,W):z?new t.Points(H,W):new t.Mesh(H,W)}else Q=G?new t.LineSegments(H,W[0]):z?new t.Points(H,W[0]):new t.Mesh(H,W[0]);Q.name=B.name,D.add(Q)}}return console.timeEnd("OBJLoader"),D}},n}(),e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}t.exports=r},function(t,e){function n(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&n(t.slice(0,0))}t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e,n){"use strict";(function(e){function r(t,e,n){this.name=t,this.lvalue=e,this.rvalue=n,this.count=0}function i(t,e,n,r){this.body=t,this.args=e,this.thisVars=n,this.localVars=r}function o(t){if("eval"===t)throw new Error("cwise-parser: eval() not allowed");return"undefined"!==typeof window?t in window:"undefined"!==typeof e?t in e:"undefined"!==typeof self&&t in self}function a(t){for(var e=t.body[0].expression.callee.params,n=new Array(e.length),r=0;r<e.length;++r)n[r]=e[r].name;return n}function s(t){function e(t){var e=v+t.replace(/\_/g,"__");return w.push(e),e}function n(t){var e="this_"+t.replace(/\_/g,"__");return E.push(e),e}function s(t,e){for(var n=t.range[0],r=t.range[1],i=n+1;i<r;++i)x[i]="";x[n]=e}function h(t){return"'"+t.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function f(t){return x.slice(t.range[0],t.range[1]).join("")}function d(t){return"AssignmentExpression"===t.parent.type&&t.parent.left===t?"="===t.parent.operator?S:S|T:"UpdateExpression"===t.parent.type?S|T:T}for(var p=["(",t,")()"].join(""),m=u.parse(p,{range:!0}),v="_inline_"+l+++"_",g=a(m),y=new Array(g.length),b=0;b<g.length;++b)y[b]=new r([v,"arg",b,"_"].join(""),!1,!1);for(var x=new Array(p.length),b=0,_=p.length;b<_;++b)x[b]=p.charAt(b);var w=[],E=[],M=!1,S=1,T=2;return function t(r,i){if(r.parent=i,"MemberExpression"===r.type)r.computed?(t(r.object,r),t(r.property,r)):"ThisExpression"===r.object.type?s(r,n(r.property.name)):t(r.object,r);else{if("ThisExpression"===r.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===r.type){var a=r.name,u=g.indexOf(a);if(u>=0){var c=y[u],l=d(r);l&S&&(c.lvalue=!0),l&T&&(c.rvalue=!0),++c.count,s(r,c.name)}else o(a)||s(r,e(a))}else if("Literal"===r.type)"string"===typeof r.value&&s(r,h(r.value));else{if("WithStatement"===r.type)throw new Error("cwise-parser: with() statements not allowed");for(var f=Object.keys(r),p=0,m=f.length;p<m;++p)if("parent"!==f[p]){var v=r[f[p]];if(v)if(v instanceof Array)for(var b=0;b<v.length;++b)v[b]&&"string"===typeof v[b].type&&t(v[b],r);else"string"===typeof v.type&&t(v,r)}}}}(m.body[0].expression.callee.body,void 0),c(w),c(E),new i(f(m.body[0].expression.callee.body),y,E,w)}var u=n(639),c=n(320),l=0;t.exports=s}).call(e,n(33))},function(t,e,n){var r,i,o;!function(n,a){"use strict";i=[e],r=a,void 0!==(o="function"===typeof r?r.apply(e,i):r)&&(t.exports=o)}(this,function(t){"use strict";function e(t,e){if(!t)throw new Error("ASSERT: "+e)}function n(t){return t>=48&&t<=57}function r(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function i(t){return"01234567".indexOf(t)>=0}function o(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function a(t){return 10===t||13===t||8232===t||8233===t}function s(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&oe.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function u(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&oe.NonAsciiIdentifierPart.test(String.fromCharCode(t))}function c(t){switch(t){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function l(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function h(t){return"eval"===t||"arguments"===t}function f(t){if(ue&&l(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}function d(t,n,r,i,o){var a,s;e("number"===typeof r,"Comment must have valid position"),me.lastCommentStart>=r||(me.lastCommentStart=r,a={type:t,value:n},ve.range&&(a.range=[r,i]),ve.loc&&(a.loc=o),ve.comments.push(a),ve.attachComment&&(ve.leadingComments.push(a),ve.trailingComments.push(a)))}function p(t){var e,n,r,i;for(e=ce-t,n={start:{line:le,column:ce-he-t}};ce<fe;)if(r=se.charCodeAt(ce),++ce,a(r))return ve.comments&&(i=se.slice(e+t,ce-1),n.end={line:le,column:ce-he-1},d("Line",i,e,ce-1,n)),13===r&&10===se.charCodeAt(ce)&&++ce,++le,void(he=ce);ve.comments&&(i=se.slice(e+t,ce),n.end={line:le,column:ce-he},d("Line",i,e,ce,n))}function m(){var t,e,n,r;for(ve.comments&&(t=ce-2,e={start:{line:le,column:ce-he-2}});ce<fe;)if(n=se.charCodeAt(ce),a(n))13===n&&10===se.charCodeAt(ce+1)&&++ce,++le,++ce,he=ce,ce>=fe&&G({},ie.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===se.charCodeAt(ce+1))return++ce,++ce,void(ve.comments&&(r=se.slice(t+2,ce-2),e.end={line:le,column:ce-he},d("Block",r,t,ce,e)));++ce}else++ce;G({},ie.UnexpectedToken,"ILLEGAL")}function v(){var t,e;for(e=0===ce;ce<fe;)if(t=se.charCodeAt(ce),o(t))++ce;else if(a(t))++ce,13===t&&10===se.charCodeAt(ce)&&++ce,++le,he=ce,e=!0;else if(47===t)if(47===(t=se.charCodeAt(ce+1)))++ce,++ce,p(2),e=!0;else{if(42!==t)break;++ce,++ce,m()}else if(e&&45===t){if(45!==se.charCodeAt(ce+1)||62!==se.charCodeAt(ce+2))break;ce+=3,p(3)}else{if(60!==t)break;if("!--"!==se.slice(ce+1,ce+4))break;++ce,++ce,++ce,++ce,p(4)}}function g(t){var e,n,i,o=0;for(n="u"===t?4:2,e=0;e<n;++e){if(!(ce<fe&&r(se[ce])))return"";i=se[ce++],o=16*o+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(o)}function y(){var t,e;for(t=se.charCodeAt(ce++),e=String.fromCharCode(t),92===t&&(117!==se.charCodeAt(ce)&&G({},ie.UnexpectedToken,"ILLEGAL"),++ce,t=g("u"),t&&"\\"!==t&&s(t.charCodeAt(0))||G({},ie.UnexpectedToken,"ILLEGAL"),e=t);ce<fe&&(t=se.charCodeAt(ce),u(t));)++ce,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==se.charCodeAt(ce)&&G({},ie.UnexpectedToken,"ILLEGAL"),++ce,t=g("u"),t&&"\\"!==t&&u(t.charCodeAt(0))||G({},ie.UnexpectedToken,"ILLEGAL"),e+=t);return e}function b(){var t,e;for(t=ce++;ce<fe;){if(92===(e=se.charCodeAt(ce)))return ce=t,y();if(!u(e))break;++ce}return se.slice(t,ce)}function x(){var t,e,n;return t=ce,e=92===se.charCodeAt(ce)?y():b(),n=1===e.length?$t.Identifier:f(e)?$t.Keyword:"null"===e?$t.NullLiteral:"true"===e||"false"===e?$t.BooleanLiteral:$t.Identifier,{type:n,value:e,lineNumber:le,lineStart:he,start:t,end:ce}}function _(){var t=ce,e=se.charCodeAt(ce),n,r=se[ce],i,o,a;switch(e){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ce,ve.tokenize&&(40===e?ve.openParenToken=ve.tokens.length:123===e&&(ve.openCurlyToken=ve.tokens.length)),{type:$t.Punctuator,value:String.fromCharCode(e),lineNumber:le,lineStart:he,start:t,end:ce};default:if(61===(n=se.charCodeAt(ce+1)))switch(e){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ce+=2,{type:$t.Punctuator,value:String.fromCharCode(e)+String.fromCharCode(n),lineNumber:le,lineStart:he,start:t,end:ce};case 33:case 61:return ce+=2,61===se.charCodeAt(ce)&&++ce,{type:$t.Punctuator,value:se.slice(t,ce),lineNumber:le,lineStart:he,start:t,end:ce}}}return">>>="===(a=se.substr(ce,4))?(ce+=4,{type:$t.Punctuator,value:a,lineNumber:le,lineStart:he,start:t,end:ce}):">>>"===(o=a.substr(0,3))||"<<="===o||">>="===o?(ce+=3,{type:$t.Punctuator,value:o,lineNumber:le,lineStart:he,start:t,end:ce}):(i=o.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||"=>"===i?(ce+=2,{type:$t.Punctuator,value:i,lineNumber:le,lineStart:he,start:t,end:ce}):"<>=!+-*%&|^/".indexOf(r)>=0?(++ce,{type:$t.Punctuator,value:r,lineNumber:le,lineStart:he,start:t,end:ce}):void G({},ie.UnexpectedToken,"ILLEGAL"))}function w(t){for(var e="";ce<fe&&r(se[ce]);)e+=se[ce++];return 0===e.length&&G({},ie.UnexpectedToken,"ILLEGAL"),s(se.charCodeAt(ce))&&G({},ie.UnexpectedToken,"ILLEGAL"),{type:$t.NumericLiteral,value:parseInt("0x"+e,16),lineNumber:le,lineStart:he,start:t,end:ce}}function E(t){for(var e="0"+se[ce++];ce<fe&&i(se[ce]);)e+=se[ce++];return(s(se.charCodeAt(ce))||n(se.charCodeAt(ce)))&&G({},ie.UnexpectedToken,"ILLEGAL"),{type:$t.NumericLiteral,value:parseInt(e,8),octal:!0,lineNumber:le,lineStart:he,start:t,end:ce}}function M(){var t,e;for(t=ce+1;t<fe;++t){if("8"===(e=se[t])||"9"===e)return!1;if(!i(e))return!0}return!0}function S(){var t,r,o;if(o=se[ce],e(n(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),r=ce,t="","."!==o){if(t=se[ce++],o=se[ce],"0"===t){if("x"===o||"X"===o)return++ce,w(r);if(i(o)&&M())return E(r)}for(;n(se.charCodeAt(ce));)t+=se[ce++];o=se[ce]}if("."===o){for(t+=se[ce++];n(se.charCodeAt(ce));)t+=se[ce++];o=se[ce]}if("e"===o||"E"===o)if(t+=se[ce++],o=se[ce],"+"!==o&&"-"!==o||(t+=se[ce++]),n(se.charCodeAt(ce)))for(;n(se.charCodeAt(ce));)t+=se[ce++];else G({},ie.UnexpectedToken,"ILLEGAL");return s(se.charCodeAt(ce))&&G({},ie.UnexpectedToken,"ILLEGAL"),{type:$t.NumericLiteral,value:parseFloat(t),lineNumber:le,lineStart:he,start:r,end:ce}}function T(){var t="",n,r,o,s,u,c,l=!1,h,f;for(h=le,f=he,n=se[ce],e("'"===n||'"'===n,"String literal must starts with a quote"),r=ce,++ce;ce<fe;){if((o=se[ce++])===n){n="";break}if("\\"===o)if((o=se[ce++])&&a(o.charCodeAt(0)))++le,"\r"===o&&"\n"===se[ce]&&++ce,he=ce;else switch(o){case"u":case"x":c=ce,u=g(o),u?t+=u:(ce=c,t+=o);break;case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:i(o)?(s="01234567".indexOf(o),0!==s&&(l=!0),ce<fe&&i(se[ce])&&(l=!0,s=8*s+"01234567".indexOf(se[ce++]),"0123".indexOf(o)>=0&&ce<fe&&i(se[ce])&&(s=8*s+"01234567".indexOf(se[ce++]))),t+=String.fromCharCode(s)):t+=o}else{if(a(o.charCodeAt(0)))break;t+=o}}return""!==n&&G({},ie.UnexpectedToken,"ILLEGAL"),{type:$t.StringLiteral,value:t,octal:l,startLineNumber:h,startLineStart:f,lineNumber:le,lineStart:he,start:r,end:ce}}function A(t,e){var n;try{n=new RegExp(t,e)}catch(t){G({},ie.InvalidRegExp)}return n}function C(){var t,n,r,i,o;for(t=se[ce],e("/"===t,"Regular expression literal must start with a slash"),n=se[ce++],r=!1,i=!1;ce<fe;)if(t=se[ce++],n+=t,"\\"===t)t=se[ce++],a(t.charCodeAt(0))&&G({},ie.UnterminatedRegExp),n+=t;else if(a(t.charCodeAt(0)))G({},ie.UnterminatedRegExp);else if(r)"]"===t&&(r=!1);else{if("/"===t){i=!0;break}"["===t&&(r=!0)}return i||G({},ie.UnterminatedRegExp),o=n.substr(1,n.length-2),{value:o,literal:n}}function O(){var t,e,n,r;for(e="",n="";ce<fe&&(t=se[ce],u(t.charCodeAt(0)));)if(++ce,"\\"===t&&ce<fe)if("u"===(t=se[ce])){if(++ce,r=ce,t=g("u"))for(n+=t,e+="\\u";r<ce;++r)e+=se[r];else ce=r,n+="u",e+="\\u";z({},ie.UnexpectedToken,"ILLEGAL")}else e+="\\",z({},ie.UnexpectedToken,"ILLEGAL");else n+=t,e+=t;return{value:n,literal:e}}function P(){var t,e,n,r,i;return pe=null,v(),t=ce,e=C(),n=O(),i=A(e.value,n.value),ve.tokenize?{type:$t.RegularExpression,value:i,lineNumber:le,lineStart:he,start:t,end:ce}:{literal:e.literal+n.literal,value:i,start:t,end:ce}}function L(){var t,e,n,r;return v(),t=ce,e={start:{line:le,column:ce-he}},n=P(),e.end={line:le,column:ce-he},ve.tokenize||(ve.tokens.length>0&&(r=ve.tokens[ve.tokens.length-1],r.range[0]===t&&"Punctuator"===r.type&&("/"!==r.value&&"/="!==r.value||ve.tokens.pop())),ve.tokens.push({type:"RegularExpression",value:n.literal,range:[t,ce],loc:e})),n}function R(t){return t.type===$t.Identifier||t.type===$t.Keyword||t.type===$t.BooleanLiteral||t.type===$t.NullLiteral}function k(){var t,e;if(!(t=ve.tokens[ve.tokens.length-1]))return L();if("Punctuator"===t.type){if("]"===t.value)return _();if(")"===t.value)return e=ve.tokens[ve.openParenToken-1],!e||"Keyword"!==e.type||"if"!==e.value&&"while"!==e.value&&"for"!==e.value&&"with"!==e.value?_():L();if("}"===t.value){if(ve.tokens[ve.openCurlyToken-3]&&"Keyword"===ve.tokens[ve.openCurlyToken-3].type){if(!(e=ve.tokens[ve.openCurlyToken-4]))return _()}else{if(!ve.tokens[ve.openCurlyToken-4]||"Keyword"!==ve.tokens[ve.openCurlyToken-4].type)return _();if(!(e=ve.tokens[ve.openCurlyToken-5]))return L()}return ee.indexOf(e.value)>=0?_():L()}return L()}return"Keyword"===t.type&&"this"!==t.value?L():_()}function N(){var t;return v(),ce>=fe?{type:$t.EOF,lineNumber:le,lineStart:he,start:ce,end:ce}:(t=se.charCodeAt(ce),s(t)?x():40===t||41===t||59===t?_():39===t||34===t?T():46===t?n(se.charCodeAt(ce+1))?S():_():n(t)?S():ve.tokenize&&47===t?k():_())}function I(){var t,e,n,r;return v(),t={start:{line:le,column:ce-he}},e=N(),t.end={line:le,column:ce-he},e.type!==$t.EOF&&(r=se.slice(e.start,e.end),ve.tokens.push({type:te[e.type],value:r,range:[e.start,e.end],loc:t})),e}function j(){var t;return t=pe,ce=t.end,le=t.lineNumber,he=t.lineStart,pe="undefined"!==typeof ve.tokens?I():N(),ce=t.end,le=t.lineNumber,he=t.lineStart,t}function D(){var t,e,n;t=ce,e=le,n=he,pe="undefined"!==typeof ve.tokens?I():N(),ce=t,le=e,he=n}function B(t,e){this.line=t,this.column=e}function F(t,e,n,r){this.start=new B(t,e),this.end=new B(n,r)}function U(){var t,e,n,r;return t=ce,e=le,n=he,v(),r=le!==e,ce=t,le=e,he=n,r}function G(t,n){var r,i=Array.prototype.slice.call(arguments,2),o=n.replace(/%(\d)/g,function(t,n){return e(n<i.length,"Message reference must be in range"),i[n]});throw"number"===typeof t.lineNumber?(r=new Error("Line "+t.lineNumber+": "+o),r.index=t.start,r.lineNumber=t.lineNumber,r.column=t.start-he+1):(r=new Error("Line "+le+": "+o),r.index=ce,r.lineNumber=le,r.column=ce-he+1),r.description=o,r}function z(){try{G.apply(null,arguments)}catch(t){if(!ve.errors)throw t;ve.errors.push(t)}}function V(t){if(t.type===$t.EOF&&G(t,ie.UnexpectedEOS),t.type===$t.NumericLiteral&&G(t,ie.UnexpectedNumber),t.type===$t.StringLiteral&&G(t,ie.UnexpectedString),t.type===$t.Identifier&&G(t,ie.UnexpectedIdentifier),t.type===$t.Keyword){if(c(t.value))G(t,ie.UnexpectedReserved);else if(ue&&l(t.value))return void z(t,ie.StrictReservedWord);G(t,ie.UnexpectedToken,t.value)}G(t,ie.UnexpectedToken,t.value)}function H(t){var e=j();e.type===$t.Punctuator&&e.value===t||V(e)}function W(t){var e=j();e.type===$t.Keyword&&e.value===t||V(e)}function q(t){return pe.type===$t.Punctuator&&pe.value===t}function X(t){return pe.type===$t.Keyword&&pe.value===t}function Y(){var t;return pe.type===$t.Punctuator&&("="===(t=pe.value)||"*="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t)}function K(){var t,e=ce,n=le,r=he,i=pe;return 59===se.charCodeAt(ce)||q(";")?void j():(t=le,v(),le!==t?(ce=e,le=n,he=r,void(pe=i)):void(pe.type===$t.EOF||q("}")||V(pe)))}function Z(t){return t.type===ne.Identifier||t.type===ne.MemberExpression}function Q(){var t=[],e;for(e=pe,H("[");!q("]");)q(",")?(j(),t.push(null)):(t.push(vt()),q("]")||H(","));return j(),de.markEnd(de.createArrayExpression(t),e)}function J(t,e){var n,r,i;return n=ue,i=pe,r=Vt(),e&&ue&&h(t[0].name)&&z(e,ie.StrictParamName),ue=n,de.markEnd(de.createFunctionExpression(null,t,[],r),i)}function $(){var t,e;return e=pe,t=j(),t.type===$t.StringLiteral||t.type===$t.NumericLiteral?(ue&&t.octal&&z(t,ie.StrictOctalLiteral),de.markEnd(de.createLiteral(t),e)):de.markEnd(de.createIdentifier(t.value),e)}function tt(){var t,e,n,r,i,o;return t=pe,o=pe,t.type===$t.Identifier?(n=$(),"get"!==t.value||q(":")?"set"!==t.value||q(":")?(H(":"),r=vt(),de.markEnd(de.createProperty("init",n,r),o)):(e=$(),H("("),t=pe,t.type!==$t.Identifier?(H(")"),z(t,ie.UnexpectedToken,t.value),r=J([])):(i=[xt()],H(")"),r=J(i,t)),de.markEnd(de.createProperty("set",e,r),o)):(e=$(),H("("),H(")"),r=J([]),de.markEnd(de.createProperty("get",e,r),o))):t.type!==$t.EOF&&t.type!==$t.Punctuator?(e=$(),H(":"),r=vt(),de.markEnd(de.createProperty("init",e,r),o)):void V(t)}function et(){var t=[],e,n,r,i,o={},a=String,s;for(s=pe,H("{");!q("}");)e=tt(),n=e.key.type===ne.Identifier?e.key.name:a(e.key.value),i="init"===e.kind?re.Data:"get"===e.kind?re.Get:re.Set,r="$"+n,Object.prototype.hasOwnProperty.call(o,r)?(o[r]===re.Data?ue&&i===re.Data?z({},ie.StrictDuplicateProperty):i!==re.Data&&z({},ie.AccessorDataProperty):i===re.Data?z({},ie.AccessorDataProperty):o[r]&i&&z({},ie.AccessorGetSet),o[r]|=i):o[r]=i,t.push(e),q("}")||H(",");return H("}"),de.markEnd(de.createObjectExpression(t),s)}function nt(){var t;return H("("),t=gt(),H(")"),t}function rt(){var t,e,n,r;if(q("("))return nt();if(q("["))return Q();if(q("{"))return et();if(t=pe.type,r=pe,t===$t.Identifier)n=de.createIdentifier(j().value);else if(t===$t.StringLiteral||t===$t.NumericLiteral)ue&&pe.octal&&z(pe,ie.StrictOctalLiteral),n=de.createLiteral(j());else if(t===$t.Keyword){if(X("function"))return qt();X("this")?(j(),n=de.createThisExpression()):V(j())}else t===$t.BooleanLiteral?(e=j(),e.value="true"===e.value,n=de.createLiteral(e)):t===$t.NullLiteral?(e=j(),e.value=null,n=de.createLiteral(e)):q("/")||q("/=")?(n="undefined"!==typeof ve.tokens?de.createLiteral(L()):de.createLiteral(P()),D()):V(j());return de.markEnd(n,r)}function it(){var t=[];if(H("("),!q(")"))for(;ce<fe&&(t.push(vt()),!q(")"));)H(",");return H(")"),t}function ot(){var t,e;return e=pe,t=j(),R(t)||V(t),de.markEnd(de.createIdentifier(t.value),e)}function at(){return H("."),ot()}function st(){var t;return H("["),t=gt(),H("]"),t}function ut(){var t,e,n;return n=pe,W("new"),t=lt(),e=q("(")?it():[],de.markEnd(de.createNewExpression(t,e),n)}function ct(){var t,e,n,r,i=me.allowIn;for(r=pe,me.allowIn=!0,t=X("new")?ut():rt();;){if(q("."))n=at(),t=de.createMemberExpression(".",t,n);else if(q("("))e=it(),t=de.createCallExpression(t,e);else{if(!q("["))break;n=st(),t=de.createMemberExpression("[",t,n)}de.markEnd(t,r)}return me.allowIn=i,t}function lt(){var t,n,r;for(e(me.allowIn,"callee of new expression always allow in keyword."),r=pe,t=X("new")?ut():rt();q(".")||q("[");)q("[")?(n=st(),t=de.createMemberExpression("[",t,n)):(n=at(),t=de.createMemberExpression(".",t,n)),de.markEnd(t,r);return t}function ht(){var t,e,n=pe;return t=ct(),pe.type===$t.Punctuator&&(!q("++")&&!q("--")||U()||(ue&&t.type===ne.Identifier&&h(t.name)&&z({},ie.StrictLHSPostfix),Z(t)||z({},ie.InvalidLHSInAssignment),e=j(),t=de.markEnd(de.createPostfixExpression(e.value,t),n))),t}function ft(){var t,e,n;return pe.type!==$t.Punctuator&&pe.type!==$t.Keyword?e=ht():q("++")||q("--")?(n=pe,t=j(),e=ft(),ue&&e.type===ne.Identifier&&h(e.name)&&z({},ie.StrictLHSPrefix),Z(e)||z({},ie.InvalidLHSInAssignment),e=de.createUnaryExpression(t.value,e),e=de.markEnd(e,n)):q("+")||q("-")||q("~")||q("!")?(n=pe,t=j(),e=ft(),e=de.createUnaryExpression(t.value,e),e=de.markEnd(e,n)):X("delete")||X("void")||X("typeof")?(n=pe,t=j(),e=ft(),e=de.createUnaryExpression(t.value,e),e=de.markEnd(e,n),ue&&"delete"===e.operator&&e.argument.type===ne.Identifier&&z({},ie.StrictDelete)):e=ht(),e}function dt(t,e){var n=0;if(t.type!==$t.Punctuator&&t.type!==$t.Keyword)return 0;switch(t.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=e?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function pt(){var t,e,n,r,i,o,a,s,u,c;if(t=pe,u=ft(),r=pe,0===(i=dt(r,me.allowIn)))return u;for(r.prec=i,j(),e=[t,pe],a=ft(),o=[u,r,a];(i=dt(pe,me.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,u=o.pop(),n=de.createBinaryExpression(s,u,a),e.pop(),t=e[e.length-1],de.markEnd(n,t),o.push(n);r=j(),r.prec=i,o.push(r),e.push(pe),n=ft(),o.push(n)}for(c=o.length-1,n=o[c],e.pop();c>1;)n=de.createBinaryExpression(o[c-1].value,o[c-2],n),c-=2,t=e.pop(),de.markEnd(n,t);return n}function mt(){var t,e,n,r,i;return i=pe,t=pt(),q("?")&&(j(),e=me.allowIn,me.allowIn=!0,n=vt(),me.allowIn=e,H(":"),r=vt(),t=de.createConditionalExpression(t,n,r),de.markEnd(t,i)),t}function vt(){var t,e,n,r,i;return t=pe,i=pe,r=e=mt(),Y()&&(Z(e)||z({},ie.InvalidLHSInAssignment),ue&&e.type===ne.Identifier&&h(e.name)&&z(t,ie.StrictLHSAssignment),t=j(),n=vt(),r=de.markEnd(de.createAssignmentExpression(t.value,e,n),i)),r}function gt(){var t,e=pe;if(t=vt(),q(",")){for(t=de.createSequenceExpression([t]);ce<fe&&q(",");)j(),t.expressions.push(vt());de.markEnd(t,e)}return t}function yt(){for(var t=[],e;ce<fe&&!q("}")&&"undefined"!==typeof(e=Xt());)t.push(e);return t}function bt(){var t,e;return e=pe,H("{"),t=yt(),H("}"),de.markEnd(de.createBlockStatement(t),e)}function xt(){var t,e;return e=pe,t=j(),t.type!==$t.Identifier&&V(t),de.markEnd(de.createIdentifier(t.value),e)}function _t(t){var e=null,n,r;return r=pe,n=xt(),ue&&h(n.name)&&z({},ie.StrictVarName),"const"===t?(H("="),e=vt()):q("=")&&(j(),e=vt()),de.markEnd(de.createVariableDeclarator(n,e),r)}function wt(t){var e=[];do{if(e.push(_t(t)),!q(","))break;j()}while(ce<fe);return e}function Et(){var t;return W("var"),t=wt(),K(),de.createVariableDeclaration(t,"var")}function Mt(t){var e,n;return n=pe,W(t),e=wt(t),K(),de.markEnd(de.createVariableDeclaration(e,t),n)}function St(){return H(";"),de.createEmptyStatement()}function Tt(){var t=gt();return K(),de.createExpressionStatement(t)}function At(){var t,e,n;return W("if"),H("("),t=gt(),H(")"),e=zt(),X("else")?(j(),n=zt()):n=null,de.createIfStatement(t,e,n)}function Ct(){var t,e,n;return W("do"),n=me.inIteration,me.inIteration=!0,t=zt(),me.inIteration=n,W("while"),H("("),e=gt(),H(")"),q(";")&&j(),de.createDoWhileStatement(t,e)}function Ot(){var t,e,n;return W("while"),H("("),t=gt(),H(")"),n=me.inIteration,me.inIteration=!0,e=zt(),me.inIteration=n,de.createWhileStatement(t,e)}function Pt(){var t,e,n;return n=pe,t=j(),e=wt(),de.markEnd(de.createVariableDeclaration(e,t.value),n)}function Lt(){var t,e,n,r,i,o,a,s=me.allowIn;return t=e=n=null,W("for"),H("("),q(";")?j():(X("var")||X("let")?(me.allowIn=!1,t=Pt(),me.allowIn=s,1===t.declarations.length&&X("in")&&(j(),r=t,i=gt(),t=null)):(me.allowIn=!1,t=gt(),me.allowIn=s,X("in")&&(Z(t)||z({},ie.InvalidLHSInForIn),j(),r=t,i=gt(),t=null)),"undefined"===typeof r&&H(";")),"undefined"===typeof r&&(q(";")||(e=gt()),H(";"),q(")")||(n=gt())),H(")"),a=me.inIteration,me.inIteration=!0,o=zt(),me.inIteration=a,"undefined"===typeof r?de.createForStatement(t,e,n,o):de.createForInStatement(r,i,o)}function Rt(){var t=null,e;return W("continue"),59===se.charCodeAt(ce)?(j(),me.inIteration||G({},ie.IllegalContinue),de.createContinueStatement(null)):U()?(me.inIteration||G({},ie.IllegalContinue),de.createContinueStatement(null)):(pe.type===$t.Identifier&&(t=xt(),e="$"+t.name,Object.prototype.hasOwnProperty.call(me.labelSet,e)||G({},ie.UnknownLabel,t.name)),K(),null!==t||me.inIteration||G({},ie.IllegalContinue),de.createContinueStatement(t))}function kt(){var t=null,e;return W("break"),59===se.charCodeAt(ce)?(j(),me.inIteration||me.inSwitch||G({},ie.IllegalBreak),de.createBreakStatement(null)):U()?(me.inIteration||me.inSwitch||G({},ie.IllegalBreak),de.createBreakStatement(null)):(pe.type===$t.Identifier&&(t=xt(),e="$"+t.name,Object.prototype.hasOwnProperty.call(me.labelSet,e)||G({},ie.UnknownLabel,t.name)),K(),null!==t||me.inIteration||me.inSwitch||G({},ie.IllegalBreak),de.createBreakStatement(t))}function Nt(){var t=null;return W("return"),me.inFunctionBody||z({},ie.IllegalReturn),32===se.charCodeAt(ce)&&s(se.charCodeAt(ce+1))?(t=gt(),K(),de.createReturnStatement(t)):U()?de.createReturnStatement(null):(q(";")||q("}")||pe.type===$t.EOF||(t=gt()),K(),de.createReturnStatement(t))}function It(){var t,e;return ue&&(v(),z({},ie.StrictModeWith)),W("with"),H("("),t=gt(),H(")"),e=zt(),de.createWithStatement(t,e)}function jt(){var t,e=[],n,r;for(r=pe,X("default")?(j(),t=null):(W("case"),t=gt()),H(":");ce<fe&&!(q("}")||X("default")||X("case"));)n=zt(),e.push(n);return de.markEnd(de.createSwitchCase(t,e),r)}function Dt(){var t,e,n,r,i;if(W("switch"),H("("),t=gt(),H(")"),H("{"),e=[],q("}"))return j(),de.createSwitchStatement(t,e);for(r=me.inSwitch,me.inSwitch=!0,i=!1;ce<fe&&!q("}");)n=jt(),null===n.test&&(i&&G({},ie.MultipleDefaultsInSwitch),i=!0),e.push(n);return me.inSwitch=r,H("}"),de.createSwitchStatement(t,e)}function Bt(){var t;return W("throw"),U()&&G({},ie.NewlineAfterThrow),t=gt(),K(),de.createThrowStatement(t)}function Ft(){var t,e,n;return n=pe,W("catch"),H("("),q(")")&&V(pe),t=xt(),ue&&h(t.name)&&z({},ie.StrictCatchVariable),H(")"),e=bt(),de.markEnd(de.createCatchClause(t,e),n)}function Ut(){var t,e=[],n=null;return W("try"),t=bt(),X("catch")&&e.push(Ft()),X("finally")&&(j(),n=bt()),0!==e.length||n||G({},ie.NoCatchOrFinally),de.createTryStatement(t,[],e,n)}function Gt(){return W("debugger"),K(),de.createDebuggerStatement()}function zt(){var t=pe.type,e,n,r,i;if(t===$t.EOF&&V(pe),t===$t.Punctuator&&"{"===pe.value)return bt();if(i=pe,t===$t.Punctuator)switch(pe.value){case";":return de.markEnd(St(),i);case"(":return de.markEnd(Tt(),i)}if(t===$t.Keyword)switch(pe.value){case"break":return de.markEnd(kt(),i);case"continue":return de.markEnd(Rt(),i);case"debugger":return de.markEnd(Gt(),i);case"do":return de.markEnd(Ct(),i);case"for":return de.markEnd(Lt(),i);case"function":return de.markEnd(Wt(),i);case"if":return de.markEnd(At(),i);case"return":return de.markEnd(Nt(),i);case"switch":return de.markEnd(Dt(),i);case"throw":return de.markEnd(Bt(),i);case"try":return de.markEnd(Ut(),i);case"var":return de.markEnd(Et(),i);case"while":return de.markEnd(Ot(),i);case"with":return de.markEnd(It(),i)}return e=gt(),e.type===ne.Identifier&&q(":")?(j(),r="$"+e.name,Object.prototype.hasOwnProperty.call(me.labelSet,r)&&G({},ie.Redeclaration,"Label",e.name),me.labelSet[r]=!0,n=zt(),delete me.labelSet[r],de.markEnd(de.createLabeledStatement(e,n),i)):(K(),de.markEnd(de.createExpressionStatement(e),i))}function Vt(){var t,e=[],n,r,i,o,a,s,u,c;for(c=pe,H("{");ce<fe&&pe.type===$t.StringLiteral&&(n=pe,t=Xt(),e.push(t),t.expression.type===ne.Literal);)r=se.slice(n.start+1,n.end-1),"use strict"===r?(ue=!0,i&&z(i,ie.StrictOctalLiteral)):!i&&n.octal&&(i=n);for(o=me.labelSet,a=me.inIteration,s=me.inSwitch,u=me.inFunctionBody,me.labelSet={},me.inIteration=!1,me.inSwitch=!1,me.inFunctionBody=!0;ce<fe&&!q("}")&&"undefined"!==typeof(t=Xt());)e.push(t);return H("}"),me.labelSet=o,me.inIteration=a,me.inSwitch=s,me.inFunctionBody=u,de.markEnd(de.createBlockStatement(e),c)}function Ht(t){var e,n=[],r,i,o,a,s;if(H("("),!q(")"))for(o={};ce<fe&&(r=pe,e=xt(),a="$"+r.value,ue?(h(r.value)&&(i=r,s=ie.StrictParamName),Object.prototype.hasOwnProperty.call(o,a)&&(i=r,s=ie.StrictParamDupe)):t||(h(r.value)?(t=r,s=ie.StrictParamName):l(r.value)?(t=r,s=ie.StrictReservedWord):Object.prototype.hasOwnProperty.call(o,a)&&(t=r,s=ie.StrictParamDupe)),n.push(e),o[a]=!0,!q(")"));)H(",");return H(")"),{params:n,stricted:i,firstRestricted:t,message:s}}function Wt(){var t,e=[],n,r,i,o,a,s,u,c;return c=pe,W("function"),r=pe,t=xt(),ue?h(r.value)&&z(r,ie.StrictFunctionName):h(r.value)?(a=r,s=ie.StrictFunctionName):l(r.value)&&(a=r,s=ie.StrictReservedWord),o=Ht(a),e=o.params,i=o.stricted,a=o.firstRestricted,o.message&&(s=o.message),u=ue,n=Vt(),ue&&a&&G(a,s),ue&&i&&z(i,s),ue=u,de.markEnd(de.createFunctionDeclaration(t,e,[],n),c)}function qt(){var t,e=null,n,r,i,o,a=[],s,u,c;return c=pe,W("function"),q("(")||(t=pe,e=xt(),ue?h(t.value)&&z(t,ie.StrictFunctionName):h(t.value)?(r=t,i=ie.StrictFunctionName):l(t.value)&&(r=t,i=ie.StrictReservedWord)),o=Ht(r),a=o.params,n=o.stricted,r=o.firstRestricted,o.message&&(i=o.message),u=ue,s=Vt(),ue&&r&&G(r,i),ue&&n&&z(n,i),ue=u,de.markEnd(de.createFunctionExpression(e,a,[],s),c)}function Xt(){if(pe.type===$t.Keyword)switch(pe.value){case"const":case"let":return Mt(pe.value);case"function":return Wt();default:return zt()}if(pe.type!==$t.EOF)return zt()}function Yt(){for(var t,e=[],n,r,i;ce<fe&&(n=pe,n.type===$t.StringLiteral)&&(t=Xt(),e.push(t),t.expression.type===ne.Literal);)r=se.slice(n.start+1,n.end-1),"use strict"===r?(ue=!0,i&&z(i,ie.StrictOctalLiteral)):!i&&n.octal&&(i=n);for(;ce<fe&&"undefined"!==typeof(t=Xt());)e.push(t);return e}function Kt(){var t,e;return v(),D(),e=pe,ue=!1,t=Yt(),de.markEnd(de.createProgram(t),e)}function Zt(){var t,e,n,r=[];for(t=0;t<ve.tokens.length;++t)e=ve.tokens[t],n={type:e.type,value:e.value},ve.range&&(n.range=e.range),ve.loc&&(n.loc=e.loc),r.push(n);ve.tokens=r}function Qt(t,e){var n,r,i;n=String,"string"===typeof t||t instanceof String||(t=n(t)),de=ae,se=t,ce=0,le=se.length>0?1:0,he=0,fe=se.length,pe=null,me={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},ve={},e=e||{},e.tokens=!0,ve.tokens=[],ve.tokenize=!0,ve.openParenToken=-1,ve.openCurlyToken=-1,ve.range="boolean"===typeof e.range&&e.range,ve.loc="boolean"===typeof e.loc&&e.loc,"boolean"===typeof e.comment&&e.comment&&(ve.comments=[]),"boolean"===typeof e.tolerant&&e.tolerant&&(ve.errors=[]);try{if(D(),pe.type===$t.EOF)return ve.tokens;for(r=j();pe.type!==$t.EOF;)try{r=j()}catch(t){if(r=pe,ve.errors){ve.errors.push(t);break}throw t}Zt(),i=ve.tokens,"undefined"!==typeof ve.comments&&(i.comments=ve.comments),"undefined"!==typeof ve.errors&&(i.errors=ve.errors)}catch(t){throw t}finally{ve={}}return i}function Jt(t,e){var n,r;r=String,"string"===typeof t||t instanceof String||(t=r(t)),de=ae,se=t,ce=0,le=se.length>0?1:0,he=0,fe=se.length,pe=null,me={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},ve={},"undefined"!==typeof e&&(ve.range="boolean"===typeof e.range&&e.range,ve.loc="boolean"===typeof e.loc&&e.loc,ve.attachComment="boolean"===typeof e.attachComment&&e.attachComment,ve.loc&&null!==e.source&&void 0!==e.source&&(ve.source=r(e.source)),"boolean"===typeof e.tokens&&e.tokens&&(ve.tokens=[]),"boolean"===typeof e.comment&&e.comment&&(ve.comments=[]),"boolean"===typeof e.tolerant&&e.tolerant&&(ve.errors=[]),ve.attachComment&&(ve.range=!0,ve.comments=[],ve.bottomRightStack=[],ve.trailingComments=[],ve.leadingComments=[]));try{n=Kt(),"undefined"!==typeof ve.comments&&(n.comments=ve.comments),"undefined"!==typeof ve.tokens&&(Zt(),n.tokens=ve.tokens),"undefined"!==typeof ve.errors&&(n.errors=ve.errors)}catch(t){throw t}finally{ve={}}return n}var $t,te,ee,ne,re,ie,oe,ae,se,ue,ce,le,he,fe,de,pe,me,ve;$t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},te={},te[$t.BooleanLiteral]="Boolean",te[$t.EOF]="<end>",te[$t.Identifier]="Identifier",te[$t.Keyword]="Keyword",te[$t.NullLiteral]="Null",te[$t.NumericLiteral]="Numeric",te[$t.Punctuator]="Punctuator",te[$t.StringLiteral]="String",te[$t.RegularExpression]="RegularExpression",ee=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],ne={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},re={Data:1,Get:2,Set:4},ie={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},oe={NonAsciiIdentifierStart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),NonAsciiIdentifierPart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0\u08a2-\u08ac\u08e4-\u08fe\u0900-\u0963\u0966-\u096f\u0971-\u0977\u0979-\u097f\u0981-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191c\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1d00-\u1de6\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua697\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a\uaa7b\uaa80-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")},ae={name:"SyntaxTree",processComment:function(t){var e,n;if(!(t.type===ne.Program&&t.body.length>0)){for(ve.trailingComments.length>0?ve.trailingComments[0].range[0]>=t.range[1]?(n=ve.trailingComments,ve.trailingComments=[]):ve.trailingComments.length=0:ve.bottomRightStack.length>0&&ve.bottomRightStack[ve.bottomRightStack.length-1].trailingComments&&ve.bottomRightStack[ve.bottomRightStack.length-1].trailingComments[0].range[0]>=t.range[1]&&(n=ve.bottomRightStack[ve.bottomRightStack.length-1].trailingComments,delete ve.bottomRightStack[ve.bottomRightStack.length-1].trailingComments);ve.bottomRightStack.length>0&&ve.bottomRightStack[ve.bottomRightStack.length-1].range[0]>=t.range[0];)e=ve.bottomRightStack.pop();e?e.leadingComments&&e.leadingComments[e.leadingComments.length-1].range[1]<=t.range[0]&&(t.leadingComments=e.leadingComments,delete e.leadingComments):ve.leadingComments.length>0&&ve.leadingComments[ve.leadingComments.length-1].range[1]<=t.range[0]&&(t.leadingComments=ve.leadingComments,ve.leadingComments=[]),n&&(t.trailingComments=n),ve.bottomRightStack.push(t)}},markEnd:function(t,e){return ve.range&&(t.range=[e.start,ce]),ve.loc&&(t.loc=new F(void 0===e.startLineNumber?e.lineNumber:e.startLineNumber,e.start-(void 0===e.startLineStart?e.lineStart:e.startLineStart),le,ce-he),this.postProcess(t)),ve.attachComment&&this.processComment(t),t},postProcess:function(t){return ve.source&&(t.loc.source=ve.source),t},createArrayExpression:function(t){return{type:ne.ArrayExpression,elements:t}},createAssignmentExpression:function(t,e,n){return{type:ne.AssignmentExpression,operator:t,left:e,right:n}},createBinaryExpression:function(t,e,n){return{type:"||"===t||"&&"===t?ne.LogicalExpression:ne.BinaryExpression,operator:t,left:e,right:n}},createBlockStatement:function(t){return{type:ne.BlockStatement,body:t}},createBreakStatement:function(t){return{type:ne.BreakStatement,label:t}},createCallExpression:function(t,e){return{type:ne.CallExpression,callee:t,arguments:e}},createCatchClause:function(t,e){return{type:ne.CatchClause,param:t,body:e}},createConditionalExpression:function(t,e,n){return{type:ne.ConditionalExpression,test:t,consequent:e,alternate:n}},createContinueStatement:function(t){return{type:ne.ContinueStatement,label:t}},createDebuggerStatement:function(){return{type:ne.DebuggerStatement}},createDoWhileStatement:function(t,e){return{type:ne.DoWhileStatement,body:t,test:e}},createEmptyStatement:function(){return{type:ne.EmptyStatement}},createExpressionStatement:function(t){return{type:ne.ExpressionStatement,expression:t}},createForStatement:function(t,e,n,r){return{type:ne.ForStatement,init:t,test:e,update:n,body:r}},createForInStatement:function(t,e,n){return{type:ne.ForInStatement,left:t,right:e,body:n,each:!1}},createFunctionDeclaration:function(t,e,n,r){return{type:ne.FunctionDeclaration,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(t,e,n,r){return{type:ne.FunctionExpression,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createIdentifier:function(t){return{type:ne.Identifier,name:t}},createIfStatement:function(t,e,n){return{type:ne.IfStatement,test:t,consequent:e,alternate:n}},createLabeledStatement:function(t,e){return{type:ne.LabeledStatement,label:t,body:e}},createLiteral:function(t){return{type:ne.Literal,value:t.value,raw:se.slice(t.start,t.end)}},createMemberExpression:function(t,e,n){return{type:ne.MemberExpression,computed:"["===t,object:e,property:n}},createNewExpression:function(t,e){return{type:ne.NewExpression,callee:t,arguments:e}},createObjectExpression:function(t){return{type:ne.ObjectExpression,properties:t}},createPostfixExpression:function(t,e){return{type:ne.UpdateExpression,operator:t,argument:e,prefix:!1}},createProgram:function(t){return{type:ne.Program,body:t}},createProperty:function(t,e,n){return{type:ne.Property,key:e,value:n,kind:t}},createReturnStatement:function(t){return{type:ne.ReturnStatement,argument:t}},createSequenceExpression:function(t){return{type:ne.SequenceExpression,expressions:t}},createSwitchCase:function(t,e){return{type:ne.SwitchCase,test:t,consequent:e}},createSwitchStatement:function(t,e){return{type:ne.SwitchStatement,discriminant:t,cases:e}},createThisExpression:function(){return{type:ne.ThisExpression}},createThrowStatement:function(t){return{type:ne.ThrowStatement,argument:t}},createTryStatement:function(t,e,n,r){return{type:ne.TryStatement,block:t,guardedHandlers:e,handlers:n,finalizer:r}},createUnaryExpression:function(t,e){return"++"===t||"--"===t?{type:ne.UpdateExpression,operator:t,argument:e,prefix:!0}:{type:ne.UnaryExpression,operator:t,argument:e,prefix:!0}},createVariableDeclaration:function(t,e){return{type:ne.VariableDeclaration,declarations:t,kind:e}},createVariableDeclarator:function(t,e){return{type:ne.VariableDeclarator,id:t,init:e}},createWhileStatement:function(t,e){return{type:ne.WhileStatement,test:t,body:e}},createWithStatement:function(t,e){return{type:ne.WithStatement,object:t,body:e}}},t.version="1.2.5",t.tokenize=Qt,t.parse=Jt,t.Syntax=function(){var t,e={};"function"===typeof Object.create&&(e=Object.create(null));for(t in ne)ne.hasOwnProperty(t)&&(e[t]=ne[t]);return"function"===typeof Object.freeze&&Object.freeze(e),e}()})},function(t,e,n){"use strict";function r(t){var e=["'use strict'","var CACHED={}"],n=[],r=t.funcName+"_cwise_thunk";e.push(["return function ",r,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],l=0;l<t.arrayArgs.length;++l){var h=t.arrayArgs[l];n.push(["t",h,"=array",h,".dtype,","r",h,"=array",h,".order"].join("")),o.push("t"+h),o.push("r"+h),a.push("t"+h),a.push("r"+h+".join()"),s.push("array"+h+".data"),s.push("array"+h+".stride"),s.push("array"+h+".offset|0"),l>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+h+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+h+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var l=0;l<t.scalarArgs.length;++l)s.push("scalar"+t.scalarArgs[l]);return n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(i.bind(void 0,t))}var i=n(641);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=t.length,i=e.arrayArgs.length,o=e.indexArgs.length>0,a=[],s=[],u=0,c=0,l,h;for(l=0;l<r;++l)s.push(["i",l,"=0"].join(""));for(h=0;h<i;++h)for(l=0;l<r;++l)c=u,u=t[l],0===l?s.push(["d",h,"s",l,"=t",h,"p",u].join("")):s.push(["d",h,"s",l,"=(t",h,"p",u,"-s",c,"*t",h,"p",c,")"].join(""));for(s.length>0&&a.push("var "+s.join(",")),l=r-1;l>=0;--l)u=t[l],a.push(["for(i",l,"=0;i",l,"<s",u,";++i",l,"){"].join(""));for(a.push(n),l=0;l<r;++l){for(c=u,u=t[l],h=0;h<i;++h)a.push(["p",h,"+=d",h,"s",l].join(""));o&&(l>0&&a.push(["index[",c,"]-=s",c].join("")),a.push(["++index[",u,"]"].join(""))),a.push("}")}return a.join("\n")}function i(t,e,n,i){for(var o=e.length,a=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,c=[],l=0;l<a;++l)c.push(["var offset",l,"=p",l].join(""));for(var l=t;l<o;++l)c.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",s,"){"].join("")),c.push(["s",e[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",e[l],"=",s].join("")),c.push(["j",l,"-=",s,"}"].join("")),u&&c.push(["index[",e[l],"]=j",l].join(""));for(var l=0;l<a;++l){for(var h=["offset"+l],f=t;f<o;++f)h.push(["j",f,"*t",l,"p",e[f]].join(""));c.push(["p",l,"=(",h.join("+"),")"].join(""))}c.push(r(e,n,i));for(var l=t;l<o;++l)c.push("}");return c.join("\n")}function o(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}function a(t,e,n){for(var r=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",l=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var h=e.offsetArgIndex.indexOf(a);l=e.offsetArgs[h].array,c="+q"+h;case"array":c="p"+l+c;var f="l"+a,d="a"+l;if(0===e.arrayBlockIndices[l])1===s.count?"generic"===n[l]?s.lvalue?(i.push(["var ",f,"=",d,".get(",c,")"].join("")),r=r.replace(u,f),o.push([d,".set(",c,",",f,")"].join(""))):r=r.replace(u,[d,".get(",c,")"].join("")):r=r.replace(u,[d,"[",c,"]"].join("")):"generic"===n[l]?(i.push(["var ",f,"=",d,".get(",c,")"].join("")),r=r.replace(u,f),s.lvalue&&o.push([d,".set(",c,",",f,")"].join(""))):(i.push(["var ",f,"=",d,"[",c,"]"].join("")),r=r.replace(u,f),s.lvalue&&o.push([d,"[",c,"]=",f].join("")));else{for(var p=[s.name],m=[c],v=0;v<Math.abs(e.arrayBlockIndices[l]);v++)p.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(v+1)+"*t"+l+"b"+v);if(u=new RegExp(p.join(""),"g"),c=m.join("+"),"generic"===n[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(u,[d,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":r=r.replace(u,"index");break;case"shape":r=r.replace(u,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function s(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var i=t[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?e[r]="u"+i.charAt(1)+o:e[r]=i.charAt(0)+o,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}function u(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,u=new Array(t.arrayArgs.length),l=new Array(t.arrayArgs.length),h=0;h<t.arrayArgs.length;++h)l[h]=e[2*h],u[h]=e[2*h+1];for(var f=[],d=[],p=[],m=[],v=[],h=0;h<t.arrayArgs.length;++h){t.arrayBlockIndices[h]<0?(p.push(0),m.push(n),f.push(n),d.push(n+t.arrayBlockIndices[h])):(p.push(t.arrayBlockIndices[h]),m.push(t.arrayBlockIndices[h]+n),f.push(0),d.push(t.arrayBlockIndices[h]));for(var g=[],y=0;y<u[h].length;y++)p[h]<=u[h][y]&&u[h][y]<m[h]&&g.push(u[h][y]-p[h]);v.push(g)}for(var b=["SS"],x=["'use strict'"],_=[],y=0;y<n;++y)_.push(["s",y,"=SS[",y,"]"].join(""));for(var h=0;h<t.arrayArgs.length;++h){b.push("a"+h),b.push("t"+h),b.push("p"+h);for(var y=0;y<n;++y)_.push(["t",h,"p",y,"=t",h,"[",p[h]+y,"]"].join(""));for(var y=0;y<Math.abs(t.arrayBlockIndices[h]);++y)_.push(["t",h,"b",y,"=t",h,"[",f[h]+y,"]"].join(""))}for(var h=0;h<t.scalarArgs.length;++h)b.push("Y"+h);if(t.shapeArgs.length>0&&_.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var w=new Array(n),h=0;h<n;++h)w[h]="0";_.push(["index=[",w.join(","),"]"].join(""))}for(var h=0;h<t.offsetArgs.length;++h){for(var E=t.offsetArgs[h],M=[],y=0;y<E.offset.length;++y)0!==E.offset[y]&&(1===E.offset[y]?M.push(["t",E.array,"p",y].join("")):M.push([E.offset[y],"*t",E.array,"p",y].join("")));0===M.length?_.push("q"+h+"=0"):_.push(["q",h,"=",M.join("+")].join(""))}var S=c([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));_=_.concat(S),_.length>0&&x.push("var "+_.join(","));for(var h=0;h<t.arrayArgs.length;++h)x.push("p"+h+"|=0");t.pre.body.length>3&&x.push(a(t.pre,t,l));var T=a(t.body,t,l),A=o(v);A<n?x.push(i(A,v[0],t,T)):x.push(r(v[0],t,T)),t.post.body.length>3&&x.push(a(t.post,t,l)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+x.join("\n")+"\n----------");var C=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",A,s(l)].join("");return new Function(["function ",C,"(",b.join(","),"){",x.join("\n"),"} return ",C].join(""))()}var c=n(320);t.exports=u},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function i(t){var e=r(t),n=e[0],i=e[1];return 3*(n+i)/4-i}function o(t,e,n){return 3*(e+n)/4-n}function a(t){for(var e,n=r(t),i=n[0],a=n[1],s=new f(o(t,i,a)),u=0,c=a>0?i-4:i,l=0;l<c;l+=4)e=h[t.charCodeAt(l)]<<18|h[t.charCodeAt(l+1)]<<12|h[t.charCodeAt(l+2)]<<6|h[t.charCodeAt(l+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;return 2===a&&(e=h[t.charCodeAt(l)]<<2|h[t.charCodeAt(l+1)]>>4,s[u++]=255&e),1===a&&(e=h[t.charCodeAt(l)]<<10|h[t.charCodeAt(l+1)]<<4|h[t.charCodeAt(l+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e),s}function s(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function u(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(s(r));return i.join("")}function c(t){for(var e,n=t.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=16383)i.push(u(t,a,a+16383>s?s:a+16383));return 1===r?(e=t[n-1],i.push(l[e>>2]+l[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(l[e>>10]+l[e>>4&63]+l[e<<2&63]+"=")),i.join("")}e.byteLength=i,e.toByteArray=a,e.fromByteArray=c;for(var l=[],h=[],f="undefined"!==typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,m=d.length;p<m;++p)l[p]=d[p],h[d.charCodeAt(p)]=p;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+t[e+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+h>=1?f/u:f*Math.pow(2,1-h),e*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*m}},function(t,e,n){"use strict";function r(t,e,n){var i=0|t[n];if(i<=0)return[];var o=new Array(i),a;if(n===t.length-1)for(a=0;a<i;++a)o[a]=e;else for(a=0;a<i;++a)o[a]=r(t,e,n+1);return o}function i(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function o(t,e){switch("undefined"===typeof e&&(e=0),typeof t){case"number":if(t>0)return i(0|t,e);break;case"object":if("number"===typeof t.length)return r(t,e,0)}return[]}t.exports=o},function(t,e,n){function r(t,e,n,r,i,u,c){t|=0,e|=0,n|=0,i|=0,u|=0,s.isPow2(n)?o(t,e,n,r,i,u):a(t,e,n,r,i,u,c)}function i(t){return s.isPow2(t)?0:2*t+4*s.nextPow2(2*t+1)}function o(t,e,n,r,i,o){t|=0,e|=0,n|=0,i|=0,o|=0;var a,u,c,l,h,f,d,p,m,v,g,y,b,x,_,w,E,M,S,T,A,C,O,P,L,R;for(a=n,u=s.log2(a),S=0;S<e;++S){for(d=a>>1,h=0,c=0;c<a-1;c++){for(c<h&&(b=r[i+c],r[i+c]=r[i+h],r[i+h]=b,b=r[o+c],r[o+c]=r[o+h],r[o+h]=b),f=d;f<=h;)h-=f,f>>=1;h+=f}for(g=-1,y=0,v=1,p=0;p<u;p++){for(m=v,v<<=1,w=1,E=0,h=0;h<m;h++){for(c=h;c<a;c+=v)l=c+m,T=r[i+l],A=r[o+l],C=r[i+c],O=r[o+c],P=w*(T+A),L=T*(E-w),R=A*(w+E),x=P-R,_=P+L,r[i+l]=C-x,r[o+l]=O-_,r[i+c]+=x,r[o+c]+=_;P=g*(w+E),L=w*(y-g),R=E*(g+y),w=P-R,E=P+L}y=Math.sqrt((1-g)/2),t<0&&(y=-y),g=Math.sqrt((1+g)/2)}if(t<0){var k=1/a;for(c=0;c<a;c++)r[i+c]*=k,r[o+c]*=k}i+=n,o+=n}}function a(t,e,n,r,i,a,u){t|=0,e|=0,n|=0,i|=0,a|=0,u|=0;var c=s.nextPow2(2*n+1),l=u,h=l+n,f=h+n,d=f+c,p=d+c,m=p+c,v=-t*Math.PI/n,g,y,b,x,_,w,E,M,S;for(S=0;S<n;++S)y=v*(S*S%(2*n)),x=Math.cos(y),_=Math.sin(y),r[p+(c-S)]=r[p+S]=r[l+S]=x,r[m+(c-S)]=r[m+S]=r[h+S]=_;for(S=n;S<=c-n;++S)r[p+S]=0;for(S=n;S<=c-n;++S)r[m+S]=0;for(o(1,1,c,r,p,m),v=t<0?1/n:1,g=0;g<e;++g){for(S=0;S<n;++S)y=r[i+S],b=r[a+S],x=r[l+S],_=-r[h+S],w=x*(y+b),E=y*(_-x),M=b*(x+_),r[f+S]=w-M,r[d+S]=w+E;for(S=n;S<c;++S)r[f+S]=0;for(S=n;S<c;++S)r[d+S]=0;for(o(1,1,c,r,f,d),S=0;S<c;++S)y=r[f+S],b=r[d+S],x=r[p+S],_=r[m+S],w=x*(y+b),E=y*(_-x),M=b*(x+_),r[f+S]=w-M,r[d+S]=w+E;for(o(-1,1,c,r,f,d),S=0;S<n;++S)y=r[f+S],b=r[d+S],x=r[l+S],_=-r[h+S],w=x*(y+b),E=y*(_-x),M=b*(x+_),r[i+S]=v*(w-M),r[a+S]=v*(w+E);i+=n,a+=n}}var s=n(325);t.exports=r,t.exports.scratchMemory=i},function(t,e,n){"use strict";function r(t){return Array.isArray(t)?[t.length,t[0].length]:t.shape}function i(t,e,n){var i=r(t),o=r(e),a=r(n);if(i[0]!==o[0]||i[1]!==a[1]||o[1]!==a[0])throw new Error("Mismatched array shapes for matrix product")}function o(t){if(Array.isArray(t)){if(Array.isArray(t))return["r","native"]}else if(t.shape&&2===t.shape.length)return t.order[0]?["r",t.dtype]:["c",t.dtype];throw new Error("Unrecognized data type")}function a(t,e,n,r,a){void 0===r&&(r=1),void 0===a&&(a=0);var c=1!==r,l=0!==a,h=o(t),f=o(e),d=o(n);i(t,e,n);var p=[h,f,d,c,l].join(":"),m=u[p];return m||(m=u[p]=s(h,f,d,c,l)),m(t,e,n,r,a)}t.exports=a;var s=n(647),u={}},function(t,e,n){"use strict";function r(t){return"r"===t?[1,0]:[0,1]}function i(t,e){return"native"===e[1]?[t,"d0=",t,".length,",t,"d1=",t,"[0].length,"].join(""):[t,"d0=",t,".shape[0],",t,"d1=",t,".shape[1],",t,"s0=",t,".stride[0],",t,"s1=",t,".stride[1],",t,"o=",t,".offset,",t,"d=",t,".data,"].join("")}function o(t,e,n,r,i,o){var a=[];return"native"===n[1]?t[0]&&(r?a.push("var ",e,"p=",e,"[",r,"];"):a.push("var ",e,"p=",e,"[0];")):r&&i?o?a.push("var ",e,"t0=",e,"s",t[0],",",e,"t1=",e,"s",t[1],"-",e,"s",t[0],"*",o,",",e,"p=",e,"o+",r,"*",e,"s0+",i,"*",e,"s1;"):a.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",r,"*",e,"s0+",i,"*",e,"s1;"):r?a.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",r,"*",e,"s0;"):i?a.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",i,"*",e,"s1;"):a.push("var ",e,"t0=",e,"s",t[0],",",e,"t1=",e,"s",t[1],"-",e,"s",t[0],"*",e,"d",t[0],",",e,"p=",e,"o;"),a}function a(t,e,n,r,i){var o=[];return"native"===n[1]?t[0]&&1===r&&o.push(e,"p=",e,"[",i,"+1]"):o.push(e,"p+=",e,"t",r,";"),o}function s(t,e,n,r,i,o){var a=[];return"native"===n[1]?t[0]?a.push(e,"p[",i,"]=",o,";"):a.push(e,"[",r,"][",i,"]=",o,";"):"generic"===n[1]?a.push(e,"d.set(",e,"p,",o,");"):a.push(e,"d[",e,"p]=",o,";"),a}function u(t,e,n,r,i){var o=[];return"native"===n[1]?t[0]?o.push(e,"p[",i,"]"):o.push(e,"[",r,"][",i,"]"):"generic"===n[1]?o.push(e,"d.get(",e,"p)"):o.push(e,"d[",e,"p]"),o.join("")}function c(t,e,n,r,i){var c=[],l="r"===t[0]?[1,0]:[0,1],h=[1,0],f=[0,1],d=["i","j"];return c.push.apply(c,o(l,"o",t)),l[1]?(c.push("for(j=0;j<od1;++j){"),c.push("for(i=0;i<od0;++i){")):(c.push("for(i=0;i<od0;++i){"),c.push("for(j=0;j<od1;++j){")),c.push.apply(c,o(h,"a",e,"i")),c.push.apply(c,o(f,"b",n,void 0,"j")),c.push("var r=0.0;","for(k=0;k<ad1;++k){","r+=",u(h,"a",e,"i","k"),"*",u(f,"b",n,"k","j"),";"),c.push.apply(c,a(h,"a",e,0,"k")),c.push.apply(c,a(f,"b",n,0,"k")),c.push("}"),r&&c.push("r*=A;"),i&&c.push("r+=B*",u(l,"o",t,"i","j"),";"),c.push.apply(c,s(l,"o",t,"i","j","r")),c.push.apply(c,a(l,"o",t,0,d[1])),c.push("}"),c.push.apply(c,a(l,"o",t,1,d[0])),c.push("}"),c}function l(t,e){var n=[],r="r"===t[0]?[1,0]:[0,1],i;return e&&n.push("if(B!==1.0){"),n.push.apply(n,o(r,"o",t)),r[0]?(n.push("for(i=0;i<od0;++i){for(j=0;j<od1;++j){"),i=["i","j"]):(n.push("for(j=0;j<od1;++j){for(i=0;i<od0;++i){"),i=["j","i"]),e?n.push.apply(n,s(r,"o",t,"i","j","B*"+u(r,"o",t,"i","j"))):n.push.apply(n,s(r,"o",t,"i","j","0")),n.push.apply(n,a(r,"o",t,0,i[1])),n.push("}"),n.push.apply(n,a(r,"o",t,1,i[0])),n.push("}"),e&&n.push("}"),n}function h(t,e,n,r,i){var c=[],h=["od0","od1","ad1"],f=[1,0],p=[1,0],m=[0,1];c.push.apply(c,l(t,i));for(var v=0;v<3;++v)c.push("for(var i",v,"=",h[v],";i",v,">0;){","var w",v,"=",d,";","if(i",v,"<",d,"){","w",v,"=i",v,";","i",v,"=0;","}else{","i",v,"-=",d,";","}");c.push.apply(c,o(f,"o",t,"i0","i1","w1")),c.push("for(i=0;i<w0;++i){for(j=0;j<w1;++j){var r=0.0;"),c.push.apply(c,o(p,"a",e,"(i0+i)","i2")),c.push.apply(c,o(m,"b",n,"i2","(i1+j)")),c.push("for(k=0;k<w2;++k){"),c.push("r+=",u(p,"a",e,"(i0+i)","(i2+k)"),"*",u(m,"b",n,"(i2+k)","(i1+j)"),";"),c.push.apply(c,a(p,"a",e,0,"(i2+k)")),c.push.apply(c,a(m,"b",n,0,"(i2+k)")),c.push("}");var g="r";return r&&(g="A*r"),c.push.apply(c,s(f,"o",t,"(i0+i)","(i1+j)",g+"+"+u(f,"o",t,"(i0+i)","(i1+j)"))),c.push.apply(c,a(f,"o",t,0,"(i1+j)")),c.push("}"),c.push.apply(c,a(f,"o",t,1,"(i0+i)")),c.push("}}}}"),c}function f(t,e,n,r,o){var a=["gemm",t[0],t[1],"a",e[0],e[1],"b",n[0],n[1],r?"alpha":"",o?"beta":""].join(""),s=["function ",a,"(o,a,b,A,B){","var ",i("o",t),i("a",e),i("b",n),"i,j,k;"];return"r"===e[0]&&"c"===n[0]?s.push.apply(s,c(t,e,n,r,o)):s.push.apply(s,h(t,e,n,r,o)),s.push("}return ",a),new Function(s.join(""))()}t.exports=f;var d=32},function(t,e,n){"use strict";t.exports={data:n(649),read:n(328),save:n(652),resize:n(653),sat:n(654),ssat:n(655),sobel:n(656),scharr:n(657),areaSum:n(330),areaValue:n(658),rgb2gray:n(100),flip:n(659)}},function(t,e,n){"use strict";(function(e){function r(t){return o(i.join(a,t))}var i=n(650),o=n(328),a=i.join(i.resolve(e),"../../data"),s={};Object.defineProperty(s,"digit",{get:function(){return r("five.png")}}),Object.defineProperty(s,"five",{get:function(){return r("five.png")}}),Object.defineProperty(s,"node",{get:function(){return r("nodejs.png")}}),Object.defineProperty(s,"lena",{get:function(){return r("lenna.png")}}),Object.defineProperty(s,"lenna",{get:function(){return r("lenna.png")}}),Object.defineProperty(s,"moon",{get:function(){return r("moon.jpg")}}),t.exports=s}).call(e,"/")},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===a(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var c=[],u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(99))},function(t,e,n){"use strict";var r=n(51),i=n(39),o=r({args:["array","array","array"],pre:function(){this.isgray=!0},body:function t(e,n,r){e===n&&n===r||(this.isgray=!1)},post:function(){return this.isgray}});t.exports=function t(e){e instanceof i&&(e=e.selection);var n=e.shape;return 1!==n.length&&(2===n.length||3===n.length&&1===n[2]||3===n.length&&(3===n[2]||4===n[2])&&o(e.pick(null,null,0),e.pick(null,null,1),e.pick(null,null,2)))}},function(t,e,n){"use strict";var r=n(329),i=n(136);t.exports=function t(e,n){var o=e.shape,a=o[0],s=o[1];if(!(n instanceof HTMLCanvasElement))throw new i.ValueError("expect input to be either an HTML Canvas or a (loaded) Image");var u=document.createElement("canvas");u.height=a,u.width=s;var c=u.getContext("2d"),l=c.createImageData(s,a),h=r.setRawData(e.selection,l.data);if(h)throw h;c.putImageData(l,0,0),c.drawImage(u,s,a),n.getContext("2d").drawImage(u,0,0,s,a,0,0,n.width,n.height)}},function(t,e,n){"use strict";var r=n(329),i=n(97),o=n(39);t.exports=function t(e,n,a){var s=e.shape,u=s[0],c=s[1],l=s[2]||1,h=document.createElement("canvas");h.height=u,h.width=c;var f=h.getContext("2d"),d=f.createImageData(c,u),p=r.setRawData(e.selection,d.data);if(p)throw p;var m=u/n,v=c/a,g=Math.min(m,v),y=n*g,b=a*g,x=(u-g*n)/2,_=(c-g*a)/2;f.putImageData(d,0,0),f.drawImage(h,_,x,b,y,0,0,a,n);var w=f.getImageData(0,0,a,n),E=[0|a,0|n,4],M=[4,4*a|0,1],S=i(new Uint8Array(w.data),E,M,0),T=S.transpose(1,0);return 2===s.length?T=T.pick(null,null,0):3===s.length&&1===l&&(T=T.pick(null,null,0)),new o(T)}},function(t,e,n){"use strict";var r=n(51),i=n(39),o=n(100),a=r({args:["array","array","index",{offset:[-1,-1],array:0},{offset:[-1,0],array:0},{offset:[0,-1],array:0}],body:function t(e,n,r,i,o,a){e=0!==r[0]&&0!==r[1]?n+o+a-i:0===r[0]&&0===r[1]?n:0===r[0]?n+a:n+o}});t.exports=function t(e){var n=o(e),r=n.shape,s=r[0],u=r[1],c=new i(new Uint32Array(s*u),[s,u]);return a(c.selection,n.selection),c}},function(t,e,n){"use strict";var r=n(51),i=n(39),o=n(100),a=r({args:["array","array","index",{offset:[-1,-1],array:0},{offset:[-1,0],array:0},{offset:[0,-1],array:0}],body:function t(e,n,r,i,o,a){e=0!==r[0]&&0!==r[1]?n*n+o+a-i:0===r[0]&&0===r[1]?n*n:0===r[0]?n*n+a:n*n+o}});t.exports=function t(e){var n=o(e),r=n.shape,s=r[0],u=r[1],c=new i(new Uint32Array(s*u),[s,u]);return a(c.selection,n.selection),c}},function(t,e,n){"use strict";var r=n(51),i=n(85),o=n(39),a=n(98),s=n(100),u=r({args:["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],body:function t(e,n,r,i,o,a,s,u,c,l){var h=r+2*i+o-u-2*c-l,f=r-o+2*a-2*s+u-l;e=Math.sqrt(f*f+h*h)}});t.exports=function t(e){var n=s(e),r=n.shape,c=r[0],l=r[1],h=new o(new Float32Array(a.shapeSize(r)),r);return u(h.selection,n.selection),i.assigns(h.selection.pick(0,null),0),i.assigns(h.selection.pick(null,0),0),i.assigns(h.selection.pick(c-1,null),0),i.assigns(h.selection.pick(null,l-1),0),h.divide(4*Math.sqrt(2),!1)}},function(t,e,n){"use strict";var r=n(51),i=n(85),o=n(39),a=n(98),s=n(100),u=r({args:["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],body:function t(e,n,r,i,o,a,s,u,c,l){var h=3*r+10*i+3*o-3*u-10*c-3*l,f=3*r-3*o+10*a-10*s+3*u-3*l;e=Math.sqrt(f*f+h*h)}});t.exports=function t(e){var n=s(e),r=n.shape,c=r[0],l=r[1],h=new o(new Float32Array(a.shapeSize(r)),r);return u(h.selection,n.selection),i.assigns(h.selection.pick(0,null),0),i.assigns(h.selection.pick(null,0),0),i.assigns(h.selection.pick(c-1,null),0),i.assigns(h.selection.pick(null,l-1),0),h.divide(16*Math.sqrt(2),!1)}},function(t,e,n){"use strict";var r=n(330);t.exports=function t(e,n,i,o,a){return r(e,n,i,o,a)/(i*o)}},function(t,e,n){"use strict";var r=n(39);t.exports=function t(e){return new r(e.selection.step(null,-1))}},function(t,e,n){"use strict";function r(t){var e=t.EVENT_TYPES,n=e.UPDATE_CONVERSION_PROGRESS,r=e.DONE,o=e.CONVERSION_ERROR;return Object(i.c)(function(e){return t.on(n,function(t){e({type:n,payload:t})}),t.on(o,function(t){e({type:o,message:t.error.stack}),e(i.a)}),t.on(r,function(t){e({type:r,file:t.file}),e(i.a)}),function e(){t.removeAll()}})}e.a=r;var i=n(190),o=n(213)},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){var r=t.ptm,i=t.options;new o.a(r,i).init().then(function(t){return t.convert()}).then(function(t){console.log(t),e({threeFile:t})})})}e.a=r;var i=n(24),o=n(662)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(24),s=n(663),u=n(331),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},h=a,f=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,void 0,void 0,n));return o.OPTIONS_MAP={createMesh:function t(){return console.log("hi")},compress:function t(){return console.log("bye")}},o.ptmFile=t,o}return o(e,t),c(e,[{key:"loadPtm",value:function t(){var e=this;return new Promise(function(t,n){e.readBinary(e.ptmFile).then(function(e){Object(s.a)(e).then(function(e){return t(e)})}).catch(function(t){return n(t)})})}},{key:"createMesh",value:function t(e){var n=this;return new Promise(function(t,r){var i=e.normalMap,o=e.diffuse;void 0!==i&&void 0!==o||r("Normal Map and / or Diffuse Map were not properly read from the ptm file"),n.normalMapURL=i,n.diffuseURL=o,n.material=new h.MeshStandardMaterial({transparent:!0,alphaTest:.5});var a=[];a.push(n.loadTexture(o).then(function(t){n.material.map=t,n.diffuse=t})),a.push(n.loadTexture(i).then(function(t){n.material.normalMap=t,n.normalMap=t})),Promise.all(a).then(function(){n.mesh=n.makePlane(),t(n.mesh)})})}},{key:"makePlane",value:function t(){var e=new h.PlaneGeometry(1,1,1);return new h.Mesh(e,this.material)}},{key:"convert",value:function t(){var n=this;return new Promise(function(t,r){n.loadPtm().then(function(r){return n.createMesh(r).then(function(r){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"convert",n).call(n);var i=r.toJSON();n.options.compress||(i.images=i.images.map(function(t){return t.uuid===n.normalMap.image.uuid&&(t.url=n.normalMapURL),t.uuid===n.diffuse.image.uuid&&(t.url=n.diffuseURL),t})),t(i)})})})}}]),e}(u.a);e.a=f},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){var r=y(t),i=r.w,o=r.h,a=r.format,s=r.scale,u=r.bias,c=r.byteLength,l=i*o*d[a],h=new Uint8Array(t.slice(c)),p=i*o,m=new Uint8Array(o*i*3),g=new Uint8Array(o*i*3),x=b(Math.max(o,i)),_=x<f?x:f,w=document.createElement("canvas");w.width=_,w.height=_;for(var E=w.getContext("2d"),M=Math.floor((_-o)/2),S=Math.floor((_-i)/2),T=new Uint8ClampedArray(o*i*4),A=function t(e,n,r){for(var i=0,o=0,a=0;a<n*r;a++,i+=3,o+=4)T[o]=e[i],T[o+1]=e[i+1],T[o+2]=e[i+2],T[o+3]=255;var s=new ImageData(T,n,r);return E.putImageData(s,S,M,0,0,n,r),w.toDataURL()},C=0;C<o;C++)for(var O=0;O<i;O++){for(var P=C*i+O,L=[],R=6*P,k=0;k<6;k++)L[k]=(h[R+k]-u[k])*s[k];for(var N=v(L).toArray().map(function(t){return Math.floor(127.5*(t+1),10)}),I=3*((o-1-C)*i+O),j=0;j<3;j++)m[I+j]=N[j],g[I+j]=h[6*p+3*P+j]}var D=A(g,i,o);e({normalMap:A(m,i,o),diffuse:D})})}e.a=r;var i=n(24),o=n(319),a=n.n(o),s=n(212),u=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=i,l=6,h=665536,f=8192,d={PTM_FORMAT_LRGB:9},p=function t(e){isNaN(e.x)&&(e.x===-1/0?e.setX(-1):e.setX(1)),isNaN(e.y)&&(e.x===-1/0?e.setY(-1):e.setY(1)),isNaN(e.z)&&(e.x===-1/0?e.setZ(0):e.setZ(1))},m=function t(e){return!isNaN(e.x)&&(!isNaN(e.y)&&!isNaN(e.z))},v=function t(e){if(e.includes(0))return new c.Vector3(0,0,1);var n=e.map(function(t){return t/255}),r=u(n,6),i=r[0],o=r[1],a=r[2],l=r[3],h=r[4],f=r[5],d=void 0,p=void 0,m=void 0,v=void 0;if(Math.abs(4*o*i-a*a)<s.a?(d=0,p=0):Math.abs(a)<s.a?(d=-l/(2*i),p=-h/(2*o)):(d=(a*h-2*o*l)/(4*i*o-Math.pow(a,2)),p=(a*l-2*i*h)/(4*i*o-Math.pow(a,2))),e.slice(0,e.length-1).every(function(t){return Math.abs(t)<s.a}))d=0,p=0,m=0;else{var g=void 0,y=d*d+p*p;if(g=4*i*o-a*a>s.a&&i<-s.a?1:0,y>1-s.a||0===g){var b=void 0,x=Object(s.b)(n,d,p),_=u(x,3);d=_[0],p=_[1],b=_[2],-1===b&&(y=Math.sqrt(y))>s.a&&(d/=y,p/=y)}v=1-d*d-p*p,m=v<0?0:Math.sqrt(v)}return new c.Vector3(d,p,m).normalize()},g=function t(e){var n=e.split("\n").slice(1,6);return{format:n[0],w:Number(n[1]),h:Number(n[2]),scale:n[3].split(" ").slice(0,-1).map(function(t){return Number(t)}),bias:n[4].split(" ").slice(0,-1).map(function(t){return Number(t)}),byteLength:e.split("\n").slice(0,6).join("").length}},y=function t(e){var n=new TextDecoder("iso-8859-2").decode(e.slice(0,665536));return g(n)},b=function t(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},x=function t(e,n,r,i,o){for(var a=Math.floor((n-i)/2),s=Math.floor((n-r)/2),u=0;u<i;u++)for(var c=0;c<r;c++)for(var l=0;l<4;l++){var h=3*(u*r+c);if(3!==l){var f=e[h+l];o[a+h+l]=255}else o[h+l]=255}return o}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(30),a=n(678),s=function t(e){return i.a.createElement(o.a,{store:e.store},i.a.createElement(a.a,null))};e.a=s},function(t,e,n){"use strict";function r(){f||(f=!0,Object(h.a)("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reduxjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function i(t){var e;void 0===t&&(t="store");var n=t+"Subscription",r=function(e){function r(n,r){var i;return i=e.call(this,n,r)||this,i[t]=n.store,i}Object(o.a)(r,e);var i=r.prototype;return i.getChildContext=function e(){var r;return r={},r[t]=this[t],r[n]=null,r},i.render=function t(){return a.Children.only(this.props.children)},r}(a.Component);return r.propTypes={store:l.a.isRequired,children:c.a.element.isRequired},r.childContextTypes=(e={},e[t]=l.a.isRequired,e[n]=l.b,e),r}var o=n(332),a=n(0),s=n.n(a),u=n(1),c=n.n(u),l=n(333),h=n(214),f=!1;e.a=i()},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}e.a=r},function(t,e,n){"use strict";function r(t,e,n){if("string"!==typeof e){if(m){var i=p(e);i&&i!==m&&r(t,i,n)}var o=h(e);f&&(o=o.concat(f(e)));for(var u=c[t.$$typeof]||a,v=c[e.$$typeof]||a,g=0;g<o.length;++g){var y=o[g];if(!s[y]&&(!n||!n[y])&&(!v||!v[y])&&(!u||!u[y])){var b=d(e,y);try{l(t,y,b)}catch(t){}}}return t}return t}var i=n(335),o=n(0),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u={$$typeof:!0,render:!0},c={};c[i.ForwardRef]=u;var l=Object.defineProperty,h=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;t.exports=r},function(t,e,n){"use strict";function r(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case a:switch(t=t.type){case d:case u:case l:case c:return t;default:switch(t=t&&t.$$typeof){case f:case p:case h:return t;default:return e}}case s:return e}}}function i(t){return r(t)===d}Object.defineProperty(e,"__esModule",{value:!0});var o="function"===typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,s=o?Symbol.for("react.portal"):60106,u=o?Symbol.for("react.fragment"):60107,c=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,h=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,m=o?Symbol.for("react.suspense"):60113,v=o?Symbol.for("react.memo"):60115,g=o?Symbol.for("react.lazy"):60116;e.typeOf=r,e.AsyncMode=d,e.ConcurrentMode=d,e.ContextConsumer=f,e.ContextProvider=h,e.Element=a,e.ForwardRef=p,e.Fragment=u,e.Profiler=l,e.Portal=s,e.StrictMode=c,e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===u||t===d||t===l||t===c||t===m||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===v||t.$$typeof===h||t.$$typeof===f||t.$$typeof===p)},e.isAsyncMode=function(t){return i(t)},e.isConcurrentMode=i,e.isContextConsumer=function(t){return r(t)===f},e.isContextProvider=function(t){return r(t)===h},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===a},e.isForwardRef=function(t){return r(t)===p},e.isFragment=function(t){return r(t)===u},e.isProfiler=function(t){return r(t)===l},e.isPortal=function(t){return r(t)===s},e.isStrictMode=function(t){return r(t)===c}},function(t,e,n){"use strict";function r(){var t=[],e=[];return{clear:function n(){e=i,t=i},notify:function n(){for(var r=t=e,i=0;i<r.length;i++)r[i]()},get:function t(){return e},subscribe:function n(r){var o=!0;return e===t&&(e=t.slice()),e.push(r),function n(){o&&t!==i&&(o=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(r),1))}}}}n.d(e,"a",function(){return a});var i=null,o={notify:function t(){}},a=function(){function t(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=o}var e=t.prototype;return e.addNestedSub=function t(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.notifyNestedSubs=function t(){this.listeners.notify()},e.isSubscribed=function t(){return Boolean(this.unsubscribe)},e.trySubscribe=function t(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=r())},e.tryUnsubscribe=function t(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)},t}()},function(t,e,n){"use strict";function r(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function i(t,e){return t===e}function o(t){var e=void 0===t?{}:t,n=e.connectHOC,o=void 0===n?u.a:n,p=e.mapStateToPropsFactories,m=void 0===p?h.a:p,v=e.mapDispatchToPropsFactories,g=void 0===v?l.a:v,y=e.mergePropsFactories,b=void 0===y?f.a:y,x=e.selectorFactory,_=void 0===x?d.a:x;return function t(e,n,u,l){void 0===l&&(l={});var h=l,f=h.pure,d=void 0===f||f,p=h.areStatesEqual,v=void 0===p?i:p,y=h.areOwnPropsEqual,x=void 0===y?c.a:y,w=h.areStatePropsEqual,E=void 0===w?c.a:w,M=h.areMergedPropsEqual,S=void 0===M?c.a:M,T=Object(s.a)(h,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),A=r(e,m,"mapStateToProps"),C=r(n,g,"mapDispatchToProps"),O=r(u,b,"mergeProps");return o(_,Object(a.a)({methodName:"connect",getDisplayName:function t(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:A,initMapDispatchToProps:C,initMergeProps:O,pure:d,areStatesEqual:v,areOwnPropsEqual:x,areStatePropsEqual:E,areMergedPropsEqual:S},T))}}var a=n(215),s=n(216),u=n(334),c=n(671),l=n(672),h=n(674),f=n(675),d=n(676);e.a=o()},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function i(t,e){if(r(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(e,n[a])||!r(t[n[a]],e[n[a]]))return!1;return!0}e.a=i;var o=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";function r(t){return"function"===typeof t?Object(s.b)(t,"mapDispatchToProps"):void 0}function i(t){return t?void 0:Object(s.a)(function(t){return{dispatch:t}})}function o(t){return t&&"object"===typeof t?Object(s.a)(function(e){return Object(a.b)(t,e)}):void 0}var a=n(64),s=n(336);e.a=[r,i,o]},function(t,e,n){"use strict";function r(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}e.a=r},function(t,e,n){"use strict";function r(t){return"function"===typeof t?Object(o.b)(t,"mapStateToProps"):void 0}function i(t){return t?void 0:Object(o.a)(function(){return{}})}var o=n(336);e.a=[r,i]},function(t,e,n){"use strict";function r(t,e,n){return Object(s.a)({},n,t,e)}function i(t){return function e(n,r){var i=r.displayName,o=r.pure,a=r.areMergedPropsEqual,s=!1,u;return function e(n,r,i){var c=t(n,r,i);return s?o&&a(c,u)||(u=c):(s=!0,u=c),u}}}function o(t){return"function"===typeof t?i(t):void 0}function a(t){return t?void 0:function(){return r}}var s=n(215),u=n(337);e.a=[o,a]},function(t,e,n){"use strict";function r(t,e,n,r){return function i(o,a){return n(t(o,a),e(r,a),a)}}function i(t,e,n,r,i){function o(i,o){return p=i,m=o,v=t(p,m),g=e(r,m),y=n(v,g,m),d=!0,y}function a(){return v=t(p,m),e.dependsOnOwnProps&&(g=e(r,m)),y=n(v,g,m)}function s(){return t.dependsOnOwnProps&&(v=t(p,m)),e.dependsOnOwnProps&&(g=e(r,m)),y=n(v,g,m)}function u(){var e=t(p,m),r=!f(e,v);return v=e,r&&(y=n(v,g,m)),y}function c(t,e){var n=!h(e,m),r=!l(t,p);return p=t,m=e,n&&r?a():n?s():r?u():y}var l=i.areStatesEqual,h=i.areOwnPropsEqual,f=i.areStatePropsEqual,d=!1,p,m,v,g,y;return function t(e,n){return d?c(e,n):o(e,n)}}function o(t,e){var n=e.initMapStateToProps,o=e.initMapDispatchToProps,s=e.initMergeProps,u=Object(a.a)(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=n(t,u),l=o(t,u),h=s(t,u);return(u.pure?i:r)(c,l,h,t,u)}e.a=o;var a=n(216),s=n(677)},function(t,e,n){"use strict";function r(t,e,n){if(!t)throw new Error("Unexpected value for "+e+" in "+n+".");"mapStateToProps"!==e&&"mapDispatchToProps"!==e||t.hasOwnProperty("dependsOnOwnProps")||Object(o.a)("The selector for "+e+" of "+n+" did not specify a value for dependsOnOwnProps.")}function i(t,e,n,i){r(t,"mapStateToProps",i),r(e,"mapDispatchToProps",i),r(n,"mergeProps",i)}var o=n(214)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return{user:t.user}}var s=n(0),u=n.n(s),c=n(30),l=n(34),h=n(703),f=n(1174),d=n(1175),p=n(1176),m=n(1177),v=n(76),g=n(1178),y=n(1181),b=n(1184),x=n(1185),_=n(1187),w=n(63),E=n(16),M=n(37),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=function t(){return u.a.createElement(v.a,{active:!0,text:"Authenticating ..."})},A=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._element=u.a.createElement,n.authenticateRoute=n.authenticateRoute.bind(n),n.authenticateRouteWithoutRedirect=n.authenticateRouteWithoutRedirect.bind(n),n}return o(e,t),S(e,[{key:"authenticateRoute",value:function t(e,n){var r=this.props.user,i=r.authenticateAttempted;return!1!==r.loggedIn?this._element(n,e,null):!1===i?(this.props.authenticate(),u.a.createElement(T,null)):u.a.createElement(l.c,{to:M.b+"/admin/login"})}},{key:"authenticateRouteWithoutRedirect",value:function t(e,n){var r=this.props.user,i=r.authenticateAttempted;return!1!==r.loggedIn?this._element(n,e,null):!1===i?(this.props.authenticate(),u.a.createElement(T,null)):this._element(n,e,null)}},{key:"render",value:function t(){var e=this,n=this.props,r=n.store,i=n.user,o=window.publicUrl?window.publicUrl:"/";return E.a===E.c?u.a.createElement(l.a,{basename:M.b},u.a.createElement("div",{className:"three-router"},u.a.createElement(l.d,{path:"/models/:id",render:function t(n){return e.authenticateRouteWithoutRedirect(n,h.a)}}),u.a.createElement(l.d,{path:"/converter",render:function t(e){return u.a.createElement(g.a,{conversionType:E.h})}}),u.a.createElement(l.d,{path:"/ptm-converter",render:function t(e){return u.a.createElement(g.a,{conversionType:E.i})}}))):u.a.createElement(l.a,{basename:M.b},u.a.createElement("div",{className:"three-router"},u.a.createElement(l.d,{path:"/models/:id",render:function t(n){return e.authenticateRouteWithoutRedirect(n,h.a)}}),u.a.createElement(p.a,{active:i.loggedIn}),u.a.createElement(l.d,{path:"/admin/login",component:y.a}),u.a.createElement(l.d,{path:"/admin/logout",component:b.a}),u.a.createElement(l.d,{path:"/admin/verify/:token",component:_.a}),u.a.createElement(l.d,{path:"/admin/account",render:function t(n){return e.authenticateRoute(n,x.a)}}),u.a.createElement(l.d,{path:"/admin/add",render:function t(n){return e.authenticateRoute(n,f.a)}}),u.a.createElement(l.d,{path:"/admin/views",render:function t(n){return e.authenticateRoute(n,d.a)}}),u.a.createElement(l.d,{path:"/admin/view/:id",render:function t(n){return e.authenticateRoute(n,m.a)}}),u.a.createElement(l.d,{path:"/converter",render:function t(e){return u.a.createElement(g.a,{conversionType:E.h})}}),u.a.createElement(l.d,{path:"/ptm-converter",render:function t(e){return u.a.createElement(g.a,{conversionType:E.i})}})))}}]),e}(s.Component);e.a=Object(c.b)(a,{authenticate:w.b})(A)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(58),s=n.n(a),u=n(0),c=n.n(u),l=n(1),h=n.n(l),f=n(86),d=n(218),p=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,t.call.apply(t,[this].concat(u))),o.history=Object(f.a)(o.props),a=n,i(o,a)}return o(e,t),e.prototype.componentWillMount=function t(){s()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},e.prototype.render=function t(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},e}(c.a.Component);p.propTypes={basename:h.a.string,forceRefresh:h.a.bool,getUserConfirmation:h.a.func,keyLength:h.a.number,children:h.a.node},e.a=p},function(t,e,n){"use strict";var r=n(137),i=n.n(r),o=n(46),a=n.n(o),s=n(138),u=n(101),c=n(217),l=n(338),h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d="popstate",p="hashchange",m=function t(){try{return window.history.state||{}}catch(t){return{}}},v=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(l.b,"Browser history needs a DOM");var n=window.history,r=Object(l.g)(),o=!Object(l.h)(),d=e.forceRefresh,p=void 0!==d&&d,v=e.getUserConfirmation,g=void 0===v?l.c:v,y=e.keyLength,b=void 0===y?6:y,x=e.basename?Object(u.g)(Object(u.a)(e.basename)):"",_=function t(e){var n=e||{},r=n.key,o=n.state,a=window.location,c=a.pathname,l=a.search,h=a.hash,f=c+l+h;return i()(!x||Object(u.c)(f,x),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+f+'" to begin with "'+x+'".'),x&&(f=Object(u.e)(f,x)),Object(s.a)(f,o,r)},w=function t(){return Math.random().toString(36).substr(2,b)},E=Object(c.a)(),M=function t(e){f(V,e),V.length=n.length,E.notifyListeners(V.location,V.action)},S=function t(e){Object(l.d)(e)||C(_(e.state))},T=function t(){C(_(m()))},A=!1,C=function t(e){if(A)A=!1,M();else{var n="POP";E.confirmTransitionTo(e,"POP",g,function(t){t?M({action:"POP",location:e}):O(e)})}},O=function t(e){var n=V.location,r=L.indexOf(n.key);-1===r&&(r=0);var i=L.indexOf(e.key);-1===i&&(i=0);var o=r-i;o&&(A=!0,I(o))},P=_(m()),L=[P.key],R=function t(e){return x+Object(u.b)(e)},k=function t(e,o){i()(!("object"===("undefined"===typeof e?"undefined":h(e))&&void 0!==e.state&&void 0!==o),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a="PUSH",u=Object(s.a)(e,o,w(),V.location);E.confirmTransitionTo(u,"PUSH",g,function(t){if(t){var e=R(u),o=u.key,a=u.state;if(r)if(n.pushState({key:o,state:a},null,e),p)window.location.href=e;else{var s=L.indexOf(V.location.key),c=L.slice(0,-1===s?0:s+1);c.push(u.key),L=c,M({action:"PUSH",location:u})}else i()(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=e}})},N=function t(e,o){i()(!("object"===("undefined"===typeof e?"undefined":h(e))&&void 0!==e.state&&void 0!==o),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a="REPLACE",u=Object(s.a)(e,o,w(),V.location);E.confirmTransitionTo(u,a,g,function(t){if(t){var e=R(u),o=u.key,s=u.state;if(r)if(n.replaceState({key:o,state:s},null,e),p)window.location.replace(e);else{var c=L.indexOf(V.location.key);-1!==c&&(L[c]=u.key),M({action:a,location:u})}else i()(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(e)}})},I=function t(e){n.go(e)},j=function t(){return I(-1)},D=function t(){return I(1)},B=0,F=function t(e){B+=e,1===B?(Object(l.a)(window,"popstate",S),o&&Object(l.a)(window,"hashchange",T)):0===B&&(Object(l.e)(window,"popstate",S),o&&Object(l.e)(window,"hashchange",T))},U=!1,G=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=E.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),n()}},z=function t(e){var n=E.appendListener(e);return F(1),function(){F(-1),n()}},V={length:n.length,action:"POP",location:P,createHref:R,push:k,replace:N,go:I,goBack:j,goForward:D,block:G,listen:z};return V};e.a=v},function(t,e,n){"use strict";function r(t){return"/"===t.charAt(0)}function i(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],o=e&&e.split("/")||[],a=t&&r(t),s=e&&r(e),u=a||s;if(t&&r(t)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var c=void 0;if(o.length){var l=o[o.length-1];c="."===l||".."===l||""===l}else c=!1;for(var h=0,f=o.length;f>=0;f--){var d=o[f];"."===d?i(o,f):".."===d?(i(o,f),h++):h&&(i(o,f),h--)}if(!u)for(;h--;h)o.unshift("..");!u||""===o[0]||o[0]&&r(o[0])||o.unshift("");var p=o.join("/");return c&&"/"!==p.substr(-1)&&(p+="/"),p}e.a=o},function(t,e,n){"use strict";function r(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,n){return r(t,e[n])});var n="undefined"===typeof t?"undefined":i(t);if(n!==("undefined"===typeof e?"undefined":i(e)))return!1;if("object"===n){var o=t.valueOf(),a=e.valueOf();if(o!==t||a!==e)return r(o,a);var s=Object.keys(t),u=Object.keys(e);return s.length===u.length&&s.every(function(n){return r(t[n],e[n])})}return!1}var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a=r},function(t,e,n){"use strict";var r=n(137),i=n.n(r),o=n(46),a=n.n(o),s=n(138),u=n(101),c=n(217),l=n(338),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f="hashchange",d={hashbang:{encodePath:function t(e){return"!"===e.charAt(0)?e:"!/"+Object(u.f)(e)},decodePath:function t(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:u.f,decodePath:u.a},slash:{encodePath:u.a,decodePath:u.a}},p=function t(){var e=window.location.href,n=e.indexOf("#");return-1===n?"":e.substring(n+1)},m=function t(e){return window.location.hash=e},v=function t(e){var n=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,n>=0?n:0)+"#"+e)},g=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(l.b,"Hash history needs a DOM");var n=window.history,r=Object(l.f)(),o=e.getUserConfirmation,f=void 0===o?l.c:o,g=e.hashType,y=void 0===g?"slash":g,b=e.basename?Object(u.g)(Object(u.a)(e.basename)):"",x=d[y],_=x.encodePath,w=x.decodePath,E=function t(){var e=w(p());return i()(!b||Object(u.c)(e,b),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+b+'".'),b&&(e=Object(u.e)(e,b)),Object(s.a)(e)},M=Object(c.a)(),S=function t(e){h(q,e),q.length=n.length,M.notifyListeners(q.location,q.action)},T=!1,A=null,C=function t(){var e=p(),n=_(e);if(e!==n)v(n);else{var r=E(),i=q.location;if(!T&&Object(s.b)(i,r))return;if(A===Object(u.b)(r))return;A=null,O(r)}},O=function t(e){if(T)T=!1,S();else{var n="POP";M.confirmTransitionTo(e,"POP",f,function(t){t?S({action:"POP",location:e}):P(e)})}},P=function t(e){var n=q.location,r=N.lastIndexOf(Object(u.b)(n));-1===r&&(r=0);var i=N.lastIndexOf(Object(u.b)(e));-1===i&&(i=0);var o=r-i;o&&(T=!0,B(o))},L=p(),R=_(L);L!==R&&v(R);var k=E(),N=[Object(u.b)(k)],I=function t(e){return"#"+_(b+Object(u.b)(e))},j=function t(e,n){i()(void 0===n,"Hash history cannot push state; it is ignored");var r="PUSH",o=Object(s.a)(e,void 0,void 0,q.location);M.confirmTransitionTo(o,"PUSH",f,function(t){if(t){var e=Object(u.b)(o),n=_(b+e);if(p()!==n){A=e,m(n);var r=N.lastIndexOf(Object(u.b)(q.location)),a=N.slice(0,-1===r?0:r+1);a.push(e),N=a,S({action:"PUSH",location:o})}else i()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),S()}})},D=function t(e,n){i()(void 0===n,"Hash history cannot replace state; it is ignored");var r="REPLACE",o=Object(s.a)(e,void 0,void 0,q.location);M.confirmTransitionTo(o,r,f,function(t){if(t){var e=Object(u.b)(o),n=_(b+e);p()!==n&&(A=e,v(n));var i=N.indexOf(Object(u.b)(q.location));-1!==i&&(N[i]=e),S({action:r,location:o})}})},B=function t(e){i()(r,"Hash history go(n) causes a full page reload in this browser"),n.go(e)},F=function t(){return B(-1)},U=function t(){return B(1)},G=0,z=function t(e){G+=e,1===G?Object(l.a)(window,"hashchange",C):0===G&&Object(l.e)(window,"hashchange",C)},V=!1,H=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=M.setPrompt(e);return V||(z(1),V=!0),function(){return V&&(V=!1,z(-1)),n()}},W=function t(e){var n=M.appendListener(e);return z(1),function(){z(-1),n()}},q={length:n.length,action:"POP",location:k,createHref:I,push:j,replace:D,go:B,goBack:F,goForward:U,block:H,listen:W};return q};e.a=g},function(t,e,n){"use strict";var r=n(137),i=n.n(r),o=n(101),a=n(138),s=n(217),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function t(e,n,r){return Math.min(Math.max(e,n),r)},h=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getUserConfirmation,r=e.initialEntries,h=void 0===r?["/"]:r,f=e.initialIndex,d=void 0===f?0:f,p=e.keyLength,m=void 0===p?6:p,v=Object(s.a)(),g=function t(e){c(P,e),P.length=P.entries.length,v.notifyListeners(P.location,P.action)},y=function t(){return Math.random().toString(36).substr(2,m)},b=l(d,0,h.length-1),x=h.map(function(t){return"string"===typeof t?Object(a.a)(t,void 0,y()):Object(a.a)(t,void 0,t.key||y())}),_=o.b,w=function t(e,r){i()(!("object"===("undefined"===typeof e?"undefined":u(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o="PUSH",s=Object(a.a)(e,r,y(),P.location);v.confirmTransitionTo(s,"PUSH",n,function(t){if(t){var e=P.index,n=e+1,r=P.entries.slice(0);r.length>n?r.splice(n,r.length-n,s):r.push(s),g({action:"PUSH",location:s,index:n,entries:r})}})},E=function t(e,r){i()(!("object"===("undefined"===typeof e?"undefined":u(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o="REPLACE",s=Object(a.a)(e,r,y(),P.location);v.confirmTransitionTo(s,o,n,function(t){t&&(P.entries[P.index]=s,g({action:o,location:s}))})},M=function t(e){var r=l(P.index+e,0,P.entries.length-1),i="POP",o=P.entries[r];v.confirmTransitionTo(o,"POP",n,function(t){t?g({action:"POP",location:o,index:r}):g()})},S=function t(){return M(-1)},T=function t(){return M(1)},A=function t(e){var n=P.index+e;return n>=0&&n<P.entries.length},C=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v.setPrompt(e)},O=function t(e){return v.appendListener(e)},P={length:x.length,action:"POP",location:x[b],index:b,entries:x,createHref:_,push:w,replace:E,go:M,goBack:S,goForward:T,canGo:A,block:C,listen:O};return P};e.a=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(58),s=n.n(a),u=n(0),c=n.n(u),l=n(1),h=n.n(l),f=n(86),d=n(218),p=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,t.call.apply(t,[this].concat(u))),o.history=Object(f.b)(o.props),a=n,i(o,a)}return o(e,t),e.prototype.componentWillMount=function t(){s()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},e.prototype.render=function t(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},e}(c.a.Component);p.propTypes={basename:h.a.string,getUserConfirmation:h.a.func,hashType:h.a.oneOf(["hashbang","noslash","slash"]),children:h.a.node};var m=p},function(t,e,n){"use strict";var r=n(687),i=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(58),s=n.n(a),u=n(0),c=n.n(u),l=n(1),h=n.n(l),f=n(86),d=n(219),p=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,t.call.apply(t,[this].concat(u))),o.history=Object(f.d)(o.props),a=n,i(o,a)}return o(e,t),e.prototype.componentWillMount=function t(){s()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},e.prototype.render=function t(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},e}(c.a.Component);p.propTypes={initialEntries:h.a.array,initialIndex:h.a.number,getUserConfirmation:h.a.func,keyLength:h.a.number,children:h.a.node},e.a=p},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=n(0),o=n.n(i),a=n(1),s=n.n(a),u=n(340),c=n(339),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=function t(e){var n=e.to,i=e.exact,a=e.strict,s=e.location,f=e.activeClassName,d=e.className,p=e.activeStyle,m=e.style,v=e.isActive,g=e["aria-current"],y=r(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),b="object"===("undefined"===typeof n?"undefined":h(n))?n.pathname:n,x=b&&b.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return o.a.createElement(u.a,{path:x,exact:i,strict:a,location:s,children:function t(e){var r=e.location,i=e.match,a=!!(v?v(i,r):i);return o.a.createElement(c.a,l({to:n,className:a?[d,f].filter(function(t){return t}).join(" "):d,style:a?l({},m,p):m,"aria-current":a&&g||null},y))}})};f.propTypes={to:c.a.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func,"aria-current":s.a.oneOf(["page","step","location","date","time","true"])},f.defaultProps={activeClassName:"active","aria-current":"page"};var d=f},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=n(691),i=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(1),c=n.n(u),l=n(46),h=n.n(l),f=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.enable=function t(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},e.prototype.disable=function t(){this.unblock&&(this.unblock(),this.unblock=null)},e.prototype.componentWillMount=function t(){h()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},e.prototype.componentWillReceiveProps=function t(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},e.prototype.componentWillUnmount=function t(){this.disable()},e.prototype.render=function t(){return null},e}(s.a.Component);f.propTypes={when:c.a.bool,message:c.a.oneOfType([c.a.func,c.a.string]).isRequired},f.defaultProps={when:!0},f.contextTypes={router:c.a.shape({history:c.a.shape({block:c.a.func.isRequired}).isRequired}).isRequired},e.a=f},function(t,e,n){"use strict";var r=n(693);e.a=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(1),c=n.n(u),l=n(58),h=n.n(l),f=n(46),d=n.n(f),p=n(86),m=n(343),v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.isStatic=function t(){return this.context.router&&this.context.router.staticContext},e.prototype.componentWillMount=function t(){d()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},e.prototype.componentDidMount=function t(){this.isStatic()||this.perform()},e.prototype.componentDidUpdate=function t(e){var n=Object(p.c)(e.to),r=Object(p.c)(this.props.to);if(Object(p.f)(n,r))return void h()(!1,"You tried to redirect to the same route you're currently on: \""+r.pathname+r.search+'"');this.perform()},e.prototype.computeTo=function t(e){var n=e.computedMatch,r=e.to;return n?"string"===typeof r?Object(m.a)(r,n.params):v({},r,{pathname:Object(m.a)(r.pathname,n.params)}):r},e.prototype.perform=function t(){var e=this.context.router.history,n=this.props.push,r=this.computeTo(this.props);n?e.push(r):e.replace(r)},e.prototype.render=function t(){return null},e}(s.a.Component);g.propTypes={computedMatch:c.a.object,push:c.a.bool,from:c.a.string,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired},g.defaultProps={push:!1},g.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired}).isRequired,staticContext:c.a.object}).isRequired},e.a=g},function(t,e,n){"use strict";var r=n(695),i=r.a},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(58),u=n.n(s),c=n(46),l=n.n(c),h=n(0),f=n.n(h),d=n(1),p=n.n(d),m=n(86),v=n(219),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y=function t(e){return"/"===e.charAt(0)?e:"/"+e},b=function t(e,n){return e?g({},n,{pathname:y(e)+n.pathname}):n},x=function t(e,n){if(!e)return n;var r=y(e);return 0!==n.pathname.indexOf(r)?n:g({},n,{pathname:n.pathname.substr(r.length)})},_=function t(e){return"string"===typeof e?e:Object(m.e)(e)},w=function t(e){return function(){l()(!1,"You cannot %s with <StaticRouter>",e)}},E=function t(){},M=function(t){function e(){var n,r,a;i(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(u))),r.createHref=function(t){return y(r.props.basename+_(t))},r.handlePush=function(t){var e=r.props,n=e.basename,i=e.context;i.action="PUSH",i.location=b(n,Object(m.c)(t)),i.url=_(i.location)},r.handleReplace=function(t){var e=r.props,n=e.basename,i=e.context;i.action="REPLACE",i.location=b(n,Object(m.c)(t)),i.url=_(i.location)},r.handleListen=function(){return E},r.handleBlock=function(){return E},a=n,o(r,a)}return a(e,t),e.prototype.getChildContext=function t(){return{router:{staticContext:this.props.context}}},e.prototype.componentWillMount=function t(){u()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},e.prototype.render=function t(){var e=this.props,n=e.basename,i=e.context,o=e.location,a=r(e,["basename","context","location"]),s={createHref:this.createHref,action:"POP",location:x(n,Object(m.c)(o)),push:this.handlePush,replace:this.handleReplace,go:w("go"),goBack:w("goBack"),goForward:w("goForward"),listen:this.handleListen,block:this.handleBlock};return f.a.createElement(v.a,g({},a,{history:s}))},e}(f.a.Component);M.propTypes={basename:p.a.string,context:p.a.object.isRequired,location:p.a.oneOfType([p.a.string,p.a.object])},M.defaultProps={basename:"",location:"/"},M.childContextTypes={router:p.a.object.isRequired},e.a=M},function(t,e,n){"use strict";var r=n(697),i=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(1),c=n.n(u),l=n(58),h=n.n(l),f=n(46),d=n.n(f),p=n(220),m=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.componentWillMount=function t(){d()(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function t(e){h()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),h()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function t(){var e=this.context.router.route,n=this.props.children,r=this.props.location||e.location,i=void 0,o=void 0;return s.a.Children.forEach(n,function(t){if(null==i&&s.a.isValidElement(t)){var n=t.props,a=n.path,u=n.exact,c=n.strict,l=n.sensitive,h=n.from,f=a||h;o=t,i=Object(p.a)(r.pathname,{path:f,exact:u,strict:c,sensitive:l},e.match)}}),i?s.a.cloneElement(o,{location:r,computedMatch:i}):null},e}(s.a.Component);m.contextTypes={router:c.a.shape({route:c.a.object.isRequired}).isRequired},m.propTypes={children:c.a.node,location:c.a.object},e.a=m},function(t,e,n){"use strict";var r=n(343),i=r.a},function(t,e,n){"use strict";var r=n(220),i=r.a},function(t,e,n){"use strict";var r=n(701),i=r.a},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=n(0),o=n.n(i),a=n(1),s=n.n(a),u=n(702),c=n.n(u),l=n(341),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function t(e){var n=function t(n){var i=n.wrappedComponentRef,a=r(n,["wrappedComponentRef"]);return o.a.createElement(l.a,{children:function t(n){return o.a.createElement(e,h({},a,n,{ref:i}))}})};return n.displayName="withRouter("+(e.displayName||e.name)+")",n.WrappedComponent=e,n.propTypes={wrappedComponentRef:s.a.func},c()(n,e)};e.a=f},function(t,e,n){"use strict";function r(t,e,n){if("string"!==typeof e){if(h){var f=l(e);f&&f!==h&&r(t,f,n)}var d=s(e);u&&(d=d.concat(u(e)));for(var p=0;p<d.length;++p){var m=d[p];if(!i[m]&&!o[m]&&(!n||!n[m])){var v=c(e,m);try{a(t,m,v)}catch(t){}}}return t}return t}var i={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,s=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,h=l&&l(Object);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return{data:t.data}}function s(t){return Object(h.b)(f,t)}var u=n(0),c=n.n(u),l=n(30),h=n(64),f=n(221),d=n(18),p=n(1011),m=n.n(p),v=n(1012),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),g(e,[{key:"render",value:function t(){var e=this.props,n=e.children,r=e.data,i=e.match,o=window.rootUrl?window.rootUrl:"/";return c.a.createElement("div",{className:"app-root-container"},c.a.createElement(v.a,{viewerId:i.params.id,url:o}))}}]),e}(u.Component);e.a=Object(l.b)(a,s)(y)},function(t,e,n){"use strict";var r=n(705);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(87),x=n.n(b),_=n(13),w=n.n(_),E=n(1),M=n.n(E),S=n(0),T=n.n(S),A=n(2),C=n(171),O=n(414),P=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleCancel",function(t){w()(n.props,"onCancel",t,n.props)}),y()(v()(v()(n)),"handleCancelOverrides",function(t){return{onClick:function e(r,i){w()(t,"onClick",r,i),n.handleCancel(r)}}}),y()(v()(v()(n)),"handleConfirmOverrides",function(t){return{onClick:function e(r,i){w()(t,"onClick",r,i),w()(n.props,"onConfirm",r,n.props)}}}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.cancelButton,o=n.confirmButton,a=n.content,s=n.header,u=n.open,c=n.size,l=Object(A.q)(e,this.props),h={};return x()(this.props,"open")&&(h.open=u),T.a.createElement(O.a,i()({},l,h,{size:c,onClose:this.handleCancel}),O.a.Header.create(s,{autoGenerateKey:!1}),O.a.Content.create(a,{autoGenerateKey:!1}),T.a.createElement(O.a.Actions,null,C.a.create(r,{autoGenerateKey:!1,overrideProps:this.handleCancelOverrides}),C.a.create(o,{autoGenerateKey:!1,defaultProps:{primary:!0},overrideProps:this.handleConfirmOverrides})))}}]),e}(S.Component);y()(P,"defaultProps",{cancelButton:"Cancel",confirmButton:"OK",content:"Are you sure?",size:"small"}),y()(P,"handledProps",["cancelButton","confirmButton","content","header","onCancel","onConfirm","open","size"]),P.propTypes={},e.a=P},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e},n(e,r)}t.exports=n},function(t,e){function n(t,e){return null!=t&&i.call(t,e)}var r=Object.prototype,i=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[u]=n:delete t[u]),i}var i=n(69),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t){var e=i(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}var i=n(347),o=500;t.exports=r},function(t,e,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(712),o=n(140),a=n(224);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(713),o=n(718),a=n(719),s=n(720),u=n(721);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(139);t.exports=r},function(t,e,n){function r(t){return!(!a(t)||o(t))&&(i(t)?p:c).test(s(t))}var i=n(71),o=n(715),a=n(29),s=n(348),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,h=Object.prototype,f=l.toString,d=h.hasOwnProperty,p=RegExp("^"+f.call(d).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return!!o&&o in t}var i=n(716),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e,n){var r=n(28),i=r["__core-js_shared__"];t.exports=i},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=n(139),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(139),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?o:e,this}var i=n(139),o="__lodash_hash_undefined__";t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)}var i=n(141),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(141);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(141);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var i=n(141);t.exports=r},function(t,e,n){function r(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}var i=n(143);t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(143);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(143);t.exports=r},function(t,e,n){function r(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var i=n(143);t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(40),o=n(26),a="[object Arguments]";t.exports=r},function(t,e,n){function r(t,e,n){e=o(e,t),t=s(t,e);var r=null==t?t:t[u(a(e))];return null==r?void 0:i(r,t,n)}var i=n(146),o=n(103),a=n(734),s=n(735),u=n(72);t.exports=r},function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function r(t,e){return e.length<2?t:i(t,o(e,0,-1))}var i=n(147),o=n(148);t.exports=r},function(t,e,n){var r=n(737),i=n(350),o=n(53),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){"use strict";n.d(e,"a",function(){return V});var r=n(19),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(227),x=n.n(b),_=n(154),w=n.n(_),E=n(744),M=n.n(E),S=n(155),T=n.n(S),A=n(161),C=n.n(A),O=n(31),P=n.n(O),L=n(769),R=n.n(L),k=n(87),N=n.n(k),I=n(234),j=n.n(I),D=n(13),B=n.n(D),F=n(0),U=n.n(F),G=function t(e){return"default".concat(e[0].toUpperCase()+e.slice(1))},z=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n[e];if(void 0!==o)return o;if(i){var a=n[G(e)];if(void 0!==a)return a;if(r){var s=r[e];if(void 0!==s)return s}}return"checked"!==e&&("value"===e?n.multiple?[]:"":void 0)},V=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];n=l()(this,(t=f()(e)).call.apply(t,[this].concat(o))),y()(v()(v()(n)),"trySetState",function(t,e){var r=n.constructor.autoControlledProps,o,a,s=Object.keys(t).reduce(function(e,i){return void 0!==n.props[i]?e:-1===r.indexOf(i)?e:(e[i]=t[i],e)},{});e&&(s=i()({},s,e)),Object.keys(s).length>0&&n.setState(s)});var u=n.constructor.autoControlledProps,c=B()(v()(v()(n)),"getInitialAutoControlledState",n.props)||{},h,d,p,m,g,b,x=u.reduce(function(t,e){t[e]=z(e,n.props,c,!0);var r,i;return t},{});return n.state=i()({},c,x),n}return p()(e,t),u()(e,[{key:"componentWillReceiveProps",value:function t(e){var n=this,r=this.constructor.autoControlledProps,i=r.reduce(function(t,r){var i=w()(e[r]),o=!w()(n.props[r])&&i;return i?o&&(t[r]=z(r,e)):t[r]=e[r],t},{});Object.keys(i).length>0&&this.setState(i)}}]),e}(F.Component)},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e){function n(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e,n){function r(t){return a(t)||o(t)||!!(s&&t&&t[s])}var i=n(69),o=n(145),a=n(17),s=i?i.isConcatSpreadable:void 0;t.exports=r},function(t,e,n){function r(t,e,n){return t=s(t),n=null==n?0:i(a(n),0,t.length),e=o(e),t.slice(n,n+e.length)==e}var i=n(354),o=n(144),a=n(54),s=n(47);t.exports=r},function(t,e,n){function r(t,e){var n=[];return i(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}var i=n(74);t.exports=r},function(t,e,n){var r=n(747),i=r();t.exports=i},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return a(t)&&o(t.length)&&!!s[i(t)]}var i=n(40),o=n(225),a=n(26),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=r},function(t,e,n){var r=n(358),i=r(Object.keys,Object);t.exports=i},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(35);t.exports=r},function(t,e,n){function r(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}var i=n(753),o=n(764),a=n(369);t.exports=r},function(t,e,n){function r(t,e,n,r){var u=n.length,c=u,l=!r;if(null==t)return!c;for(t=Object(t);u--;){var h=n[u];if(l&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++u<c;){h=n[u];var f=h[0],d=t[f],p=h[1];if(l&&h[2]){if(void 0===d&&!(f in t))return!1}else{var m=new i;if(r)var v=r(d,p,f,t,e,m);if(!(void 0===v?o(p,d,a|s,r,m):v))return!1}}return!0}var i=n(231),o=n(232),a=1,s=2;t.exports=r},function(t,e,n){function r(){this.__data__=new i,this.size=0}var i=n(140);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}var i=n(140),o=n(224),a=n(223),s=200;t.exports=r},function(t,e,n){function r(t,e,n,r,v,y){var b=c(t),x=c(e),_=b?p:u(t),w=x?p:u(e);_=_==d?m:_,w=w==d?m:w;var E=_==m,M=w==m,S=_==w;if(S&&l(t)){if(!l(e))return!1;b=!0,E=!1}if(S&&!E)return y||(y=new i),b||h(t)?o(t,e,n,r,v,y):a(t,e,_,n,r,v,y);if(!(n&f)){var T=E&&g.call(t,"__wrapped__"),A=M&&g.call(e,"__wrapped__");if(T||A){var C=T?t.value():t,O=A?e.value():e;return y||(y=new i),v(C,O,n,r,y)}}return!!S&&(y||(y=new i),s(t,e,n,r,v,y))}var i=n(231),o=n(359),a=n(760),s=n(761),u=n(60),c=n(17),l=n(107),h=n(157),f=1,d="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,g=v.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,r,i,E,S){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!E(new o(t),new o(e)));case f:case d:case v:return a(+t,+e);case p:return t.name==e.name&&t.message==e.message;case g:case b:return t==e+"";case m:var T=u;case y:var A=r&l;if(T||(T=c),t.size!=e.size&&!A)return!1;var C=S.get(t);if(C)return C==e;r|=h,S.set(t,e);var O=s(T(t),T(e),r,i,E,S);return S.delete(t),O;case x:if(M)return M.call(t)==M.call(e)}return!1}var i=n(69),o=n(361),a=n(142),s=n(359),u=n(362),c=n(160),l=1,h=2,f="[object Boolean]",d="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",g="[object RegExp]",y="[object Set]",b="[object String]",x="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",E=i?i.prototype:void 0,M=E?E.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e,n,r,a,u){var c=n&o,l=i(t),h=l.length;if(h!=i(e).length&&!c)return!1;for(var f=h;f--;){var d=l[f];if(!(c?d in e:s.call(e,d)))return!1}var p=u.get(t);if(p&&u.get(e))return p==e;var m=!0;u.set(t,e),u.set(e,t);for(var v=c;++f<h;){d=l[f];var g=t[d],y=e[d];if(r)var b=c?r(y,g,d,e,t,u):r(g,y,d,t,e,u);if(!(void 0===b?g===y||a(g,y,n,r,u):b)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var x=t.constructor,_=e.constructor;x!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _)&&(m=!1)}return u.delete(t),u.delete(e),m}var i=n(363),o=1,a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(70),i=n(28),o=r(i,"DataView");t.exports=o},function(t,e,n){var r=n(70),i=n(28),o=r(i,"Promise");t.exports=o},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,i(a)]}return e}var i=n(368),o=n(31);t.exports=r},function(t,e,n){function r(t,e){return s(t)&&u(e)?c(l(t),e):function(n){var r=o(n,t);return void 0===r&&r===e?a(n,t):i(e,r,h|f)}}var i=n(232),o=n(48),a=n(370),s=n(222),u=n(368),c=n(369),l=n(72),h=1,f=2;t.exports=r},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t){return a(t)?i(s(t)):o(t)}var i=n(371),o=n(768),a=n(222),s=n(72);t.exports=r},function(t,e,n){function r(t){return function(e){return i(e,t)}}var i=n(147);t.exports=r},function(t,e,n){var r=n(52),i=n(770),o=n(59),a=n(771),s=o(function(t){var e=r(t,a);return e.length&&e[0]===t[0]?i(e):[]});t.exports=s},function(t,e,n){function r(t,e,n){for(var r=n?a:o,h=t[0].length,f=t.length,d=f,p=Array(f),m=1/0,v=[];d--;){var g=t[d];d&&e&&(g=s(g,u(e))),m=l(g.length,m),p[d]=!n&&(e||h>=120&&g.length>=120)?new i(d&&g):void 0}g=t[0];var y=-1,b=p[0];t:for(;++y<h&&v.length<m;){var x=g[y],_=e?e(x):x;if(x=n||0!==x?x:0,!(b?c(b,_):r(v,_,n))){for(d=f;--d;){var w=p[d];if(!(w?c(w,_):r(t[d],_,n)))continue t}b&&b.push(_),v.push(x)}}return v}var i=n(149),o=n(150),a=n(228),s=n(52),u=n(73),c=n(152),l=Math.min;t.exports=r},function(t,e,n){function r(t){return i(t)?t:[]}var i=n(153);t.exports=r},function(t,e,n){"use strict";n.d(e,"a",function(){return g}),n.d(e,"b",function(){return x});var r=n(75),i=n.n(r),o=n(87),a=n.n(o),s=n(31),u=n.n(s),c=n(88),l=n.n(c),h=n(155),f=n.n(h),d=n(776),p=n.n(d),m=n(0),v=n.n(m),g=function t(e){return p()(f()(m.Children.toArray(e),m.isValidElement),"key")},y=function t(e,n){var r={},i=[];return l()(u()(e),function(t){if(!a()(n,t))return void i.push(t);i.length&&(r[t]=i,i=[])}),[r,i]},b=function t(e,n,r){return a()(r,e)?r[e]:n[e]},x=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},o=y(e,n),s=i()(o,2),c=s[0],h=s[1];return l()(u()(n),function(t){a()(c,t)&&l()(c[t],function(t){r[t]=b(t,e,n)}),r[t]=b(t,e,n)}),l()(h,function(t){r[t]=b(t,e,n)}),r}},function(t,e){function n(t){if(Array.isArray(t))return t}t.exports=n},function(t,e){function n(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}t.exports=n},function(t,e){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t.exports=n},function(t,e,n){var r=n(162),i=n(777),o=i(function(t,e,n){r(t,n,e)});t.exports=o},function(t,e,n){function r(t,e){return function(n,r){var u=s(n)?i:o,c=e?e():{};return u(n,t,a(r,2),c)}}var i=n(778),o=n(779),a=n(32),s=n(17);t.exports=r},function(t,e){function n(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}t.exports=n},function(t,e,n){function r(t,e,n,r){return i(t,function(t,i,o){e(r,t,n(t),o)}),r}var i=n(74);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"someByType",function(){return c}),n.d(e,"findByType",function(){return l}),n.d(e,"isNil",function(){return h});var r=n(372),i=n.n(r),o=n(236),a=n.n(o),s=n(0),u=n.n(s),c=function t(e,n){return a()(s.Children.toArray(e),{type:n})},l=function t(e,n){return i()(s.Children.toArray(e),{type:n})},h=function t(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length}},function(t,e,n){function r(t){return function(e,n,r){var s=Object(e);if(!o(e)){var u=i(n,3);e=a(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,r);return c>-1?s[u?e[c]:c]:void 0}}var i=n(32),o=n(35),a=n(31);t.exports=r},function(t,e,n){function r(t,e){var n;return i(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}var i=n(74);t.exports=r},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return f});var r=n(102),i=n.n(r),o=n(237),a=function t(e,n){return e&&n},s=function t(e,n){return e&&!0!==e&&"".concat(e," ").concat(n)},u=function t(e,n){return e&&(!0===e?n:"".concat(e," ").concat(n))},c=function t(e,n){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map(function(t){return"".concat(t.replace("-"," ")," ").concat(n)}).join(" "):null},l=function t(e){return"justified"===e?"justified":s(e,"aligned")},h=function t(e){return s(e,"aligned")},f=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&"equal"===e)return"equal width";var r=i()(e);return"string"!==r&&"number"!==r||!n?Object(o.a)(e):"".concat(Object(o.a)(e)," ").concat(n)}},function(t,e,n){"use strict";var r=n(49),i=n.n(r),o=n(788),a=n.n(o),s=n(830),u=n.n(s),c=n(836),l=n.n(c),h=n(837),f=n.n(h),d=n(840),p=n.n(d),m=n(841),v=n.n(m),g=n(842),y=n.n(g),b=n(843),x=n.n(b),_=n(844),w=n.n(_),E=n(845),M=n.n(E),S=n(847),T=n.n(S),A=n(853),C=n.n(A),O=n(855),P=n.n(O),L=n(393),R=n.n(L),k=n(394),N=n.n(k),I=n(861),j=n.n(I),D=n(1),B=n.n(D),F=n(395),U=function t(){var e;return(e=Object.prototype.toString).call.apply(e,arguments)},G=function t(){return B.a.oneOfType([B.a.func,B.a.object,B.a.string,B.a.symbol]).apply(void 0,arguments)},z=function t(e,n){if(void 0!==e[n]&&!(e[n]instanceof Element))throw new Error('Invalid prop "'.concat(n,'" supplied, expected a DOM node.'))},V=function t(e){if(!Array.isArray(e))throw new Error("Invalid argument supplied to suggest, expected an instance of array.");var n=j()(function(t){var n=t.split(" ");return N()(R()(function(t){var e=t.split(" ");return{suggestion:t,score:N()(R()(function(t){return R()(function(e){return Object(F.a)(t,e)},e)}),R()(P.a),C.a)(n)+N()(R()(function(t){return R()(function(e){return Object(F.a)(t,e)},n)}),R()(P.a),C.a)(e)}}),T()(["score","suggestion"]),M()(3))(e)}),r=e.reduce(function(t,e){return t[e.split(" ").sort().join(" ")]=!0,t},{});return function(t,e,i){var o=t[e];if(o&&!r[o]){var a=o.split(" ").sort().join(" ");if(!r[a]){var s=n(o);if(!s.some(function(t){return 0===t.score}))return new Error(["Invalid prop `".concat(e,"` of value `").concat(o,"` supplied to `").concat(i,"`."),"\n\nInstead of `".concat(o,"`, did you mean:"),s.map(function(t){return"\n  - ".concat(t.suggestion)}).join(""),"\n"].join(""))}}}},H=function t(e){return function(t,n,r){if(!Array.isArray(e))throw new Error(["Invalid argument supplied to disallow, expected an instance of array."," See `".concat(n,"` prop in `").concat(r,"`.")].join(""));if(!w()(t[n])&&!1!==t[n]){var o=e.reduce(function(e,n){return w()(t[n])||!1===t[n]?e:i()(e).concat([n])},[]);return o.length>0?new Error(["Prop `".concat(n,"` in `").concat(r,"` conflicts with props: `").concat(o.join("`, `"),"`."),"They cannot be defined together, choose one or the other."].join(" ")):void 0}}},W=function t(e){return function(t,n,r){for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];if(!Array.isArray(e))throw new Error(["Invalid argument supplied to every, expected an instance of array.","See `".concat(n,"` prop in `").concat(r,"`.")].join(" "));return N()(R()(function(e){if("function"!==typeof e)throw new Error('every() argument "validators" should contain functions, found: '.concat(U(e),"."));return e.apply(void 0,[t,n,r].concat(o))}),x.a)(e)[0]}},q=function t(e){return function(t,n,r){for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];if(!Array.isArray(e))throw new Error(["Invalid argument supplied to some, expected an instance of array.","See `".concat(n,"` prop in `").concat(r,"`.")].join(" "));var s=x()(R()(e,function(e){if(!y()(e))throw new Error('some() argument "validators" should contain functions, found: '.concat(U(e),"."));return e.apply(void 0,[t,n,r].concat(o))}));if(s.length===e.length){var u=new Error("One of these validators must pass:");return u.message+="\n".concat(R()(s,function(t,e){return"[".concat(e+1,"]: ").concat(t.message)}).join("\n")),u}}},X=function t(e,n){return function(t,r,i){for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];if(!v()(e))throw new Error(["Invalid argument supplied to givenProps, expected an object.","See `".concat(r,"` prop in `").concat(i,"`.")].join(" "));if("function"!==typeof n)throw new Error(["Invalid argument supplied to givenProps, expected a function.","See `".concat(r,"` prop in `").concat(i,"`.")].join(" "));if(p()(e).every(function(n){var o=e[n];return"function"===typeof o?!o.apply(void 0,[t,n,i].concat(a)):o===t[r]})){var u=n.apply(void 0,[t,r,i].concat(a));if(u){var c="{ ".concat(p()(f()(p()(e),t)).map(function(e){var n=t[e],r=n;return"string"===typeof n?r='"'.concat(n,'"'):Array.isArray(n)?r="[".concat(n.join(", "),"]"):l()(n)&&(r="{...}"),"".concat(e,": ").concat(r)}).join(", ")," }");return u.message="Given props ".concat(c,": ").concat(u.message),u}}}},Y=function t(e){return function(t,n,r){if(!Array.isArray(e))throw new Error(["Invalid `requiredProps` argument supplied to require, expected an instance of array."," See `".concat(n,"` prop in `").concat(r,"`.")].join(""));if(void 0!==t[n]){var i=e.filter(function(e){return void 0===t[e]});return i.length>0?new Error("`".concat(n,"` prop in `").concat(r,"` requires props: `").concat(i.join("`, `"),"`.")):void 0}}},K=function t(e){return function(t,n,r){if(!Array.isArray(e))throw new Error(["Invalid argument supplied to some, expected an instance of array.","See `".concat(n,"` prop in `").concat(r,"`.")].join(" "));var i=t[n];if(!w()(i)&&!1!==i){var o=i.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map(function(t){return u()(t).replace("-"," ")}),s=a()(o,e);return s.length>0?new Error("`".concat(n,"` prop in `").concat(r,"` has invalid values: `").concat(s.join("`, `"),"`.")):void 0}}},Z=function t(){return W([H(["children"]),B.a.node]).apply(void 0,arguments)},Q=function t(){return W([H(["children"]),B.a.oneOfType([B.a.node,B.a.object,B.a.arrayOf(B.a.oneOfType([B.a.node,B.a.object]))])]).apply(void 0,arguments)},J=function t(){return W([H(["children"]),B.a.arrayOf(Q)]).apply(void 0,arguments)},$=function t(e,n){return function(t,r,i){if("string"!==typeof e)throw new Error(["Invalid `help` argument supplied to deprecate, expected a string.","See `".concat(r,"` prop in `").concat(i,"`.")].join(" "));if(void 0!==t[r]){var o=new Error("The `".concat(r,"` prop in `").concat(i,"` is deprecated."));if(e&&(o.message+=" ".concat(e)),n){if("function"!==typeof n)throw new Error(["Invalid argument supplied to deprecate, expected a function.","See `".concat(r,"` prop in `").concat(i,"`.")].join(" "));for(var a=arguments.length,s=new Array(a>3?a-3:0),u=3;u<a;u++)s[u-3]=arguments[u];var c=n.apply(void 0,[t,r,i].concat(s));c&&(o.message="".concat(o.message," ").concat(c.message))}return o}}}},function(t,e){function n(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}t.exports=n},function(t,e){function n(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}t.exports=n},function(t,e){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.exports=n},function(t,e,n){var r=n(23),i=r("difference",n(227));i.placeholder=n(21),t.exports=i},function(t,e,n){function r(t,e){return 2==e?function(e,n){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}function i(t,e){return 2==e?function(e,n){return t(e,n)}:function(e){return t(e)}}function o(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function a(t){return function(e){return t({},e)}}function s(t,e){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var o=i[e],a=i.slice(0,e);return o&&f.apply(a,o),e!=r&&f.apply(a,i.slice(e+1)),t.apply(this,a)}}function u(t,e){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=e.apply(void 0,r);return t.apply(void 0,r),i}}}function c(t,e,n,f){function d(t,e){if(T.cap){var n=l.iterateeRearg[t];if(n)return _(e,n);var r=!M&&l.iterateeAry[t];if(r)return x(e,r)}return e}function p(t,e,n){return C||T.curry&&n>1?j(e,n):e}function m(t,e,n){if(T.fixed&&(O||!l.skipFixed[t])){var r=l.methodSpread[t],i=r&&r.start;return void 0===i?k(e,n):s(e,i)}return e}function v(t,e,n){return T.rearg&&n>1&&(P||!l.skipRearg[t])?V(e,l.methodRearg[t]||l.aryRearg[n]):e}function g(t,e){e=W(e);for(var n=-1,r=e.length,i=r-1,o=I(Object(t)),a=o;null!=a&&++n<r;){var s=e[n],u=a[s];null==u||U(u)||F(u)||G(u)||(a[s]=I(n==i?u:Object(u))),a=a[s]}return o}function y(t){return Y.runInContext.convert(t)(void 0)}function b(t,e){var n=l.aliasToReal[t]||t,r=l.remap[n]||n,i=f;return function(t){var o=M?L:R,a=M?L[r]:e,s=N(N({},i),t);return c(o,n,a,s)}}function x(t,e){return w(t,function(t){return"function"==typeof t?i(t,e):t})}function _(t,e){return w(t,function(t){var n=e.length;return r(V(i(t,n),e),n)})}function w(t,e){return function(){var n=arguments.length;if(!n)return t();for(var r=Array(n);n--;)r[n]=arguments[n];var i=T.rearg?0:n-1;return r[i]=e(r[i]),t.apply(void 0,r)}}function E(t,e,n){var r,i=l.aliasToReal[t]||t,s=e,c=X[i];return c?s=c(e):T.immutable&&(l.mutate.array[i]?s=u(e,o):l.mutate.object[i]?s=u(e,a(e)):l.mutate.set[i]&&(s=u(e,g))),D(q,function(t){return D(l.aryMethod[t],function(e){if(i==e){var n=l.methodSpread[i],o=n&&n.afterRearg;return r=o?m(i,v(i,s,t),t):v(i,m(i,s,t),t),r=d(i,r),r=p(i,r,t),!1}}),!r}),r||(r=s),r==e&&(r=C?j(r,1):function(){return e.apply(this,arguments)}),r.convert=b(i,e),r.placeholder=e.placeholder=n,r}var M="function"==typeof e,S=e===Object(e);if(S&&(f=n,n=e,e=void 0),null==n)throw new TypeError;f||(f={});var T={cap:!("cap"in f)||f.cap,curry:!("curry"in f)||f.curry,fixed:!("fixed"in f)||f.fixed,immutable:!("immutable"in f)||f.immutable,rearg:!("rearg"in f)||f.rearg},A=M?n:h,C="curry"in f&&f.curry,O="fixed"in f&&f.fixed,P="rearg"in f&&f.rearg,L=M?n.runInContext():void 0,R=M?n:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},k=R.ary,N=R.assign,I=R.clone,j=R.curry,D=R.forEach,B=R.isArray,F=R.isError,U=R.isFunction,G=R.isWeakMap,z=R.keys,V=R.rearg,H=R.toInteger,W=R.toPath,q=z(l.aryMethod),X={castArray:function(t){return function(){var e=arguments[0];return B(e)?t(o(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[0],n=arguments[1],r=t(e,n),o=r.length;return T.cap&&"number"==typeof n?(n=n>2?n-2:1,o&&o<=n?r:i(r,n)):r}},mixin:function(t){return function(e){var n=this;if(!U(n))return t(n,Object(e));var r=[];return D(z(e),function(t){U(e[t])&&r.push([t,n.prototype[t]])}),t(n,Object(e)),D(r,function(t){var e=t[1];U(e)?n.prototype[t[0]]=e:delete n.prototype[t[0]]}),n}},nthArg:function(t){return function(e){var n=e<0?1:H(e)+1;return j(t(e),n)}},rearg:function(t){return function(e,n){var r=n?n.length:0;return j(t(e,n),r)}},runInContext:function(e){return function(n){return c(t,e(n),f)}}};if(!S)return E(e,n,A);var Y=n,K=[];return D(q,function(t){D(l.aryMethod[t],function(t){var e=Y[l.remap[t]||t];e&&K.push([t,E(t,e,Y)])})}),D(z(Y),function(t){var e=Y[t];if("function"==typeof e){for(var n=K.length;n--;)if(K[n][0]==t)return;e.convert=b(t,e),K.push([t,e])}}),D(K,function(t){Y[t[0]]=t[1]}),Y.convert=y,Y.placeholder=Y,D(z(Y),function(t){D(l.realToAlias[t]||[],function(e){Y[e]=Y[t]})}),Y}var l=n(790),h=n(21),f=Array.prototype.push;t.exports=c},function(t,e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,n=e.aliasToReal,r={};for(var i in n){var o=n[i];t.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(t,e,n){t.exports={ary:n(792),assign:n(385),clone:n(805),curry:n(823),forEach:n(109),isArray:n(17),isError:n(824),isFunction:n(71),isWeakMap:n(825),iteratee:n(826),keys:n(159),rearg:n(827),toInteger:n(54),toPath:n(829)}},function(t,e,n){function r(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,i(t,o,void 0,void 0,void 0,void 0,e)}var i=n(163),o=128;t.exports=r},function(t,e,n){function r(t,e,n){function r(){return(this&&this!==o&&this instanceof r?u:t).apply(s?n:this,arguments)}var s=e&a,u=i(t);return r}var i=n(164),o=n(28),a=1;t.exports=r},function(t,e,n){function r(t,e,n){function r(){for(var o=arguments.length,f=Array(o),d=o,p=u(r);d--;)f[d]=arguments[d];var m=o<3&&f[0]!==p&&f[o-1]!==p?[]:c(f,p);return(o-=m.length)<n?s(t,e,a,r.placeholder,void 0,f,m,void 0,void 0,n-o):i(this&&this!==l&&this instanceof r?h:t,this,f)}var h=o(t);return r}var i=n(146),o=n(164),a=n(376),s=n(379),u=n(242),c=n(165),l=n(28);t.exports=r},function(t,e){function n(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}t.exports=n},function(t,e){var n={};t.exports=n},function(t,e,n){function r(t){if(u(t)&&!s(t)&&!(t instanceof i)){if(t instanceof o)return t;if(h.call(t,"__wrapped__"))return c(t)}return new o(t)}var i=n(238),o=n(241),a=n(239),s=n(17),u=n(26),c=n(798),l=Object.prototype,h=l.hasOwnProperty;r.prototype=a.prototype,r.prototype.constructor=r,t.exports=r},function(t,e,n){function r(t){if(t instanceof i)return t.clone();var e=new o(t.__wrapped__,t.__chain__);return e.__actions__=a(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var i=n(238),o=n(241),a=n(111);t.exports=r},function(t,e){function n(t){var e=t.match(r);return e?e[1].split(i):[]}var r=/\{\n\/\* \[wrapped with (.+)\] \*/,i=/,? & /;t.exports=n},function(t,e){function n(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(r,"{\n/* [wrapped with "+e+"] */\n")}var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=n},function(t,e,n){function r(t,e){return i(m,function(n){var r="_."+n[0];e&n[1]&&!o(t,r)&&t.push(r)}),t.sort()}var i=n(109),o=n(150),a=1,s=2,u=8,c=16,l=32,h=64,f=128,d=256,p=512,m=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length,r=a(e.length,n),s=i(t);r--;){var u=e[r];t[r]=o(u,n)?s[u]:void 0}return t}var i=n(111),o=n(104),a=Math.min;t.exports=r},function(t,e,n){function r(t,e,n,r){function u(){for(var e=-1,o=arguments.length,s=-1,h=r.length,f=Array(h+o),d=this&&this!==a&&this instanceof u?l:t;++s<h;)f[s]=r[s];for(;o--;)f[s++]=arguments[++e];return i(d,c?n:this,f)}var c=e&s,l=o(t);return u}var i=n(146),o=n(164),a=n(28),s=1;t.exports=r},function(t,e,n){function r(t,e){var n=t[1],r=e[1],m=n|r,v=m<(u|c|f),g=r==f&&n==h||r==f&&n==d&&t[7].length<=e[8]||r==(f|d)&&e[7].length<=e[8]&&n==h;if(!v&&!g)return t;r&u&&(t[2]=e[2],m|=n&u?0:l);var y=e[3];if(y){var b=t[3];t[3]=b?i(b,y,e[4]):y,t[4]=b?a(t[3],s):e[4]}return y=e[5],y&&(b=t[5],t[5]=b?o(b,y,e[6]):y,t[6]=b?a(t[5],s):e[6]),y=e[7],y&&(t[7]=y),r&f&&(t[8]=null==t[8]?e[8]:p(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=m,t}var i=n(377),o=n(378),a=n(165),s="__lodash_placeholder__",u=1,c=2,l=4,h=8,f=128,d=256,p=Math.min;t.exports=r},function(t,e,n){function r(t){return i(t,o)}var i=n(243),o=4;t.exports=r},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(112),o=n(386);t.exports=r},function(t,e,n){function r(t){if(!i(t))return a(t);var e=o(t),n=[];for(var r in t)("constructor"!=r||!e&&u.call(t,r))&&n.push(r);return n}var i=n(29),o=n(108),a=n(808),s=Object.prototype,u=s.hasOwnProperty;t.exports=r},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){(function(t){function r(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}var i=n(28),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,u=s?i.Buffer:void 0,c=u?u.allocUnsafe:void 0;t.exports=r}).call(e,n(128)(t))},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(112),o=n(233);t.exports=r},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(112),o=n(387);t.exports=r},function(t,e){function n(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,i=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t,e,n){var r=t.constructor;switch(e){case g:return i(t);case c:case l:return new r(+t);case y:return o(t,n);case b:case x:case _:case w:case E:case M:case S:case T:case A:return u(t,n);case h:return new r;case f:case m:return new r(t);case d:return a(t);case p:return new r;case v:return s(t)}}var i=n(244),o=n(814),a=n(815),s=n(816),u=n(817),c="[object Boolean]",l="[object Date]",h="[object Map]",f="[object Number]",d="[object RegExp]",p="[object Set]",m="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",M="[object Uint8Array]",S="[object Uint8ClampedArray]",T="[object Uint16Array]",A="[object Uint32Array]";t.exports=r},function(t,e,n){function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var i=n(244);t.exports=r},function(t,e){function n(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}var r=/\w*$/;t.exports=n},function(t,e,n){function r(t){return a?Object(a.call(t)):{}}var i=n(69),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var i=n(244);t.exports=r},function(t,e,n){function r(t){return"function"!=typeof t.constructor||a(t)?{}:i(o(t))}var i=n(110),o=n(167),a=n(108);t.exports=r},function(t,e,n){var r=n(820),i=n(73),o=n(158),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(60),o=n(26),a="[object Map]";t.exports=r},function(t,e,n){var r=n(822),i=n(73),o=n(158),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(60),o=n(26),a="[object Set]";t.exports=r},function(t,e,n){function r(t,e,n){e=n?void 0:e;var a=i(t,o,void 0,void 0,void 0,void 0,void 0,e);return a.placeholder=r.placeholder,a}var i=n(163),o=8;r.placeholder={},t.exports=r},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==u||e==s||"string"==typeof t.message&&"string"==typeof t.name&&!a(t)}var i=n(40),o=n(26),a=n(113),s="[object DOMException]",u="[object Error]";t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(60),o=n(26),a="[object WeakMap]";t.exports=r},function(t,e,n){function r(t){return o("function"==typeof t?t:i(t,a))}var i=n(243),o=n(32),a=1;t.exports=r},function(t,e,n){var r=n(163),i=n(245),o=256,a=i(function(t,e){return r(t,256,void 0,void 0,void 0,e)});t.exports=a},function(t,e,n){function r(t){return(null==t?0:t.length)?i(t,1):[]}var i=n(105);t.exports=r},function(t,e,n){function r(t){return a(t)?i(t,c):s(t)?[t]:o(u(l(t)))}var i=n(52),o=n(111),a=n(17),s=n(68),u=n(346),c=n(72),l=n(47);t.exports=r},function(t,e,n){var r=n(23),i=r("trim",n(831));i.placeholder=n(21),t.exports=i},function(t,e,n){function r(t,e,n){if((t=c(t))&&(n||void 0===e))return t.replace(l,"");if(!t||!(e=i(e)))return t;var r=u(t),h=u(e),f=s(r,h),d=a(r,h)+1;return o(r,f,d).join("")}var i=n(144),o=n(246),a=n(832),s=n(833),u=n(168),c=n(47),l=/^\s+|\s+$/g;t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--&&i(e,t[n],0)>-1;);return n}var i=n(151);t.exports=r},function(t,e,n){function r(t,e){for(var n=-1,r=t.length;++n<r&&i(e,t[n],0)>-1;);return n}var i=n(151);t.exports=r},function(t,e){function n(t){return t.split("")}t.exports=n},function(t,e){function n(t){return t.match(w)||[]}var r="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",u="\\ufe0e\\ufe0f",c="[\\ud800-\\udfff]",l="["+s+"]",h="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+h+")",d="[^\\ud800-\\udfff]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",g=f+"?",y="[\\ufe0e\\ufe0f]?",b="(?:\\u200d(?:"+[d,p,m].join("|")+")"+y+g+")*",x=y+g+b,_="(?:"+[d+l+"?",l,p,m,c].join("|")+")",w=RegExp(h+"(?="+h+")|"+_+x,"g");t.exports=n},function(t,e,n){var r=n(23),i=r("isObject",n(29),n(41));i.placeholder=n(21),t.exports=i},function(t,e,n){var r=n(23),i=r("pick",n(170));i.placeholder=n(21),t.exports=i},function(t,e,n){function r(t,e){return i(t,e,function(e,n){return o(t,n)})}var i=n(389),o=n(370);t.exports=r},function(t,e,n){function r(t,e,n,r){if(!s(t))return t;e=o(e,t);for(var c=-1,l=e.length,h=l-1,f=t;null!=f&&++c<l;){var d=u(e[c]),p=n;if(c!=h){var m=f[d];p=r?r(m,d,f):void 0,void 0===p&&(p=s(m)?m:a(e[c+1])?[]:{})}i(f,d,p),f=f[d]}return t}var i=n(166),o=n(103),a=n(104),s=n(29),u=n(72);t.exports=r},function(t,e,n){var r=n(23),i=r("keys",n(31),n(41));i.placeholder=n(21),t.exports=i},function(t,e,n){var r=n(23),i=r("isPlainObject",n(113),n(41));i.placeholder=n(21),t.exports=i},function(t,e,n){var r=n(23),i=r("isFunction",n(71),n(41));i.placeholder=n(21),t.exports=i},function(t,e,n){var r=n(23),i=r("compact",n(390),n(41));i.placeholder=n(21),t.exports=i},function(t,e,n){var r=n(23),i=r("isNil",n(25),n(41));i.placeholder=n(21),t.exports=i},function(t,e,n){var r=n(23),i=r("take",n(846));i.placeholder=n(21),t.exports=i},function(t,e,n){function r(t,e,n){return t&&t.length?(e=n||void 0===e?1:o(e),i(t,0,e<0?0:e)):[]}var i=n(148),o=n(54);t.exports=r},function(t,e,n){var r=n(23),i=r("sortBy",n(848));i.placeholder=n(21),t.exports=i},function(t,e,n){var r=n(105),i=n(849),o=n(59),a=n(89),s=o(function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])});t.exports=s},function(t,e,n){function r(t,e,n){var r=-1;e=i(e.length?e:[l],u(o));var h=a(t,function(t,n,o){return{criteria:i(e,function(e){return e(t)}),index:++r,value:t}});return s(h,function(t,e){return c(t,e,n)})}var i=n(52),o=n(32),a=n(391),s=n(850),u=n(73),c=n(851),l=n(53);t.exports=r},function(t,e){function n(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}t.exports=n},function(t,e,n){function r(t,e,n){for(var r=-1,o=t.criteria,a=e.criteria,s=o.length,u=n.length;++r<s;){var c=i(o[r],a[r]);if(c){if(r>=u)return c;return c*("desc"==n[r]?-1:1)}}return t.index-e.index}var i=n(852);t.exports=r},function(t,e,n){function r(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t===t,a=i(t),s=void 0!==e,u=null===e,c=e===e,l=i(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&t<e||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}var i=n(68);t.exports=r},function(t,e,n){var r=n(23),i=r("sum",n(392),n(41));i.placeholder=n(21),t.exports=i},function(t,e){function n(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}t.exports=n},function(t,e,n){var r=n(23),i=r("min",n(856),n(41));i.placeholder=n(21),t.exports=i},function(t,e,n){function r(t){return t&&t.length?i(t,a,o):void 0}var i=n(857),o=n(858),a=n(53);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(void 0===u?s===s&&!i(s):n(s,u)))var u=s,c=a}return c}var i=n(68);t.exports=r},function(t,e){function n(t,e){return t<e}t.exports=n},function(t,e,n){var r=n(860),i=r();t.exports=i},function(t,e,n){function r(t){return o(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var m=e[r];if("function"!=typeof m)throw new TypeError(l);if(o&&!v&&"wrapper"==s(m))var v=new i([],!0)}for(r=v?r:n;++r<n;){m=e[r];var g=s(m),y="wrapper"==g?a(m):void 0;v=y&&c(y[0])&&y[1]==(d|h|f|p)&&!y[4].length&&1==y[9]?v[s(y[0])].apply(v,y[3]):1==m.length&&c(m)?v[g]():v.thru(m)}return function(){var t=arguments,r=t[0];if(v&&1==t.length&&u(r))return v.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}var i=n(241),o=n(245),a=n(240),s=n(382),u=n(17),c=n(380),l="Expected a function",h=8,f=32,d=128,p=256;t.exports=r},function(t,e,n){var r=n(23),i=r("memoize",n(347));i.placeholder=n(21),t.exports=i},function(t,e,n){"use strict";var r=n(396);if(Object(r.a)(),!1){var i;try{i=window.localStorage.debug}catch(t){console.error("Semantic-UI-React could not enable debug."),console.error(t)}}var o=function t(e){},a=void 0},function(t,e,n){"use strict";var r=n(864),i=n.n(r);e.a=r.instance},function(t,e,n){"use strict";t.exports=n(865)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?l(t):e}function f(t){var e=new Map;return t.forEach(function(t,n){e.set(n,t)}),e}function d(t){return Array.isArray(t)?t:[t]}function p(t){return"document"===t?document:"window"===t?window:t||document}Object.defineProperty(e,"__esModule",{value:!0});var m=n(866);n(1);var v=n(0),g=function(){function t(e){r(this,t),a(this,"handlers",void 0),this.handlers=e.slice(0)}return o(t,[{key:"addHandlers",value:function(e){for(var n=this.handlers.slice(0),r=e.length,i=0;i<r;i+=1)n.push(e[i]);return new t(n)}},{key:"dispatchEvent",value:function(t,e){var n=this.handlers.length-1;if(e){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](t));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(t)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(e){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var o=this.handlers[i];-1===e.indexOf(o)&&n.push(o)}return new t(n)}}]),t}(),y=function(){function t(e,n){r(this,t),a(this,"handlerSets",void 0),a(this,"poolName",void 0),this.handlerSets=n,this.poolName=e}return o(t,[{key:"addHandlers",value:function(e,n){var r=f(this.handlerSets);if(r.has(e)){var i=r.get(e);r.set(e,i.addHandlers(n))}else r.set(e,new g(n));return new t(this.poolName,r)}},{key:"dispatchEvent",value:function(t,e){var n=this.handlerSets.get(t),r="default"===this.poolName;n&&n.dispatchEvent(e,r)}},{key:"hasHandlers",value:function(){return this.handlerSets.size>0}},{key:"removeHandlers",value:function(e,n){var r=f(this.handlerSets);if(!r.has(e))return new t(this.poolName,r);var i=r.get(e).removeHandlers(n);return i.hasHandlers()?r.set(e,i):r.delete(e),new t(this.poolName,r)}}]),t}();a(y,"createByType",function(t,e,n){var r=new Map;return r.set(e,new g(n)),new y(t,r)});var b=function(){function t(e){r(this,t),a(this,"handlers",new Map),a(this,"pools",new Map),a(this,"target",void 0),a(this,"createEmitter",function(t,e){return function(n){e.forEach(function(e){e.dispatchEvent(t,n)})}}),this.target=e}return o(t,[{key:"addHandlers",value:function(t,e,n){if(this.removeTargetHandler(e),this.pools.has(t)){var r=this.pools.get(t);this.pools.set(t,r.addHandlers(e,n))}else this.pools.set(t,y.createByType(t,e,n));this.addTargetHandler(e)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(t,e,n){if(this.pools.has(t)){var r=this.pools.get(t).removeHandlers(e,n);r.hasHandlers()?this.pools.set(t,r):this.pools.delete(t),this.removeTargetHandler(e),this.pools.size>0&&this.addTargetHandler(e)}}},{key:"addTargetHandler",value:function(t){var e=this.createEmitter(t,this.pools);this.handlers.set(t,e),this.target.addEventListener(t,e)}},{key:"removeTargetHandler",value:function(t){this.handlers.has(t)&&(this.target.removeEventListener(t,this.handlers.get(t)),this.handlers.delete(t))}}]),t}(),x=function(){function t(){var e=this;r(this,t),a(this,"targets",new Map),a(this,"getTarget",function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=p(t);if(e.targets.has(r))return e.targets.get(r);if(!n)return null;var i=new b(r);return e.targets.set(r,i),i}),a(this,"removeTarget",function(t){e.targets.delete(p(t))})}return o(t,[{key:"sub",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(m.canUseDOM){var r=n.target,i=void 0===r?document:r,o=n.pool,a=void 0===o?"default":o;this.getTarget(i).addHandlers(a,t,d(e))}}},{key:"unsub",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(m.canUseDOM){var r=n.target,i=void 0===r?document:r,o=n.pool,a=void 0===o?"default":o,s=this.getTarget(i,!1);s&&(s.removeHandlers(a,t,d(e)),s.hasHandlers()||this.removeTarget(i))}}}]),t}(),_=new x,w=function(t){function e(){return r(this,e),h(this,u(e).apply(this,arguments))}return s(e,v.PureComponent),o(e,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(t){this.unsubscribe(t),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(t){var e=t.name,n=t.on,r=t.pool,i=t.target;_.sub(e,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(t){var e=t.name,n=t.on,r=t.pool,i=t.target;_.unsub(e,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),e}();a(w,"defaultProps",{pool:"default",target:"document"}),w.propTypes={},e.instance=_,e.default=w},function(t,e,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0!==(r=function(){return o}.call(e,n,e,t))&&(t.exports=r)}()},function(t,e,n){"use strict";function r(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("function"!==typeof t&&"string"!==typeof t)throw new Error("createShorthand() Component must be a string or function.");if(M()(n)||w()(n))return null;var i=x()(n),o=y()(n),s=v()(n),u=Object(A.isValidElement)(n),c=p()(n),h=i||o||f()(n);if(!s&&!u&&!c&&!h)return null;var d=r.defaultProps,m=void 0===d?{}:d,g=u&&n.props||c&&n||h&&e(n),b=r.overrideProps,_=void 0===b?{}:b;_=v()(_)?_(a()({},m,g)):_;var E=a()({},m,g,_);if(m.className||_.className||g.className){var S=T()(m.className,_.className,g.className);E.className=l()(S.split(" ")).join(" ")}if((m.style||_.style||g.style)&&(E.style=a()({},m.style,g.style,_.style)),M()(E.key)){var O=E.childKey,P=r.autoGenerateKey,L=void 0===P||P;M()(O)?L&&(i||o)&&(E.key=n):(E.key="function"===typeof O?O(E):O,delete E.childKey)}return u?Object(A.cloneElement)(n,E):h||c?C.a.createElement(t,E):s?n(t,E,E.children):void 0}function i(t,e){if("function"!==typeof t&&"string"!==typeof t)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,i){return r(t,e,n,i)}}e.g=r,e.h=i,n.d(e,"a",function(){return O}),n.d(e,"b",function(){return P}),n.d(e,"c",function(){return L}),n.d(e,"d",function(){return R}),n.d(e,"e",function(){return k}),n.d(e,"f",function(){return N});var o=n(19),a=n.n(o),s=n(102),u=n.n(s),c=n(247),l=n.n(c),h=n(17),f=n.n(h),d=n(113),p=n.n(d),m=n(71),v=n.n(m),g=n(398),y=n.n(g),b=n(114),x=n.n(b),_=n(869),w=n.n(_),E=n(25),M=n.n(E),S=n(4),T=n.n(S),A=n(0),C=n.n(A);r.handledProps=[];var O=i("div",function(t){return{children:t}}),P=i("iframe",function(t){return{src:t}}),L=i("img",function(t){return{src:t}}),R=i("input",function(t){return{type:t}}),k=i("label",function(t){return{children:t}}),N=i("p",function(t){return{children:t}})},function(t,e,n){var r=n(366),i=n(381),o=n(160),a=1/0,s=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=s},function(t,e,n){function r(t){return!0===t||!1===t||o(t)&&i(t)==a}var i=n(40),o=n(26),a="[object Boolean]";t.exports=r},function(t,e,n){"use strict";var r=function t(e,n){var r=e.handledProps,i=void 0===r?[]:r;return Object.keys(n).reduce(function(t,e){return"childKey"===e?t:(-1===i.indexOf(e)&&(t[e]=n[e]),t)},{})};e.a=r},function(t,e,n){"use strict";function r(t,e,n){var r=t.defaultProps,i=void 0===r?{}:r;if(e.as&&e.as!==i.as)return e.as;if(n){var o=n();if(o)return o}return e.href?"a":i.as||"div"}e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return l});var r=n(61),i=n.n(r),o=n(88),a=n.n(o),s=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","type","value"],u=["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],c=s.concat(u),l=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.htmlProps,o=void 0===r?c:r,s=n.includeAria,u=void 0===s||s,l={},h={};return a()(e,function(t,e){var n=u&&(/^aria-.*$/.test(e)||"role"===e);(i()(o,e)||n?l:h)[e]=t}),[l,h]}},function(t,e,n){function r(t,e){return i(e,function(e){return t[e]})}var i=n(52);t.exports=r},function(t,e,n){"use strict";var r=n(399),i=n.n(r),o=n(876),a=n.n(o),s=n(13),u=n.n(s),c=n(25),l=n.n(c),h=n(236),f=n.n(h),d=function t(e,n){if(f()([n,e],l.a))return!1;if(n.target&&(u()(n.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return u()(n.target,"removeAttribute","data-suir-click-target"),e.contains(n.target);var r=n.clientX,o=n.clientY;if(f()([r,o],l.a))return!1;var s=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!s||!s.length)return!1;var c=a()(s),h=c.top,d=c.bottom,p=c.left,m=c.right;return!f()([h,d,p,m],l.a)&&(i()(o,h,d+.001)&&i()(r,p,m+.001))};e.a=d},function(t,e){function n(t,e,n){return t>=i(e,n)&&t<r(e,n)}var r=Math.max,i=Math.min;t.exports=n},function(t,e,n){t.exports=n(877)},function(t,e){function n(t){return t&&t.length?t[0]:void 0}t.exports=n},function(t,e,n){"use strict";var r=n(879);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(49),i=n.n(r),o=n(400),a=n(880),s=n(885),u=function t(e){var n=Object(s.b)(e),r=n.activePage,u=n.totalPages,c=Object(o.e)(r),l=Object(s.a)(n)?Object(a.b)(1,u,c):Object(a.a)(n,c);return[Object(o.b)(),Object(o.f)(r)].concat(i()(l),[Object(o.d)(r,u),Object(o.c)(u)])};e.a=u},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var r=n(49),i=n.n(r),o=n(881),a=n.n(o),s=n(14),u=n.n(s),c=n(884),l=function t(e,n,r){return u()(a()(e,n+1),r)},h=function t(e,n){var r=e.activePage,o=e.boundaryRange,a=e.siblingRange,s=e.totalPages,u=o,h=l(1,u,n),f=s+1-o,d=l(f,s,n),p=Math.min(Math.max(r-a,u+2),f-1-2*a-1),m=p+2*a,v=l(p,m,n);return i()(h).concat([Object(c.a)(u,p,n)],i()(v),[Object(c.b)(m,f,n)],i()(d)).filter(Boolean)}},function(t,e,n){var r=n(882),i=r();t.exports=i},function(t,e,n){function r(t){return function(e,n,r){return r&&"number"!=typeof r&&o(e,n,r)&&(n=r=void 0),e=a(e),void 0===n?(n=e,e=0):n=a(n),r=void 0===r?e<n?1:-1:a(r),i(e,n,r,t)}}var i=n(883),o=n(89),a=n(230);t.exports=r},function(t,e){function n(t,e,n,o){for(var a=-1,s=i(r((e-t)/(n||1)),0),u=Array(s);s--;)u[o?s:++a]=t,t+=n;return u}var r=Math.ceil,i=Math.max;t.exports=n},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n(400),i=function t(e,n,i){var o=n-1;return(o!==e+1?r.a:i)(o)},o=function t(e,n,i){var o=e+1;return(o!==n-1?r.a:i)(o)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function t(e){var n=e.boundaryRange,r=2;return 3+2*e.siblingRange+2*n>=e.totalPages},i=function t(e){return{activePage:+e.activePage,boundaryRange:+e.boundaryRange,siblingRange:+e.siblingRange,totalPages:+e.totalPages}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"COLORS",function(){return f}),n.d(e,"FLOATS",function(){return d}),n.d(e,"SIZES",function(){return p}),n.d(e,"TEXT_ALIGNMENTS",function(){return m}),n.d(e,"VERTICAL_ALIGNMENTS",function(){return v}),n.d(e,"VISIBILITY",function(){return g}),n.d(e,"WIDTHS",function(){return y}),n.d(e,"DIRECTIONAL_TRANSITIONS",function(){return b}),n.d(e,"STATIC_TRANSITIONS",function(){return x}),n.d(e,"TRANSITIONS",function(){return _}),n.d(e,"ACCESSIBILITY",function(){return w}),n.d(e,"ARROWS",function(){return E}),n.d(e,"AUDIO_VIDEO",function(){return M}),n.d(e,"BUSINESS",function(){return S}),n.d(e,"CHESS",function(){return T}),n.d(e,"CODE",function(){return A}),n.d(e,"COMMUNICATION",function(){return C}),n.d(e,"COMPUTERS",function(){return O}),n.d(e,"CURRENCY",function(){return P}),n.d(e,"DATE_TIME",function(){return L}),n.d(e,"DESIGN",function(){return R}),n.d(e,"EDITORS",function(){return k}),n.d(e,"FILES",function(){return N}),n.d(e,"GENDERS",function(){return I}),n.d(e,"HANDS_GESTURES",function(){return j}),n.d(e,"HEALTH",function(){return D}),n.d(e,"IMAGES",function(){return B}),n.d(e,"INTERFACES",function(){return F}),n.d(e,"LOGISTICS",function(){return U}),n.d(e,"MAPS",function(){return G}),n.d(e,"MEDICAL",function(){return z}),n.d(e,"OBJECTS",function(){return V}),n.d(e,"PAYMENTS_SHOPPING",function(){return H}),n.d(e,"SHAPES",function(){return W}),n.d(e,"SPINNERS",function(){return q}),n.d(e,"SPORTS",function(){return X}),n.d(e,"STATUS",function(){return Y}),n.d(e,"USERS_PEOPLE",function(){return K}),n.d(e,"VEHICLES",function(){return Z}),n.d(e,"WRITING",function(){return Q}),n.d(e,"BRANDS",function(){return J}),n.d(e,"ICONS",function(){return $}),n.d(e,"ICON_ALIASES",function(){return tt}),n.d(e,"ICONS_AND_ALIASES",function(){return et}),n.d(e,"COMPONENT_CONTEXT_SPECIFIC_ICONS",function(){return nt}),n.d(e,"ALL_ICONS_IN_ALL_CONTEXTS",function(){return rt});var r=n(49),i=n.n(r),o=n(247),a=n.n(o),s=n(115),u=n.n(s),c=n(31),l=n.n(c),h=n(237),f=["red","orange","yellow","olive","green","teal","blue","violet","purple","pink","brown","grey","black"],d=["left","right"],p=["mini","tiny","small","medium","large","big","huge","massive"],m=["left","center","right","justified"],v=["bottom","middle","top"],g=["mobile","tablet","computer","large screen","widescreen"],y=i()(l()(h.b)).concat(i()(l()(h.b).map(Number)),i()(u()(h.b))),b=["browse","browse right","drop","fade","fade up","fade down","fade left","fade right","fly up","fly down","fly left","fly right","horizontal flip","vertical flip","scale","slide up","slide down","slide left","slide right","swing up","swing down","swing left","swing right","zoom"],x=["jiggle","flash","shake","pulse","tada","bounce","glow"],_=b.concat(x),w=["american sign language interpreting","assistive listening systems","audio description","blind","braille","closed captioning","closed captioning outline","deaf","low vision","phone volume","question circle","question circle outline","sign language","tty","universal access","wheelchair"],E=["angle double down","angle double left","angle double right","angle double up","angle down","angle left","angle right","angle up","arrow alternate circle down","arrow alternate circle down outline","arrow alternate circle left","arrow alternate circle left outline","arrow alternate circle right","arrow alternate circle right outline","arrow alternate circle up","arrow alternate circle up outline","arrow circle down","arrow circle left","arrow circle right","arrow circle up","arrow down","arrow left","arrow right","arrow up","arrows alternate","arrows alternate horizontal","arrows alternate vertical","caret down","caret left","caret right","caret square down","caret square down outline","caret square left","caret square left outline","caret square right","caret square right outline","caret square up","caret square up outline","caret up","cart arrow down","chart line","chevron circle down","chevron circle left","chevron circle right","chevron circle up","chevron down","chevron left","chevron right","chevron up","cloud download","cloud upload","download","exchange","expand arrows alternate","external alternate","external square alternate","hand point down","hand point down outline","hand point left","hand point left outline","hand point right","hand point right outline","hand point up","hand point up outline","hand pointer","hand pointer outline","history","level down alternate","level up alternate","location arrow","long arrow alternate down","long arrow alternate left","long arrow alternate right","long arrow alternate up","mouse pointer","play","random","recycle","redo","redo alternate","reply","reply all","retweet","share","share square","share square outline","sign-in","sign-out","sign-in alternate","sign-out alternate","sort","sort alphabet down","sort alphabet up","sort amount down","sort amount up","sort down","sort numeric down","sort numeric up","sort up","sync","sync alternate","text height","text width","undo","undo alternate","upload","zoom-in","zoom-out"],M=["audio description","backward","circle","circle outline","closed captioning","closed captioning outline","compress","eject","expand","expand arrows alternate","fast backward","fast forward","file audio","file audio outline","file video","file video outline","film","forward","headphones","microphone","microphone slash","music","pause","pause circle","pause circle outline","phone volume","play","play circle","play circle outline","podcast","random","redo","redo alternate","rss","rss square","step backward","step forward","stop","stop circle","stop circle outline","sync","sync alternate","undo","undo alternate","video","volume down","volume off","volume up"],S=["address book","address book outline","address card","address card outline","archive","balance scale","birthday cake","book","briefcase","building","building outline","bullhorn","bullseye","calculator","calendar","calendar outline","calendar alternate","calendar alternate outline","certificate","chart area","chart bar","chart bar outline","chart line","chart pie","clipboard","clipboard outline","coffee","columns","compass","compass outline","copy","copy outline","copyright","copyright outline","cut","edit","edit outline","envelope","envelope outline","envelope open","envelope open outline","envelope square","eraser","fax","file","file outline","file alternate","file alternate outline","folder","folder outline","folder open","folder open outline","globe","industry","paperclip","paste","pen square","pencil alternate","percent","phone","phone square","phone volume","registered","registered outline","save","save outline","sitemap","sticky note","sticky note outline","suitcase","table","tag","tags","tasks","thumbtack","trademark"],T=["chess","chess bishop","chess board","chess king","chess knight","chess pawn","chess queen","chess rook","square full"],A=["archive","barcode","bath","bug","code","code branch","coffee","file","file outline","file alternate","file alternate outline","file code","file code outline","filter","fire extinguisher","folder","folder outline","folder open","folder open outline","keyboard","keyboard outline","microchip","qrcode","shield alternate","sitemap","terminal","user secret","window close","window close outline","window maximize","window maximize outline","window minimize","window minimize outline","window restore","window restore outline"],C=["address book","address book outline","address card","address card outline","american sign language interpreting","assistive listening systems","at","bell","bell outline","bell slash","bell slash outline","bullhorn","comment","comment outline","comment alternate","comment alternate outline","comments","comments outline","envelope","envelope outline","envelope open","envelope open outline","envelope square","fax","inbox","language","microphone","microphone slash","mobile","mobile alternate","paper plane","paper plane outline","phone","phone square","phone volume","rss","rss square","tty","wifi"],O=["desktop","download","hdd","hdd outline","headphones","keyboard","keyboard outline","laptop","microchip","mobile","mobile alternate","plug","power off","print","save","save outline","server","tablet","tablet alternate","tv","upload"],P=["dollar sign","euro sign","lira sign","money bill alternate","money bill alternate outline","pound sign","ruble sign","rupee sign","shekel sign","won sign","yen sign"],L=["bell","bell outline","bell slash","bell slash outline","calendar","calendar outline","calendar alternate","calendar alternate outline","calendar check","calendar check outline","calendar minus","calendar minus outline","calendar plus","calendar plus outline","calendar times","calendar times outline","clock","clock outline","hourglass","hourglass outline","hourglass end","hourglass half","hourglass start","stopwatch"],R=["adjust","clone","clone outline","copy","copy outline","crop","crosshairs","cut","edit","edit outline","eraser","eye","eye dropper","eye slash","eye slash outline","object group","object group outline","object ungroup","object ungroup outline","paint brush","paste","pencil alternate","save","save outline","tint"],k=["align center","align justify","align left","align right","bold","clipboard","clipboard outline","clone","clone outline","columns","copy","copy outline","cut","edit","edit outline","eraser","file","file outline","file alternate","file alternate outline","font","heading","i cursor","indent","italic","linkify","list","list alternate","list alternate outline","list ol","list ul","outdent","paper plane","paper plane outline","paperclip","paragraph","paste","pencil alternate","print","quote left","quote right","redo","redo alternate","reply","reply all","share","strikethrough","subscript","superscript","sync","sync alternate","table","tasks","text height","text width","th","th large","th list","trash","trash alternate","trash alternate outline","underline","undo","undo alternate","unlink"],N=["archive","clone","clone outline","copy","copy outline","cut","file","file outline","file alternate","file alternate outline","file archive","file archive outline","file audio","file audio outline","file code","file code outline","file excel","file excel outline","file image","file image outline","file pdf","file pdf outline","file powerpoint","file powerpoint outline","file video","file video outline","file word","file word outline","folder","folder outline","folder open","folder open outline","paste","save","save outline","sticky note","sticky note outline"],I=["genderless","mars","mars double","mars stroke","mars stroke horizontal","mars stroke vertical","mercury","neuter","transgender","transgender alternate","venus","venus double","venus mars"],j=["hand lizard","hand lizard outline","hand paper","hand paper outline","hand peace","hand peace outline","hand point down","hand point down outline","hand point left","hand point left outline","hand point right","hand point right outline","hand point up","hand point up outline","hand pointer","hand pointer outline","hand rock","hand rock outline","hand scissors","hand scissors outline","hand spock","hand spock outline","handshake","handshake outline","thumbs down","thumbs down outline","thumbs up","thumbs up outline"],D=["ambulance","h square","heart","heart outline","heartbeat","hospital","hospital outline","medkit","plus square","plus square outline","stethoscope","user md","wheelchair"],B=["adjust","bolt","camera","camera retro","clone","clone outline","compress","expand","eye","eye dropper","eye slash","eye slash outline","file image","file image outline","film","id badge","id badge outline","id card","id card outline","image","image outline","images","images outline","sliders horizontal","tint"],F=["ban","barcode","bars","beer","bell","bell outline","bell slash","bell slash outline","bug","bullhorn","bullseye","calculator","calendar","calendar outline","calendar alternate","calendar alternate outline","calendar check","calendar check outline","calendar minus","calendar minus outline","calendar plus","calendar plus outline","calendar times","calendar times outline","certificate","check","check circle","check circle outline","check square","check square outline","circle","circle outline","clipboard","clipboard outline","clone","clone outline","cloud","cloud download","cloud upload","coffee","cog","cogs","copy","copy outline","cut","database","dot circle","dot circle outline","download","edit","edit outline","ellipsis horizontal","ellipsis vertical","envelope","envelope outline","envelope open","envelope open outline","eraser","exclamation","exclamation circle","exclamation triangle","external alternate","external square alternate","eye","eye slash","eye slash outline","file","file outline","file alternate","file alternate outline","filter","flag","flag outline","flag checkered","folder","folder outline","folder open","folder open outline","frown","frown outline","hashtag","heart","heart outline","history","home","i cursor","info","info circle","language","magic","meh","meh outline","microphone","microphone slash","minus","minus circle","minus square","minus square outline","paste","pencil alternate","plus","plus circle","plus square","plus square outline","qrcode","question","question circle","question circle outline","quote left","quote right","redo","redo alternate","reply","reply all","rss","rss square","save","save outline","search","search minus","search plus","share","share alternate","share alternate square","share square","share square outline","shield alternate","sign-in","sign-out","signal","sitemap","sliders horizontal","smile","smile outline","sort","sort alphabet down","sort alphabet up","sort amount down","sort amount up","sort down","sort numeric down","sort numeric up","sort up","star","star outline","star half","star half outline","sync","sync alternate","thumbs down","thumbs down outline","thumbs up","thumbs up outline","times","times circle","times circle outline","toggle off","toggle on","trash","trash alternate","trash alternate outline","trophy","undo","undo alternate","upload","user","user outline","user circle","user circle outline","wifi"],U=["box","boxes","clipboard check","clipboard list","dolly","dolly flatbed","pallet","shipping fast","truck","warehouse"],G=["ambulance","anchor","balance scale","bath","bed","beer","bell","bell outline","bell slash","bell slash outline","bicycle","binoculars","birthday cake","blind","bomb","book","bookmark","bookmark outline","briefcase","building","building outline","car","coffee","crosshairs","dollar sign","eye","eye slash","eye slash outline","fighter jet","fire","fire extinguisher","flag","flag outline","flag checkered","flask","gamepad","gavel","gift","glass martini","globe","graduation cap","h square","heart","heart outline","heartbeat","home","hospital","hospital outline","image","image outline","images","images outline","industry","info","info circle","key","leaf","lemon","lemon outline","life ring","life ring outline","lightbulb","lightbulb outline","location arrow","low vision","magnet","male","map","map outline","map marker","map marker alternate","map pin","map signs","medkit","money bill alternate","money bill alternate outline","motorcycle","music","newspaper","newspaper outline","paw","phone","phone square","phone volume","plane","plug","plus","plus square","plus square outline","print","recycle","road","rocket","search","search minus","search plus","ship","shopping bag","shopping basket","shopping cart","shower","street view","subway","suitcase","tag","tags","taxi","thumbtack","ticket alternate","tint","train","tree","trophy","truck","tty","umbrella","university","utensil spoon","utensils","wheelchair","wifi","wrench"],z=["ambulance","band aid","dna","first aid","heart","heart outline","heartbeat","hospital","hospital outline","hospital symbol","pills","plus","stethoscope","syringe","thermometer","user md","weight"],V=["ambulance","anchor","archive","balance scale","bath","bed","beer","bell","bell outline","bicycle","binoculars","birthday cake","bomb","book","bookmark","bookmark outline","briefcase","bug","building","building outline","bullhorn","bullseye","bus","calculator","calendar","calendar outline","calendar alternate","calendar alternate outline","camera","camera retro","car","clipboard","clipboard outline","cloud","coffee","cog","cogs","compass","compass outline","copy","copy outline","cube","cubes","cut","envelope","envelope outline","envelope open","envelope open outline","eraser","eye","eye dropper","fax","fighter jet","file","file outline","file alternate","file alternate outline","film","fire","fire extinguisher","flag","flag outline","flag checkered","flask","futbol","futbol outline","gamepad","gavel","gem","gem outline","gift","glass martini","globe","graduation cap","hdd","hdd outline","headphones","heart","heart outline","home","hospital","hospital outline","hourglass","hourglass outline","image","image outline","images","images outline","industry","key","keyboard","keyboard outline","laptop","leaf","lemon","lemon outline","life ring","life ring outline","lightbulb","lightbulb outline","lock","lock open","magic","magnet","map","map outline","map marker","map marker alternate","map pin","map signs","medkit","microchip","microphone","mobile","mobile alternate","money bill alternate","money bill alternate outline","moon","moon outline","motorcycle","newspaper","newspaper outline","paint brush","paper plane","paper plane outline","paperclip","paste","paw","pencil alternate","phone","plane","plug","print","puzzle piece","road","rocket","save","save outline","search","shield alternate","shopping bag","shopping basket","shopping cart","shower","snowflake","snowflake outline","space shuttle","star","star outline","sticky note","sticky note outline","stopwatch","subway","suitcase","sun","sun outline","tablet","tablet alternate","tachometer alternate","tag","tags","taxi","thumbtack","ticket alternate","train","trash","trash alternate","trash alternate outline","tree","trophy","truck","tv","umbrella","university","unlock","unlock alternate","utensil spoon","utensils","wheelchair","wrench"],H=["bell","bell outline","bookmark","bookmark outline","bullhorn","camera","camera retro","cart arrow down","cart plus","certificate","credit card","credit card outline","gem","gem outline","gift","handshake","handshake outline","heart","heart outline","key","shopping bag","shopping basket","shopping cart","star","star outline","tag","tags","thumbs down","thumbs down outline","thumbs up","thumbs up outline","trophy"],W=["bookmark","bookmark outline","calendar","calendar outline","certificate","circle","circle outline","cloud","comment","comment outline","file","file outline","folder","folder outline","heart","heart outline","map marker","play","square","square outline","star","star outline"],q=["asterisk","certificate","circle notch","cog","compass","compass outline","crosshairs","life ring","life ring outline","snowflake","snowflake outline","spinner","sun","sun outline","sync"],X=["baseball ball","basketball ball","bowling ball","football ball","futbol","futbol outline","golf ball","hockey puck","quidditch","table tennis","volleyball ball"],Y=["ban","battery empty","battery full","battery half","battery quarter","battery three quarters","bell","bell outline","bell slash","bell slash outline","calendar","calendar outline","calendar alternate","calendar alternate outline","calendar check","calendar check outline","calendar minus","calendar minus outline","calendar plus","calendar plus outline","calendar times","calendar times outline","cart arrow down","cart plus","exclamation","exclamation circle","exclamation triangle","eye","eye slash","eye slash outline","file","file outline","file alternate","file alternate outline","folder","folder outline","folder open","folder open outline","info","info circle","lock","lock open","minus","minus circle","minus square","minus square outline","plus","plus circle","plus square","plus square outline","question","question circle","question circle outline","shield alternate","shopping cart","sign in alternate","sign out alternate","thermometer empty","thermometer full","thermometer half","thermometer quarter","thermometer three quarters","thumbs down","thumbs down outline","thumbs up","thumbs up outline","toggle off","toggle on","unlock","unlock alternate"],K=["address book","address book outline","address card","address card outline","bed","blind","child","female","frown","frown outline","id badge","id badge outline","id card","id card outline","male","meh","meh outline","power off","smile","smile outline","street view","user","user outline","user circle","user circle outline","user md","user plus","user secret","user times","users","wheelchair"],Z=["ambulance","bicycle","bus","car","fighter jet","motorcycle","paper plane","paper plane outline","plane","rocket","ship","shopping cart","space shuttle","subway","taxi","train","truck","wheelchair"],Q=["archive","book","bookmark","bookmark outline","edit","edit outline","envelope","envelope outline","envelope open","envelope open outline","eraser","file","file outline","file alternate","file alternate outline","folder","folder outline","folder open","folder open outline","keyboard","keyboard outline","newspaper","newspaper outline","paper plane","paper plane outline","paperclip","paragraph","pen square","pencil alternate","quote left","quote right","sticky note","sticky note outline","thumbtack"],J=["500px","accessible","accusoft","adn","adversal","affiliatetheme","algolia","amazon","amazon pay","amilia","android","angellist","angrycreative","angular","app store","app store ios","apper","apple","apple pay","asymmetrik","audible","autoprefixer","avianex","aviato","aws","bandcamp","behance","behance square","bimobject","bitbucket","bitcoin","bity","black tie","blackberry","blogger","blogger b","bluetooth","bluetooth b","btc","buromobelexperte","buysellads","cc amazon pay","cc amex","cc apple pay","cc diners club","cc discover","cc jcb","cc mastercard","cc paypal","cc stripe","cc visa","centercode","chrome","cloudscale","cloudsmith","cloudversify","codepen","codiepie","connectdevelop","contao","cpanel","creative commons","css3","css3 alternate","cuttlefish","d and d","dashcube","delicious","deploydog","deskpro","deviantart","digg","digital ocean","discord","discourse","dochub","docker","draft2digital","dribbble","dribbble square","dropbox","drupal","dyalog","earlybirds","edge","elementor","ember","empire","envira","erlang","ethereum","etsy","expeditedssl","facebook","facebook f","facebook messenger","facebook square","firefox","first order","firstdraft","flickr","flipboard","fly","font awesome","font awesome alternate","font awesome flag","fonticons","fonticons fi","fort awesome","fort awesome alternate","forumbee","foursquare","free code camp","freebsd","get pocket","gg","gg circle","git","git square","github","github alternate","github square","gitkraken","gitlab","gitter","glide","glide g","gofore","goodreads","goodreads g","google","google drive","google play","google plus","google plus g","google plus square","google wallet","gratipay","grav","gripfire","grunt","gulp","hacker news","hacker news square","hips","hire a helper","hooli","hotjar","houzz","html5","hubspot","imdb","instagram","internet explorer","ioxhost","itunes","itunes note","jenkins","joget","joomla","js","js square","jsfiddle","keycdn","kickstarter","kickstarter k","korvue","laravel","lastfm","lastfm square","leanpub","less","linechat","linkedin","linkedin alternate","linode","linux","lyft","magento","maxcdn","medapps","medium","medium m","medrt","meetup","microsoft","mix","mixcloud","mizuni","modx","monero","napster","nintendo switch","node","node js","npm","ns8","nutritionix","odnoklassniki","odnoklassniki square","opencart","openid","opera","optin monster","osi","page4","pagelines","palfed","patreon","paypal","periscope","phabricator","phoenix framework","php","pied piper","pied piper alternate","pied piper pp","pinterest","pinterest p","pinterest square","playstation","product hunt","pushed","python","qq","quinscape","quora","ravelry","react","rebel","redriver","reddit","reddit alien","reddit square","rendact","renren","replyd","resolving","rocketchat","rockrms","safari","sass","schlix","scribd","searchengin","sellcast","sellsy","servicestack","shirtsinbulk","simplybuilt","sistrix","skyatlas","skype","slack","slack hash","slideshare","snapchat","snapchat ghost","snapchat square","soundcloud","speakap","spotify","stack exchange","stack overflow","staylinked","steam","steam square","steam symbol","sticker mule","strava","stripe","stripe s","studiovinari","stumbleupon","stumbleupon circle","superpowers","supple","telegram","telegram plane","tencent weibo","themeisle","trello","tripadvisor","tumblr","tumblr square","twitch","twitter","twitter square","typo3","uber","uikit","uniregistry","untappd","usb","ussunnah","vaadin","viacoin","viadeo","viadeo square","viber","vimeo","vimeo square","vimeo v","vine","vk","vnv","vuejs","wechat","weibo","weixin","whatsapp","whatsapp square","whmcs","wikipedia w","windows","wordpress","wordpress simple","wpbeginner","wpexplorer","wpforms","xbox","xing","xing square","y combinator","yahoo","yandex","yandex international","yelp","yoast","youtube","youtube square"],$=a()(w.concat(E,M,S,T,A,C,O,P,L,R,k,N,I,j,D,B,F,U,G,z,V,H,W,q,X,Y,K,Z,Q,J)),tt=["chess rock","ordered list","unordered list","user doctor","shield","puzzle","add circle","add square","add to calendar","add to cart","add user","add","alarm mute","alarm","ald","als","announcement","area chart","area graph","arrow down cart","asexual","asl interpreting","asl","assistive listening devices","attach","attention","balance","bar","bathtub","battery four","battery high","battery low","battery one","battery three","battery two","battery zero","birthday","block layout","bluetooth alternative","broken chain","browser","call square","call","cancel","cart","cc","chain","chat","checked calendar","checkmark","circle notched","close","cny","cocktail","commenting","computer","configure","content","deafness","delete calendar","delete","detective","discussions","doctor","dollar","dont","drivers license","dropdown","emergency","envira gallery","erase","eur","euro","eyedropper","factory","favorite","feed","female homosexual","file text","file text outline","find","first aid","fork","game","gay","gbp","google plus circle","google plus official","grab","graduation","grid layout","group","h","hand victory","handicap","hard of hearing","header","help circle","help","heterosexual","hide","hotel","hourglass four","hourglass full","hourglass one","hourglass three","hourglass two","idea","ils","in cart","inr","intergender","intersex","jpy","krw","lab","law","legal","lesbian","lightning","like","line graph","linkedin square","linkify","lira","list layout","magnify","mail forward","mail square","mail","male homosexual","man","marker","mars alternate","mars horizontal","mars vertical","microsoft edge","military","ms edge","mute","new pied piper","non binary transgender","numbered list","options","other gender horizontal","other gender vertical","other gender","payment","paypal card","pencil square","photo","picture","pie chart","pie graph","pied piper hat","pin","plus cart","point","pointing down","pointing left","pointing right","pointing up","pound","power cord","power","privacy","r circle","rain","record","refresh","remove circle","remove from calendar","remove user","remove","repeat","rmb","rouble","rub","ruble","rupee","s15","selected radio","send","setting","settings","shekel","sheqel","shipping","shop","shuffle","shutdown","sidebar","signing","signup","sliders","soccer","sort alphabet ascending","sort alphabet descending","sort ascending","sort content ascending","sort content descending","sort descending","sort numeric ascending","sort numeric descending","sound","spy","stripe card","student","talk","target","teletype","television","text cursor","text telephone","theme","thermometer","thumb tack","time","tm","toggle down","toggle left","toggle right","toggle up","translate","travel","treatment","triangle down","triangle left","triangle right","triangle up","try","unhide","unlinkify","unmute","usd","user cancel","user close","user delete","user x","vcard","video camera","video play","volume control phone","wait","warning circle","warning sign","warning","wi-fi","winner","wizard","woman","won","wordpress beginner","wordpress forms","world","write square","x","yen","zip","zoom in","zoom out","zoom","bitbucket square","checkmark box","circle thin","cloud download","cloud upload","compose","conversation","credit card alternative","currency","dashboard","diamond","disk","exchange","external share","external square","external","facebook official","food","hourglass zero","level down","level up","log out","meanpath","money","move","pencil","protect","radio","remove bookmark","resize horizontal","resize vertical","sign in","sign out","spoon","star half empty","star half full","ticket","times rectangle","write","youtube play"],et=a()(i()($).concat(tt)),nt=["left dropdown"],rt=a()(i()(et).concat(nt))},function(t,e,n){"use strict";e.a=function(t){return"number"===typeof t||"string"===typeof t?[t,t]:t}},function(t,e,n){"use strict";e.a=function(t,e){return"number"===typeof t||"string"===typeof t?t:t[e]}},function(t,e,n){"use strict";var r=n(401),i=n.n(r),o=n(87),a=n.n(o),s=n(890),u=n.n(s),c=function(t,e){return u()(t,function(t,n,r){a()(e,r)?i()(n,e[r])||(t[r]=e[r]):t[r]="[DELETED]"},{})}},function(t,e,n){function r(t,e,n){var r=c(t),p=r||l(t)||d(t);if(e=s(e,4),null==n){var m=t&&t.constructor;n=p?r?new m:[]:f(t)&&h(m)?o(u(t)):{}}return(p?i:a)(t,function(t,r,i){return e(n,t,r,i)}),n}var i=n(109),o=n(110),a=n(156),s=n(32),u=n(167),c=n(17),l=n(107),h=n(71),f=n(29),d=n(157);t.exports=r},function(t,e,n){"use strict";var r=n(892),i=n.n(r);e.a=i.a},function(t,e){t.exports=function t(e,n,r,i){var o=r?r.call(i,e,n):void 0;if(void 0!==o)return!!o;if(e===n)return!0;if("object"!==typeof e||!e||"object"!==typeof n||!n)return!1;var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(n),c=0;c<a.length;c++){var l=a[c];if(!u(l))return!1;var h=e[l],f=n[l];if(!1===(o=r?r.call(i,h,f,l):void 0)||void 0===o&&h!==f)return!1}return!0}},function(t,e,n){"use strict";n.d(e,"a",function(){return A});var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(1),x=n.n(b),_=n(0),w=n.n(_),E=n(2),M=n(116),S=n(406),T=n(407),A=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handlePortalMount",function(){Object(E.s)()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))}),y()(v()(v()(n)),"handlePortalUnmount",function(){Object(E.s)()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.active,o=n.page,a=Object(E.q)(e,this.props);return o?w.a.createElement(M.a,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:r,openOnTriggerClick:!1},w.a.createElement(T.a,i()({},a,{active:r,page:o}))):w.a.createElement(T.a,i()({},a,{active:r,page:o}))}}]),e}(_.Component);y()(A,"Dimmable",S.a),y()(A,"Inner",T.a),y()(A,"handledProps",["active","page"]),A.propTypes={},A.create=Object(E.l)(A,function(t){return{content:t}})},function(t,e,n){"use strict";var r=n(19),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(13),x=n.n(b),_=n(117),w=n.n(_),E=n(1),M=n.n(E),S=n(0),T=n.n(S),A=n(2),C=n(118),O=n(405),P=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(o))),y()(v()(v()(n)),"handleDocumentClick",function(t){var e=n.props.closeOnDocumentClick;!n.portalNode||Object(A.m)(n.triggerNode,t)||Object(A.m)(n.portalNode,t)||e&&n.close(t)}),y()(v()(v()(n)),"handleEscape",function(t){n.props.closeOnEscape&&w.a.getCode(t)===w.a.Escape&&n.close(t)}),y()(v()(v()(n)),"handlePortalMouseLeave",function(t){var e=n.props,r=e.closeOnPortalMouseLeave,i=e.mouseLeaveDelay;r&&(n.mouseLeaveTimer=n.closeWithTimeout(t,i))}),y()(v()(v()(n)),"handlePortalMouseEnter",function(){n.props.closeOnPortalMouseLeave&&clearTimeout(n.mouseLeaveTimer)}),y()(v()(v()(n)),"handleTriggerBlur",function(t){for(var e=n.props,r=e.trigger,i=e.closeOnTriggerBlur,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];x.a.apply(void 0,[r,"props.onBlur",t].concat(a));var u=x()(v()(v()(n)),"portalNode.contains",t.relatedTarget);i&&!u&&n.close(t)}),y()(v()(v()(n)),"handleTriggerClick",function(t){for(var e=n.props,r=e.trigger,i=e.closeOnTriggerClick,o=e.openOnTriggerClick,a=n.state.open,s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];x.a.apply(void 0,[r,"props.onClick",t].concat(u)),a&&i?n.close(t):!a&&o&&n.open(t)}),y()(v()(v()(n)),"handleTriggerFocus",function(t){for(var e=n.props,r=e.trigger,i=e.openOnTriggerFocus,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];x.a.apply(void 0,[r,"props.onFocus",t].concat(a)),i&&n.open(t)}),y()(v()(v()(n)),"handleTriggerMouseLeave",function(t){clearTimeout(n.mouseEnterTimer);for(var e=n.props,r=e.trigger,i=e.closeOnTriggerMouseLeave,o=e.mouseLeaveDelay,a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];x.a.apply(void 0,[r,"props.onMouseLeave",t].concat(s)),i&&(n.mouseLeaveTimer=n.closeWithTimeout(t,o))}),y()(v()(v()(n)),"handleTriggerMouseEnter",function(t){clearTimeout(n.mouseLeaveTimer);for(var e=n.props,r=e.trigger,i=e.mouseEnterDelay,o=e.openOnTriggerMouseEnter,a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];x.a.apply(void 0,[r,"props.onMouseEnter",t].concat(s)),o&&(n.mouseEnterTimer=n.openWithTimeout(t,i))}),y()(v()(v()(n)),"open",function(t){var e=n.props.onOpen;e&&e(t,n.props),n.trySetState({open:!0})}),y()(v()(v()(n)),"openWithTimeout",function(t,e){var r=i()({},t);return setTimeout(function(){return n.open(r)},e||0)}),y()(v()(v()(n)),"close",function(t){var e=n.props.onClose;e&&e(t,n.props),n.trySetState({open:!1})}),y()(v()(v()(n)),"closeWithTimeout",function(t,e){var r=i()({},t);return setTimeout(function(){return n.close(r)},e||0)}),y()(v()(v()(n)),"handleMount",function(t,e){var r=e.node,i=n.props.eventPool;n.portalNode=r,A.n.sub("mouseleave",n.handlePortalMouseLeave,{pool:i,target:r}),A.n.sub("mouseenter",n.handlePortalMouseEnter,{pool:i,target:r}),A.n.sub("click",n.handleDocumentClick,{pool:i}),A.n.sub("keydown",n.handleEscape,{pool:i}),x()(n.props,"onMount",null,n.props)}),y()(v()(v()(n)),"handleUnmount",function(t,e){var r=e.node,i=n.props.eventPool;n.portalNode=null,A.n.unsub("mouseleave",n.handlePortalMouseLeave,{pool:i,target:r}),A.n.unsub("mouseenter",n.handlePortalMouseEnter,{pool:i,target:r}),A.n.unsub("click",n.handleDocumentClick,{pool:i}),A.n.unsub("keydown",n.handleEscape,{pool:i}),x()(n.props,"onUnmount",null,n.props)}),y()(v()(v()(n)),"handleTriggerRef",function(t){n.triggerNode=t,x()(n.props,"triggerRef",t)}),n}return p()(e,t),u()(e,[{key:"componentWillUnmount",value:function t(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)}},{key:"render",value:function t(){var e=this.props,n=e.children,r=e.mountNode,i=e.trigger;return[this.state.open?T.a.createElement(O.a,{key:"inner",mountNode:r,onMount:this.handleMount,onUnmount:this.handleUnmount},n):null,i?T.a.createElement(C.a,{innerRef:this.handleTriggerRef,key:"trigger"},Object(S.cloneElement)(i,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})):null]}}]),e}(A.a);y()(P,"defaultProps",{closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0}),y()(P,"autoControlledProps",["open"]),y()(P,"Inner",O.a),y()(P,"handledProps",["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"]),P.propTypes={},e.a=P},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var r=n(7),i=n.n(r),o=n(8),a=n.n(o),s=n(9),u=n.n(s),c=n(5),l=n.n(c),h=n(10),f=n.n(h),d=n(6),p=n.n(d),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(189),x=n.n(b),_=function(t){function e(){return i()(this,e),u()(this,l()(e).apply(this,arguments))}return f()(e,t),a()(e,[{key:"componentDidMount",value:function t(){var e=this.props.innerRef;e&&e(Object(b.findDOMNode)(this))}},{key:"render",value:function t(){var e=this.props.children;return g.Children.only(e)}}]),e}(g.Component);p()(_,"handledProps",["children","innerRef"]),_.propTypes={}},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(19),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(10),v=n.n(m),g=n(11),y=n.n(g),b=n(6),x=n.n(b),_=n(170),w=n.n(_),E=n(61),M=n.n(E),S=n(173),T=n.n(S),A=n(161),C=n.n(A),O=n(13),P=n.n(O),L=n(4),R=n.n(L),k=n(1),N=n.n(k),I=n(0),j=n.n(I),D=n(2),B=n(27),F=n(416),U=n(116),G=n(417),z=n(418),V=n(419),H=n(420),W=n(118),q=function(t){function e(){var t,n;u()(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=f()(this,(t=p()(e)).call.apply(t,[this].concat(o))),x()(y()(y()(n)),"getMountNode",function(){return Object(D.s)()?n.props.mountNode||document.body:null}),x()(y()(y()(n)),"handleActionsOverrides",function(t){return{onActionClick:function e(r,i){P()(t,"onActionClick",r,i),P()(n.props,"onActionClick",r,n.props),n.handleClose(r)}}}),x()(y()(y()(n)),"handleClose",function(t){P()(n.props,"onClose",t,n.props),n.trySetState({open:!1})}),x()(y()(y()(n)),"handleDocumentClick",function(t){n.props.closeOnDimmerClick&&!Object(D.m)(n.ref,t)&&(P()(n.props,"onClose",t,n.props),n.trySetState({open:!1}))}),x()(y()(y()(n)),"handleIconOverrides",function(t){return{onClick:function e(r){P()(t,"onClick",r),n.handleClose(r)}}}),x()(y()(y()(n)),"handleOpen",function(t){P()(n.props,"onOpen",t,n.props),n.trySetState({open:!0})}),x()(y()(y()(n)),"handlePortalMount",function(t){var e=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),D.n.sub("click",n.handleDocumentClick,{pool:e,target:n.dimmerRef}),P()(n.props,"onMount",t,n.props)}),x()(y()(y()(n)),"handlePortalUnmount",function(t){var e=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),D.n.unsub("click",n.handleDocumentClick,{pool:e,target:n.dimmerRef}),P()(n.props,"onUnmount",t,n.props)}),x()(y()(y()(n)),"handleRef",function(t){return n.ref=t}),x()(y()(y()(n)),"handleDimmerRef",function(t){return n.dimmerRef=t}),x()(y()(y()(n)),"setDimmerNodeStyle",function(){n.dimmerRef&&n.dimmerRef.style.setProperty("display","flex","important")}),x()(y()(y()(n)),"setPositionAndClassNames",function(){var t=n.props.dimmer,e;t&&(e="dimmable dimmed","blurring"===t&&(e+=" blurring"));var r={};if(n.ref){var i=n.ref.getBoundingClientRect(),o=i.height,a=null,s=o>window.innerHeight;null!==n.state.marginTop&&(r.marginTop=null),n.state.scrolling!==s&&(r.scrolling=s),s&&(e+=" scrolling")}n.state.mountClasses!==e&&(r.mountClasses=e),C()(r)||n.setState(r),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames),n.setDimmerNodeStyle()}),x()(y()(y()(n)),"renderContent",function(t){var r=n.props,o=r.actions,s=r.basic,u=r.children,c=r.className,l=r.closeIcon,h=r.content,f=r.header,d=r.mountNode,p=r.size,m=r.style,v=n.state,g=v.marginTop,y=v.mountClasses,b=v.scrolling,x=R()("ui",p,Object(D.y)(s,"basic"),Object(D.y)(b,"scrolling"),"modal transition visible active",c),_=Object(D.p)(e,n.props),w=!0===l?"close":l,E=B.a.create(w,{overrideProps:n.handleIconOverrides});return D.c.isNil(u)?j.a.createElement(W.a,{innerRef:n.handleRef},j.a.createElement(_,i()({},t,{className:x,style:a()({marginTop:g},m)}),j.a.createElement(F.a,{className:y,node:d}),E,G.a.create(f,{autoGenerateKey:!1}),z.a.create(h,{autoGenerateKey:!1}),V.a.create(o,{overrideProps:n.handleActionsOverrides}))):j.a.createElement(W.a,{innerRef:n.handleRef},j.a.createElement(_,i()({},t,{className:x,style:a()({marginTop:g},m)}),j.a.createElement(F.a,{className:y,node:d}),E,u))}),n}return v()(e,t),l()(e,[{key:"componentWillUnmount",value:function t(){this.handlePortalUnmount()}},{key:"render",value:function t(){var n=this.state.open,r=this.props,o=r.centered,a=r.closeOnDocumentClick,s=r.dimmer,u=r.eventPool,c=r.trigger,l=this.getMountNode();if(!Object(D.s)())return Object(I.isValidElement)(c)?c:null;var h=Object(D.q)(e,this.props),f=U.a.handledProps,d=T()(h,function(t,e,n){return M()(f,n)||(t[n]=e),t},{}),p=w()(h,f),m=R()("ui","inverted"===s&&"inverted",!o&&"top aligned","page modals dimmer transition visible active");return j.a.createElement(U.a,i()({closeOnDocumentClick:a},p,{trigger:c,eventPool:u,mountNode:l,open:n,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),j.a.createElement("div",{className:m,ref:this.handleDimmerRef},this.renderContent(d)))}}]),e}(D.a);x()(q,"defaultProps",{centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"}),x()(q,"autoControlledProps",["open"]),x()(q,"Header",G.a),x()(q,"Content",z.a),x()(q,"Description",H.a),x()(q,"Actions",V.a),x()(q,"handledProps",["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"]),q.propTypes={},e.a=q},function(t,e){function n(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}t.exports=n},function(t,e,n){"use strict";n.d(e,"a",function(){return M});var r=n(7),i=n.n(r),o=n(8),a=n.n(o),s=n(9),u=n.n(s),c=n(5),l=n.n(c),h=n(10),f=n.n(h),d=n(6),p=n.n(d),m=n(1),v=n.n(m),g=n(0),y=n.n(g),b=n(2),x=n(899),_=n(900),w=n(915),E=new w.a,M=function(t){function e(){return i()(this,e),u()(this,l()(e).apply(this,arguments))}return f()(e,t),a()(e,[{key:"shouldComponentUpdate",value:function t(e){return e.className!==this.props.className}},{key:"componentWillMount",value:function t(){var e=Object(x.a)(this.props);e&&(E.add(e,this),E.emit(e,_.a))}},{key:"componentDidUpdate",value:function t(){var e=Object(x.a)(this.props);e&&E.emit(e,_.a)}},{key:"componentWillUnmount",value:function t(){var e=Object(x.a)(this.props);e&&(E.del(e,this),E.emit(e,_.a))}},{key:"render",value:function t(){return null}}]),e}(g.Component);p()(M,"handledProps",["className","node"]),M.propTypes={}},function(t,e,n){"use strict";var r=n(25),i=n.n(r),o=n(2),a=function t(e){var n=e.node;if(Object(o.s)())return i()(n)?document.body:n};e.a=a},function(t,e,n){"use strict";var r=n(75),i=n.n(r),o=n(88),a=n.n(o),s=n(901),u=n(914),c=new Map,l=function t(e,n){var r=Object(s.a)(n),o=Object(u.a)(c.get(e),r),l=i()(o,2),h=l[0],f=l[1];a()(h,function(t){return e.classList.add(t)}),a()(f,function(t){return e.classList.remove(t)}),c.set(e,r)};e.a=l},function(t,e,n){"use strict";var r=n(902),i=n.n(r),o=n(903),a=n.n(o),s=n(904),u=n.n(s),c=n(905),l=n.n(c),h=n(909),f=n.n(h),d=n(393),p=n.n(d),m=n(911),v=n.n(m),g=n(394),y=n.n(g),b=y()(v.a,p()("props.className"),f()(l()(/\s+/)),u()(a.a),i.a);e.a=b},function(t,e,n){var r=n(23),i=r("uniq",n(247),n(41));i.placeholder=n(21),t.exports=i},function(t,e,n){var r=n(23),i=r("identity",n(53),n(41));i.placeholder=n(21),t.exports=i},function(t,e,n){var r=n(23),i=r("filter",n(155));i.placeholder=n(21),t.exports=i},function(t,e,n){var r=n(23),i=r("split",n(906));i.placeholder=n(21),t.exports=i},function(t,e,n){function r(t,e,n){return n&&"number"!=typeof n&&s(t,e,n)&&(e=n=void 0),(n=void 0===n?h:n>>>0)?(t=l(t),t&&("string"==typeof e||null!=e&&!u(e))&&!(e=i(e))&&a(t)?o(c(t),0,n):t.split(e,n)):[]}var i=n(144),o=n(246),a=n(169),s=n(89),u=n(907),c=n(168),l=n(47),h=4294967295;t.exports=r},function(t,e,n){var r=n(908),i=n(73),o=n(158),a=o&&o.isRegExp,s=a?i(a):r;t.exports=s},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(40),o=n(26),a="[object RegExp]";t.exports=r},function(t,e,n){var r=n(23),i=r("flatMap",n(910));i.placeholder=n(21),t.exports=i},function(t,e,n){function r(t,e){return i(o(t,e),1)}var i=n(105),o=n(14);t.exports=r},function(t,e,n){var r=n(23),i=r("toArray",n(912),n(41));i.placeholder=n(21),t.exports=i},function(t,e,n){function r(t){if(!t)return[];if(s(t))return u(t)?f(t):o(t);if(v&&t[v])return c(t[v]());var e=a(t);return(e==p?l:e==m?h:d)(t)}var i=n(69),o=n(111),a=n(60),s=n(35),u=n(114),c=n(913),l=n(362),h=n(160),f=n(168),d=n(115),p="[object Map]",m="[object Set]",v=i?i.iterator:void 0;t.exports=r},function(t,e){function n(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}t.exports=n},function(t,e,n){"use strict";var r=n(227),i=n.n(r),o=function t(e,n){return[i()(n,e),i()(e,n)]};e.a=o},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(7),i=n.n(r),o=n(6),a=n.n(o),s=function t(){var e=this;i()(this,t),a()(this,"add",function(t,n){if(e.nodes.has(t)){return void e.nodes.get(t).add(n)}e.nodes.set(t,new Set([n]))}),a()(this,"del",function(t,n){if(e.nodes.has(t)){var r=e.nodes.get(t);if(1===r.size)return void e.nodes.delete(t);r.delete(n)}}),a()(this,"emit",function(t,n){n(t,e.nodes.get(t))}),this.nodes=new Map}},function(t,e,n){"use strict";var r=n(917)},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(19),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(10),v=n.n(m),g=n(11),y=n.n(g),b=n(6),x=n.n(b),_=n(14),w=n.n(_),E=n(13),M=n.n(E),S=n(1),T=n.n(S),A=n(0),C=n.n(A),O=n(2),P=n(421),L=n(426),R=function(t){function e(){var t,n;u()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=f()(this,(t=p()(e)).call.apply(t,[this].concat(i))),x()(y()(y()(n)),"handleItemClick",function(t,e){var r=e.value;+n.state.activePage!==+r&&(n.trySetState({activePage:r}),M()(n.props,"onPageChange",t,a()({},n.props,{activePage:r})))}),x()(y()(y()(n)),"handleItemOverrides",function(t,e,r){return function(i){return{active:t,type:e,key:"".concat(e,"-").concat(r),onClick:function t(e,r){M()(i,"onClick",e,r),n.handleItemClick(e,r)}}}}),n}return v()(e,t),l()(e,[{key:"render",value:function t(){var n=this,r=this.props,o=r["aria-label"],a=r.boundaryRange,s=r.siblingRange,u=r.totalPages,c=this.state.activePage,l=Object(O.j)({activePage:c,boundaryRange:a,siblingRange:s,totalPages:u}),h=Object(O.q)(e,this.props);return C.a.createElement(P.a,i()({},h,{"aria-label":o,pagination:!0,role:"navigation"}),w()(l,function(t){var e=t.active,r=t.type,i=t.value;return L.a.create(n.props[r],{defaultProps:{content:i,value:i},overrideProps:n.handleItemOverrides(e,r,i)})}))}}]),e}(O.a);x()(R,"autoControlledProps",["activePage"]),x()(R,"defaultProps",{"aria-label":"Pagination Navigation",boundaryRange:1,ellipsisItem:"...",firstItem:{"aria-label":"First item",content:"\xab"},lastItem:{"aria-label":"Last item",content:"\xbb"},nextItem:{"aria-label":"Next item",content:"\u27e9"},pageItem:{},prevItem:{"aria-label":"Previous item",content:"\u27e8"},siblingRange:1}),x()(R,"Item",L.a),x()(R,"handledProps",["activePage","aria-label","boundaryRange","defaultActivePage","ellipsisItem","firstItem","lastItem","nextItem","onPageChange","pageItem","prevItem","siblingRange","totalPages"]),R.propTypes={}},function(t,e,n){var r=n(919),i=n(926),o=r(function(t,e,n){return t+(n?" ":"")+i(e)});t.exports=o},function(t,e,n){function r(t){return function(e){return i(a(o(e).replace(u,"")),t,"")}}var i=n(415),o=n(424),a=n(922),s="['\u2019]",u=RegExp("['\u2019]","g");t.exports=r},function(t,e,n){var r=n(921),i={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},o=r(i);t.exports=o},function(t,e){function n(t){return function(e){return null==t?void 0:t[e]}}t.exports=n},function(t,e,n){function r(t,e,n){return t=a(t),e=n?void 0:e,void 0===e?o(t)?s(t):i(t):t.match(e)||[]}var i=n(923),o=n(924),a=n(47),s=n(925);t.exports=r},function(t,e){function n(t){return t.match(r)||[]}var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=n},function(t,e){function n(t){return r.test(t)}var r=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=n},function(t,e){function n(t){return t.match(z)||[]}var r="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",u="\\u2700-\\u27bf",c="a-z\\xdf-\\xf6\\xf8-\\xff",l="\\xac\\xb1\\xd7\\xf7",h="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",f="\\u2000-\\u206f",d=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="A-Z\\xc0-\\xd6\\xd8-\\xde",m="\\ufe0e\\ufe0f",v=l+h+"\\u2000-\\u206f"+d,g="['\u2019]",y="["+v+"]",b="["+s+"]",x="\\d+",_="[\\u2700-\\u27bf]",w="["+c+"]",E="[^"+r+v+"\\d+"+u+c+p+"]",M="\\ud83c[\\udffb-\\udfff]",S="(?:"+b+"|"+M+")",T="[^\\ud800-\\udfff]",A="(?:\\ud83c[\\udde6-\\uddff]){2}",C="[\\ud800-\\udbff][\\udc00-\\udfff]",O="["+p+"]",P="\\u200d",L="(?:"+w+"|"+E+")",R="(?:"+O+"|"+E+")",k="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",N="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",I=S+"?",j="[\\ufe0e\\ufe0f]?",D="(?:\\u200d(?:"+[T,A,C].join("|")+")"+j+I+")*",B="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",F="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",U=j+I+D,G="(?:"+[_,A,C].join("|")+")"+U,z=RegExp([O+"?"+w+"+"+k+"(?="+[y,O,"$"].join("|")+")",R+"+"+N+"(?="+[y,O+L,"$"].join("|")+")",O+"?"+L+"+"+k,O+"+"+N,F,B,"\\d+",G].join("|"),"g");t.exports=n},function(t,e,n){var r=n(927),i=r("toUpperCase");t.exports=i},function(t,e,n){function r(t){return function(e){e=s(e);var n=o(e)?a(e):void 0,r=n?n[0]:e.charAt(0),u=n?i(n,1).join(""):e.slice(1);return r[t]()+u}}var i=n(246),o=n(169),a=n(168),s=n(47);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.slider,n=t.toggle,i=t.type,a=Object(u.q)(r,t),l=!(e||n)||void 0;return s.a.createElement(c.a,o()({},a,{type:i,radio:l,slider:e,toggle:n}))}var i=n(3),o=n.n(i),a=n(0),s=n.n(a),u=n(2),c=n(174);r.handledProps=["slider","toggle","type"],r.propTypes={},r.defaultProps={type:"radio"},e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return N});var r=n(3),i=n.n(r),o=n(75),a=n.n(o),s=n(19),u=n.n(s),c=n(7),l=n.n(c),h=n(8),f=n.n(h),d=n(9),p=n.n(d),m=n(5),v=n.n(m),g=n(10),y=n.n(g),b=n(11),x=n.n(b),_=n(6),w=n.n(_),E=n(13),M=n.n(E),S=n(25),T=n.n(S),A=n(4),C=n.n(A),O=n(1),P=n.n(O),L=n(0),R=n.n(L),k=n(2),N=function(t){function e(){var t,n;l()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=p()(this,(t=v()(e)).call.apply(t,[this].concat(i))),w()(x()(x()(n)),"canToggle",function(){var t=n.props,e=t.disabled,r=t.radio,i=t.readOnly,o=n.state.checked;return!e&&!i&&!(r&&o)}),w()(x()(x()(n)),"computeTabIndex",function(){var t=n.props,e=t.disabled,r=t.tabIndex;return T()(r)?e?-1:0:r}),w()(x()(x()(n)),"handleContainerClick",function(t){var e=n.props.id;T()(e)&&n.handleClick(t)}),w()(x()(x()(n)),"handleInputClick",function(t){n.props.id&&n.handleClick(t)}),w()(x()(x()(n)),"handleInputRef",function(t){return n.inputRef=t}),w()(x()(x()(n)),"handleClick",function(t){var e=n.state,r=e.checked,i=e.indeterminate;n.canToggle()&&(M()(n.props,"onClick",t,u()({},n.props,{checked:!r,indeterminate:!!i})),M()(n.props,"onChange",t,u()({},n.props,{checked:!r,indeterminate:!1})),n.trySetState({checked:!r,indeterminate:!1}))}),w()(x()(x()(n)),"handleMouseDown",function(t){var e=n.state,r=e.checked,i=e.indeterminate;M()(n.props,"onMouseDown",t,u()({},n.props,{checked:!!r,indeterminate:!!i})),M()(n.inputRef,"focus"),t.preventDefault()}),w()(x()(x()(n)),"setIndeterminate",function(){var t=n.state.indeterminate;n.inputRef&&(n.inputRef.indeterminate=!!t)}),n}return y()(e,t),f()(e,[{key:"componentDidMount",value:function t(){this.setIndeterminate()}},{key:"componentDidUpdate",value:function t(){this.setIndeterminate()}},{key:"render",value:function t(){var n=this.props,r=n.className,o=n.disabled,s=n.label,u=n.id,c=n.name,l=n.radio,h=n.readOnly,f=n.slider,d=n.toggle,p=n.type,m=n.value,v=this.state,g=v.checked,y=v.indeterminate,b=C()("ui",Object(k.y)(g,"checked"),Object(k.y)(o,"disabled"),Object(k.y)(y,"indeterminate"),Object(k.y)(T()(s),"fitted"),Object(k.y)(l,"radio"),Object(k.y)(h,"read-only"),Object(k.y)(f,"slider"),Object(k.y)(d,"toggle"),"checkbox",r),x=Object(k.q)(e,this.props),_=Object(k.p)(e,this.props),w=Object(k.w)(x,{htmlProps:k.r}),E=a()(w,2),M=E[0],S=E[1];return R.a.createElement(_,i()({},S,{className:b,onClick:this.handleContainerClick,onChange:this.handleContainerClick,onMouseDown:this.handleMouseDown}),R.a.createElement("input",i()({},M,{checked:g,className:"hidden",disabled:o,id:u,name:c,onClick:this.handleInputClick,readOnly:!0,ref:this.handleInputRef,tabIndex:this.computeTabIndex(),type:p,value:m})),Object(k.h)(s,{defaultProps:{htmlFor:u},autoGenerateKey:!1})||R.a.createElement("label",{htmlFor:u}))}}]),e}(k.a);w()(N,"defaultProps",{type:"checkbox"}),w()(N,"autoControlledProps",["checked","indeterminate"]),w()(N,"handledProps",["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","radio","readOnly","slider","tabIndex","toggle","type","value"]),N.propTypes={}},function(t,e,n){"use strict";var r=n(931)},function(t,e,n){"use strict";var r=n(19),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(25),x=n.n(b),_=n(13),w=n.n(_),E=n(1),M=n.n(E),S=n(0),T=n.n(S),A=n(2),C=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(o))),y()(v()(v()(n)),"fitsMaxWidth",function(){var t=n.props.maxWidth,e=n.state.width;return!!x()(t)||e<=t}),y()(v()(v()(n)),"fitsMinWidth",function(){var t=n.props.minWidth,e=n.state.width;return!!x()(t)||e>=t}),y()(v()(v()(n)),"setSafeState",function(){var t;return n.mounted&&(t=n).setState.apply(t,arguments)}),y()(v()(v()(n)),"isVisible",function(){return n.fitsMinWidth()&&n.fitsMaxWidth()}),y()(v()(v()(n)),"handleResize",function(t){n.ticking||(n.ticking=!0,requestAnimationFrame(function(){return n.handleUpdate(t)}))}),y()(v()(v()(n)),"handleUpdate",function(t){n.ticking=!1;var e=w()(n.props,"getWidth");n.setSafeState({width:e}),w()(n.props,"onUpdate",t,i()({},n.props,{width:e}))}),n.state={width:w()(n.props,"getWidth")},n}return p()(e,t),u()(e,[{key:"componentDidMount",value:function t(){var e=this.props.fireOnMount;this.mounted=!0,A.n.sub("resize",this.handleResize,{target:"window"}),e&&this.handleUpdate()}},{key:"componentWillUnmount",value:function t(){this.mounted=!1,A.n.unsub("resize",this.handleResize,{target:"window"})}},{key:"shouldComponentUpdate",value:function t(e,n){return this.state.width!==n.width||!Object(A.x)(this.props,e)}},{key:"render",value:function t(){var n=this.props.children,r=Object(A.p)(e,this.props),i=Object(A.q)(e,this.props);return this.isVisible()?T.a.createElement(r,i,n):null}}]),e}(S.Component);y()(C,"defaultProps",{getWidth:function t(){return Object(A.s)()?window.innerWidth:0}}),y()(C,"onlyMobile",{minWidth:320,maxWidth:767}),y()(C,"onlyTablet",{minWidth:768,maxWidth:991}),y()(C,"onlyComputer",{minWidth:992}),y()(C,"onlyLargeScreen",{minWidth:1200,maxWidth:1919}),y()(C,"onlyWidescreen",{minWidth:1920}),y()(C,"handledProps",["as","children","fireOnMount","getWidth","maxWidth","minWidth","onUpdate"]),C.propTypes={}},function(t,e,n){"use strict";function r(t){return c.a.createElement(l.a,o()({},t,{selection:!0}))}var i=n(3),o=n.n(i),a=n(1),s=n.n(a),u=n(0),c=n.n(u),l=n(175);r.handledProps=["options"],r.propTypes={},r.Divider=l.a.Divider,r.Header=l.a.Header,r.Item=l.a.Item,r.Menu=l.a.Menu,e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return Nt});var r=n(3),i=n.n(r),o=n(19),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(428),v=n.n(m),g=n(10),y=n.n(g),b=n(11),x=n.n(b),_=n(6),w=n.n(_),E=n(390),M=n.n(E),S=n(14),T=n.n(S),A=n(935),C=n.n(A),O=n(15),P=n.n(O),L=n(373),R=n.n(L),k=n(372),N=n.n(k),I=n(173),j=n.n(I),D=n(236),B=n.n(D),F=n(938),U=n.n(F),G=n(424),z=n.n(G),V=n(71),H=n.n(V),W=n(155),q=n.n(W),X=n(170),Y=n.n(X),K=n(939),Z=n.n(K),Q=n(161),J=n.n(Q),$=n(940),tt=n.n($),et=n(944),nt=n.n(et),rt=n(48),it=n.n(rt),ot=n(61),at=n.n(ot),st=n(154),ut=n.n(st),ct=n(13),lt=n.n(ct),ht=n(401),ft=n.n(ht),dt=n(87),pt=n.n(dt),mt=n(25),vt=n.n(mt),gt=n(4),yt=n.n(gt),bt=n(117),xt=n.n(bt),_t=n(1),wt=n.n(_t),Et=n(0),Mt=n.n(Et),St=n(2),Tt=n(27),At=n(176),Ct=n(429),Ot=n(430),Pt=n(432),Lt=n(433),Rt=n(434),kt=function t(e,n){return vt()(e)?n:e},Nt=function(t){function e(){var t,n;u()(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=f()(this,(t=p()(e)).call.apply(t,[this].concat(o))),w()(x()(x()(n)),"handleChange",function(t,e){lt()(n.props,"onChange",t,a()({},n.props,{value:e}))}),w()(x()(x()(n)),"closeOnChange",function(t){var e=n.props,r=e.closeOnChange,i=e.multiple;(ut()(r)?!i:r)&&n.close(t)}),w()(x()(x()(n)),"closeOnEscape",function(t){xt.a.getCode(t)===xt.a.Escape&&(t.preventDefault(),n.close())}),w()(x()(x()(n)),"moveSelectionOnKeyDown",function(t){var e,r=n.props,i=r.multiple,o=r.selectOnNavigation,a=(e={},w()(e,xt.a.ArrowDown,1),w()(e,xt.a.ArrowUp,-1),e),s=a[xt.a.getCode(t)];void 0!==s&&(t.preventDefault(),n.moveSelectionBy(s),!i&&o&&n.makeSelectedItemActive(t))}),w()(x()(x()(n)),"openOnSpace",function(t){xt.a.getCode(t)===xt.a.Spacebar&&(n.state.open||(t.preventDefault(),n.open(t)))}),w()(x()(x()(n)),"openOnArrow",function(t){var e=xt.a.getCode(t);at()([xt.a.ArrowDown,xt.a.ArrowUp],e)&&(n.state.open||(t.preventDefault(),n.open(t)))}),w()(x()(x()(n)),"makeSelectedItemActive",function(t){var e=n.state.open,r=n.props.multiple,i=n.getSelectedItem(),o=it()(i,"value");if(!vt()(o)&&e){var s=r?nt()(n.state.value,[o]):o;n.setValue(s),n.setSelectedIndex(s),n.handleChange(t,s),i["data-additional"]&&lt()(n.props,"onAddItem",t,a()({},n.props,{value:o}))}}),w()(x()(x()(n)),"selectItemOnEnter",function(t){var e=n.props.search;if(xt.a.getCode(t)===xt.a.Enter){t.preventDefault();var r=tt()(n.getMenuOptions());e&&0===r||(n.makeSelectedItemActive(t),n.closeOnChange(t),n.clearSearchQuery(),e&&n.searchRef&&n.searchRef.focus())}}),w()(x()(x()(n)),"removeItemOnBackspace",function(t){var e=n.props,r=e.multiple,i=e.search,o=n.state,a=o.searchQuery,s=o.value;if(xt.a.getCode(t)===xt.a.Backspace&&!a&&i&&r&&!J()(s)){t.preventDefault();var u=Z()(s);n.setValue(u),n.setSelectedIndex(u),n.handleChange(t,u)}}),w()(x()(x()(n)),"closeOnDocumentClick",function(t){n.props.closeOnBlur&&(n.ref&&Object(St.m)(n.ref,t)||n.close())}),w()(x()(x()(n)),"attachHandlersOnOpen",function(){St.n.sub("keydown",[n.closeOnEscape,n.moveSelectionOnKeyDown,n.selectItemOnEnter,n.removeItemOnBackspace]),St.n.sub("click",n.closeOnDocumentClick),St.n.unsub("keydown",[n.openOnArrow,n.openOnSpace])}),w()(x()(x()(n)),"handleMouseDown",function(t){n.isMouseDown=!0,St.n.sub("mouseup",n.handleDocumentMouseUp),lt()(n.props,"onMouseDown",t,n.props)}),w()(x()(x()(n)),"handleDocumentMouseUp",function(){n.isMouseDown=!1,St.n.unsub("mouseup",n.handleDocumentMouseUp)}),w()(x()(x()(n)),"handleClick",function(t){var e=n.props,r=e.minCharacters,i=e.search,o=n.state,a=o.open,s=o.searchQuery;return lt()(n.props,"onClick",t,n.props),t.stopPropagation(),i?a?void 0:s.length>=r||1===r?void n.open(t):void(n.searchRef&&n.searchRef.focus()):n.toggle(t)}),w()(x()(x()(n)),"handleIconClick",function(t){lt()(n.props,"onClick",t,n.props),t.stopPropagation(),n.toggle(t)}),w()(x()(x()(n)),"handleItemClick",function(t,e){var r=n.props,i=r.multiple,o=r.search,s=e.value;if(t.stopPropagation(),(i||e.disabled)&&t.nativeEvent.stopImmediatePropagation(),!e.disabled){var u=e["data-additional"],c=i?nt()(n.state.value,[s]):s;n.setValue(c),n.setSelectedIndex(s);var l=tt()(n.getMenuOptions());i&&!u&&1!==l||n.clearSearchQuery(),n.handleChange(t,c),n.closeOnChange(t),u&&lt()(n.props,"onAddItem",t,a()({},n.props,{value:s})),i&&o&&n.searchRef&&n.searchRef.focus()}}),w()(x()(x()(n)),"handleFocus",function(t){n.state.focus||(lt()(n.props,"onFocus",t,n.props),n.setState({focus:!0}))}),w()(x()(x()(n)),"handleBlur",function(t){var e=it()(t,"currentTarget");if(!e||!e.contains(document.activeElement)){var r=n.props,i=r.closeOnBlur,o=r.multiple,a=r.selectOnBlur;n.isMouseDown||(lt()(n.props,"onBlur",t,n.props),a&&!o&&(n.makeSelectedItemActive(t),i&&n.close()),n.setState({focus:!1}),n.clearSearchQuery())}}),w()(x()(x()(n)),"handleSearchChange",function(t,e){var r=e.value;t.stopPropagation();var i=n.props.minCharacters,o=n.state.open,s=r;if(lt()(n.props,"onSearchChange",t,a()({},n.props,{searchQuery:s})),n.trySetState({searchQuery:s},{selectedIndex:0}),!o&&s.length>=i)return void n.open();o&&1!==i&&s.length<i&&n.close()}),w()(x()(x()(n)),"getKeyAndValues",function(t){return t?t.map(function(t){return Y()(t,["key","value"])}):t}),w()(x()(x()(n)),"getMenuOptions",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.value,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.options,r=n.props,i=r.additionLabel,o=r.additionPosition,a=r.allowAdditions,s=r.deburr,u=r.multiple,c=r.search,l=n.state.searchQuery,h=e;if(u&&(h=q()(h,function(e){return!at()(t,e.value)})),c&&l)if(H()(c))h=c(h,l);else{var f=s?z()(l):l,d=new RegExp(U()(f),"i");h=q()(h,function(t){return d.test(s?z()(t.text):t.text)})}if(a&&c&&l&&!B()(h,{text:l})){var p=Mt.a.isValidElement(i)?Mt.a.cloneElement(i,{key:"addition-label"}):i||"",m={key:"addition",text:[p,Mt.a.createElement("b",{key:"addition-query"},l)],value:l,className:"addition","data-additional":!0};"top"===o?h.unshift(m):h.push(m)}return h}),w()(x()(x()(n)),"getSelectedItem",function(){var t=n.state.selectedIndex,e=n.getMenuOptions();return it()(e,"[".concat(t,"]"))}),w()(x()(x()(n)),"getEnabledIndices",function(t){var e=t||n.getMenuOptions();return j()(e,function(t,e,n){return e.disabled||t.push(n),t},[])}),w()(x()(x()(n)),"getItemByValue",function(t){var e=n.props.options;return N()(e,{value:t})}),w()(x()(x()(n)),"getMenuItemIndexByValue",function(t,e){var r=e||n.getMenuOptions();return R()(r,["value",t])}),w()(x()(x()(n)),"getDropdownAriaOptions",function(){var t=n.props,e=t.loading,r=t.disabled,i=t.search,o=t.multiple,a=n.state.open,s={role:i?"combobox":"listbox","aria-busy":e,"aria-disabled":r,"aria-expanded":!!a};return"listbox"===s.role&&(s["aria-multiselectable"]=o),s}),w()(x()(x()(n)),"clearSearchQuery",function(){n.trySetState({searchQuery:""})}),w()(x()(x()(n)),"setValue",function(t){n.trySetState({value:t})}),w()(x()(x()(n)),"setSelectedIndex",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.value,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.options,r=n.props.multiple,i=n.state.selectedIndex,o=n.getMenuOptions(t,e),a=n.getEnabledIndices(o),s;if(!i||i<0){var u=a[0];s=r?u:n.getMenuItemIndexByValue(t,o)||a[0]}else if(r)i>=o.length-1&&(s=a[a.length-1]);else{var c=n.getMenuItemIndexByValue(t,o);s=at()(a,c)?c:void 0}(!s||s<0)&&(s=a[0]),n.setState({selectedIndex:s})}),w()(x()(x()(n)),"handleLabelClick",function(t,e){t.stopPropagation(),n.setState({selectedLabel:e.value}),lt()(n.props,"onLabelClick",t,e)}),w()(x()(x()(n)),"handleLabelRemove",function(t,e){t.stopPropagation();var r=n.state.value,i=P()(r,e.value);n.setValue(i),n.setSelectedIndex(i),n.handleChange(t,i)}),w()(x()(x()(n)),"moveSelectionBy",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.selectedIndex,r=n.getMenuOptions();if(void 0!==r&&!C()(r,"disabled")){var i=r.length-1,o=n.props.wrapSelection,a=e+t;if(!o&&(a>i||a<0)?a=e:a>i?a=0:a<0&&(a=i),r[a].disabled)return void n.moveSelectionBy(t,a);n.setState({selectedIndex:a}),n.scrollSelectedItemIntoView()}}),w()(x()(x()(n)),"handleIconOverrides",function(t){return{onClick:function e(r){lt()(t,"onClick",r,t),n.handleIconClick(r)}}}),w()(x()(x()(n)),"handleSearchRef",function(t){return n.searchRef=t}),w()(x()(x()(n)),"handleSizerRef",function(t){return n.sizerRef=t}),w()(x()(x()(n)),"handleRef",function(t){return n.ref=t}),w()(x()(x()(n)),"computeSearchInputTabIndex",function(){var t=n.props,e=t.disabled,r=t.tabIndex;return vt()(r)?e?-1:0:r}),w()(x()(x()(n)),"computeSearchInputWidth",function(){var t=n.state.searchQuery;if(n.sizerRef&&t){n.sizerRef.style.display="inline",n.sizerRef.textContent=t;var e=Math.ceil(n.sizerRef.getBoundingClientRect().width);return n.sizerRef.style.removeProperty("display"),e}}),w()(x()(x()(n)),"computeTabIndex",function(){var t=n.props,e=t.disabled,r=t.search,i=t.tabIndex;if(!r)return e?-1:vt()(i)?0:i}),w()(x()(x()(n)),"handleSearchInputOverrides",function(t){return{onChange:function e(r,i){lt()(t,"onChange",r,i),n.handleSearchChange(r,i)}}}),w()(x()(x()(n)),"scrollSelectedItemIntoView",function(){if(n.ref){var t=n.ref.querySelector(".menu.visible");if(t){var e=t.querySelector(".item.selected");if(e){var r=e.offsetTop<t.scrollTop,i=e.offsetTop+e.clientHeight>t.scrollTop+t.clientHeight;r?t.scrollTop=e.offsetTop:i&&(t.scrollTop=e.offsetTop+e.clientHeight-t.clientHeight)}}}}),w()(x()(x()(n)),"setOpenDirection",function(){if(n.ref){var t=n.ref.querySelector(".menu.visible");if(t){var e=n.ref.getBoundingClientRect(),r=t.clientHeight,i=document.documentElement.clientHeight-e.top-e.height-r,o=e.top-r,a=i<0&&o>i;!a!==!n.state.upward&&n.trySetState({upward:a})}}}),w()(x()(x()(n)),"open",function(t){var e=n.props,r=e.disabled,i=e.open,o=e.search;r||(o&&n.searchRef&&n.searchRef.focus(),lt()(n.props,"onOpen",t,n.props),n.trySetState({open:!0}),n.scrollSelectedItemIntoView())}),w()(x()(x()(n)),"close",function(t){n.state.open&&(lt()(n.props,"onClose",t,n.props),n.trySetState({open:!1}))}),w()(x()(x()(n)),"handleClose",function(){var t=document.activeElement===n.searchRef,e=document.activeElement===n.ref,r=t||e;t||n.ref.blur(),n.setState({focus:r})}),w()(x()(x()(n)),"toggle",function(t){return n.state.open?n.close(t):n.open(t)}),w()(x()(x()(n)),"renderText",function(){var t=n.props,e=t.multiple,r=t.placeholder,i=t.search,o=t.text,a=n.state,s=a.searchQuery,u=a.value,c=a.open,l=e?!J()(u):!vt()(u)&&""!==u,h=yt()(r&&!l&&"default","text",i&&s&&"filtered"),f=r;return s?f=null:o?f=o:c&&!e?f=it()(n.getSelectedItem(),"text"):l&&(f=it()(n.getItemByValue(u),"text")),Mt.a.createElement("div",{className:h,role:"alert","aria-live":"polite"},f)}),w()(x()(x()(n)),"renderSearchInput",function(){var t=n.props,e=t.search,r=t.searchInput,i=n.state.searchQuery;return e?Rt.a.create(r,{defaultProps:{inputRef:n.handleSearchRef,style:{width:n.computeSearchInputWidth()},tabIndex:n.computeSearchInputTabIndex(),value:i},overrideProps:n.handleSearchInputOverrides}):null}),w()(x()(x()(n)),"renderSearchSizer",function(){var t=n.props,e=t.search,r=t.multiple;return e&&r?Mt.a.createElement("span",{className:"sizer",ref:n.handleSizerRef}):null}),w()(x()(x()(n)),"renderLabels",function(){var t=n.props,e=t.multiple,r=t.renderLabel,i=n.state,o=i.selectedLabel,a=i.value;if(e&&!J()(a)){var s=T()(a,n.getItemByValue);return T()(M()(s),function(t,e){var i={active:t.value===o,as:"a",key:kt(t.key,t.value),onClick:n.handleLabelClick,onRemove:n.handleLabelRemove,value:t.value};return At.a.create(r(t,e,i),{defaultProps:i})})}}),w()(x()(x()(n)),"renderOptions",function(){var t=n.props,e=t.lazyLoad,r=t.multiple,i=t.search,o=t.noResultsMessage,s=n.state,u=s.open,c=s.selectedIndex,l=s.value;if(e&&!u)return null;var h=n.getMenuOptions();if(null!==o&&i&&J()(h))return Mt.a.createElement("div",{className:"message"},o);var f=r?function(t){return at()(l,t)}:function(t){return t===l};return T()(h,function(t,e){return Ot.a.create(a()({active:f(t.value),onClick:n.handleItemClick,selected:c===e},t,{key:kt(t.key,t.value),style:a()({},t.style,{pointerEvents:"all"})}))})}),w()(x()(x()(n)),"renderMenu",function(){var t=n.props,e=t.children,r=t.direction,o=t.header,s=n.state.open,u=n.getDropdownMenuAriaOptions();if(!St.c.isNil(e)){var c=Et.Children.only(e),l=yt()(r,Object(St.y)(s,"visible"),c.props.className);return Object(Et.cloneElement)(c,a()({className:l},u))}return Mt.a.createElement(Lt.a,i()({},u,{direction:r,open:s}),Pt.a.create(o,{autoGenerateKey:!1}),n.renderOptions())}),n}return y()(e,t),l()(e,[{key:"getInitialAutoControlledState",value:function t(){return{searchQuery:""}}},{key:"componentWillMount",value:function t(){var e=this.state,n=e.open,r=e.value;this.setValue(r),this.setSelectedIndex(r),n&&(this.open(),this.attachHandlersOnOpen())}},{key:"componentWillReceiveProps",value:function t(n){v()(p()(e.prototype),"componentWillReceiveProps",this).call(this,n);var r,i;Object(St.x)(n.value,this.props.value)||(this.setValue(n.value),this.setSelectedIndex(n.value)),ft()(this.getKeyAndValues(n.options),this.getKeyAndValues(this.props.options))||this.setSelectedIndex(void 0,n.options)}},{key:"shouldComponentUpdate",value:function t(e,n){return!Object(St.x)(e,this.props)||!Object(St.x)(n,this.state)}},{key:"componentDidUpdate",value:function t(e,n){if(!n.focus&&this.state.focus){if(!this.isMouseDown){var r=this.props,i=r.minCharacters,o=r.openOnFocus,a=r.search,s=!a||a&&1===i&&!this.state.open;o&&s&&this.open()}this.state.open?St.n.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter]):St.n.sub("keydown",[this.openOnArrow,this.openOnSpace]),St.n.sub("keydown",this.removeItemOnBackspace)}else if(n.focus&&!this.state.focus){var u=this.props.closeOnBlur;!this.isMouseDown&&u&&this.close(),St.n.unsub("keydown",[this.openOnArrow,this.openOnSpace,this.moveSelectionOnKeyDown,this.selectItemOnEnter,this.removeItemOnBackspace])}!n.open&&this.state.open?(this.attachHandlersOnOpen(),this.setOpenDirection(),this.scrollSelectedItemIntoView()):n.open&&!this.state.open&&(this.handleClose(),St.n.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]),St.n.unsub("click",this.closeOnDocumentClick),this.state.focus||St.n.unsub("keydown",this.removeItemOnBackspace))}},{key:"componentWillUnmount",value:function t(){St.n.unsub("keydown",[this.openOnArrow,this.openOnSpace,this.moveSelectionOnKeyDown,this.selectItemOnEnter,this.removeItemOnBackspace,this.closeOnEscape]),St.n.unsub("click",this.closeOnDocumentClick)}},{key:"getDropdownMenuAriaOptions",value:function t(){var e=this.props,n=e.search,r=e.multiple,i={};return n&&(i["aria-multiselectable"]=r,i.role="listbox"),i}},{key:"render",value:function t(){var n=this.props,r=n.basic,o=n.button,a=n.className,s=n.compact,u=n.disabled,c=n.error,l=n.fluid,h=n.floating,f=n.icon,d=n.inline,p=n.item,m=n.labeled,v=n.loading,g=n.multiple,y=n.pointing,b=n.search,x=n.selection,_=n.scrolling,w=n.simple,E=n.trigger,M=this.state,S=M.open,T=M.upward,A=yt()("ui",Object(St.y)(S,"active visible"),Object(St.y)(u,"disabled"),Object(St.y)(c,"error"),Object(St.y)(v,"loading"),Object(St.y)(r,"basic"),Object(St.y)(o,"button"),Object(St.y)(s,"compact"),Object(St.y)(l,"fluid"),Object(St.y)(h,"floating"),Object(St.y)(d,"inline"),Object(St.y)(m,"labeled"),Object(St.y)(p,"item"),Object(St.y)(g,"multiple"),Object(St.y)(b,"search"),Object(St.y)(x,"selection"),Object(St.y)(w,"simple"),Object(St.y)(_,"scrolling"),Object(St.y)(T,"upward"),Object(St.z)(y,"pointing"),"dropdown",a),C=Object(St.q)(e,this.props),O=Object(St.p)(e,this.props),P=this.getDropdownAriaOptions(O,this.props);return Mt.a.createElement(O,i()({},C,P,{className:A,onBlur:this.handleBlur,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex(),ref:this.handleRef}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),E||this.renderText(),Tt.a.create(f,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu())}}]),e}(St.a);w()(Nt,"defaultProps",{additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:function t(e){return e.text},searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0}),w()(Nt,"autoControlledProps",["open","searchQuery","selectedLabel","value","upward"]),w()(Nt,"Divider",Ct.a),w()(Nt,"Header",Pt.a),w()(Nt,"Item",Ot.a),w()(Nt,"Menu",Lt.a),w()(Nt,"SearchInput",Rt.a),w()(Nt,"handledProps",["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","closeOnBlur","closeOnChange","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"]),Nt.propTypes={}},function(t,e,n){function r(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}var i=n(5);t.exports=r},function(t,e,n){function r(t,e,n){var r=s(t)?i:o;return n&&u(t,e,n)&&(e=void 0),r(t,a(e,3))}var i=n(936),o=n(937),a=n(32),s=n(17),u=n(89);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}t.exports=n},function(t,e,n){function r(t,e){var n=!0;return i(t,function(t,r,i){return n=!!e(t,r,i)}),n}var i=n(74);t.exports=r},function(t,e,n){function r(t){return t=i(t),t&&a.test(t)?t.replace(o,"\\$&"):t}var i=n(47),o=/[\\^$.*+?()[\]{}|]/g,a=RegExp(o.source);t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:o(e),e=r-e,i(t,0,e<0?0:e)):[]}var i=n(148),o=n(54);t.exports=r},function(t,e,n){function r(t){if(null==t)return 0;if(a(t))return s(t)?u(t):t.length;var e=o(t);return e==c||e==l?t.size:i(t).length}var i=n(159),o=n(60),a=n(35),s=n(114),u=n(941),c="[object Map]",l="[object Set]";t.exports=r},function(t,e,n){function r(t){return o(t)?a(t):i(t)}var i=n(942),o=n(169),a=n(943);t.exports=r},function(t,e,n){var r=n(371),i=r("length");t.exports=i},function(t,e){function n(t){for(var e=w.lastIndex=0;w.test(t);)++e;return e}var r="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",u="\\ufe0e\\ufe0f",c="[\\ud800-\\udfff]",l="["+s+"]",h="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+h+")",d="[^\\ud800-\\udfff]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",g=f+"?",y="[\\ufe0e\\ufe0f]?",b="(?:\\u200d(?:"+[d,p,m].join("|")+")"+y+g+")*",x=y+g+b,_="(?:"+[d+l+"?",l,p,m,c].join("|")+")",w=RegExp(h+"(?="+h+")|"+_+x,"g");t.exports=n},function(t,e,n){var r=n(105),i=n(59),o=n(397),a=n(153),s=i(function(t){return o(r(t,1,a,!0))});t.exports=s},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(6),v=n.n(m),g=n(4),y=n.n(g),b=n(1),x=n.n(b),_=n(0),w=n.n(_),E=n(2),M=["ad","andorra","ae","united arab emirates","uae","af","afghanistan","ag","antigua","ai","anguilla","al","albania","am","armenia","an","netherlands antilles","ao","angola","ar","argentina","as","american samoa","at","austria","au","australia","aw","aruba","ax","aland islands","az","azerbaijan","ba","bosnia","bb","barbados","bd","bangladesh","be","belgium","bf","burkina faso","bg","bulgaria","bh","bahrain","bi","burundi","bj","benin","bm","bermuda","bn","brunei","bo","bolivia","br","brazil","bs","bahamas","bt","bhutan","bv","bouvet island","bw","botswana","by","belarus","bz","belize","ca","canada","cc","cocos islands","cd","congo","cf","central african republic","cg","congo brazzaville","ch","switzerland","ci","cote divoire","ck","cook islands","cl","chile","cm","cameroon","cn","china","co","colombia","cr","costa rica","cs","cu","cuba","cv","cape verde","cx","christmas island","cy","cyprus","cz","czech republic","de","germany","dj","djibouti","dk","denmark","dm","dominica","do","dominican republic","dz","algeria","ec","ecuador","ee","estonia","eg","egypt","eh","western sahara","er","eritrea","es","spain","et","ethiopia","eu","european union","fi","finland","fj","fiji","fk","falkland islands","fm","micronesia","fo","faroe islands","fr","france","ga","gabon","gb","united kingdom","gd","grenada","ge","georgia","gf","french guiana","gh","ghana","gi","gibraltar","gl","greenland","gm","gambia","gn","guinea","gp","guadeloupe","gq","equatorial guinea","gr","greece","gs","sandwich islands","gt","guatemala","gu","guam","gw","guinea-bissau","gy","guyana","hk","hong kong","hm","heard island","hn","honduras","hr","croatia","ht","haiti","hu","hungary","id","indonesia","ie","ireland","il","israel","in","india","io","indian ocean territory","iq","iraq","ir","iran","is","iceland","it","italy","jm","jamaica","jo","jordan","jp","japan","ke","kenya","kg","kyrgyzstan","kh","cambodia","ki","kiribati","km","comoros","kn","saint kitts and nevis","kp","north korea","kr","south korea","kw","kuwait","ky","cayman islands","kz","kazakhstan","la","laos","lb","lebanon","lc","saint lucia","li","liechtenstein","lk","sri lanka","lr","liberia","ls","lesotho","lt","lithuania","lu","luxembourg","lv","latvia","ly","libya","ma","morocco","mc","monaco","md","moldova","me","montenegro","mg","madagascar","mh","marshall islands","mk","macedonia","ml","mali","mm","myanmar","burma","mn","mongolia","mo","macau","mp","northern mariana islands","mq","martinique","mr","mauritania","ms","montserrat","mt","malta","mu","mauritius","mv","maldives","mw","malawi","mx","mexico","my","malaysia","mz","mozambique","na","namibia","nc","new caledonia","ne","niger","nf","norfolk island","ng","nigeria","ni","nicaragua","nl","netherlands","no","norway","np","nepal","nr","nauru","nu","niue","nz","new zealand","om","oman","pa","panama","pe","peru","pf","french polynesia","pg","new guinea","ph","philippines","pk","pakistan","pl","poland","pm","saint pierre","pn","pitcairn islands","pr","puerto rico","ps","palestine","pt","portugal","pw","palau","py","paraguay","qa","qatar","re","reunion","ro","romania","rs","serbia","ru","russia","rw","rwanda","sa","saudi arabia","sb","solomon islands","sc","seychelles","gb sct","scotland","sd","sudan","se","sweden","sg","singapore","sh","saint helena","si","slovenia","sj","svalbard","jan mayen","sk","slovakia","sl","sierra leone","sm","san marino","sn","senegal","so","somalia","sr","suriname","st","sao tome","sv","el salvador","sy","syria","sz","swaziland","tc","caicos islands","td","chad","tf","french territories","tg","togo","th","thailand","tj","tajikistan","tk","tokelau","tl","timorleste","tm","turkmenistan","tn","tunisia","to","tonga","tr","turkey","tt","trinidad","tv","tuvalu","tw","taiwan","tz","tanzania","ua","ukraine","ug","uganda","um","us minor islands","us","america","united states","uy","uruguay","uz","uzbekistan","va","vatican city","vc","saint vincent","ve","venezuela","vg","british virgin islands","vi","us virgin islands","vn","vietnam","vu","vanuatu","gb wls","wales","wf","wallis and futuna","ws","samoa","ye","yemen","yt","mayotte","za","south africa","zm","zambia","zw","zimbabwe"],S=function(t){function e(){return a()(this,e),l()(this,f()(e).apply(this,arguments))}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.className,o=n.name,a=y()(o,"flag",r),s=Object(E.q)(e,this.props),u=Object(E.p)(e,this.props);return w.a.createElement(u,i()({},s,{className:a}))}}]),e}(_.PureComponent);v()(S,"defaultProps",{as:"i"}),v()(S,"handledProps",["as","className","name"]),S.propTypes={},S.create=Object(E.l)(S,function(t){return{name:t}}),e.a=S},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(19),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(10),v=n.n(m),g=n(11),y=n.n(g),b=n(6),x=n.n(b),_=n(392),w=n.n(_),E=n(13),M=n.n(E),S=n(48),T=n.n(S),A=n(1),C=n.n(A),O=n(0),P=n.n(O),L=n(2),R=function(t){function e(){var t,n;u()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=f()(this,(t=p()(e)).call.apply(t,[this].concat(i))),x()(y()(y()(n)),"focus",function(){return n.ref.focus()}),x()(y()(y()(n)),"handleChange",function(t){var e=T()(t,"target.value");M()(n.props,"onChange",t,a()({},n.props,{value:e}))}),x()(y()(y()(n)),"handleInput",function(t){var e=T()(t,"target.value");M()(n.props,"onInput",t,a()({},n.props,{value:e})),n.updateHeight()}),x()(y()(y()(n)),"handleRef",function(t){return n.ref=t}),x()(y()(y()(n)),"removeAutoHeightStyles",function(){n.ref.style.height=null,n.ref.style.resize=null}),x()(y()(y()(n)),"updateHeight",function(){var t=n.props.autoHeight;if(n.ref&&t){var e=window.getComputedStyle(n.ref),r=e.minHeight,i=e.borderBottomWidth,o=e.borderTopWidth,a=w()([i,o].map(function(t){return parseFloat(t)}));n.ref.style.height="auto",n.ref.style.overflowY="hidden",n.ref.style.height="".concat(Math.max(parseFloat(r),Math.ceil(n.ref.scrollHeight+a)),"px"),n.ref.style.overflowY=""}}),n}return v()(e,t),l()(e,[{key:"componentDidMount",value:function t(){this.updateHeight()}},{key:"componentDidUpdate",value:function t(e){!this.props.autoHeight&&e.autoHeight&&this.removeAutoHeightStyles(),(this.props.autoHeight&&!e.autoHeight||e.value!==this.props.value)&&this.updateHeight()}},{key:"render",value:function t(){var n=this.props,r=n.autoHeight,o=n.rows,s=n.style,u=n.value,c=Object(L.q)(e,this.props),l=Object(L.p)(e,this.props),h=r?"none":"";return P.a.createElement(l,i()({},c,{onChange:this.handleChange,onInput:this.handleInput,ref:this.handleRef,rows:o,style:a()({resize:h},s),value:u}))}}]),e}(O.Component);x()(R,"defaultProps",{as:"textarea",rows:3}),x()(R,"handledProps",["as","autoHeight","onChange","onInput","rows","style","value"]),R.propTypes={},e.a=R},function(t,e,n){"use strict";var r=n(948)},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(19),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(10),v=n.n(m),g=n(11),y=n.n(g),b=n(6),x=n.n(b),_=n(13),w=n.n(_),E=n(1),M=n.n(E),S=n(0),T=n.n(S),A=n(116),C=n(436),O=n(2),P=function(t){function e(t){var n;return u()(this,e),n=f()(this,p()(e).call(this,t)),x()(y()(y()(n)),"handlePortalClose",function(){n.setState({portalOpen:!1})}),x()(y()(y()(n)),"handlePortalOpen",function(){n.setState({portalOpen:!0})}),x()(y()(y()(n)),"handleTransitionHide",function(t,e){var r=n.state.portalOpen;n.setState({transitionVisible:!1}),w()(n.props,"onClose",null,a()({},e,{portalOpen:!1,transitionVisible:!1})),w()(n.props,"onHide",null,a()({},e,{portalOpen:r,transitionVisible:!1}))}),x()(y()(y()(n)),"handleTransitionStart",function(t,e){var r=n.state.portalOpen,i=e.status,o=i===C.a.ENTERING;w()(n.props,"onStart",null,a()({},e,{portalOpen:r,transitionVisible:o})),o&&(n.setState({transitionVisible:o}),w()(n.props,"onOpen",null,a()({},e,{transitionVisible:o,portalOpen:!0})))}),n.state={portalOpen:t.open},n}return v()(e,t),l()(e,[{key:"componentWillReceiveProps",value:function t(e){var n=e.open;this.setState({portalOpen:n})}},{key:"render",value:function t(){var n=this.props,r=n.children,o=n.transition,a=this.state,s=a.portalOpen,u=a.transitionVisible,c=s||u,l=Object(O.q)(e,this.props);return T.a.createElement(A.a,i()({},l,{open:c,onOpen:this.handlePortalOpen,onClose:this.handlePortalClose}),T.a.createElement(C.a,i()({},o,{transitionOnMount:!0,onStart:this.handleTransitionStart,onHide:this.handleTransitionHide,visible:s}),r))}}]),e}(S.Component);x()(P,"defaultProps",{transition:{animation:"scale",duration:400}}),x()(P,"handledProps",["children","onClose","onHide","onOpen","onStart","open","transition"]),P.propTypes={}},function(t,e,n){"use strict";var r=n(950)},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(75),a=n.n(o),s=n(19),u=n.n(s),c=n(7),l=n.n(c),h=n(8),f=n.n(h),d=n(9),p=n.n(d),m=n(5),v=n.n(m),g=n(10),y=n.n(g),b=n(11),x=n.n(b),_=n(6),w=n.n(_),E=n(13),M=n.n(E),S=n(88),T=n.n(S),A=n(15),C=n.n(A),O=n(61),P=n.n(O),L=n(1),R=n.n(L),k=n(0),N=n.n(k),I=n(2),j=function(t){function e(){var t,n;l()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=p()(this,(t=v()(e)).call.apply(t,[this].concat(i))),w()(x()(x()(n)),"calculations",{bottomPassed:!1,bottomVisible:!1,fits:!1,passing:!1,offScreen:!1,onScreen:!1,topPassed:!1,topVisible:!1}),w()(x()(x()(n)),"firedCallbacks",[]),w()(x()(x()(n)),"fire",function(t,e){var r=t.callback,i=t.name,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=n.props,s=a.continuous,u=a.once,c=n.calculations[e]!==o,l=s||n.calculations[e]!==n.oldCalculations[e];c&&l&&n.execute(r,i),u||(n.firedCallbacks=C()(n.firedCallbacks,i))}),w()(x()(x()(n)),"handleUpdate",function(){n.ticking||(n.ticking=!0,n.frameId=requestAnimationFrame(n.update))}),w()(x()(x()(n)),"update",function(){if(n.mounted){n.ticking=!1,n.oldCalculations=n.calculations,n.calculations=n.computeCalculations(),n.pageYOffset=window.pageYOffset;var t=n.props,e=t.onBottomPassed,r=t.onBottomPassedReverse,i=t.onBottomVisible,o=t.onBottomVisibleReverse,a=t.onPassing,s=t.onPassingReverse,c=t.onTopPassed,l=t.onTopPassedReverse,h=t.onTopVisible,f=t.onTopVisibleReverse,d=t.onOffScreen,p=t.onOnScreen,m=t.updateOn,v={bottomPassed:{callback:e,name:"onBottomPassed"},bottomVisible:{callback:i,name:"onBottomVisible"},passing:{callback:a,name:"onPassing"},offScreen:{callback:d,name:"onOffScreen"},onScreen:{callback:p,name:"onOnScreen"},topPassed:{callback:c,name:"onTopPassed"},topVisible:{callback:h,name:"onTopVisible"}},g={bottomPassed:{callback:r,name:"onBottomPassedReverse"},bottomVisible:{callback:o,name:"onBottomVisibleReverse"},passing:{callback:s,name:"onPassingReverse"},topPassed:{callback:l,name:"onTopPassedReverse"},topVisible:{callback:f,name:"onTopVisibleReverse"}};M()(n.props,"onUpdate",null,u()({},n.props,{calculations:n.calculations})),n.fireOnPassed(),T()(g,function(t,e){return n.fire(t,e,!0)}),T()(v,function(t,e){return n.fire(t,e)}),"repaint"===m&&n.handleUpdate()}}),w()(x()(x()(n)),"handleRef",function(t){return n.ref=t}),n}return y()(e,t),f()(e,[{key:"componentWillReceiveProps",value:function t(e){var n=e.continuous,r=e.once,i=e.context,o=e.updateOn;(n!==this.props.continuous||r!==this.props.once||o!==this.props.updateOn)&&(this.firedCallbacks=[]),i===this.props.context&&o===this.props.updateOn||(this.unattachHandlers(this.props.context),this.attachHandlers(i,o))}},{key:"componentDidMount",value:function t(){if(this.mounted=!0,Object(I.s)()){var e=this.props,n=e.context,r=e.fireOnMount,i=e.updateOn;this.pageYOffset=window.pageYOffset,this.attachHandlers(n,i),r&&this.update()}}},{key:"componentWillUnmount",value:function t(){var e=this.props.context;this.unattachHandlers(e),this.mounted=!1}},{key:"attachHandlers",value:function t(e,n){if("events"===n)return void(e&&(I.n.sub("resize",this.handleUpdate,{target:e}),I.n.sub("scroll",this.handleUpdate,{target:e})));this.handleUpdate()}},{key:"unattachHandlers",value:function t(e){e&&(I.n.unsub("resize",this.handleUpdate,{target:e}),I.n.unsub("scroll",this.handleUpdate,{target:e})),this.frameId&&cancelAnimationFrame(this.frameId)}},{key:"execute",value:function t(e,n){var r=this.props.continuous;e&&(!r&&P()(this.firedCallbacks,n)||(e(null,u()({},this.props,{calculations:this.calculations})),this.firedCallbacks.push(n)))}},{key:"fireOnPassed",value:function t(){var e=this,n=this.calculations,r=n.percentagePassed,i=n.pixelsPassed,o=this.props.onPassed;T()(o,function(t,n){var o=Number(n);if(o&&i>=o)return void e.execute(t,n);var a="".concat(n).match(/^(\d+)%$/);if(a){var s=Number(a[1])/100;r>=s&&e.execute(t,n)}})}},{key:"computeCalculations",value:function t(){var e=this.props.offset,n=this.ref.getBoundingClientRect(),r=n.bottom,i=n.height,o=n.top,s=n.width,u=Object(I.u)(e),c=a()(u,2),l=c[0],h=c[1],f=window.pageYOffset>this.pageYOffset?"down":"up",d=o<l,p=r<h,m=p?0:Math.max(-1*o,0),v=m/i,g=r>=h&&r<=window.innerHeight,y=o>=l&&o<=window.innerHeight,b=y&&g,x=d&&!p,_=(y||d)&&!p;return{bottomPassed:p,bottomVisible:g,direction:f,fits:b,height:i,passing:x,percentagePassed:v,pixelsPassed:m,offScreen:!_,onScreen:_,topPassed:d,topVisible:y,width:s}}},{key:"render",value:function t(){var n=this.props.children,r=Object(I.p)(e,this.props),o=Object(I.q)(e,this.props);return N.a.createElement(r,i()({},o,{ref:this.handleRef}),n)}}]),e}(k.Component);w()(j,"defaultProps",{context:Object(I.s)()?window:null,continuous:!1,offset:[0,0],once:!0,updateOn:"events"}),w()(j,"handledProps",["as","children","context","continuous","fireOnMount","offset","onBottomPassed","onBottomPassedReverse","onBottomVisible","onBottomVisibleReverse","onOffScreen","onOnScreen","onPassed","onPassing","onPassingReverse","onTopPassed","onTopPassedReverse","onTopVisible","onTopVisibleReverse","onUpdate","once","updateOn"]),j.propTypes={}},function(t,e,n){"use strict";var r=n(952)},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.divider,a=t.icon,s=t.sections,u=t.size,l=h()("ui",u,"breadcrumb",n),f=Object(v.q)(r,t),d=Object(v.p)(r,t);if(!v.c.isNil(e))return m.a.createElement(d,o()({},f,{className:l}),e);var p=[];return c()(s,function(t,e){var n=y.a.create(t);if(p.push(n),e!==s.length-1){var r="".concat(n.key,"_divider")||JSON.stringify(t);p.push(g.a.create({content:i,icon:a,key:r}))}}),m.a.createElement(d,o()({},f,{className:l}),p)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(234),c=n.n(u),l=n(4),h=n.n(l),f=n(1),d=n.n(f),p=n(0),m=n.n(p),v=n(2),g=n(440),y=n(441);r.handledProps=["as","children","className","divider","icon","sections","size"],r.propTypes={},r.Divider=g.a,r.Section=y.a;var b=r},function(t,e,n){"use strict";var r=n(954);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(13),x=n.n(b),_=n(15),w=n.n(_),E=n(4),M=n.n(E),S=n(1),T=n.n(S),A=n(0),C=n.n(A),O=n(2),P=n(442),L=n(443),R=n(444),k=n(55),N=n(445),I=n(446),j=n(447),D=n(448),B=n(449),F=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleSubmit",function(t){"string"!==typeof n.props.action&&x()(t,"preventDefault");for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];x.a.apply(void 0,[n.props,"onSubmit",t,n.props].concat(r))}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.action,o=n.children,a=n.className,s=n.error,u=n.inverted,c=n.loading,l=n.reply,h=n.size,f=n.success,d=n.unstackable,p=n.warning,m=n.widths,v=M()("ui",h,Object(O.y)(s,"error"),Object(O.y)(u,"inverted"),Object(O.y)(c,"loading"),Object(O.y)(l,"reply"),Object(O.y)(f,"success"),Object(O.y)(d,"unstackable"),Object(O.y)(p,"warning"),Object(O.E)(m,null,!0),"form",a),g=Object(O.q)(e,this.props),y=Object(O.p)(e,this.props);return C.a.createElement(y,i()({},g,{action:r,className:v,onSubmit:this.handleSubmit}),o)}}]),e}(A.Component);y()(F,"defaultProps",{as:"form"}),y()(F,"Field",k.a),y()(F,"Button",P.a),y()(F,"Checkbox",L.a),y()(F,"Dropdown",R.a),y()(F,"Group",N.a),y()(F,"Input",I.a),y()(F,"Radio",j.a),y()(F,"Select",D.a),y()(F,"TextArea",B.a),y()(F,"handledProps",["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"]),F.propTypes={},e.a=F},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(75),a=n.n(o),s=n(19),u=n.n(s),c=n(7),l=n.n(c),h=n(8),f=n.n(h),d=n(9),p=n.n(d),m=n(5),v=n.n(m),g=n(10),y=n.n(g),b=n(11),x=n.n(b),_=n(6),w=n.n(_),E=n(61),M=n.n(E),S=n(14),T=n.n(S),A=n(13),C=n.n(A),O=n(48),P=n.n(O),L=n(25),R=n.n(L),k=n(4),N=n.n(k),I=n(1),j=n.n(I),D=n(0),B=n.n(D),F=n(2),U=n(171),G=n(27),z=n(176),V=function(t){function e(){var t,n;l()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=p()(this,(t=v()(e)).call.apply(t,[this].concat(i))),w()(x()(x()(n)),"computeIcon",function(){var t=n.props,e=t.loading,r=t.icon;return R()(r)?e?"spinner":void 0:r}),w()(x()(x()(n)),"computeTabIndex",function(){var t=n.props,e=t.disabled,r=t.tabIndex;return R()(r)?e?-1:void 0:r}),w()(x()(x()(n)),"focus",function(){return n.inputRef.focus()}),w()(x()(x()(n)),"select",function(){return n.inputRef.select()}),w()(x()(x()(n)),"handleChange",function(t){var e=P()(t,"target.value");C()(n.props,"onChange",t,u()({},n.props,{value:e}))}),w()(x()(x()(n)),"handleChildOverrides",function(t,e){return u()({},e,t.props,{ref:function e(r){C()(t,"ref",r),n.handleInputRef(r)}})}),w()(x()(x()(n)),"handleInputRef",function(t){return n.inputRef=t}),w()(x()(x()(n)),"partitionProps",function(){var t=n.props,r=t.disabled,i=t.type,o=n.computeTabIndex(),s=Object(F.q)(e,n.props),c=Object(F.w)(s),l=a()(c,2),h=l[0],f=l[1];return[u()({},h,{disabled:r,type:i,tabIndex:o,onChange:n.handleChange,ref:n.handleInputRef}),f]}),n}return y()(e,t),f()(e,[{key:"render",value:function t(){var n=this,r=this.props,o=r.action,s=r.actionPosition,u=r.children,c=r.className,l=r.disabled,h=r.error,f=r.fluid,d=r.focus,p=r.icon,m=r.iconPosition,v=r.input,g=r.inverted,y=r.label,b=r.labelPosition,x=r.loading,_=r.size,w=r.transparent,E=r.type,S=N()("ui",_,Object(F.y)(l,"disabled"),Object(F.y)(h,"error"),Object(F.y)(f,"fluid"),Object(F.y)(d,"focus"),Object(F.y)(g,"inverted"),Object(F.y)(x,"loading"),Object(F.y)(w,"transparent"),Object(F.C)(s,"action")||Object(F.y)(o,"action"),Object(F.C)(m,"icon")||Object(F.y)(p||x,"icon"),Object(F.C)(b,"labeled")||Object(F.y)(y,"labeled"),"input",c),A=Object(F.p)(e,this.props),C=this.partitionProps(),O=a()(C,2),P=O[0],L=O[1];if(!F.c.isNil(u)){var R=T()(D.Children.toArray(u),function(t){return"input"!==t.type?t:Object(D.cloneElement)(t,n.handleChildOverrides(t,P))});return B.a.createElement(A,i()({},L,{className:S}),R)}var k=U.a.create(o,{autoGenerateKey:!1}),I=z.a.create(y,{defaultProps:{className:N()("label",M()(b,"corner")&&b)},autoGenerateKey:!1});return B.a.createElement(A,i()({},L,{className:S}),"left"===s&&k,"right"!==b&&I,Object(F.g)(v||E,{defaultProps:P,autoGenerateKey:!1}),G.a.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==s&&k,"right"===b&&I)}}]),e}(D.Component);w()(V,"defaultProps",{type:"text"}),w()(V,"handledProps",["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"]),V.propTypes={},V.create=Object(F.l)(V,function(t){return{type:t}}),e.a=V},function(t,e,n){"use strict";var r=n(450);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(958);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";n.d(e,"a",function(){return I});var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(25),x=n.n(b),_=n(15),w=n.n(_),E=n(4),M=n.n(E),S=n(1),T=n.n(S),A=n(0),C=n.n(A),O=n(2),P=n(27),L=n(452),R=n(453),k=n(454),N=n(254),I=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleDismiss",function(t){var e=n.props.onDismiss;e&&e(t,n.props)}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.attached,o=n.children,a=n.className,s=n.color,u=n.compact,c=n.content,l=n.error,h=n.floating,f=n.header,d=n.hidden,p=n.icon,m=n.info,v=n.list,g=n.negative,y=n.onDismiss,b=n.positive,_=n.size,w=n.success,E=n.visible,S=n.warning,T=M()("ui",s,_,Object(O.y)(u,"compact"),Object(O.y)(l,"error"),Object(O.y)(h,"floating"),Object(O.y)(d,"hidden"),Object(O.y)(p,"icon"),Object(O.y)(m,"info"),Object(O.y)(g,"negative"),Object(O.y)(b,"positive"),Object(O.y)(w,"success"),Object(O.y)(E,"visible"),Object(O.y)(S,"warning"),Object(O.z)(r,"attached"),"message",a),A=y&&C.a.createElement(P.a,{name:"close",onClick:this.handleDismiss}),N=Object(O.q)(e,this.props),I=Object(O.p)(e,this.props);return O.c.isNil(o)?C.a.createElement(I,i()({},N,{className:T}),A,P.a.create(p,{autoGenerateKey:!1}),(!x()(f)||!x()(c)||!x()(v))&&C.a.createElement(L.a,null,R.a.create(f,{autoGenerateKey:!1}),k.a.create(v,{autoGenerateKey:!1}),Object(O.i)(c,{autoGenerateKey:!1}))):C.a.createElement(I,i()({},N,{className:T}),A,o)}}]),e}(A.Component);y()(I,"Content",L.a),y()(I,"Header",R.a),y()(I,"List",k.a),y()(I,"Item",N.a),y()(I,"handledProps",["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"]),I.propTypes={}},function(t,e,n){"use strict";var r=n(960)},function(t,e,n){"use strict";function r(t){var e=t.attached,n=t.basic,i=t.celled,a=t.children,s=t.className,u=t.collapsing,l=t.color,f=t.columns,d=t.compact,p=t.definition,y=t.fixed,_=t.footerRow,E=t.headerRow,M=t.inverted,S=t.padded,T=t.renderBodyRow,A=t.selectable,C=t.singleLine,O=t.size,P=t.sortable,L=t.stackable,R=t.striped,k=t.structured,N=t.tableData,I=t.textAlign,j=t.unstackable,D=t.verticalAlign,B=h()("ui",l,O,Object(v.y)(i,"celled"),Object(v.y)(u,"collapsing"),Object(v.y)(p,"definition"),Object(v.y)(y,"fixed"),Object(v.y)(M,"inverted"),Object(v.y)(A,"selectable"),Object(v.y)(C,"single line"),Object(v.y)(P,"sortable"),Object(v.y)(L,"stackable"),Object(v.y)(R,"striped"),Object(v.y)(k,"structured"),Object(v.y)(j,"unstackable"),Object(v.z)(e,"attached"),Object(v.z)(n,"basic"),Object(v.z)(d,"compact"),Object(v.z)(S,"padded"),Object(v.B)(I),Object(v.D)(D),Object(v.E)(f,"column"),"table",s),F=Object(v.q)(r,t),U=Object(v.p)(r,t);return v.c.isNil(a)?m.a.createElement(U,o()({},F,{className:B}),E&&m.a.createElement(x.a,null,w.a.create(E,{defaultProps:{cellAs:"th"}})),m.a.createElement(g.a,null,T&&c()(N,function(t,e){return w.a.create(T(t,e))})),_&&m.a.createElement(b.a,null,w.a.create(_))):m.a.createElement(U,o()({},F,{className:B}),a)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(14),c=n.n(u),l=n(4),h=n.n(l),f=n(1),d=n.n(f),p=n(0),m=n.n(p),v=n(2),g=n(455),y=n(177),b=n(456),x=n(255),_=n(457),w=n(458);r.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],r.defaultProps={as:"table"},r.propTypes={},r.Body=g.a,r.Cell=y.a,r.Footer=b.a,r.Header=x.a,r.HeaderCell=_.a,r.Row=w.a;var E=r},function(t,e,n){"use strict";var r=n(962)},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.content,a=t.fluid,u=t.text,c=t.textAlign,l=s()("ui",Object(f.y)(u,"text"),Object(f.y)(a,"fluid"),Object(f.B)(c),"container",n),d=Object(f.q)(r,t),p=Object(f.p)(r,t);return h.a.createElement(p,o()({},d,{className:l}),f.c.isNil(e)?i:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","content","fluid","text","textAlign"],r.propTypes={};var d=r},function(t,e,n){"use strict";var r=n(964);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.clearing,a=t.content,u=t.fitted,c=t.hidden,l=t.horizontal,d=t.inverted,p=t.section,m=t.vertical,v=s()("ui",Object(f.y)(i,"clearing"),Object(f.y)(u,"fitted"),Object(f.y)(c,"hidden"),Object(f.y)(l,"horizontal"),Object(f.y)(d,"inverted"),Object(f.y)(p,"section"),Object(f.y)(m,"vertical"),"divider",n),g=Object(f.q)(r,t),y=Object(f.p)(r,t);return h.a.createElement(y,o()({},g,{className:v}),f.c.isNil(e)?a:e)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","children","className","clearing","content","fitted","hidden","horizontal","inverted","section","vertical"],r.propTypes={},e.a=r},function(t,e,n){"use strict";var r=n(966)},function(t,e,n){"use strict";function r(t){var e=t.attached,n=t.block,i=t.children,a=t.className,s=t.color,u=t.content,l=t.disabled,h=t.dividing,f=t.floated,b=t.icon,x=t.image,_=t.inverted,w=t.size,E=t.sub,M=t.subheader,S=t.textAlign,T=c()("ui",s,w,Object(p.y)(n,"block"),Object(p.y)(l,"disabled"),Object(p.y)(h,"dividing"),Object(p.C)(f,"floated"),Object(p.y)(!0===b,"icon"),Object(p.y)(!0===x,"image"),Object(p.y)(_,"inverted"),Object(p.y)(E,"sub"),Object(p.z)(e,"attached"),Object(p.B)(S),"header",a),A=Object(p.q)(r,t),C=Object(p.p)(r,t);if(!p.c.isNil(i))return d.a.createElement(C,o()({},A,{className:T}),i);var O=m.a.create(b,{autoGenerateKey:!1}),P=v.a.create(x,{autoGenerateKey:!1}),L=g.a.create(M,{autoGenerateKey:!1});return O||P?d.a.createElement(C,o()({},A,{className:T}),O||P,(u||L)&&d.a.createElement(y.a,null,u,L)):d.a.createElement(C,o()({},A,{className:T}),u,L)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2),m=n(27),v=n(90),g=n(459),y=n(460);r.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],r.propTypes={},r.Content=y.a,r.Subheader=g.a;var b=r},function(t,e,n){"use strict";var r=n(968)},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(14),x=n.n(b),_=n(13),w=n.n(_),E=n(4),M=n.n(E),S=n(1),T=n.n(S),A=n(0),C=n.n(A),O=n(2),P=n(256),L=n(178),R=n(179),k=n(257),N=n(461),I=n(462),j=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"handleItemOverrides",function(t){return{onClick:function e(r,i){w()(t,"onClick",r,i),w()(n.props,"onItemClick",r,i)}}}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this,r=this.props,o=r.animated,a=r.bulleted,s=r.celled,u=r.children,c=r.className,l=r.content,h=r.divided,f=r.floated,d=r.horizontal,p=r.inverted,m=r.items,v=r.link,g=r.ordered,y=r.relaxed,b=r.selection,_=r.size,w=r.verticalAlign,E=M()("ui",_,Object(O.y)(o,"animated"),Object(O.y)(a,"bulleted"),Object(O.y)(s,"celled"),Object(O.y)(h,"divided"),Object(O.y)(d,"horizontal"),Object(O.y)(p,"inverted"),Object(O.y)(v,"link"),Object(O.y)(g,"ordered"),Object(O.y)(b,"selection"),Object(O.z)(y,"relaxed"),Object(O.C)(f,"floated"),Object(O.D)(w),"list",c),S=Object(O.q)(e,this.props),T=Object(O.p)(e,this.props);return O.c.isNil(u)?O.c.isNil(l)?C.a.createElement(T,i()({role:"list",className:E},S),x()(m,function(t){return N.a.create(t,{overrideProps:n.handleItemOverrides})})):C.a.createElement(T,i()({role:"list",className:E},S),l):C.a.createElement(T,i()({role:"list",className:E},S),u)}}]),e}(A.Component);y()(j,"Content",P.a),y()(j,"Description",L.a),y()(j,"Header",R.a),y()(j,"Icon",k.a),y()(j,"Item",N.a),y()(j,"List",I.a),y()(j,"handledProps",["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"]),j.propTypes={};var D=j},function(t,e,n){"use strict";var r=n(970)},function(t,e,n){"use strict";function Loader(t){var e=t.active,n=t.children,r=t.className,o=t.content,s=t.disabled,u=t.indeterminate,c=t.inline,f=t.inverted,d=t.size,p=a()("ui",d,Object(h.y)(e,"active"),Object(h.y)(s,"disabled"),Object(h.y)(u,"indeterminate"),Object(h.y)(f,"inverted"),Object(h.y)(n||o,"text"),Object(h.z)(c,"inline"),"loader",r),m=Object(h.q)(Loader,t),v=Object(h.p)(Loader,t);return l.a.createElement(v,i()({},m,{className:p}),h.c.isNil(n)?o:n)}var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(1),u=n.n(s),c=n(0),l=n.n(c),h=n(2);Loader.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],Loader.propTypes={};var f=Loader},function(t,e,n){"use strict";var r=n(972)},function(t,e,n){"use strict";function r(t){var e=t.attached,n=t.children,i=t.className,a=t.close,s=t.content,u=t.dividing,l=t.internal,h=t.position,f=t.size,m=c()("ui",h,f,Object(p.y)(e,"attached"),Object(p.y)(u,"dividing"),Object(p.y)(l,"internal"),Object(p.z)(a,"close"),"rail",i),v=Object(p.q)(r,t),g=Object(p.p)(r,t);return d.a.createElement(g,o()({},v,{className:m}),p.c.isNil(n)?s:n)}var i=n(3),o=n.n(i),a=n(15),s=n.n(a),u=n(4),c=n.n(u),l=n(1),h=n.n(l),f=n(0),d=n.n(f),p=n(2);r.handledProps=["as","attached","children","className","close","content","dividing","internal","position","size"],r.propTypes={};var m=r},function(t,e,n){"use strict";var r=n(974)},function(t,e,n){"use strict";function r(t){var e=t.active,n=t.animated,i=t.children,a=t.className,u=t.content,c=t.disabled,l=t.instant,d=s()("ui",n,Object(f.y)(e,"active"),Object(f.y)(c,"disabled"),Object(f.y)(l,"instant"),"reveal",a),p=Object(f.q)(r,t),m=Object(f.p)(r,t);return h.a.createElement(m,o()({},p,{className:d}),f.c.isNil(i)?u:i)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(463);r.handledProps=["active","animated","as","children","className","content","disabled","instant"],r.propTypes={},r.Content=d.a;var p=r},function(t,e,n){"use strict";var r=n(464);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(466)},function(t,e,n){function r(t,e){if(null==t)return{};var n=i(s(t),function(t){return[t]});return e=o(e),a(t,n,function(t,n){return e(t,n[0])})}var i=n(52),o=n(32),a=n(389),s=n(388);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.fluid,i=t.inverted,a=t.styled,u=s()("ui",Object(f.y)(n,"fluid"),Object(f.y)(i,"inverted"),Object(f.y)(a,"styled"),e),c=Object(f.q)(r,t);return h.a.createElement(d.a,o()({},c,{className:u}))}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(469),p=n(262),m=n(260),v=n(261);r.handledProps=["className","fluid","inverted","styled"],r.propTypes={},r.Accordion=d.a,r.Content=p.a,r.Panel=m.a,r.Title=v.a,e.a=r},function(t,e,n){"use strict";var r=n(980)},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(19),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(10),v=n.n(m),g=n(11),y=n.n(g),b=n(6),x=n.n(b),_=n(4),w=n.n(_),E=n(1),M=n.n(E),S=n(0),T=n.n(S),A=n(2),C=n(27),O=function(t){function e(){var t,n;u()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=f()(this,(t=p()(e)).call.apply(t,[this].concat(i))),x()(y()(y()(n)),"handleClick",function(t){var e=n.props.onClick,r=n.state.active;e&&e(t,a()({},n.props,{active:!0})),r||n.trySetState({active:!0})}),n}return v()(e,t),l()(e,[{key:"getSrc",value:function t(){var e=this.props,n=e.autoplay,r=void 0===n||n,i=e.brandedUI,o=void 0!==i&&i,a=e.color,s=void 0===a?"#444444":a,u=e.hd,c=void 0===u||u,l=e.id,h=e.source,f=e.url;return"youtube"===h?["//www.youtube.com/embed/".concat(l),"?autohide=true","&amp;autoplay=".concat(r),"&amp;color=".concat(encodeURIComponent(s)),"&amp;hq=".concat(c),"&amp;jsapi=false","&amp;modestbranding=".concat(o),"&amp;rel=".concat(o?0:1)].join(""):"vimeo"===h?["//player.vimeo.com/video/".concat(l),"?api=false","&amp;autoplay=".concat(r),"&amp;byline=false","&amp;color=".concat(encodeURIComponent(s)),"&amp;portrait=false","&amp;title=false"].join(""):f}},{key:"render",value:function t(){var n=this.props,r=n.aspectRatio,o=n.className,a=n.icon,s=n.placeholder,u=this.state.active,c=w()("ui",r,Object(A.y)(u,"active"),"embed",o),l=Object(A.q)(e,this.props),h=Object(A.p)(e,this.props),f=void 0!==a?a:"video play";return T.a.createElement(h,i()({},l,{className:c,onClick:this.handleClick}),C.a.create(f,{autoGenerateKey:!1}),s&&T.a.createElement("img",{className:"placeholder",src:s}),this.renderEmbed())}},{key:"renderEmbed",value:function t(){var e=this.props,n=e.children,r=e.content,i=e.iframe,o=e.source;return this.state.active?A.c.isNil(n)?A.c.isNil(r)?T.a.createElement("div",{className:"embed"},Object(A.e)(A.c.isNil(i)?this.getSrc():i,{defaultProps:{allowFullScreen:!1,frameBorder:0,height:"100%",scrolling:"no",src:this.getSrc(),title:"Embedded content from ".concat(o,"."),width:"100%"},autoGenerateKey:!1})):T.a.createElement("div",{className:"embed"},r):T.a.createElement("div",{className:"embed"},n):null}}]),e}(A.a);x()(O,"autoControlledProps",["active"]),x()(O,"handledProps",["active","as","aspectRatio","autoplay","brandedUI","children","className","color","content","defaultActive","hd","icon","id","iframe","onClick","placeholder","source","url"]),O.propTypes={}},function(t,e,n){"use strict";var r=n(982)},function(t,e,n){"use strict";var r=n(19),i=n.n(r),o=n(3),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(10),v=n.n(m),g=n(11),y=n.n(g),b=n(6),x=n.n(b),_=n(170),w=n.n(_),E=n(173),M=n.n(E),S=n(983),T=n.n(S),A=n(13),C=n.n(A),O=n(17),P=n.n(O),L=n(439),R=n.n(L),k=n(398),N=n.n(k),I=n(61),j=n.n(I),D=n(15),B=n.n(D),F=n(4),U=n.n(F),G=n(1),z=n.n(G),V=n(0),H=n.n(V),W=n(2),q=n(116),X=n(470),Y=n(471),K=["top left","top right","bottom right","bottom left","right center","left center","top center","bottom center"],Z=function(t){function e(){var t,n;u()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=f()(this,(t=p()(e)).call.apply(t,[this].concat(i))),x()(y()(y()(n)),"state",{}),x()(y()(y()(n)),"hideOnScroll",function(t){n.setState({closed:!0}),W.n.unsub("scroll",n.hideOnScroll,{target:window}),setTimeout(function(){n.mounted&&n.setState({closed:!1})},50),n.handleClose(t)}),x()(y()(y()(n)),"handleClose",function(t){C()(n.props,"onClose",t,n.props)}),x()(y()(y()(n)),"handleOpen",function(t){n.coords=n.getContext().getBoundingClientRect(),C()(n.props,"onOpen",t,n.props)}),x()(y()(y()(n)),"handlePortalMount",function(t){n.props.hideOnScroll&&W.n.sub("scroll",n.hideOnScroll,{target:window}),n.getContext()&&n.setPopupStyle(n.props.position),C()(n.props,"onMount",t,n.props)}),x()(y()(y()(n)),"handlePortalUnmount",function(t){n.props.hideOnScroll&&W.n.unsub("scroll",n.hideOnScroll,{target:window}),C()(n.props,"onUnmount",t,n.props)}),x()(y()(y()(n)),"handlePopupRef",function(t){n.popupCoords=t?t.getBoundingClientRect():null,n.setPopupStyle()}),x()(y()(y()(n)),"handleTriggerRef",function(t){n.triggerRef=t}),x()(y()(y()(n)),"getContext",function(){return n.props.context||n.triggerRef}),n}return v()(e,t),l()(e,[{key:"componentDidMount",value:function t(){this.mounted=!0}},{key:"componentDidUpdate",value:function t(e){var n=this.props,r=n.horizontalOffset,i=n.verticalOffset;r===e.horizontalOffset&&i===e.verticalOffset||this.setPopupStyle()}},{key:"componentWillUnmount",value:function t(){this.mounted=!1}},{key:"computePopupStyle",value:function t(e){var n={position:"absolute"},r=this.getContext();if(!Object(W.s)())return n;var i=this.props,o=i.horizontalOffset,a=i.verticalOffset,s=window,u=s.pageYOffset,c=s.pageXOffset,l=document.documentElement,h=l.clientWidth,f=l.clientHeight,d=this.coords||r.getBoundingClientRect();if(j()(e,"right"))n.right=Math.round(h-(d.right+c)),n.left="auto";else if(j()(e,"left"))n.left=Math.round(d.left+c),n.right="auto";else{var p=(d.width-this.popupCoords.width)/2;n.left=Math.round(d.left+p+c),n.right="auto"}if(j()(e,"top"))n.bottom=Math.round(f-(d.top+u)),n.top="auto";else if(j()(e,"bottom"))n.top=Math.round(d.bottom+u),n.bottom="auto";else{var m=(d.height+this.popupCoords.height)/2;n.top=Math.round(d.bottom+u-m),n.bottom="auto";var v=this.popupCoords.width+8;j()(e,"right")?n.right-=v:n.left-=v}return o&&(N()(n.right)?n.right-=o:n.left-=o),a&&(N()(n.top)?n.top+=a:n.bottom+=a),n}},{key:"isStyleInViewport",value:function t(e){var n=window,r=n.pageYOffset,i=n.pageXOffset,o=document.documentElement,a=o.clientWidth,s=o.clientHeight,u={top:e.top,left:e.left,width:this.popupCoords.width,height:this.popupCoords.height};return N()(e.right)&&(u.left=a-e.right-u.width),N()(e.bottom)&&(u.top=s-e.bottom-u.height),!(u.top<r)&&(!(u.top+u.height>r+s)&&(!(u.left<i)&&!(u.left+u.width>i+a)))}},{key:"setPopupStyle",value:function t(){var e=this.getContext();if((this.coords||e)&&this.popupCoords){var n=this.props.position,r=this.computePopupStyle(n);if(this.props.keepInViewPort)for(var i=B()(K,n).concat([n]),o=0;!this.isStyleInViewport(r)&&o<i.length;o+=1)r=this.computePopupStyle(i[o]),n=i[o];r=R()(r,function(t){return N()(t)?"".concat(t,"px"):t}),this.setState({style:r,position:n})}}},{key:"getPortalProps",value:function t(){var e={},n=this.props,r=n.on,i=n.hoverable,o=P()(r)?r:[r];return i&&(e.closeOnPortalMouseLeave=!0,e.mouseLeaveDelay=300),j()(o,"click")&&(e.openOnTriggerClick=!0,e.closeOnTriggerClick=!0,e.closeOnDocumentClick=!0),j()(o,"focus")&&(e.openOnTriggerFocus=!0,e.closeOnTriggerBlur=!0),j()(o,"hover")&&(e.openOnTriggerMouseEnter=!0,e.closeOnTriggerMouseLeave=!0,e.mouseLeaveDelay=70,e.mouseEnterDelay=50),e}},{key:"render",value:function t(){var n=this.props,r=n.basic,o=n.children,s=n.className,u=n.content,c=n.flowing,l=n.header,h=n.inverted,f=n.size,d=n.trigger,p=n.wide,m=this.state,v=m.position,g=m.closed,y=T()({},this.state.style,this.props.style),b=U()("ui",v,f,Object(W.z)(p,"wide"),Object(W.y)(r,"basic"),Object(W.y)(c,"flowing"),Object(W.y)(h,"inverted"),"popup transition visible",s);if(g)return d;var x=Object(W.q)(e,this.props),_=q.a.handledProps,E=M()(x,function(t,e,n){return j()(_,n)||(t[n]=e),t},{}),S=w()(x,_),A=Object(W.p)(e,this.props),C=H.a.createElement(A,a()({},E,{className:b,style:y,ref:this.handlePopupRef}),o,W.c.isNil(o)&&Y.a.create(l,{autoGenerateKey:!1}),W.c.isNil(o)&&X.a.create(u,{autoGenerateKey:!1})),O=i()({},this.getPortalProps(),S);return H.a.createElement(q.a,a()({},O,{onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:d,triggerRef:this.handleTriggerRef}),C)}}]),e}(V.Component);x()(Z,"defaultProps",{position:"top left",on:"hover",keepInViewPort:!0}),x()(Z,"Content",X.a),x()(Z,"Header",Y.a),x()(Z,"handledProps",["as","basic","children","className","content","context","flowing","header","hideOnScroll","horizontalOffset","hoverable","inverted","keepInViewPort","on","onClose","onMount","onOpen","onUnmount","position","size","style","trigger","verticalOffset","wide"]),Z.propTypes={}},function(t,e,n){var r=n(166),i=n(112),o=n(984),a=n(35),s=n(108),u=n(31),c=Object.prototype,l=c.hasOwnProperty,h=o(function(t,e){if(s(e)||a(e))return void i(e,u(e),t);for(var n in e)l.call(e,n)&&r(t,n,e[n])});t.exports=h},function(t,e,n){function r(t){return i(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}var i=n(59),o=n(89);t.exports=r},function(t,e,n){"use strict";var r=n(986);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(987),x=n.n(b),_=n(989),w=n.n(_),E=n(154),M=n.n(E),S=n(15),T=n.n(S),A=n(4),C=n.n(A),O=n(1),P=n.n(O),L=n(0),R=n.n(L),k=n(2),N=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"calculatePercent",function(){var t=n.props,e=t.percent,r=t.total,i=t.value;return M()(e)?M()(r)||M()(i)?void 0:i/r*100:e}),y()(v()(v()(n)),"computeValueText",function(t){var e=n.props,r=e.progress,i=e.total,o=e.value;return"value"===r?o:"ratio"===r?"".concat(o,"/").concat(i):"".concat(t,"%")}),y()(v()(v()(n)),"getPercent",function(){var t=n.props,e=t.precision,r=t.progress,i=t.total,o=t.value,a=w()(n.calculatePercent(),0,100);return M()(i)||M()(o)||"value"!==r?"value"===r?o:M()(e)?a:x()(a,e):o/i*100}),y()(v()(v()(n)),"isAutoSuccess",function(){var t=n.props,e=t.autoSuccess,r=t.percent,i=t.total,o=t.value;return e&&(r>=100||o>=i)}),y()(v()(v()(n)),"renderLabel",function(){var t=n.props,e=t.children,r=t.content,i=t.label;return k.c.isNil(e)?k.c.isNil(r)?Object(k.d)(i,{autoGenerateKey:!1,defaultProps:{className:"label"}}):R.a.createElement("div",{className:"label"},r):R.a.createElement("div",{className:"label"},e)}),y()(v()(v()(n)),"renderProgress",function(t){var e=n.props,r=e.precision;if(e.progress||!M()(r))return R.a.createElement("div",{className:"progress"},n.computeValueText(t))}),n}return p()(e,t),u()(e,[{key:"render",value:function t(){var n=this.props,r=n.active,o=n.attached,a=n.className,s=n.color,u=n.disabled,c=n.error,l=n.indicating,h=n.inverted,f=n.size,d=n.success,p=n.warning,m=C()("ui",s,f,Object(k.y)(r||l,"active"),Object(k.y)(u,"disabled"),Object(k.y)(c,"error"),Object(k.y)(l,"indicating"),Object(k.y)(h,"inverted"),Object(k.y)(d||this.isAutoSuccess(),"success"),Object(k.y)(p,"warning"),Object(k.C)(o,"attached"),"progress",a),v=Object(k.q)(e,this.props),g=Object(k.p)(e,this.props),y=this.getPercent()||0;return R.a.createElement(g,i()({},v,{className:m,"data-percent":Math.floor(y)}),R.a.createElement("div",{className:"bar",style:{width:"".concat(y,"%")}},this.renderProgress(y)),this.renderLabel())}}]),e}(L.Component);y()(N,"handledProps",["active","as","attached","autoSuccess","children","className","color","content","disabled","error","indicating","inverted","label","percent","precision","progress","size","success","total","value","warning"]),N.propTypes={},e.a=N},function(t,e,n){var r=n(988),i=r("round");t.exports=i},function(t,e,n){function r(t){var e=Math[t];return function(t,n){if(t=o(t),n=null==n?0:s(i(n),292)){var r=(a(t)+"e").split("e"),u=e(r[0]+"e"+(+r[1]+n));return r=(a(u)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var i=n(54),o=n(106),a=n(47),s=Math.min;t.exports=r},function(t,e,n){function r(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=o(n),n=n===n?n:0),void 0!==e&&(e=o(e),e=e===e?e:0),i(o(t),e,n)}var i=n(354),o=n(106);t.exports=r},function(t,e,n){"use strict";var r=n(991)},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(19),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(10),v=n.n(m),g=n(11),y=n.n(g),b=n(6),x=n.n(b),_=n(992),w=n.n(_),E=n(13),M=n.n(E),S=n(15),T=n.n(S),A=n(4),C=n.n(A),O=n(1),P=n.n(O),L=n(0),R=n.n(L),k=n(2),N=n(472),I=function(t){function e(){var t,n;u()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=f()(this,(t=p()(e)).call.apply(t,[this].concat(i))),x()(y()(y()(n)),"handleIconClick",function(t,e){var r=e.index,i=n.props,o=i.clearable,s=i.disabled,u=i.maxRating,c=i.onRate,l=n.state.rating;if(!s){var h=r+1;"auto"===o&&1===u?h=+!l:!0===o&&h===l&&(h=0),n.trySetState({rating:h},{isSelecting:!1}),c&&c(t,a()({},n.props,{rating:h}))}}),x()(y()(y()(n)),"handleIconMouseEnter",function(t,e){var r=e.index;n.props.disabled||n.setState({selectedIndex:r,isSelecting:!0})}),x()(y()(y()(n)),"handleMouseLeave",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];M.a.apply(void 0,[n.props,"onMouseLeave"].concat(e)),n.props.disabled||n.setState({selectedIndex:-1,isSelecting:!1})}),n}return v()(e,t),l()(e,[{key:"render",value:function t(){var n=this,r=this.props,o=r.className,a=r.disabled,s=r.icon,u=r.maxRating,c=r.size,l=this.state,h=l.rating,f=l.selectedIndex,d=l.isSelecting,p=C()("ui",s,c,Object(k.y)(a,"disabled"),Object(k.y)(d&&!a&&f>=0,"selected"),"rating",o),m=Object(k.q)(e,this.props),v=Object(k.p)(e,this.props);return R.a.createElement(v,i()({},m,{className:p,role:"radiogroup",onMouseLeave:this.handleMouseLeave}),w()(u,function(t){return R.a.createElement(N.a,{active:h>=t+1,"aria-checked":h===t+1,"aria-posinset":t+1,"aria-setsize":u,index:t,key:t,onClick:n.handleIconClick,onMouseEnter:n.handleIconMouseEnter,selected:f>=t&&d})}))}}]),e}(k.a);x()(I,"autoControlledProps",["rating"]),x()(I,"defaultProps",{clearable:"auto",maxRating:1}),x()(I,"Icon",N.a),x()(I,"handledProps",["as","className","clearable","defaultRating","disabled","icon","maxRating","onRate","rating","size"]),I.propTypes={}},function(t,e,n){function r(t,e){if((t=a(t))<1||t>s)return[];var n=u,r=c(t,u);e=o(e),t-=u;for(var l=i(r,e);++n<t;)e(n);return l}var i=n(357),o=n(235),a=n(54),s=9007199254740991,u=4294967295,c=Math.min;t.exports=r},function(t,e,n){"use strict";var r=n(994)},function(t,e,n){"use strict";var r=n(75),i=n.n(r),o=n(3),a=n.n(o),s=n(180),u=n.n(s),c=n(19),l=n.n(c),h=n(7),f=n.n(h),d=n(8),p=n.n(d),m=n(9),v=n.n(m),g=n(5),y=n.n(g),b=n(428),x=n.n(b),_=n(10),w=n.n(_),E=n(11),M=n.n(E),S=n(6),T=n.n(S),A=n(161),C=n.n(A),O=n(996),P=n.n(O),L=n(399),R=n.n(L),k=n(14),N=n.n(k),I=n(48),j=n.n(I),D=n(173),B=n.n(D),F=n(13),U=n.n(F),G=n(15),z=n.n(G),V=n(4),H=n.n(V),W=n(117),q=n.n(W),X=n(1),Y=n.n(X),K=n(0),Z=n.n(K),Q=n(2),J=n(252),$=n(473),tt=n(474),et=n(475),nt=function(t){function e(){var t,n;f()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=v()(this,(t=y()(e)).call.apply(t,[this].concat(i))),T()(M()(M()(n)),"handleResultSelect",function(t,e){U()(n.props,"onResultSelect",t,l()({},n.props,{result:e}))}),T()(M()(M()(n)),"handleSelectionChange",function(t){var e=n.getSelectedResult();U()(n.props,"onSelectionChange",t,l()({},n.props,{result:e}))}),T()(M()(M()(n)),"closeOnEscape",function(t){q.a.getCode(t)===q.a.Escape&&(t.preventDefault(),n.close())}),T()(M()(M()(n)),"moveSelectionOnKeyDown",function(t){switch(q.a.getCode(t)){case q.a.ArrowDown:t.preventDefault(),n.moveSelectionBy(t,1);break;case q.a.ArrowUp:t.preventDefault(),n.moveSelectionBy(t,-1)}}),T()(M()(M()(n)),"selectItemOnEnter",function(t){if(q.a.getCode(t)===q.a.Enter){var e=n.getSelectedResult();e&&(t.preventDefault(),n.setValue(e.title),n.handleResultSelect(t,e),n.close())}}),T()(M()(M()(n)),"closeOnDocumentClick",function(t){n.close()}),T()(M()(M()(n)),"handleMouseDown",function(t){n.isMouseDown=!0,U()(n.props,"onMouseDown",t,n.props),Q.n.sub("mouseup",n.handleDocumentMouseUp)}),T()(M()(M()(n)),"handleDocumentMouseUp",function(){n.isMouseDown=!1,Q.n.unsub("mouseup",n.handleDocumentMouseUp)}),T()(M()(M()(n)),"handleInputClick",function(t){t.nativeEvent.stopImmediatePropagation(),n.tryOpen()}),T()(M()(M()(n)),"handleItemClick",function(t,e){var r=e.id,i=n.getSelectedResult(r);t.nativeEvent.stopImmediatePropagation(),n.setValue(i.title),n.handleResultSelect(t,i),n.close()}),T()(M()(M()(n)),"handleFocus",function(t){var e=n.props.onFocus;e&&e(t,n.props),n.setState({focus:!0})}),T()(M()(M()(n)),"handleBlur",function(t){var e=n.props.onBlur;e&&e(t,n.props),n.setState({focus:!1})}),T()(M()(M()(n)),"handleSearchChange",function(t){t.stopPropagation();var e=n.props.minCharacters,r=n.state.open,i=t.target.value;U()(n.props,"onSearchChange",t,l()({},n.props,{value:i})),i.length<e?n.close():r||n.tryOpen(i),n.setValue(i)}),T()(M()(M()(n)),"getFlattenedResults",function(){var t=n.props,e=t.category,r=t.results;return e?B()(r,function(t,e){return t.concat(e.results)},[]):r}),T()(M()(M()(n)),"getSelectedResult",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.selectedIndex,e=n.getFlattenedResults();return j()(e,t)}),T()(M()(M()(n)),"setValue",function(t){var e=n.props.selectFirstResult;n.trySetState({value:t},{selectedIndex:e?0:-1})}),T()(M()(M()(n)),"moveSelectionBy",function(t,e){var r=n.state.selectedIndex,i=n.getFlattenedResults(),o=i.length-1,a=r+e;a>o?a=0:a<0&&(a=o),n.setState({selectedIndex:a}),n.scrollSelectedItemIntoView(),n.handleSelectionChange(t)}),T()(M()(M()(n)),"scrollSelectedItemIntoView",function(){if(Object(Q.s)()){var t=document.querySelector(".ui.search.active.visible .results.visible"),e=t.querySelector(".result.active");if(e){var n=e.offsetTop<t.scrollTop,r=e.offsetTop+e.clientHeight>t.scrollTop+t.clientHeight;n?t.scrollTop=e.offsetTop:r&&(t.scrollTop=e.offsetTop+e.clientHeight-t.clientHeight)}}}),T()(M()(M()(n)),"tryOpen",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.value,e=n.props.minCharacters;t.length<e||n.open()}),T()(M()(M()(n)),"open",function(){n.trySetState({open:!0})}),T()(M()(M()(n)),"close",function(){n.trySetState({open:!1})}),T()(M()(M()(n)),"renderSearchInput",function(t){var e=n.props,r=e.icon,i=e.input,o=n.state.value;return J.a.create(i,{autoGenerateKey:!1,defaultProps:l()({},t,{icon:r,input:{className:"prompt",tabIndex:"0",autoComplete:"off"},onChange:n.handleSearchChange,onClick:n.handleInputClick,value:o})})}),T()(M()(M()(n)),"renderNoResults",function(){var t=n.props,e=t.noResultsDescription,r=t.noResultsMessage;return Z.a.createElement("div",{className:"message empty"},Z.a.createElement("div",{className:"header"},r),e&&Z.a.createElement("div",{className:"description"},e))}),T()(M()(M()(n)),"renderResult",function(t,e,r){var i=t.childKey,o=u()(t,["childKey"]),s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=n.props.resultRenderer,l=n.state.selectedIndex,h=e+s;return Z.a.createElement(tt.a,a()({key:i||o.title,active:l===h,onClick:n.handleItemClick,renderer:c},o,{id:h}))}),T()(M()(M()(n)),"renderResults",function(){var t=n.props.results;return N()(t,n.renderResult)}),T()(M()(M()(n)),"renderCategories",function(){var t=n.props,e=t.categoryRenderer,r=t.results,i=n.state.selectedIndex,o=0;return N()(r,function(t){var r=t.childKey,a=u()(t,["childKey"]),s=l()({key:r||a.name,active:R()(i,o,o+a.results.length),renderer:e},a),c=P()(n.renderResult,o);return o+=a.results.length,Z.a.createElement($.a,s,a.results.map(c))})}),T()(M()(M()(n)),"renderMenuContent",function(){var t=n.props,e=t.category,r=t.showNoResults,i=t.results;return C()(i)?r?n.renderNoResults():null:e?n.renderCategories():n.renderResults()}),T()(M()(M()(n)),"renderResultsMenu",function(){var t=n.state.open,e=t?"visible":"",r=n.renderMenuContent();if(r)return Z.a.createElement(et.a,{className:e},r)}),n}return w()(e,t),p()(e,[{key:"componentWillMount",value:function t(){var e=this.state,n=e.open,r=e.value;this.setValue(r),n&&this.open()}},{key:"componentWillReceiveProps",value:function t(n){x()(y()(e.prototype),"componentWillReceiveProps",this).call(this,n),Object(Q.x)(n.value,this.props.value)||this.setValue(n.value)}},{key:"shouldComponentUpdate",value:function t(e,n){return!Object(Q.x)(e,this.props)||!Object(Q.x)(n,this.state)}},{key:"componentDidUpdate",value:function t(e,n){!n.focus&&this.state.focus?(this.isMouseDown||this.tryOpen(),this.state.open&&Q.n.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])):n.focus&&!this.state.focus&&(this.isMouseDown||this.close(),Q.n.unsub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])),!n.open&&this.state.open?(this.open(),Q.n.sub("click",this.closeOnDocumentClick),Q.n.sub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])):n.open&&!this.state.open&&(this.close(),Q.n.unsub("click",this.closeOnDocumentClick),Q.n.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]))}},{key:"componentWillUnmount",value:function t(){Q.n.unsub("click",this.closeOnDocumentClick),Q.n.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])}},{key:"render",value:function t(){var n=this.state,r=n.searchClasses,o=n.focus,s=n.open,u=this.props,c=u.aligned,l=u.category,h=u.className,f=u.fluid,d=u.loading,p=u.size,m=H()("ui",s&&"active visible",p,r,Object(Q.y)(l,"category"),Object(Q.y)(o,"focus"),Object(Q.y)(f,"fluid"),Object(Q.y)(d,"loading"),Object(Q.C)(c,"aligned"),"search",h),v=Object(Q.q)(e,this.props),g=Object(Q.p)(e,this.props),y=Object(Q.w)(v,{htmlProps:Q.r}),b=i()(y,2),x=b[0],_=b[1];return Z.a.createElement(g,a()({},_,{className:m,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown}),this.renderSearchInput(x),this.renderResultsMenu())}}]),e}(Q.a);T()(nt,"defaultProps",{icon:"search",input:"text",minCharacters:1,noResultsMessage:"No results found.",showNoResults:!0}),T()(nt,"autoControlledProps",["open","value"]),T()(nt,"Category",$.a),T()(nt,"Result",tt.a),T()(nt,"Results",et.a),T()(nt,"handledProps",["aligned","as","category","categoryRenderer","className","defaultOpen","defaultValue","fluid","icon","input","loading","minCharacters","noResultsDescription","noResultsMessage","onBlur","onFocus","onMouseDown","onResultSelect","onSearchChange","onSelectionChange","open","resultRenderer","results","selectFirstResult","showNoResults","size","value"]),nt.propTypes={}},function(t,e){function n(t,e){if(null==t)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],e.indexOf(i)>=0||(n[i]=t[i]);return n}t.exports=n},function(t,e,n){var r=n(59),i=n(163),o=n(242),a=n(165),s=64,u=r(function(t,e){var n=a(e,o(u));return i(t,64,void 0,e,n)});u.placeholder={},t.exports=u},function(t,e,n){"use strict";var r=n(998)},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(19),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(10),v=n.n(m),g=n(11),y=n.n(g),b=n(6),x=n.n(b),_=n(13),w=n.n(_),E=n(4),M=n.n(E),S=n(1),T=n.n(S),A=n(0),C=n.n(A),O=n(118),P=n(2),L=n(476),R=n(477),k=function(t){function e(){var t,n;u()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=f()(this,(t=p()(e)).call.apply(t,[this].concat(i))),x()(y()(y()(n)),"state",{}),x()(y()(y()(n)),"handleAnimationStart",function(){var t=n.props,e=t.duration,r=t.visible,i=r?"onVisible":"onHide";n.setState({animating:!0},function(){if(clearTimeout(n.animationTimer),n.animationTimer=setTimeout(n.handleAnimationEnd,e),n.skipNextCallback)return void(n.skipNextCallback=!1);w()(n.props,i,null,n.props)})}),x()(y()(y()(n)),"handleAnimationEnd",function(){var t=n.props.visible,e=t?"onShow":"onHidden";n.setState({animating:!1}),w()(n.props,e,null,n.props)}),x()(y()(y()(n)),"handleDocumentClick",function(t){Object(P.m)(n.ref,t)||(n.skipNextCallback=!0,w()(n.props,"onHide",t,a()({},n.props,{visible:!1})))}),x()(y()(y()(n)),"handleRef",function(t){return n.ref=t}),n}return v()(e,t),l()(e,[{key:"componentDidMount",value:function t(){this.props.visible&&this.addListener()}},{key:"componentWillUnmount",value:function t(){this.props.visible&&this.removeListener(),clearTimeout(this.animationTimer)}},{key:"componentDidUpdate",value:function t(e){var n=e.visible,r=this.props.visible;if(n!==r){if(this.handleAnimationStart(),r)return void this.addListener();this.removeListener()}}},{key:"addListener",value:function t(){P.n.sub("click",this.handleDocumentClick)}},{key:"removeListener",value:function t(){P.n.unsub("click",this.handleDocumentClick)}},{key:"render",value:function t(){var n=this.props,r=n.animation,o=n.className,a=n.children,s=n.content,u=n.direction,c=n.visible,l=n.width,h=this.state.animating,f=M()("ui",r,u,l,Object(P.y)(h,"animating"),Object(P.y)(c,"visible"),"sidebar",o),d=Object(P.q)(e,this.props),p=Object(P.p)(e,this.props);return C.a.createElement(O.a,{innerRef:this.handleRef},C.a.createElement(p,i()({},d,{className:f}),P.c.isNil(a)?s:a))}}]),e}(A.Component);x()(k,"defaultProps",{direction:"left",duration:500}),x()(k,"autoControlledProps",["visible"]),x()(k,"Pushable",L.a),x()(k,"Pusher",R.a),x()(k,"handledProps",["animation","as","children","className","content","direction","duration","onHidden","onHide","onShow","onVisible","visible","width"]),k.propTypes={};var N=k},function(t,e,n){"use strict";var r=n(1e3)},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(8),u=n.n(s),c=n(9),l=n.n(c),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(11),v=n.n(m),g=n(6),y=n.n(g),b=n(13),x=n.n(b),_=n(4),w=n.n(_),E=n(1),M=n.n(E),S=n(0),T=n.n(S),A=n(2),C=function(t){function e(){var t,n;a()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(t=f()(e)).call.apply(t,[this].concat(i))),y()(v()(v()(n)),"state",{sticky:!1}),y()(v()(v()(n)),"addListeners",function(t){var e=t.scrollContext;e&&(A.n.sub("resize",n.handleUpdate,{target:e}),A.n.sub("scroll",n.handleUpdate,{target:e}))}),y()(v()(v()(n)),"removeListeners",function(){var t=n.props.scrollContext;t&&(A.n.unsub("resize",n.handleUpdate,{target:t}),A.n.unsub("scroll",n.handleUpdate,{target:t}))}),y()(v()(v()(n)),"update",function(t){var e=n.state.pushing;if(n.ticking=!1,n.assignRects(),e)return n.didReachStartingPoint()?n.stickToContextTop(t):n.didTouchScreenBottom()?n.stickToScreenBottom(t):n.stickToContextBottom(t);if(n.isOversized()){if(n.contextRect.top>0)return n.stickToContextTop(t);if(n.contextRect.bottom<window.innerHeight)return n.stickToContextBottom(t)}return n.didTouchScreenTop()?n.didReachContextBottom()?n.stickToContextBottom(t):n.stickToScreenTop(t):n.stickToContextTop(t)}),y()(v()(v()(n)),"handleUpdate",function(t){n.ticking||(n.ticking=!0,n.frameId=requestAnimationFrame(function(){return n.update(t)}))}),y()(v()(v()(n)),"assignRects",function(){var t=n.props.context;n.triggerRect=n.triggerRef.getBoundingClientRect(),n.contextRect=(t||document.body).getBoundingClientRect(),n.stickyRect=n.stickyRef.getBoundingClientRect()}),y()(v()(v()(n)),"didReachContextBottom",function(){var t=n.props.offset;return n.stickyRect.height+t>=n.contextRect.bottom}),y()(v()(v()(n)),"didReachStartingPoint",function(){return n.stickyRect.top<=n.triggerRect.top}),y()(v()(v()(n)),"didTouchScreenTop",function(){return n.triggerRect.top<n.props.offset}),y()(v()(v()(n)),"didTouchScreenBottom",function(){var t=n.props.bottomOffset;return n.contextRect.bottom+t>window.innerHeight}),y()(v()(v()(n)),"isOversized",function(){return n.stickyRect.height>window.innerHeight}),y()(v()(v()(n)),"pushing",function(t){n.props.pushing&&n.setState({pushing:t})}),y()(v()(v()(n)),"stick",function(t,e){n.setState({bound:e,sticky:!0}),x()(n.props,"onStick",t,n.props)}),y()(v()(v()(n)),"unstick",function(t,e){n.setState({bound:e,sticky:!1}),x()(n.props,"onUnstick",t,n.props)}),y()(v()(v()(n)),"stickToContextBottom",function(t){x()(n.props,"onBottom",t,n.props),n.stick(t,!0),n.pushing(!0)}),y()(v()(v()(n)),"stickToContextTop",function(t){x()(n.props,"onTop",t,n.props),n.unstick(t,!1),n.pushing(!1)}),y()(v()(v()(n)),"stickToScreenBottom",function(t){var e=n.props.bottomOffset;n.stick(t,!1),n.setState({bottom:e,top:null})}),y()(v()(v()(n)),"stickToScreenTop",function(t){var e=n.props.offset;n.stick(t,!1),n.setState({top:e,bottom:null})}),y()(v()(v()(n)),"handleStickyRef",function(t){return n.stickyRef=t}),y()(v()(v()(n)),"handleTriggerRef",function(t){return n.triggerRef=t}),n}return p()(e,t),u()(e,[{key:"componentDidMount",value:function t(){if(Object(A.s)()){this.props.active&&(this.handleUpdate(),this.addListeners(this.props))}}},{key:"componentWillReceiveProps",value:function t(e){var n=this.props,r=n.active,i=n.scrollContext,o=e.active,a=e.scrollContext;return r===o?void(i!==a&&(this.removeListeners(),this.addListeners(e))):o?(this.handleUpdate(),void this.addListeners(e)):(this.removeListeners(),void this.setState({sticky:!1}))}},{key:"componentWillUnmount",value:function t(){if(Object(A.s)()){this.props.active&&(this.removeListeners(),cancelAnimationFrame(this.frameId))}}},{key:"computeStyle",value:function t(){var e=this.state,n=e.bottom,r=e.bound,i=e.sticky,o=e.top;return i?{bottom:r?0:n,top:r?void 0:o,width:this.triggerRect.width}:{}}},{key:"render",value:function t(){var n=this.props,r=n.children,o=n.className,a=this.state,s=a.bottom,u=a.bound,c=a.sticky,l=Object(A.q)(e,this.props),h=Object(A.p)(e,this.props),f=w()(c&&"ui",c&&"stuck-container",c&&(u?"bound-container":"fixed-container"),o),d=w()("ui",c&&(u?"bound bottom":"fixed"),c&&!u&&(null===s?"top":"bottom"),"sticky");return T.a.createElement(h,i()({},l,{className:f}),T.a.createElement("div",{ref:this.handleTriggerRef}),T.a.createElement("div",{className:w()(d),ref:this.handleStickyRef,style:this.computeStyle()},r))}}]),e}(S.Component);y()(C,"defaultProps",{active:!0,bottomOffset:0,offset:0,scrollContext:Object(A.s)()?window:null}),y()(C,"handledProps",["active","as","bottomOffset","children","className","context","offset","onBottom","onStick","onTop","onUnstick","pushing","scrollContext"]),C.propTypes={}},function(t,e,n){"use strict";var r=n(1002)},function(t,e,n){"use strict";var r=n(180),i=n.n(r),o=n(19),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(10),v=n.n(m),g=n(11),y=n.n(g),b=n(6),x=n.n(b),_=n(14),w=n.n(_),E=n(48),M=n.n(E),S=n(13),T=n.n(S),A=n(1),C=n.n(A),O=n(0),P=n.n(O),L=n(2),R=n(450),k=n(253),N=n(422),I=n(478),j=function(t){function e(){var t,n;u()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=f()(this,(t=p()(e)).call.apply(t,[this].concat(i))),x()(y()(y()(n)),"handleItemClick",function(t,e){var r=e.index;T()(n.props,"onTabChange",t,a()({},n.props,{activeIndex:r})),n.trySetState({activeIndex:r})}),n}return v()(e,t),l()(e,[{key:"getInitialAutoControlledState",value:function t(){return{activeIndex:0}}},{key:"renderItems",value:function t(){var e=this.props,n=e.panes,r=e.renderActiveOnly,i=this.state.activeIndex;return r?T()(M()(n,"[".concat(i,"]")),"render",this.props):w()(n,function(t,e){var n=t.pane;return I.a.create(n,{overrideProps:{active:e===i}})})}},{key:"renderMenu",value:function t(){var e=this.props,n=e.menu,r=e.panes,i=e.menuPosition,o=this.state.activeIndex;return!0===n.tabular&&"right"===i&&(n.tabular="right"),N.a.create(n,{autoGenerateKey:!1,overrideProps:{items:w()(r,"menuItem"),onItemClick:this.handleItemClick,activeIndex:o}})}},{key:"renderVertical",value:function t(e){var n=this.props,r=n.grid,o=n.menuPosition,a=r.paneWidth,s=r.tabWidth,u=i()(r,["paneWidth","tabWidth"]),c=o||"right"===e.props.tabular&&"right"||"left";return P.a.createElement(R.a,u,"left"===c&&k.a.create({width:s,children:e},{autoGenerateKey:!1}),k.a.create({width:a,children:this.renderItems(),stretched:!0},{autoGenerateKey:!1}),"right"===c&&k.a.create({width:s,children:e},{autoGenerateKey:!1}))}},{key:"render",value:function t(){var n=this.renderMenu(),r=Object(L.q)(e,this.props),i=Object(L.p)(e,this.props);return n.props.vertical?P.a.createElement(i,r,this.renderVertical(n)):P.a.createElement(i,r,"bottom"!==n.props.attached&&n,this.renderItems(),"bottom"===n.props.attached&&n)}}]),e}(L.a);x()(j,"autoControlledProps",["activeIndex"]),x()(j,"defaultProps",{grid:{paneWidth:12,tabWidth:4},menu:{attached:!0,tabular:!0},renderActiveOnly:!0}),x()(j,"Pane",I.a),x()(j,"handledProps",["activeIndex","as","defaultActiveIndex","grid","menu","menuPosition","onTabChange","panes","renderActiveOnly"]),j.propTypes={};var D=j},function(t,e,n){"use strict";var r=n(1004)},function(t,e,n){"use strict";function r(t){var e=t.centered,n=t.children,i=t.className,a=t.content,u=t.test,c=t.unit,l=s()("ui",c,Object(f.y)(e,"centered"),Object(f.y)(u,"test"),"ad",i),d=Object(f.q)(r,t),p=Object(f.p)(r,t);return h.a.createElement(p,o()({},d,{className:l,"data-text":u}),f.c.isNil(n)?a:n)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2);r.handledProps=["as","centered","children","className","content","test","unit"],r.propTypes={};var d=r},function(t,e,n){"use strict";var r=n(1006)},function(t,e,n){"use strict";function r(t){var e=t.className,n=t.children,i=t.collapsed,a=t.content,u=s()(Object(f.y)(i,"collapsed"),"comment",e),c=Object(f.q)(r,t),l=Object(f.p)(r,t);return h.a.createElement(l,o()({},c,{className:u}),f.c.isNil(n)?a:n)}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n.n(u),l=n(0),h=n.n(l),f=n(2),d=n(482),p=n(483),m=n(484),v=n(485),g=n(486),y=n(487),b=n(488),x=n(489);r.handledProps=["as","children","className","collapsed","content"],r.propTypes={},r.Author=m.a,r.Action=d.a,r.Actions=p.a,r.Avatar=v.a,r.Content=g.a,r.Group=y.a,r.Metadata=b.a,r.Text=x.a;var _=r},function(t,e,n){"use strict";var r=n(1008)},function(t,e,n){"use strict";function r(t){var e=t.children,n=t.className,i=t.events,a=t.size,u=d()("ui",a,"feed",n),c=Object(y.q)(r,t),l=Object(y.p)(r,t);if(!y.c.isNil(e))return g.a.createElement(l,s()({},c,{className:u}),e);var f=h()(i,function(t){var e=t.childKey,n=t.date,r=t.meta,i=t.summary,a=o()(t,["childKey","date","meta","summary"]),u=e||[n,r,i].join("-");return g.a.createElement(_.a,s()({date:n,key:u,meta:r,summary:i},a))});return g.a.createElement(l,s()({},c,{className:u}),f)}var i=n(180),o=n.n(i),a=n(3),s=n.n(a),u=n(15),c=n.n(u),l=n(14),h=n.n(l),f=n(4),d=n.n(f),p=n(1),m=n.n(p),v=n(0),g=n.n(v),y=n(2),b=n(266),x=n(181),_=n(490),w=n(267),E=n(272),M=n(269),S=n(268),T=n(270),A=n(271);r.handledProps=["as","children","className","events","size"],r.propTypes={},r.Content=b.a,r.Date=x.a,r.Event=_.a,r.Extra=w.a,r.Label=E.a,r.Like=M.a,r.Meta=S.a,r.Summary=T.a,r.User=A.a;var C=r},function(t,e,n){"use strict";var r=n(491)},function(t,e,n){"use strict";var r=n(495)},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return{mesh:t.ui.mesh,texture:t.ui.texture,metadata:t.ui.metadata,threeAsset:t.ui.threeAsset,user:t.user}}function s(t){return Object(h.b)(p,t)}var u=n(0),c=n.n(u),l=n(30),h=n(64),f=n(94),d=n.n(f),p=n(221),m=n(1013),v=n(76),g=n(16),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),y(e,[{key:"componentDidMount",value:function t(){this.props.getThreeAssetAction(this.props.viewerId,this.props.url)}},{key:"componentDidUpdate",value:function t(e){d.a.isEqual(e.threeAsset,this.props.threeAsset)||(null!==this.props.threeAsset.skybox.file?this.props.loadTextureAction(this.props.threeAsset.skybox.file):this.props.noSkyboxTexture())}},{key:"render",value:function t(){var e=this.props,n=e.mesh,r=e.texture,i=e.metadata,o=e.threeAsset,a=e.saveViewerSettings,s=e.user;if("Complete"===n.progress&&"Complete"===r.progress&&g.N)return c.a.createElement(m.a,{skyboxTexture:r,mesh:n,renderDoubleSided:!0,info:i,options:o,onSave:a,loggedIn:s.loggedIn});var u=void 0;return u=g.N?n.progress.label:"Your Browser Does Not Currently Support WebGL",c.a.createElement(v.a,{text:u,className:"three-loader-dimmer",active:!0,percent:n.progress.percent,progress:u,progressColor:"#21ba45"})}}]),e}(u.Component);e.a=Object(l.b)(a,s)(b)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),u=n.n(s),c=n(24),l=n(76),h=n(1014),f=n(18),d=n(1015),p=n(1016),m=n(1017),v=n(1040),g=n(135),y=n(93),b=n(1041),x=n(1042),_=n(127),w=n(16),E=n(1043),M=n(1044),S=n(1045),T=n(1063),A=n(1064),C=n(279),O=n(1122),P=n(1123),L=n(1129),R=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),N=c,I=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.settingsMask={materials:new Set([]),lights:new Set([]),shaders:new Set([])},n.state={dragging:!1,shiftDown:!1,rmbDown:!1,pinching:!1,rotateStart:new N.Vector2,rotateEnd:new N.Vector2,rotateDelta:new N.Vector2,panStart:new N.Vector2,panEnd:new N.Vector2,panDelta:new N.Vector2,panOffset:new N.Vector3,scale:1.75,zoomScale:Math.pow(.95,1),maxScale:2.5,spherical:new N.Spherical,sphericalDelta:new N.Spherical(0,1.5,1),loadProgress:0,loadText:"",detailMode:!1,showInfo:!1,showAxes:!1,showLightHelper:!1,dynamicLighting:!1,toolsActive:!1,dynamicLightProps:{color:new N.Color(13230847),intensity:.8,distance:0,decay:2,offset:new N.Vector3,lock:!1},materialsInfo:{normalScale:1,bumpScale:1,pbr:{metalness:0,roughness:1}},shaderPasses:{EDL:{}},quality:{options:[{label:"best",value:1},{label:"good",value:1.325},{label:"medium",value:2},{label:"low",value:4}],current:{label:"good",value:1.325}},units:w.e},n.ROTATION_STEP=.0174533,n.height=window.innerHeight,n.width=window.innerWidth,n.pixelRatio=window.devicePixelRatio,n.minAzimuthAngle=-1/0,n.maxAzimuthAngle=1/0,n.minPolarAngle=0,n.maxPolarAngle=Math.PI,n.minDistance=0,n.maxDistance=1/0,n.rotateSpeed=.5,n.environmentRadius=0,n.maxPan,n.minPan,n.bboxMesh=null,n.axisGuides=[],n.bboxSkybox=null,n.lastCameraPosition=new N.Vector3,n.lastCameraTarget=new N.Vector3,n.EDL_TEXTURE_RADIUS=1,n.EDL_TEXTURE_STEP=.01,n.initEnvironment=n.initEnvironment.bind(n),n.initMesh=n.initMesh.bind(n),n.initPostprocessing=n.initPostprocessing.bind(n),n.initThree=n.initThree.bind(n),n.initControls=n.initControls.bind(n),n.initTools=n.initTools.bind(n),n.addShaderPass=n.addShaderPass.bind(n),n.hydrateSettings=n.hydrateSettings.bind(n),n.animate=n.animate.bind(n),n.update=n.update.bind(n),n.updateCamera=n.updateCamera.bind(n),n.updateEnv=n.updateEnv.bind(n),n.orbit=n.orbit.bind(n),n.zoom=n.zoom.bind(n),n.pan=n.pan.bind(n),n.renderWebGL=n.renderWebGL.bind(n),n.getScale=n.getScale.bind(n),n.fitPerspectiveCamera=n.fitPerspectiveCamera.bind(n),n.panBounds=n.panBounds.bind(n),n.centerCamera=n.centerCamera.bind(n),n.computeAxisGuides=n.computeAxisGuides.bind(n),n.drawAxisGuides=n.drawAxisGuides.bind(n),n.addAxisLabels=n.addAxisLabels.bind(n),n.removeAxisLabels=n.removeAxisLabels.bind(n),n.toggleBackground=n.toggleBackground.bind(n),n.captureScreenshot=n.captureScreenshot.bind(n),n.showAxes=n.showAxes.bind(n),n.showLightHelper=n.showLightHelper.bind(n),n.toggleDynamicLighting=n.toggleDynamicLighting.bind(n),n.updateDynamicLight=n.updateDynamicLighting.bind(n),n.updateLights=n.updateLights.bind(n),n.toggleInfo=n.toggleInfo.bind(n),n.toggleTools=n.toggleTools.bind(n),n.toggleQuality=n.toggleQuality.bind(n),n.drawMeasurement=n.drawMeasurement.bind(n),n.drawSpriteTarget=n.drawSpriteTarget.bind(n),n.computeSpriteScaleFactor=n.computeSpriteScaleFactor.bind(n),n.updateDynamicMaterials=n.updateDynamicMaterials.bind(n),n.deepUpdateThreeMaterial=n.deepUpdateThreeMaterial.bind(n),n.updateThreeMaterial=n.updateThreeMaterial.bind(n),n.updateMaterials=n.updateMaterials.bind(n),n.updateDynamicShaders=n.updateDynamicShaders.bind(n),n.updateShaders=n.updateShaders.bind(n),n.updateRenderSize=n.updateRenderSize.bind(n),n.setEnvMap=n.setEnvMap.bind(n),n.exportObj=n.exportObj.bind(n),n.saveSettings=n.saveSettings.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.handleMouseWheel=n.handleMouseWheel.bind(n),n.handleWindowResize=n.handleWindowResize.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n.handlePinchMove=n.handlePinchMove.bind(n),n.handlePinch=n.handlePinch.bind(n),n.handleTouch=n.handleTouch.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n}return a(e,t),k(e,[{key:"componentDidMount",value:function t(){this.initThree(),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentDidUpdate",value:function t(e,n){n.units!==this.state.units&&(this.removeAxisLabels(),this.addAxisLabels())}},{key:"shouldComponentUpdate",value:function t(e,n){return e.mesh!==this.props.mesh||(n.loadProgress!==this.state.loadProgress||(n.showInfo!==this.state.showInfo||(n.dynamicLighting!==this.state.dynamicLighting||(n.detailMode!==this.state.detailMode||(n.toolsActive!==this.state.toolsActive||(n.units!==this.state.units||e.loggedIn!==this.props.loggedIn))))))}},{key:"componentWillUnmount",value:function t(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"render",value:function t(){var e=this,n=this.state,r=n.loadProgress,i=n.loadText,o=n.showInfo,a=n.dynamicLighting,s=n.detailMode,c=n.toolsActive,f=this.props.info,d="three-view ";return d+=c?"tools-active":"tools-inactive",u.a.createElement("div",{className:"three-gui-container"},this.controls?this.controls:null,u.a.createElement("div",{className:"three-view-container"},this.panelLayout?this.panelLayout:u.a.createElement("span",null),u.a.createElement(h.a,{className:"three-info-modal",active:o,info:f}),u.a.createElement(l.a,{text:i+r,className:"three-loader-dimmer",active:100!==r}),u.a.createElement(p.a,{onTouchStartCallback:this.handleTouch,onTouchEndCallback:this.handleTouch,onTouchMoveCallback:this.handleTouchMove,onPinchStartCallback:this.handlePinch,onPinchEndCallback:this.handlePinch,onPinchMoveCallback:this.handlePinchMove},u.a.createElement("div",{ref:function t(n){e.threeView=n},className:d,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onWheel:this.handleMouseWheel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onContextMenu:function t(e){return e.preventDefault()},contentEditable:!0}))))}},{key:"initThree",value:function t(){this.GUI=new d.d,this.GUI.registerComponent("THREE_RANGE_SLIDER",S.a),this.GUI.registerComponent("THREE_BUTTON",C.a),this.GUI.registerComponent("THREE_TOGGLE",T.b),this.GUI.registerComponent("THREE_TOGGLE_MULTI",T.a),this.GUI.registerComponent("THREE_COLOR_PICKER",A.c),this.GUI.registerComponent("THREE_EYEDROPPER_COLOR_PICKER",A.a),this.GUI.registerComponent("THREE_MICRO_COLOR_PICKER",A.b),this.GUI.registerComponent("THREE_MEASURE",M.a),this.GUI.registerComponent("THREE_SCREENSHOT",P.a),this.GUI.registerComponent("THREE_MESH_EXPORTER",L.a),this.GUI.registerLayout("THREE_GROUP_LAYOUT",d.b),this.GUI.registerLayout("THREE_PANEL_LAYOUT",d.c);var e=this.state.dynamicLightProps,n=e.color,r=e.intensity,i=e.decay,o=e.distance;this.threeContainer=this.threeView,this.camera=new N.PerspectiveCamera(50,this.width/this.height),this.scene=new N.Scene,this.envScene=new N.Scene,this.guiScene=new N.Scene,this.camera.target=new N.Vector3,this.ambientLight=new N.AmbientLight(16777215,1),this.dynamicLight=new N.PointLight(n,r,o,i),this.dynamicLight.target=new N.Vector3,this.dynamicLight.castShadow=!0,this.dynamicLight.shadow.mapSize.width=2048,this.dynamicLight.shadow.mapSize.height=2048,this.dynamicLight.shadow.bias=-2e-4,this.dynamicLight.shadow.camera.near=this.camera.near,this.dynamicLight.shadow.camera.far=this.camera.far,this.dynamicLight.visible=this.state.dynamicLighting,this.scene.add(this.dynamicLight),this.pointLights=new b.a,this.pointLights.addTo(this.scene),this.lightHelper=new N.CameraHelper(this.dynamicLight.shadow.camera),this.lightHelper.visible=this.state.showLightHelper,this.guiScene.add(this.lightHelper),this.scene.add(this.ambientLight),this.scene.add(this.camera),this.labelSprite=new y.a(128,128,"#fff","+").toSprite(),this.measurement=new N.Group,this.guiScene.add(this.measurement),this.webGLRenderer=new N.WebGLRenderer({alpha:!0,autoClear:!1,antialias:!0,gammaInput:!0,gammaOutput:!0,preserveDrawingBuffer:!0}),this.webGLRenderer.shadowMap.enabled=!0,this.webGLRenderer.shadowMap.type=N.PCFSoftShadowMap,this.webGLRenderer.setPixelRatio(1),this.threeContainer.appendChild(this.webGLRenderer.domElement),this.width=this.webGLRenderer.domElement.clientWidth,this.height=this.webGLRenderer.domElement.clientHeight,this.camera.aspect=this.width/this.height,this.webGLRenderer.setSize(this.width,this.height,!1),this.camera.updateProjectionMatrix(),this.setState(function(t,e){return{loadProgress:t.loadProgress+25,loadText:"Loading Mesh"}},this.initMesh())}},{key:"initControls",value:function t(){var e=this,n=this.GUI.components,r=this.GUI.layouts,i=new d.a("controls"),o=function t(){for(var n in e.props.options)if(n.includes("enable")){var r=e.props.options[n];if(r)return!0}return!1},a={content:"re-center",className:"three-controls-button",icon:"crosshairs",onClick:function t(){return e.centerCamera()},labelPosition:"right",color:"grey"};i.addComponent("resetCamera",n.THREE_BUTTON,Object.assign({},a)),i.addComponent("quality",n.THREE_BUTTON,Object.assign({},a,{content:"quality: "+this.state.quality.current.label,icon:"signal",ref:function t(n){return e.toggleQualityButton=n},onClick:function t(){return e.toggleQuality()}})),i.addComponent("screenshot",n.THREE_SCREENSHOT,{extension:"jpg",mime:"image/jpeg",renderer:this.webGLRenderer}),i.addComponent("mesh-export",n.THREE_MESH_EXPORTER,{threeInstance:N,mesh:this.mesh}),this.props.options.enableLight&&i.addComponent("lighting",n.THREE_BUTTON,Object.assign({},a,{content:"lighting: off",icon:"lightbulb",ref:function t(n){return e.enableLightButton=n},onClick:function t(){return e.toggleDynamicLighting()}})),this.props.skyboxTexture.image&&i.addComponent("background",n.THREE_BUTTON,Object.assign({},a,{content:"background",icon:"image",onClick:function t(){return e.toggleBackground()}})),this.props.info&&i.addComponent("info",n.THREE_BUTTON,Object.assign({},a,{content:"info",icon:"info",onClick:function t(){return e.toggleInfo()}})),o()&&(i.addComponent("tools",n.THREE_BUTTON,Object.assign({},a,{content:"tools",icon:"wrench",onClick:function t(){return e.toggleTools()}})),console.log(this.props.loggedIn),!0===this.props.loggedIn&&i.addComponent("save",n.THREE_BUTTON,Object.assign({},a,{content:"save tool settings",icon:"setting",onClick:function t(){return e.saveSettings()}}))),this.controls=u.a.createElement(r.THREE_GROUP_LAYOUT,{group:i,groupClass:"three-controls-container"})}},{key:"update",value:function t(){this.state.dragging&&(this.updateCamera(),this.updateEnv()),this.renderWebGL()}},{key:"renderWebGL",value:function t(){this.webGLRenderer.clear(),void 0!==this.sceneComposer&&void 0!==this.modelComposer&&void 0!==this.effectComposer?(this.sceneComposer.render(.01),this.modelComposer.render(.01),this.guiComposer.render(.01),this.effectComposer.render(.01)):this.webGLRenderer.render(this.scene,this.camera)}},{key:"animate",value:function t(){window.requestAnimationFrame(this.animate),this.update()}},{key:"computeAxisGuides",value:function t(){var e=this,n=["x","y","z"],r=["rgb(180,0,0)","rgb(0,180,0)","rgb(0,0,180)"];this.axisGuides=n.map(function(t,n){var i=e.bboxMesh,o={};o[t]=e.bboxMesh.max[t];var a=i.min.clone(),s=Object.assign({},i.min,o),u=(new N.Vector3).fromArray(Object.values(s)),c=new N.LineDashedMaterial({color:r[n],linewidth:4,dashSize:1,gapSize:1}),l=new N.Geometry;l.vertices.push(a,u),l.computeLineDistances();var h=new N.Line(l,c);return h.visible=!1,h.userData={start:a.clone(),end:u.clone(),axis:t},h})}},{key:"addAxisLabels",value:function t(){var e=this,n=this.props.options.modelUnits,r=[this.meshWidth,this.meshHeight,this.meshDepth];this.axisGuides.forEach(function(t,i){var o=new y.a(128,128,"#fff",Object(x.a)(n,e.state.units,r[i]).toFixed(2).toString()+" "+e.state.units.toLowerCase()).toSprite();o.scale.multiplyScalar(e.spriteScaleFactor),t.add(o);var a=t.userData.end,s=a.x,u=a.y,c=a.z;o.position.set(s,u,c)})}},{key:"removeAxisLabels",value:function t(){this.axisGuides.forEach(function(t,e){t.remove.apply(t,r(t.children))})}},{key:"drawAxisGuides",value:function t(e){var n=this;e&&this.addAxisLabels(),this.axisGuides.length>0?this.axisGuides.forEach(function(t){n.guiScene.add(t)}):console.warn("Axis guides not computed. Please run computeAxisGuides")}},{key:"computeSpriteScaleFactor",value:function t(){this.bboxMesh?this.spriteScaleFactor=Math.ceil(this.bboxMesh.max.distanceTo(this.bboxMesh.min)/4):(console.warn("this.bboxMesh hasn't been computed yet. spriteScaleFactor is set to 1"),this.spriteScaleFactor=1)}},{key:"drawSpriteTarget",value:function t(e){var n=this.labelSprite.clone();n.position.copy(e),n.scale.multiplyScalar(this.spriteScaleFactor)}},{key:"drawMeasurement",value:function t(e){if(e){var n=this.props.options.modelUnits,i=e.a,o=e.b,a=e.distance,s=this.labelSphere.clone();if(i&&!o)s.position.copy(i),this.measurement.add(s);else if(i&&o&&(s.position.copy(o),this.measurement.add(s),a)){var u=new N.LineBasicMaterial({color:"#ccc",linewidth:3,opacity:.3,transparent:!0,depthWrite:!1,depthTest:!1}),c=new N.Geometry;c.vertices.push(i,o),c.computeLineDistances();var l=new N.Line(c,u);this.measurement.add(l);var h=new y.a(128,128,"#fff",Object(x.a)(n,this.state.units,a).toFixed(2).toString()+" "+this.state.units.toLowerCase()).toSprite();h.scale.multiplyScalar(this.spriteScaleFactor/2),i=i.clone(),o=o.clone(),h.position.copy(i.add(o).divideScalar(2)),this.measurement.add(h)}}else{var f;(f=this.measurement).remove.apply(f,r(this.measurement.children))}}},{key:"initMesh",value:function t(){var e=this;this.mesh=this.props.mesh.object3D;var n=function t(e){e.type===w.C&&(e.metalness=0,e.roughness=1),e.needsUpdate=!0};if(this.mesh instanceof N.Group)this.mesh.children.forEach(function(t){t.receiveShadow=!0,t.castShadow=!0,t.material&&(t.material instanceof Array?t.material.forEach(function(t){null!==t.map&&(t.map.anisotropy=e.webGLRenderer.getMaxAnisotropy()),n(t),e.props.renderDoubleSided&&(t.side=N.DoubleSide)}):(n(t.material),t.castShadow=!0,t.receiveShadow=!0,null!==t.material.map&&(t.material.map.anisotropy=e.webGLRenderer.getMaxAnisotropy()),e.props.renderDoubleSided&&(t.material.side=N.DoubleSide)))});else if(this.mesh instanceof N.Mesh){this.mesh.castShadow=!0,this.mesh.receiveShadow=!0;var r=this.mesh.material;r.constructor!==Array&&(r=[r]),r.forEach(function(t){e.props.renderDoubleSided&&(t.side=N.DoubleSide,t.map.anisotropy=e.webGLRenderer.getMaxAnisotropy(),n(t))})}this.scene.add(this.mesh),this.bboxMesh=(new N.Box3).setFromObject(this.mesh),this.meshHeight=this.bboxMesh.max.y-this.bboxMesh.min.y,this.meshWidth=this.bboxMesh.max.x-this.bboxMesh.min.x,this.meshDepth=this.bboxMesh.max.z-this.bboxMesh.min.z,this.computeSpriteScaleFactor(),this.pointLights.addHelpers(this.guiScene,this.spriteScaleFactor),this.pointLights.setTarget(this.mesh),this.pointLights.setLightPositions(this.bboxMesh),this.computeAxisGuides(),this.drawAxisGuides(!0),this.environmentRadius=Math.max(this.meshWidth,this.meshHeight,this.meshDepth);var i=new N.MeshPhongMaterial({color:13421772,depthTest:!1,depthWrite:!1,opacity:.8,transparent:!0}),o=new N.SphereGeometry(this.meshHeight/300,16,16);this.labelSphere=new N.Mesh(o,i),this.initControls(),this.setState(function(t,e){return{loadProgress:t.loadProgress+25,loadText:"Loading Environment"}},this.initEnvironment())}},{key:"initEnvironment",value:function t(){var e=this,n=this.props.options.skybox,r=4*this.environmentRadius;if(this.skyboxGeom=new N.BoxGeometry(r,r,r),this.props.skyboxTexture.image){var i=N.ShaderLib.equirect;this.skyboxMaterial=new N.ShaderMaterial({fragmentShader:i.fragmentShader,vertexShader:i.vertexShader,uniforms:i.uniforms,depthWrite:!1,side:N.BackSide}),this.skyboxMaterial.uniforms.tEquirect.value=this.props.skyboxTexture.image}var o=void 0,a=void 0;n.gradient?(o=n.gradient.innerColor?n.gradient.innerColor:w.j.inner,a=n.gradient.outerColor?n.gradient.outerColor:w.j.outer):(o=w.j.inner,a=w.j.outer),this.skyboxMaterialShader=new y.b(a,o,this.width,this.height),this.skyboxMesh=new N.Mesh(this.skyboxGeom,void 0!==this.skyboxMaterial?this.skyboxMaterial:this.skyboxMaterialShader.shaderMaterial),this.envScene.add(this.skyboxMesh),this.bboxSkybox=(new N.Box3).setFromObject(this.skyboxMesh),this.setEnvMap(),Object(m.a)(N).then(function(t){e.setState(function(t,e){return{loadProgress:t.loadProgress+15,loadText:"Loading Shaders"}},e.initPostprocessing())})}},{key:"addShaderPass",value:function t(e){this.setState({shaderPasses:Object.assign({},this.state.shaderPasses,e)})}},{key:"hydrateSettings",value:function t(){var e=[];if(void 0!==this.props.options.viewerSettings){var n=this.props.options.viewerSettings,r=n.lights,i=n.materials,o=n.shaders;e.push(this.updateLights(r,function(){return Promise.resolve()})),e.push(this.updateMaterials(i,function(){return Promise.resolve()}));var a=this.state.shaderPasses,s={};for(var u in o){var c=Object.assign(a[u]);c.uniforms=Object.assign(c.uniforms,o[u]),s[u]=c}e.push(this.updateShaders(s,function(){return Promise.resolve()}))}return Promise.all(e)}},{key:"setEnvMap",value:function t(){var e=this,n=this.mesh;n.constructor===N.Group&&(n=n.children[0]);var r=function t(n){if(n.type===w.C)if(e.props.skyboxTexture.image)n.envMap=e.props.skyboxTexture.image,n.envMap.mapping=N.EquirectangularReflectionMapping,n.envMap.minFilter=N.LinearMipMapLinearFilter,n.envMap.magFilter=N.LinearFilter,n.envMapIntensity=1;else{var r=new y.c(1024,1024,e.skyboxMaterialShader.outerColor,e.skyboxMaterialShader.innerColor).toTexture();n.envMap=r,n.envMap.minFilter=N.LinearMipMapLinearFilter,n.envMap.magFilter=N.LinearFilter,n.envMap.mapping=N.EquirectangularReflectionMapping}return n.needsUpdate=!0,n};n.material=Object(g.c)(n.material,r)}},{key:"initPostprocessing",value:function t(){var e=this,n={minFilter:N.LinearFilter,magFilter:N.LinearFilter,format:N.RGBAFormat,stencilBuffer:!0};this.effectComposer=new N.EffectComposer(this.webGLRenderer,new N.WebGLRenderTarget(this.width,this.height,n)),this.sceneComposer=new N.EffectComposer(this.webGLRenderer,new N.WebGLRenderTarget(this.width,this.height,n)),this.modelComposer=new N.EffectComposer(this.webGLRenderer,new N.WebGLRenderTarget(this.width,this.height,n)),this.guiComposer=new N.EffectComposer(this.webGLRenderer,new N.WebGLRenderTarget(this.width,this.height,n));var r=new N.RenderPass(this.envScene,this.camera),i=new N.RenderPass(this.scene,this.camera),o=new N.RenderPass(this.guiScene,this.camera),a=new N.MaskPass(this.scene,this.camera),s=new N.MaskPass(this.scene,this.camera);s.inverse=!0;var u=new N.MaskPass(this.guiScene,this.camera),c=new N.ShaderPass(N.CopyShader);c.renderToScreen=!0;var l=new N.VignettePass(new N.Vector2(this.width,this.height),.5,new N.Color(.025,.025,.025));this.addShaderPass({vignette:l});var h=new N.ClearMaskPass,f=N.BrightnessContrastShader,d=new N.ShaderPass(f);d.uniforms.contrast.value=.15;var p=new N.UnrealBloomPass(new N.Vector2(this.width,this.height),1,.6,.9),m={screenWidth:this.width,screenHeight:this.height,opacity:1,edlStrength:0,enableEDL:!1,onlyEDL:!1,radius:0},v=new N.EDLPass(this.scene,this.camera,m),g=new N.ChromaKeyPass(!1,new N.Color(0),.5,!1);g.renderToScreen=!1,this.addShaderPass({EDL:v}),this.addShaderPass({ChromaKey:g});var y=new N.SSAOPass(this.scene,this.camera);y.renderToScreen=!1,this.sceneComposer.addPass(r),this.sceneComposer.addPass(d),this.sceneComposer.addPass(p),this.sceneComposer.addPass(l),this.modelComposer.addPass(i),this.guiComposer.addPass(o);var b=new N.TexturePass(this.sceneComposer.renderTarget2.texture),x=new N.TexturePass(this.modelComposer.renderTarget2.texture),_=new N.TexturePass(this.guiComposer.renderTarget2.texture);this.effectComposer.addPass(x),this.effectComposer.addPass(g),this.effectComposer.addPass(y),this.effectComposer.addPass(v),this.effectComposer.addPass(s),this.effectComposer.addPass(b),this.effectComposer.addPass(h),this.effectComposer.addPass(u),this.effectComposer.addPass(_),this.effectComposer.addPass(h),this.effectComposer.addPass(c),this.updateCamera(),this.setState(function(t,e){return{loadProgress:t.loadProgress+25,loadText:"Loading Tools"}},function(){e.hydrateSettings().then(e.initTools)})}},{key:"getScale",value:function t(e){var n=this.state.maxScale;return e>n&&(e=n),e<=0&&(e=0),e}},{key:"panBounds",value:function t(e){return this.bboxSkybox.containsPoint(e)}},{key:"fitPerspectiveCamera",value:function t(){var e=this.camera.position.distanceTo(this.bboxMesh.min),n=2*Math.atan((this.bboxMesh.max.y-this.bboxMesh.max.y)/(2*e))*(180/Math.PI)}},{key:"pan",value:function t(e,n){var r=new N.Vector3,i=this.camera.position;r.copy(i).sub(this.camera.target);var o=r.length();o*=Math.tan(this.camera.fov/2*Math.PI/180);var a=2*e*o/this.height,s=2*n*o/this.height,u=Object(v.a)(a,this.camera.matrix),c=Object(v.b)(s,this.camera.matrix);this.setState({panOffset:this.state.panOffset.add(u.add(c))})}},{key:"rotate",value:function t(e,n){var r=this.state.sphericalDelta;r.theta-=2*Math.PI*e/this.width*this.rotateSpeed,r.phi-=2*Math.PI*n/this.height*this.rotateSpeed,this.setState({sphericalDelta:r})}},{key:"zoom",value:function t(e){var n=this.state,r=n.scale,i=n.zoomScale;r=e>0?this.getScale(r/=i):this.getScale(r*=i),this.setState({scale:r}),this.updateCamera()}},{key:"orbit",value:function t(e,n){if(this.state.dragging)if(this.state.shiftDown||this.state.rmbDown||this.state.pinching){var r=this.state,i=r.panStart,o=r.panEnd,a=r.panDelta;o.set(e,n),a.subVectors(o,i),this.pan(a.x,a.y),this.setState({panEnd:o,panDelta:a,panStart:i.copy(o)})}else{var s=this.state,u=s.rotateStart,c=s.rotateEnd,l=s.rotateDelta;c.set(e,n),l.subVectors(c,u),this.rotate(l.x,l.y),this.setState({rotateEnd:c,rotateDelta:l,rotateStart:u.copy(c)})}}},{key:"centerCamera",value:function t(){var e=this.state,n=e.spherical,r=e.sphericalDelta,i=e.panOffset,o=new N.Vector3;this.camera.position.copy(o),this.camera.target.copy(o),this.camera.updateProjectionMatrix(),this.setState({sphericalDelta:r.set(0,1.5,1),spherical:n.set(0,0,0),panOffset:i.set(0,0,0)},this.updateCamera())}},{key:"updateCamera",value:function t(){var e=this.state,n=e.spherical,r=e.sphericalDelta,i=e.panOffset,o=e.scale;n.radius=this.environmentRadius;var a=new N.Vector3,s=(new N.Quaternion).setFromUnitVectors(this.camera.up,new N.Vector3(0,1,0)),u=s.clone().inverse(),c=this.camera.position;if(a.copy(c).sub(this.camera.target),a.applyQuaternion(s),n.setFromVector3(a),n.radius=this.environmentRadius,n.theta+=r.theta,n.phi+=r.phi,n.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,n.theta)),n.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,n.phi)),n.makeSafe(),n.radius=Math.max(this.minDistance,Math.min(this.maxDistance,n.radius)),n.radius*=o,this.camera.target.add(i),a.setFromSpherical(n),a.applyQuaternion(u),this.state.dragging?(this.state.shiftDown?(this.lastCameraPosition.copy(this.camera.position),this.camera.position.copy(this.camera.target).add(a),this.panBounds(this.camera.position)?this.camera.lookAt(this.camera.target):(this.camera.position.copy(this.lastCameraPosition),this.camera.target.sub(i),this.camera.lookAt(this.camera.target))):(this.camera.position.copy(this.camera.target).add(a),this.camera.lookAt(this.camera.target)),this.setState({sphericalDelta:r.set(0,0,0),panOffset:this.state.panOffset.set(0,0,0)})):(this.camera.position.copy(this.camera.target).add(a),this.camera.lookAt(this.camera.target),this.setState({sphericalDelta:r.set(0,0,0),panOffset:this.state.panOffset.set(0,0,0)})),!this.state.dynamicLightProps.lock){var l=this.camera.position.distanceTo(this.bboxMesh.max);this.dynamicLight.position.copy(this.camera.position).add(this.state.dynamicLightProps.offset),this.dynamicLight.needsUpdate=!0}}},{key:"updateThreeMaterial",value:function t(e,n,r){return null===e[n]&&void 0===e[n]||("normalScale"===n?e[n].set(r,r,0):e[n]=r,e.needsUpdate=!0),e}},{key:"deepUpdateThreeMaterial",value:function t(e){var n=this,r=this.mesh.children;0===r.length&&(r=[this.mesh]);var i=function t(i){var o=e[i];if(o.constructor===Object)n.deepUpdateThreeMaterial(o);else for(var a=0;a<r.length;a++){var s=r[a];s.material=Object(g.c)(s.material,function(t){return n.updateThreeMaterial(t,i,o)})}};for(var o in e)i(o)}},{key:"updateMaterials",value:function t(e,n){var r=this,i=this.state.materialsInfo,o=Object.assign({},i,e);this.setState({materialsInfo:o},function(){r.deepUpdateThreeMaterial(e),void 0!==n&&n()})}},{key:"updateDynamicMaterials",value:function t(e,n){var r=Object.assign({},this.state.materialsInfo);(function t(e,n,r){for(var i in r){r[i].constructor===Object?t(e,n,r[i]):i===n&&(r[i]=e)}})(e,n,r),this.updateMaterials(r)}},{key:"updateRenderSize",value:function t(e){var n=this,r=e.map(function(t){return Math.floor(t/n.state.quality.current.value)}),i=R(r,2),o=i[0],a=i[1];this.webGLRenderer.setSize(o,a,!1),this.sceneComposer.setSize(o,a,!1),this.modelComposer.setSize(o,a,!1),this.guiComposer.setSize(o,a,!1),this.effectComposer.setSize(o,a,!1),this.skyboxMaterialShader.updateUniforms("resolution",new N.Vector2(o,a)),this.updateDynamicShaders(o,"EDL","screenWidth"),this.updateDynamicShaders(a,"EDL","screenHeight"),this.updateDynamicShaders(new N.Vector2(o,a),"vignette","resolution"),this.camera.aspect=o/a,this.camera.updateProjectionMatrix()}},{key:"updateShaders",value:function t(e,n){var r=this.state.shaderPasses;this.setState({shaderPasses:Object.assign({},r,e)},function(){void 0!==n&&n()})}},{key:"updateDynamicShaders",value:function t(e,n,r){var i=this.state.shaderPasses,o=Object.assign(i[n]),a=Object.assign({},o.uniforms);switch(a[r].value=e,o.uniforms=a,r){case"screenWidth":void 0!==o.depthRenderTarget&&(o.depthRenderTarget.width=e);break;case"screenHeight":void 0!==o.depthRenderTarget&&(o.depthRenderTarget.height=e);break;case"useTexture":e?(this.EDLRadiusRangeSlider.updateThreshold(0,this.EDL_TEXTURE_RADIUS,this.EDL_TEXTURE_STEP),this.EDLStrengthRangeSlider.updateThreshold(0,this.EDL_TEXTURE_RADIUS,this.EDL_TEXTURE_STEP)):(this.EDLRadiusRangeSlider.resetToDefaults(),this.EDLStrengthRangeSlider.resetToDefaults());break;case"replacementColor":o.setReplacementColor(e)}var s=Object.assign({},i);s[n]=o,this.updateShaders(s)}},{key:"updateLights",value:function t(e,n){var r=this,i=this.state.dynamicLightProps;this.setState({dynamicLightProps:Object.assign({},i,e)},function(){r.state.dynamicLightProps.lock||r.dynamicLight.position.copy(r.camera.position).add(r.state.dynamicLightProps.offset);for(var t in r.state.dynamicLightProps)"lock"!==t&&(r.dynamicLight[t]=r.state.dynamicLightProps[t]);r.dynamicLight.needsUpdate=!0,void 0!==n&&n()})}},{key:"updateDynamicLighting",value:function t(e,n){var r=this.state.dynamicLightProps,i={};if(n.includes("offset"))if(e.constructor.name===w.H)i[n]=e;else{var o=n.split("offset")[1],a=r.offset.clone();switch(o){case"X":a.x=e;break;case"Y":a.y=e;break;case"Z":a.z=e}n="offset",i.offset=a}else i[n]=e;void 0!==r[n]&&this.updateLights(i)}},{key:"updateEnv",value:function t(){}},{key:"initTools",value:function t(){var e=this,n=this.GUI.layouts,r=this.GUI.components,i=new d.a("tools");if(this.props.options.enableMeasurement){var o=new d.a("measurement");o.addComponent("measure",r.THREE_MEASURE,{updateCallback:this.drawMeasurement,camera:this.camera,mesh:this.mesh,target:this.webGLRenderer.domElement}),o.addComponent("show axes",r.THREE_TOGGLE,{callback:this.showAxes,defaultVal:this.state.showAxes,title:"show axes"});var a=[{label:"mm",defaultVal:!0,callback:function t(){return e.setState({units:w.t})}},{label:"cm",defaultVal:!0,callback:function t(){return e.setState({units:w.e})}},{label:"in",defaultVal:!1,callback:function t(){return e.setState({units:w.p})}},{label:"ft",defaultVal:!1,callback:function t(){return e.setState({units:w.m})}}];o.addComponent("units",r.THREE_TOGGLE_MULTI,{buttons:a,title:"units"}),i.addGroup("measurement",o)}if(this.props.options.enableLight){var s=this.state.dynamicLightProps,c=2*Number(this.environmentRadius.toFixed(2)),l=Number((c/100).toFixed(2)),h=new d.a("lights");h.addComponent("helper",r.THREE_TOGGLE,{callback:this.showLightHelper,defaultVal:this.state.showLightHelper,title:"show light helper"}),h.addComponent("intensity",r.THREE_RANGE_SLIDER,{min:0,max:4,step:.1,title:"intensity",defaultVal:s.intensity,callback:function t(n){return e.updateDynamicLighting(n,"intensity")}}),h.addComponent("color",r.THREE_COLOR_PICKER,{title:"color",color:"#"+s.color.getHexString(),callback:function t(n){return e.updateDynamicLighting(n,"color")}});var f=new d.a("three-tool-group");f.addComponent("lock",r.THREE_TOGGLE,{title:"lock",defaultVal:s.lock,callback:function t(n){return e.updateDynamicLighting(n,"lock")}});var p={key:0,min:-c,max:c,step:l,title:"x-axis",defaultVal:s.offset.x,callback:function t(n){return e.updateDynamicLighting(n,"offsetX")}};f.addComponent("x-axis",r.THREE_RANGE_SLIDER,Object.assign({},p)),f.addComponent("y-axis",r.THREE_RANGE_SLIDER,Object.assign({},p,{key:1,title:"y-axis",defaultVal:s.offset.y,callback:function t(n){return e.updateDynamicLighting(n,"offsetY")}})),f.addComponent("z-axis",r.THREE_RANGE_SLIDER,Object.assign({},p,{key:2,title:"z-axis",defaultVal:s.offset.z,callback:function t(n){return e.updateDynamicLighting(n,"offsetZ")}})),h.addGroup("offset",f),i.addGroup("lights",h)}if(this.props.options.enableShaders){var m=this.state.shaderPasses,v=m.EDL,g=m.ChromaKey,y=new d.a("shaders"),b=new d.a("edl");b.addComponent("enable",r.THREE_TOGGLE,{key:0,title:"enable",callback:function t(n){return e.updateDynamicShaders(n,"EDL","enableEDL")},defaultVal:v.uniforms.enableEDL.value}),this.settingsMask.shaders.add("enableEDL");var x=new d.a("edlShading");x.addComponent("edlOnly",r.THREE_TOGGLE,{key:10,callback:function t(n){return e.updateDynamicShaders(n,"EDL","onlyEDL")},defaultVal:v.uniforms.onlyEDL.value,title:"edl only"}),this.settingsMask.shaders.add("onlyEDL"),x.addComponent("geometryAndTexture",r.THREE_TOGGLE,{key:11,callback:function t(n){return e.updateDynamicShaders(n,"EDL","useTexture")},defaultVal:v.uniforms.useTexture.value,title:"geometry + texture"}),this.settingsMask.shaders.add("useTexture"),x.addComponent("color",r.THREE_MICRO_COLOR_PICKER,{title:"color",color:"#"+v.uniforms.onlyEDLColor.value.getHexString(),callback:function t(n){return e.updateDynamicShaders(n,"EDL","onlyEDLColor")}}),this.settingsMask.shaders.add("onlyEDLColor"),b.addComponent("strength",r.THREE_RANGE_SLIDER,{key:2,min:0,max:100,step:.01,title:"strength",defaultVal:v.uniforms.edlStrength.value,ref:function t(n){return e.EDLStrengthRangeSlider=n},callback:function t(n){return e.updateDynamicShaders(n,"EDL","edlStrength")}}),this.settingsMask.shaders.add("edlStrength"),b.addComponent("radius",r.THREE_RANGE_SLIDER,{key:3,min:0,max:5,step:.01,title:"radius",defaultVal:v.uniforms.radius.value,ref:function t(n){return e.EDLRadiusRangeSlider=n},callback:function t(n){return e.updateDynamicShaders(n,"EDL","radius")}}),this.settingsMask.shaders.add("radius"),b.addGroup("edl shading",x);var _=new d.a("chromaKey");_.addComponent("enable",r.THREE_TOGGLE,{key:1,callback:function t(n){return e.updateDynamicShaders(n,"ChromaKey","enable")},defaultVal:g.uniforms.enable.value,title:"enable"}),this.settingsMask.shaders.add("enable"),_.addComponent("eyedropper",r.THREE_EYEDROPPER_COLOR_PICKER,{renderer:this.webGLRenderer,renderTarget:this.modelComposer.renderTarget2,title:"chroma",color:"#"+g.uniforms.chroma.value.getHexString(),callback:function t(n){return e.updateDynamicShaders(n,"ChromaKey","chroma")}}),this.settingsMask.shaders.add("chroma"),_.addComponent("replacement_color",r.THREE_MICRO_COLOR_PICKER,{title:"replacement color",callback:function t(n){e.updateDynamicShaders(n,"ChromaKey","replacementColor")}}),this.settingsMask.shaders.add("replacementColor"),_.addComponent("invert",r.THREE_TOGGLE,{key:1,callback:function t(n){return e.updateDynamicShaders(n,"ChromaKey","invert")},defaultVal:g.uniforms.invert.value,title:"invert"}),this.settingsMask.shaders.add("invert"),_.addComponent("threshold",r.THREE_RANGE_SLIDER,{key:2,min:-1,max:1,step:.01,title:"threshold",defaultVal:g.uniforms.threshold.value,callback:function t(n){return e.updateDynamicShaders(n,"ChromaKey","threshold")}}),this.settingsMask.shaders.add("threshold"),y.addGroup("eye dome lighting",b),y.addGroup("chroma key",_),i.addGroup("shaders",y)}if(this.props.options.enableMaterials){var E=this.state.materialsInfo,M=new d.a("materials"),S={min:0,max:1,step:.01,defaultVal:1,title:"normal scale"},T=this.mesh.children;0===T.length&&(T=[this.mesh]);for(var A=0;A<T.length;A++){var C=T[A],O=C.material;O.constructor!==Array&&(O=[O]);for(var P=0;P<O.length;P++){var L=O[P];if(L.normalMap&&!M.find("normalScale")&&M.addComponent("normalScale",r.THREE_RANGE_SLIDER,Object.assign({},S,{defaultVal:E.normalScale,title:"normal scale",callback:function t(n){return e.updateDynamicMaterials(n,"normalScale")}})),L.bumpMap&&!M.find("bumpScale")&&M.addComponent("bumpScale",r.THREE_RANGE_SLIDER,Object.assign({},S,{title:"bump scale",callback:function t(n){return e.updateDynamicMaterials(n,"bumpScale")}})),L.type===w.C&&!M.find("microsurface")){var R=new d.a("pbrTool");R.addComponent("metalness",r.THREE_RANGE_SLIDER,Object.assign({},S,{title:"metalness",defaultVal:E.pbr.metalness,callback:function t(n){return e.updateDynamicMaterials(n,"metalness")}})),R.addComponent("roughness",r.THREE_RANGE_SLIDER,Object.assign({},S,{title:"roughness",defaultVal:E.pbr.roughness,callback:function t(n){return e.updateDynamicMaterials(n,"roughness")}})),M.addGroup("microsurface",R)}}}i.addGroup("materials",M)}this.panelLayout=u.a.createElement(n.THREE_PANEL_LAYOUT,{group:i,elementClass:"three-tool",groupClass:"three-tool-container",menuClass:"three-tool-menu",dropdownClass:"three-tool-menu-dropdown",ref:function t(n){return e.toolsMenu=n}}),this.setState(function(t,e){return{loadProgress:t.loadProgress+10,loadText:"Updating Scene"}},function(){e.animate()})}},{key:"toggleTools",value:function t(){var e=this;this.toolsMenu&&this.toolsMenu.expandMenu(function(t){e.setState({toolsActive:t},function(){if(e.state.toolsActive){var t=e.webGLRenderer.domElement,n=t.clientWidth,r=t.clientHeight;e.updateRenderSize([n,r])}else e.updateRenderSize([e.width,e.height])})})}},{key:"toggleQuality",value:function t(){var e=this,n=this.state.quality,r=n.options,i=n.current,o=r.findIndex(function(t){return t.label===i.label}),a=o+1<r.length?o+1:0;this.setState({quality:{options:r,current:r[a]}},function(){e.updateRenderSize([e.width,e.height]),e.toggleQualityButton.updateLabel("quality: "+e.state.quality.current.label)})}},{key:"toggleBackground",value:function t(){var e=this.state.detailMode,n=this.props.skyboxTexture;e?(this.skyboxMesh.material=this.skyboxMaterial,this.axisGuides.forEach(function(t){t.visible=!1}),this.setState({detailMode:!1})):(this.skyboxMesh.material=this.skyboxMaterialShader.shaderMaterial,this.setState({detailMode:!0}))}},{key:"captureScreenshot",value:function t(){}},{key:"showAxes",value:function t(e){var n=this;this.setState({showAxes:e},function(){return n.axisGuides.forEach(function(t){t.visible=e})})}},{key:"showLightHelper",value:function t(e){var n=this;this.setState({showLightHelper:e},function(){return n.lightHelper.visible=n.state.showLightHelper})}},{key:"toggleDynamicLighting",value:function t(){var e=this;this.setState({dynamicLighting:!this.state.dynamicLighting},function(){var t=e.state.dynamicLighting;e.dynamicLight.visible=t,t?(e.pointLights.traverse(function(t){return t.intensity=0}),e.ambientLight.intensity=.8,e.enableLightButton.updateLabel("lighting: on")):(e.pointLights.traverse(function(t){return t.intensity=.25}),e.ambientLight.intensity=1,e.enableLightButton.updateLabel("lighting: off"))})}},{key:"toggleInfo",value:function t(){this.state.showInfo?this.setState({showInfo:!1}):this.setState({showInfo:!0})}},{key:"exportObj",value:function t(){var e=new N.OBJExporter,n=e.parse(this.mesh)}},{key:"saveSettings",value:function t(){var e=this.state,n=e.shaderPasses,r=e.dynamicLightProps,i=e.materialsInfo,o={lights:{},shaders:{},materials:{}};for(var a in n)o.shaders[a]=Object(_.b)(n[a].uniforms,this.settingsMask.shaders);o.lights=Object(_.b)(r),o.materials=Object(_.b)(i);var s=void 0===this.props.options._id?this.props.options.id:this.props.options._id;this.props.onSave(s,o)}},{key:"handleMouseDown",value:function t(e){this.state.shiftDown&&this.setState({dragging:!0,panStart:this.state.panStart.set(e.clientX,e.clientY)}),e.nativeEvent&&(3===e.nativeEvent.which?this.setState({dragging:!0,rmbDown:!0,panStart:this.state.panStart.set(e.clientX,e.clientY)}):this.setState({dragging:!0,rmbDown:!1,rotateStart:this.state.rotateStart.set(e.clientX,e.clientY)}))}},{key:"handleMouseMove",value:function t(e){this.orbit(e.clientX,e.clientY)}},{key:"handleMouseWheel",value:function t(e){e.preventDefault(),this.zoom(e.deltaY)}},{key:"handleMouseUp",value:function t(e){this.state.dragging?this.setState({dragging:!1}):this.setState({dragging:!0})}},{key:"handleWindowResize",value:function t(e){var n=this.webGLRenderer.domElement,r=n.clientWidth,i=n.clientHeight;this.camera.aspect=r/i,this.camera.updateProjectionMatrix(),this.state.toolsActive||(this.width=r,this.height=i,this.updateRenderSize([this.width,this.height]))}},{key:"handleKeyDown",value:function t(e){var n=this.mesh.getWorldRotation();switch(e.keyCode){case 39:this.mesh.rotateY(n.y+this.ROTATION_STEP);break;case 37:this.mesh.rotateY(n.y-this.ROTATION_STEP);break;case 16:this.setState({shiftDown:!0});break;default:return}}},{key:"handleKeyUp",value:function t(e){switch(e.keyCode){case 16:this.setState({shiftDown:!1});default:return}}},{key:"handlePinch",value:function t(e,n){switch(n){case"pinchstart":this.setState({pinching:!0,panStart:this.state.panStart.set(e.clientCenter.x,e.clientCenter.y)});break;case"pinchend":this.setState({pinching:!1})}}},{key:"handlePinchMove",value:function t(e,n){var r=e.pinchDelta;e.normalizedDistance>w.S?this.zoom(r):this.orbit(e.clientCenter.x,e.clientCenter.y)}},{key:"handleTouch",value:function t(e,n){switch(n){case"touchstart":this.setState({dragging:!0,rotateStart:this.state.rotateStart.set(e.clientX,e.clientY)});break;case"touchend":this.setState({dragging:!1})}}},{key:"handleTouchMove",value:function t(e){this.orbit(e.clientX,e.clientY)}}]),e}(s.Component);e.a=I},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(18),a=function t(e){var n=e.info,r=e.active,a=e.className;return i.a.createElement(o.e,{className:a,active:r},n.map(function(t,e){return i.a.createElement(o.i,{className:"three-info-grid"},i.a.createElement(o.i.Row,{className:"three-info-grid-row-odd",key:e,columns:1},i.a.createElement(o.i.Column,{className:"info-grid-key"},i.a.createElement("h2",null,t.label))),i.a.createElement(o.i.Row,{className:"three-info-grid-row-even",key:e+1,columns:1},i.a.createElement(o.i.Column,{className:"info-grid-val"},i.a.createElement("span",{className:"three-info-grid-val-text"},t.value))))}))};e.a=a},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return m}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return g});var a=n(0),s=n.n(a),u=n(18),c=n(94),l=n.n(c),h=n(16),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=s.a.createElement,p=function(){function t(){o(this,t),this.components={},this.layouts={}}return f(t,[{key:"registerLayout",value:function t(e,n){this.layouts[e]=n}},{key:"registerComponent",value:function t(e,n){this.components[e]=n}},{key:"removeLayout",value:function t(e){return!!this.layouts[e]&&(delete this.layouts[e],!0)}},{key:"removeComponent",value:function t(e){return!!this.components[e]&&(delete this.components[e],!0)}},{key:"getComponent",value:function t(e){return!!this.components[e]&&this.components[e]}},{key:"getLayout",value:function t(e){return!!this.layouts[e]&&this.layouts[e]}}]),t}();e.d=p;var m=function(){function t(e){o(this,t),this.name=e,this.components=[]}return f(t,[{key:"addComponent",value:function t(e,n,r){this.components.push({name:e,type:h.f,component:n,props:Object.assign({},r,{key:l.a.uniqueId()})})}},{key:"addGroup",value:function t(e,n){this.components.push({name:e,type:h.n,component:n,props:null,enabled:!0})}},{key:"remove",value:function t(e){var n=this.components.findIndex(function(t){return t.title===e});return n>-1&&(this.components.splice(n,1),!0)}},{key:"find",value:function t(e){var n=this.components.findIndex(function(t){return t.name===e});return-1!==n&&this.components[n]}},{key:"_renderGroup",value:function t(e){var n=this;return e.components.map(function(t){return t.type===h.n?s.a.createElement("div",{className:"three-gui-group "+t.name},s.a.createElement("h4",{className:"three-gui-group-title"},t.name),n._renderGroup(t.component)):d(t.component,t.props,null)})}},{key:"render",value:function t(){return this._renderGroup(this)}}]),t}(),v=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return i(e,t),f(e,[{key:"render",value:function t(){var e=this.props,n=e.group,r=e.groupClass;return s.a.createElement("div",{className:r},n.render())}}]),e}(a.Component),g=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={activeIndex:-1,menuExpanded:!1},n.selectTool=n.selectTool.bind(n),n.expandMenu=n.expandMenu.bind(n),n}return i(e,t),f(e,[{key:"selectTool",value:function t(e){this.state.activeIndex===e?this.setState({activeIndex:-1}):this.setState({activeIndex:e})}},{key:"expandMenu",value:function t(e){var n=this;this.setState({menuExpanded:!this.state.menuExpanded},function(){e&&e(n.state.menuExpanded)})}},{key:"render",value:function t(){var e=this,n=this.state,r=n.activeIndex,i=n.menuExpanded,o=this.props,a=o.menuClass,c=o.dropdownClass,l=o.elementClass,h=o.groupClass,f=o.group;return s.a.createElement("div",{className:a+=i?" expanded":" collapsed"},s.a.createElement(u.a,{className:c+=i?" expanded":" collapsed",inverted:!0},f.components.map(function(t,n){return s.a.createElement("div",{key:n,className:h},s.a.createElement(u.a.Title,{active:r===n,key:n,onClick:function t(){return e.selectTool(n)}},s.a.createElement("h3",null,s.a.createElement(u.j,{name:"dropdown"}),t.name)),s.a.createElement(u.a.Content,{active:r===n},t.component.render()))})))}}]),e}(v)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),u=n.n(s),c=n(24),l=n(16),h=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={pinchDistanceFromCenter:0,pinchVectors:new c.Vector2},n.baseClassName="three-touch-listener ",n.handleTouch=n.handleTouch.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handlePinch=n.handlePinch.bind(n),n.handlePinchMove=n.handlePinchMove.bind(n),n._preparePinchCallback=n._preparePinchCallback.bind(n),n._preparePinchMoveCallback=n._preparePinchMoveCallback.bind(n),n.pinchDistance=n.pinchDistance.bind(n),n.normalizedPinchDistance=n.normalizedPinchDistance.bind(n),n.pinchCenter=n.pinchCenter.bind(n),n.distanceFromCenter=n.distanceFromCenter.bind(n),n.setPinchVectors=n.setPinchVectors.bind(n),n.toVec2Array=n.toVec2Array.bind(n),n}return a(e,t),f(e,[{key:"componentDidMount",value:function t(){this.width=this.touchControlRef.clientWidth,this.height=this.touchControlRef.clientHeight}},{key:"handleTouch",value:function t(e){var n=e.nativeEvent.touches;switch(e.preventDefault(),e.stopPropagation(),e.type){case"touchstart":n.length>1?this.handlePinch(n,l.x):this.props.onTouchStartCallback(n[0],e.type);break;case"touchend":this.props.onPinchEndCallback(n,l.w),this.props.onTouchEndCallback(n,e.type)}}},{key:"handleTouchMove",value:function t(e){e.preventDefault(),e.stopPropagation();var n=e.nativeEvent.touches;n.length>1?this.handlePinchMove(n):this.props.onTouchMoveCallback(n[0])}},{key:"handlePinch",value:function t(e,n){this.setPinchVectors(e,this._preparePinchCallback)}},{key:"_preparePinchCallback",value:function t(e,n){var r=this,i=this.pinchDistance(),o=this.normalizedPinchDistance(),a=this.pinchCenter(),s=this.distanceFromCenter(e[0],e[1],a);this.setState({pinchDistanceFromCenter:s},function(){var t={distance:i,normalizedDistance:o,clientCenter:a,nativeTouches:n};r.props.onPinchStartCallback(t,l.x)})}},{key:"handlePinchMove",value:function t(e){this.setPinchVectors(e,this._preparePinchMoveCallback)}},{key:"_preparePinchMoveCallback",value:function t(e,n){var i=this,o=this.pinchDistance(),a=this.normalizedPinchDistance(),s=this.pinchCenter(),u=this.distanceFromCenter(e[0],e[1],s),c=u>this.state.pinchDistanceFromCenter?l.R:l.Q,h=this.state.pinchDistanceFromCenter-u;this.setState({pinchDistanceFromCenter:u},function(){i.props.onPinchMoveCallback({distance:o,normalizedDistance:a,pinchDelta:h,clientCenter:i.pinchCenter.apply(i,r(n)),nativeTouches:n,zoomAction:c})})}},{key:"pinchDistance",value:function t(){var e=h(this.state.pinchVectors,2),n=e[0],r=e[1];return n.distanceTo(r)}},{key:"normalizedPinchDistance",value:function t(){var e=this,n=this.state.pinchVectors.map(function(t){return new c.Vector2(t.x/e.width,t.y/e.height)}),r=h(n,2),i=r[0],o=r[1];return i.distanceTo(o)}},{key:"pinchCenter",value:function t(){var e=h(this.state.pinchVectors,2),n=e[0],r=e[1];return n.add(r).divideScalar(2)}},{key:"distanceFromCenter",value:function t(e,n,r){return Math.max(e.distanceTo(r),n.distanceTo(r))}},{key:"setPinchVectors",value:function t(e,n){var i=this;this.setState({pinchVectors:this.toVec2Array.apply(this,r(e))},function(){n&&n(i.state.pinchVectors,e)})}},{key:"toVec2Array",value:function t(e,n){return[new c.Vector2(e.clientX,n.clientY),new c.Vector2(n.clientX,n.clientY)]}},{key:"render",value:function t(){var e=this,n=this.props,r=n.className,i=n.children;return u.a.createElement("span",{className:this.baseClassName+=r||"",ref:function t(n){return e.touchControlRef=n},onTouchStart:this.handleTouch,onTouchEnd:this.handleTouch,onTouchMove:this.handleTouchMove},i)}}]),e}(s.Component);e.a=d},function(t,e,n){"use strict";function r(t){var e=[Object(i.a)(t),Object(o.a)(t),Object(f.a)(t),Object(d.a)(t),Object(l.a)(t),Object(c.a)(t),Object(u.a)(t),Object(a.a)(t),Object(s.a)(t),Object(h.a)(t)],n=[Object(p.a)(t),Object(m.a)(t),Object(v.a)(t),Object(M.a)(t),Object(_.a)(t),Object(w.a)(t),Object(x.a)(t),Object(y.a)(t),Object(b.a)(t),Object(g.a)(t),Object(E.a)(t),Object(S.b)(t),Object(S.a)(t)];return Promise.all(e).then(function(){return Promise.all(n)})}e.a=r;var i=n(1018),o=n(1019),a=n(1020),s=n(1021),u=n(1022),c=n(1023),l=n(1024),h=n(1025),f=n(1026),d=n(1027),p=n(1028),m=n(1029),v=n(1030),g=n(1031),y=n(1032),b=n(1033),x=n(1034),_=n(1035),w=n(1036),E=n(1037),M=n(1038),S=n(1039)},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")},e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.BokehShader={uniforms:{tColor:{value:null},tDepth:{value:null},focus:{value:1},aspect:{value:1},aperture:{value:.025},maxblur:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["varying vec2 vUv;","uniform sampler2D tColor;","uniform sampler2D tDepth;","uniform float maxblur;","uniform float aperture;","uniform float focus;","uniform float aspect;","void main() {","vec2 aspectcorrect = vec2( 1.0, aspect );","vec4 depth1 = texture2D( tDepth, vUv );","float factor = depth1.x - focus;","vec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );","vec2 dofblur9 = dofblur * 0.9;","vec2 dofblur7 = dofblur * 0.7;","vec2 dofblur4 = dofblur * 0.4;","vec4 col = vec4( 0.0 );","col += texture2D( tColor, vUv.xy );","col += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );","col += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );","col += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );","col += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );","col += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );","col += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );","col += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );","col += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );","col += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );","col += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );","col += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );","col += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );","col += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );","gl_FragColor = col / 41.0;","gl_FragColor.a = 1.0;","}"].join("\n")},e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){for(var e=4,n=new Float32Array(8),r=0;r<4;r++)n[2*r+0]=Math.cos(2*r*Math.PI/4),n[2*r+1]=Math.sin(2*r*Math.PI/4);return new Promise(function(e,r){t.EDLShader={uniforms:{screenWidth:{type:"f",value:0},screenHeight:{type:"f",value:0},edlStrength:{type:"f",value:1},radius:{type:"f",value:1},neighbours:{type:"2fv",value:n},tDepth:{type:"t",value:null},tDiffuse:{type:"t",value:null},cameraNear:{type:"f",value:null},cameraFar:{type:"f",value:null},opacity:{type:"f",value:1},onlyEDL:{value:0},onlyEDLColor:{type:"c",value:new t.Color(16777215)},enableEDL:{value:0},useTexture:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define NEIGHBOUR_COUNT 4","#include <packing>","uniform float screenWidth;","uniform float screenHeight;","uniform float cameraNear;","uniform float cameraFar;","uniform vec2 neighbours[NEIGHBOUR_COUNT];","uniform float edlStrength;","uniform float radius;","uniform float opacity;","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform sampler2D tNormal;","varying vec2 vUv;","uniform vec3 onlyEDLColor;","uniform bool useNormalMap;","uniform bool enableEDL;","uniform bool onlyEDL;","uniform bool useTexture;","float readDepth( const in vec2 coord ) {","float cameraFarPlusNear = cameraFar + cameraNear;","float cameraFarMinusNear = cameraFar - cameraNear;","float cameraCoef = 2.0 * cameraNear;","float z = unpackRGBAToDepth( texture2D( tDepth, coord ) );","return cameraCoef / ( cameraFarPlusNear - z * cameraFarMinusNear );","}","float depthFromGray(const in vec2 coord) {","return 1.0 - texture2D(tDiffuse, coord).g;","}","float grayResponse(float gray) {","vec2 uvRadius = radius / vec2(screenWidth, screenHeight);","float sum = 0.0;","for(int i = 0; i < NEIGHBOUR_COUNT; i++){","vec2 uvNeighbor = vUv + uvRadius * neighbours[i];","float neighbourGray = depthFromGray(uvNeighbor);","if(neighbourGray != 0.0){","if(gray == 0.0){","sum += 10.0;","} else {","sum += max(0.0, gray - neighbourGray);","}","}","}","return sum / float(NEIGHBOUR_COUNT);","}","float response(float depth){","vec2 uvRadius = radius / vec2(screenWidth, screenHeight);","float sum = 0.0;","for(int i = 0; i < NEIGHBOUR_COUNT; i++){","vec2 uvNeighbor = vUv + uvRadius * neighbours[i];","float neighbourDepth = readDepth(uvNeighbor);","if(neighbourDepth != 0.0){","if(depth == 0.0){","sum += 10.0;","} else {","sum += max(0.0, depth - neighbourDepth);","}","}","}","return sum / float(NEIGHBOUR_COUNT);","}","void main(){","vec4 color = texture2D(tDiffuse, vUv);","if (enableEDL) {","float depth = readDepth(vUv);","float res = response(depth);","if (useTexture) {","float gray = depthFromGray(vUv);","res += grayResponse(gray);","}","float shade = exp(-res * 300.0 * edlStrength);","if(depth == 0.0 && res == 0.0){","discard;","} else {","if (onlyEDL) {","gl_FragColor = vec4(onlyEDLColor * shade, opacity);","} else {","gl_FragColor = vec4(color.rgb * shade, opacity);","}","}","} else {","gl_FragColor = color;","}","}"].join("\n")},e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.ChromaKeyShader={uniforms:{tDiffuse:{value:null},chroma:{type:"c",value:null},threshold:{type:"f",value:.5},invert:{type:"b",value:!1},enable:{type:"b",value:!1},replacementColor:{type:"c",value:new t.Color(0)}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 chroma;","uniform float threshold;","uniform bool invert;","uniform bool enable;","uniform vec3 replacementColor;","varying vec2 vUv;","void main() {","vec3 color = texture2D(tDiffuse, vUv).rgb;","float subLength = invert ? -length(color-chroma) : length(color-chroma);","float alpha = (subLength - threshold) * 20.0;","subLength = enable ? subLength : 1.0;","gl_FragColor = subLength < threshold ? vec4(-mix(color, replacementColor, alpha), 1.0) : vec4(color, 1.0);","}"].join("\n")},e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.SSAOShader={uniforms:{tDiffuse:{value:null},tDepth:{value:null},size:{value:new t.Vector2(512,512)},cameraNear:{value:1},cameraFar:{value:100},radius:{value:32},onlyAO:{value:0},aoClamp:{value:.25},lumInfluence:{value:.7}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float cameraNear;","uniform float cameraFar;","#ifdef USE_LOGDEPTHBUF","uniform float logDepthBufFC;","#endif","uniform float radius;","uniform bool onlyAO;","uniform vec2 size;","uniform float aoClamp;","uniform float lumInfluence;","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","varying vec2 vUv;","#define DL 2.399963229728653","#define EULER 2.718281828459045","const int samples = 64;","const bool useNoise = true;","const float noiseAmount = 0.0004;","const float diffArea = 0.4;","const float gDisplace = 0.4;","#include <packing>","vec2 rand( const vec2 coord ) {","vec2 noise;","if ( useNoise ) {","float nx = dot ( coord, vec2( 12.9898, 78.233 ) );","float ny = dot ( coord, vec2( 12.9898, 78.233 ) * 2.0 );","noise = clamp( fract ( 43758.5453 * sin( vec2( nx, ny ) ) ), 0.0, 1.0 );","} else {","float ff = fract( 1.0 - coord.s * ( size.x / 2.0 ) );","float gg = fract( coord.t * ( size.y / 2.0 ) );","noise = vec2( 0.25, 0.75 ) * vec2( ff ) + vec2( 0.75, 0.25 ) * gg;","}","return ( noise * 2.0  - 1.0 ) * noiseAmount;","}","float readDepth( const in vec2 coord ) {","float cameraFarPlusNear = cameraFar + cameraNear;","float cameraFarMinusNear = cameraFar - cameraNear;","float cameraCoef = 2.0 * cameraNear;","#ifdef USE_LOGDEPTHBUF","float logz = unpackRGBAToDepth( texture2D( tDepth, coord ) );","float w = pow(2.0, (logz / logDepthBufFC)) - 1.0;","float z = (logz / w) + 1.0;","#else","float z = unpackRGBAToDepth( texture2D( tDepth, coord ) );","#endif","return cameraCoef / ( cameraFarPlusNear - z * cameraFarMinusNear );","}","float compareDepths( const in float depth1, const in float depth2, inout int far ) {","float garea = 8.0;","float diff = ( depth1 - depth2 ) * 100.0;","if ( diff < gDisplace ) {","garea = diffArea;","} else {","far = 1;","}","float dd = diff - gDisplace;","float gauss = pow( EULER, -2.0 * ( dd * dd ) / ( garea * garea ) );","return gauss;","}","float calcAO( float depth, float dw, float dh ) {","vec2 vv = vec2( dw, dh );","vec2 coord1 = vUv + radius * vv;","vec2 coord2 = vUv - radius * vv;","float temp1 = 0.0;","float temp2 = 0.0;","int far = 0;","temp1 = compareDepths( depth, readDepth( coord1 ), far );","if ( far > 0 ) {","temp2 = compareDepths( readDepth( coord2 ), depth, far );","temp1 += ( 1.0 - temp1 ) * temp2;","}","return temp1;","}","void main() {","vec2 noise = rand( vUv );","float depth = readDepth( vUv );","float tt = clamp( depth, aoClamp, 1.0 );","float w = ( 1.0 / size.x ) / tt + ( noise.x * ( 1.0 - noise.x ) );","float h = ( 1.0 / size.y ) / tt + ( noise.y * ( 1.0 - noise.y ) );","float ao = 0.0;","float dz = 1.0 / float( samples );","float l = 0.0;","float z = 1.0 - dz / 2.0;","for ( int i = 0; i <= samples; i ++ ) {","float r = sqrt( 1.0 - z );","float pw = cos( l ) * r;","float ph = sin( l ) * r;","ao += calcAO( depth, pw * w, ph * h );","z = z - dz;","l = l + DL;","}","ao /= float( samples );","ao = 1.0 - ao;","vec3 color = texture2D( tDiffuse, vUv ).rgb;","vec3 lumcoeff = vec3( 0.299, 0.587, 0.114 );","float lum = dot( color.rgb, lumcoeff );","vec3 luminance = vec3( lum );","vec3 final = vec3( color * mix( vec3( ao ), vec3( 1.0 ), luminance * lumInfluence ) );","if ( onlyAO ) {","final = vec3( mix( vec3( ao ), vec3( 1.0 ), luminance * lumInfluence ) );","}","gl_FragColor = vec4( final, 1.0 );","}"].join("\n")},e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.LuminosityHighPassShader={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{type:"t",value:null},luminosityThreshold:{type:"f",value:1},smoothWidth:{type:"f",value:1},defaultColor:{type:"c",value:new t.Color(0)},defaultOpacity:{type:"f",value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float v = dot( texel.xyz, luma );","vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","gl_FragColor = mix( outputColor, texel, alpha );","}"].join("\n")},e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.HorizontalBlurShader={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float h;","varying vec2 vUv;","void main() {","vec4 sum = vec4( 0.0 );","sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.106723;","sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.109972;","sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.112352;","sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.113806;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.114294;","sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.113806;","sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.112352;","sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.109972;","sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.106723;","gl_FragColor = sum;","}"].join("\n")},t.VerticalBlurShader={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float v;","varying vec2 vUv;","void main() {","vec4 sum = vec4( 0.0 );","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.106723;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.109972;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.112352;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.113806;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.114294;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.113806;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.112352;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.109972;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.106723;","gl_FragColor = sum;","}"].join("\n")},e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.VignetteShader={uniforms:{tDiffuse:{value:null},strength:{type:"f",value:.5},resolution:{value:new t.Vector2},color:{type:"3vf",value:new t.Vector3(.5)}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float strength;","uniform vec3 color;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","vec2 pos = (gl_FragCoord.xy / resolution.xy);","pos *= 1.0 - pos.yx;","float vignette = pos.x * pos.y * 15.0;","vignette = pow(vignette, strength);","vec4 vignetteColor = vec4(color * (1.0 - vignette), (1.0-vignette));","vec4 tColor = texture2D(tDiffuse, vUv);","gl_FragColor = mix(tColor, vignetteColor, (1.0-vignette));","}"].join("\n")},e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.BrightnessContrastShader={uniforms:{tDiffuse:{value:null},brightness:{value:0},contrast:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float brightness;","uniform float contrast;","varying vec2 vUv;","void main() {","gl_FragColor = texture2D( tDiffuse, vUv );","gl_FragColor.rgb += brightness;","if (contrast > 0.0) {","gl_FragColor.rgb = (gl_FragColor.rgb - 0.5) / (1.0 - contrast) + 0.5;","} else {","gl_FragColor.rgb = (gl_FragColor.rgb - 0.5) * (1.0 + contrast) + 0.5;","}","}"].join("\n")},e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.ConvolutionShader={defines:{KERNEL_SIZE_FLOAT:"25.0",KERNEL_SIZE_INT:"25"},uniforms:{tDiffuse:{value:null},uImageIncrement:{value:new t.Vector2(.001953125,0)},cKernel:{value:[]}},vertexShader:["uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","vUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float cKernel[ KERNEL_SIZE_INT ];","uniform sampler2D tDiffuse;","uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","vec2 imageCoord = vUv;","vec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );","for( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {","sum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];","imageCoord += uImageIncrement;","}","gl_FragColor = sum;","}"].join("\n"),buildKernel:function t(e){function n(t,e){return Math.exp(-t*t/(2*e*e))}var r,i,o,a,s=25,u=2*Math.ceil(3*e)+1;for(u>25&&(u=25),a=.5*(u-1),i=new Array(u),o=0,r=0;r<u;++r)i[r]=n(r-a,e),o+=i[r];for(r=0;r<u;++r)i[r]/=o;return i}},e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.EffectComposer=function(e,r){if(this.renderer=e,void 0===r){var i={minFilter:t.LinearFilter,magFilter:t.LinearFilter,format:t.RGBAFormat,stencilBuffer:!1},o=e.getSize();r=new t.WebGLRenderTarget(o.width,o.height,i),r.texture.name="EffectComposer.rt1"}this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===t.CopyShader&&(n(),console.error("THREE.EffectComposer relies on threeInstance.CopyShader")),this.copyPass=new t.ShaderPass(t.CopyShader)},Object.assign(t.EffectComposer.prototype,{swapBuffers:function t(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function t(e){this.passes.push(e);var n=this.renderer.getSize();e.setSize(n.width,n.height)},insertPass:function t(e,n){this.passes.splice(n,0,e)},render:function e(n){var r=!1,i,o,a=this.passes.length;for(o=0;o<a;o++)if(i=this.passes[o],!1!==i.enabled){if(i.render(this.renderer,this.writeBuffer,this.readBuffer,n,r),i.needsSwap){if(r){var s=this.renderer.context;s.stencilFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,n),s.stencilFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==t.MaskPass&&(i instanceof t.MaskPass?r=!0:i instanceof t.ClearMaskPass&&(r=!1))}},reset:function t(e){if(void 0===e){var n=this.renderer.getSize();e=this.renderTarget1.clone(),e.setSize(n.width,n.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function t(e,n){this.renderTarget1.setSize(e,n),this.renderTarget2.setSize(e,n);for(var r=0;r<this.passes.length;r++)this.passes[r].setSize(e,n)}}),t.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(t.Pass.prototype,{setSize:function t(e,n){},render:function t(e,n,r,i,o){console.error("threeInstance.Pass: .render() must be implemented in derived pass.")}}),e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.ShaderPass=function(e,n){t.Pass.call(this),this.textureID=void 0!==n?n:"tDiffuse",e instanceof t.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=t.UniformsUtils.clone(e.uniforms),this.material=new t.ShaderMaterial({defines:e.defines||{},uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.camera=new t.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new t.Scene,this.quad=new t.Mesh(new t.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},t.ShaderPass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.ShaderPass,render:function t(e,n,r,i,o){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,n,this.clear)}}),e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.RenderPass=function(e,n,r,i,o){t.Pass.call(this),this.scene=e,this.camera=n,this.overrideMaterial=r,this.clearColor=i,this.clearAlpha=void 0!==o?o:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1},t.RenderPass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.RenderPass,render:function t(e,n,r,i,o){var a=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial;var s,u;this.clearColor&&(s=e.getClearColor().getHex(),u=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.render(this.scene,this.camera,this.renderToScreen?null:r,this.clear),this.clearColor&&e.setClearColor(s,u),this.scene.overrideMaterial=null,e.autoClear=a}}),e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.BokehPass=function(e,n,r){t.Pass.call(this),this.scene=e,this.camera=n;var i=void 0!==r.focus?r.focus:1,o=void 0!==r.aspect?r.aspect:n.aspect,a=void 0!==r.aperture?r.aperture:.025,s=void 0!==r.maxblur?r.maxblur:1,u=r.width||window.innerWidth||1,c=r.height||window.innerHeight||1;this.renderTargetColor=new t.WebGLRenderTarget(u,c,{minFilter:t.LinearFilter,magFilter:t.LinearFilter,format:t.RGBFormat}),this.renderTargetColor.texture.name="BokehPass.color",this.renderTargetDepth=this.renderTargetColor.clone(),this.renderTargetDepth.texture.name="BokehPass.depth",this.materialDepth=new t.MeshDepthMaterial,void 0===t.BokehShader&&console.error("threeInstance.BokehPass relies on threeInstance.BokehShader");var l=t.BokehShader,h=t.UniformsUtils.clone(l.uniforms);h.tDepth.value=this.renderTargetDepth.texture,h.focus.value=i,h.aspect.value=o,h.aperture.value=a,h.maxblur.value=s,this.materialBokeh=new t.ShaderMaterial({uniforms:h,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}),this.uniforms=h,this.needsSwap=!1,this.camera2=new t.OrthographicCamera(-1,1,1,-1,0,1),this.scene2=new t.Scene,this.quad2=new t.Mesh(new t.PlaneBufferGeometry(2,2),null),this.quad2.frustumCulled=!1,this.scene2.add(this.quad2)},t.BokehPass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.BokehPass,render:function t(e,n,r,i,o){this.quad2.material=this.materialBokeh,this.scene.overrideMaterial=this.materialDepth,e.render(this.scene,this.camera,this.renderTargetDepth,!0),this.uniforms.tColor.value=r.texture,this.renderToScreen?e.render(this.scene2,this.camera2):e.render(this.scene2,this.camera2,n,this.clear),this.scene.overrideMaterial=null}}),e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.SSAOPass=function(e,n,r,i){if(void 0===t.SSAOShader)return console.warn("threeInstance.SSAOPass depends on threeInstance.SSAOShader"),new t.ShaderPass;t.ShaderPass.call(this,t.SSAOShader),this.width=void 0!==r?r:512,this.height=void 0!==i?i:256,this.renderToScreen=!1,this.camera2=n,this.scene2=e,this.depthMaterial=new t.MeshDepthMaterial,this.depthMaterial.depthPacking=t.RGBADepthPacking,this.depthMaterial.blending=t.NoBlending,this.depthRenderTarget=new t.WebGLRenderTarget(this.width,this.height,{minFilter:t.LinearFilter,magFilter:t.LinearFilter,format:t.RGBAFormat}),this.uniforms.tDepth.value=this.depthRenderTarget.texture,this.uniforms.size.value.set(this.width,this.height),this.uniforms.cameraNear.value=this.camera2.near,this.uniforms.cameraFar.value=this.camera2.far,this.uniforms.radius.value=5,this.uniforms.onlyAO.value=!1,this.uniforms.aoClamp.value=.25,this.uniforms.lumInfluence.value=.2;var o=this;Object.defineProperties(this,{radius:{get:function t(){return this.uniforms.radius.value},set:function t(e){this.uniforms.radius.value=e}},onlyAO:{get:function t(){return this.uniforms.onlyAO.value},set:function t(e){this.uniforms.onlyAO.value=e}},aoClamp:{get:function t(){return this.uniforms.aoClamp.value},set:function t(e){this.uniforms.aoClamp.value=e}},lumInfluence:{get:function t(){return this.uniforms.lumInfluence.value},set:function t(e){this.uniforms.lumInfluence.value=e}}})},t.SSAOPass.prototype=Object.create(t.ShaderPass.prototype),t.SSAOPass.prototype.render=function(e,n,r,i,o){this.scene2.overrideMaterial=this.depthMaterial,e.render(this.scene2,this.camera2,this.depthRenderTarget,!0),this.scene2.overrideMaterial=null,t.ShaderPass.prototype.render.call(this,e,n,r,i,o)},t.SSAOPass.prototype.setScene=function(t){this.scene2=t},t.SSAOPass.prototype.setCamera=function(t){this.camera2=t,this.uniforms.cameraNear.value=this.camera2.near,this.uniforms.cameraFar.value=this.camera2.far},t.SSAOPass.prototype.setSize=function(t,e){this.width=t,this.height=e,this.uniforms.size.value.set(this.width,this.height),this.depthRenderTarget.setSize(this.width,this.height)},e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.GaussianPass=function(e){void 0===t.ShaderPass&&console.error("THREE.GaussianPass depends on THREE.ShaderPass"),void 0!==t.HorizontalBlurShader&&void 0!==t.VerticalBlurShader||console.error("THREE.GaussianPass relies on THREE.HorizontalBlurShader and THREE.VerticalBlurShader!");var n={minFilter:t.LinearFilter,magFilter:t.LinearFilter,format:t.RGBAFormat};this.pass1RenderTarget=new t.WebGLRenderTarget(window.innerWidth,window.innerHeight,n),t.ShaderPass.call(this,t.VerticalBlurShader);var r=void 0!==e.h?e.h:1/512,i=void 0!==e.v?e.v:1/512;this.renderToScreen=!1,this.uniforms.v.value=i,this.horizontalBlurUniforms=t.UniformsUtils.clone(t.HorizontalBlurShader.uniforms),this.horizontalBlurUniforms.h.value=r,this.horizontalBlurMaterial=new t.ShaderMaterial({uniforms:this.horizontalBlurUniforms,vertexShader:t.HorizontalBlurShader.vertexShader,fragmentShader:t.HorizontalBlurShader.fragmentShader}),this.verticalBlurMaterial=new t.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.VerticalBlurShader.vertexShader,fragmentShader:t.VerticalBlurShader.fragmentShader}),this.camera=new t.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new t.Scene,this.quad=new t.Mesh(new t.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},t.GaussianPass.prototype=Object.assign(Object.create(t.ShaderPass.prototype),{constructor:t.GaussianPass,render:function e(n,r,i,o,a){this.horizontalBlurUniforms.tDiffuse.value=i.texture,this.quad.material=this.horizontalBlurMaterial,n.render(this.scene,this.camera,this.pass1RenderTarget,!0),this.uniforms.tDiffuse.value=this.pass1RenderTarget.texture,this.quad.material=this.verticalBlurMaterial,t.ShaderPass.prototype.render.call(this,n,r,i,o,a)}}),e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.VignettePass=function(e,r,i){if(t.Pass.call(this),void 0===t.VignetteShader){var o="THREE.VignettePass relies on THREE.VignetteShader";console.error(o),n(o)}if(void 0===t.HorizontalBlurShader||void 0===t.VerticalBlurShader){var a="THREE.VignettePass relies on THREE.HorizontalBlurShader and THREE.VerticalBlurShader!";console.error(a),n(a)}this.uniforms=t.UniformsUtils.clone(t.VignetteShader.uniforms),this.renderToScreen=!1,this.horizontalBlurUniforms=t.UniformsUtils.clone(t.HorizontalBlurShader.uniforms),this.horizontalBlurMaterial=new t.ShaderMaterial({uniforms:this.horizontalBlurUniforms,vertexShader:t.HorizontalBlurShader.vertexShader,fragmentShader:t.HorizontalBlurShader.fragmentShader}),this.verticalBlurUniforms=t.UniformsUtils.clone(t.VerticalBlurShader.uniforms),this.verticalBlurMaterial=new t.ShaderMaterial({uniforms:this.verticalBlurUniforms,vertexShader:t.VerticalBlurShader.vertexShader,fragmentShader:t.VerticalBlurShader.fragmentShader}),this.vignetteMaterial=new t.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.VignetteShader.vertexShader,fragmentShader:t.VignetteShader.fragmentShader});var s=e||new t.Vector2(window.innerWidth,window.innerHeight),u={minFilter:t.LinearFilter,magFilter:t.LinearFilter,format:t.RGBAFormat};this.pass1RenderTarget=new t.WebGLRenderTarget(window.innerWidth,window.innerHeight,u),this.pass2RenderTarget=new t.WebGLRenderTarget(window.innerWidth,window.innerHeight,u),this.uniforms.strength.value=r||.5,this.uniforms.resolution.value=s,this.uniforms.color.value=i||new t.Color(.5),this.horizontalBlurUniforms.h.value=2/(s.x/2),this.verticalBlurUniforms.v.value=2/(s.y/2),this.camera=new t.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new t.Scene,this.quad=new t.Mesh(new t.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},t.VignettePass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.VignettePass,render:function t(e,n,r,i,o){this.horizontalBlurUniforms.tDiffuse.value=r.texture,this.quad.material=this.horizontalBlurMaterial,e.render(this.scene,this.camera,this.pass1RenderTarget,!0),this.verticalBlurUniforms.tDiffuse.value=this.pass1RenderTarget.texture,this.quad.material=this.verticalBlurMaterial,e.render(this.scene,this.camera,this.pass2RenderTarget,!0),this.uniforms.tDiffuse.value=this.pass2RenderTarget.texture,this.quad.material=this.vignetteMaterial,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,n,this.clear)}}),e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.EDLPass=function(e,n,r){void 0===t.ShaderPass&&console.error("THREE.EDLPass depends on THREE.ShaderPass"),void 0===t.EDLShader&&console.error("THREE.EDLPass relies on THREE.EDLShader"),t.ShaderPass.call(this,t.EDLShader),this.renderToScreen=!1;var i=void 0!==r.radius?r.radius:1,o=void 0!==r.edlStrength?r.edlStrength:1,a=void 0!==r.opacity?r.opacity:1,s=r.screenWidth||window.innerWidth||1,u=r.screenHeight||window.innerHeight||1,c=void 0!==r.enableEDL&&r.enableEDL,l=void 0!==r.onlyEDL&&r.onlyEDL,h=void 0!==r.onlyEDLColor?r.onlyEDLColor:new t.Color(0),f=void 0!==r.useTexture&&r.useTexture;this.camera2=n,this.scene2=e,this.depthMaterial=new t.MeshDepthMaterial,this.depthMaterial.depthPacking=t.RGBADepthPacking;var d={minFilter:t.LinearFilter,magFilter:t.LinearFilter,format:t.RGBAFormat};this.depthRenderTarget=new t.WebGLRenderTarget(s,u,d),this.uniforms.tDepth.value=this.depthRenderTarget.texture,this.uniforms.radius.value=i,this.uniforms.edlStrength.value=o,this.uniforms.opacity.value=a,this.uniforms.screenWidth.value=s,this.uniforms.screenHeight.value=u,this.uniforms.cameraNear.value=this.camera2.near,this.uniforms.cameraFar.value=this.camera2.far,this.uniforms.onlyEDL.value=l,this.uniforms.enableEDL.value=c,this.uniforms.useTexture.value=f,this.uniforms.onlyEDLColor.value=h},t.EDLPass.prototype=Object.assign(Object.create(t.ShaderPass.prototype),{constructor:t.EDLPass,render:function e(n,r,i,o,a){this.scene2.overrideMaterial=this.depthMaterial,n.render(this.scene2,this.camera2,this.depthRenderTarget,!0),this.scene2.overrideMaterial=null,t.ShaderPass.prototype.render.call(this,n,r,i,o,a)}}),e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.ChromaKeyPass=function(e,r,i,o){if(t.Pass.call(this),void 0===t.ChromaKeyShader){var a="THREE ChromaKeyPass relies on THREE.ChromaKeyShader";console.err(a),n(a)}this.uniforms=t.UniformsUtils.clone(t.ChromaKeyShader.uniforms),this.renderToScreen=!1,this.uniforms.enable.value=(!0===e||!1===e)&&e,this.uniforms.chroma.value=r||new t.Color(0),this.uniforms.threshold.value=i||.5,this.uniforms.invert.value=(!0===o||!1===o)&&o;var s=new t.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.ChromaKeyShader.vertexShader,fragmentShader:t.ChromaKeyShader.fragmentShader,transparent:!0});this.camera=new t.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new t.Scene,this.scene.background=new t.Color(0),this.quad=new t.Mesh(new t.PlaneBufferGeometry(2,2),null),this.quad.material=s,this.quad.frustumCulled=!1,this.scene.add(this.quad)},t.ChromaKeyPass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.ChromaKeyPass,render:function t(e,n,r,i,o){this.uniforms.tDiffuse.value=r.texture,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,n,this.clear)},setReplacementColor:function t(e){}}),e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.UnrealBloomPass=function(e,n,r,i){t.Pass.call(this),this.strength=void 0!==n?n:1,this.radius=r,this.threshold=i,this.resolution=void 0!==e?new t.Vector2(e.x,e.y):new t.Vector2(256,256);var o={minFilter:t.LinearFilter,magFilter:t.LinearFilter,format:t.RGBAFormat};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var a=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new t.WebGLRenderTarget(a,s,o),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var u=0;u<this.nMips;u++){var c=new t.WebGLRenderTarget(a,s,o);c.texture.name="UnrealBloomPass.h"+u,c.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(c);var c=new t.WebGLRenderTarget(a,s,o);c.texture.name="UnrealBloomPass.v"+u,c.texture.generateMipmaps=!1,this.renderTargetsVertical.push(c),a=Math.round(a/2),s=Math.round(s/2)}void 0===t.LuminosityHighPassShader&&console.error("threeInstance.UnrealBloomPass relies on threeInstance.LuminosityHighPassShader");var l=t.LuminosityHighPassShader;this.highPassUniforms=t.UniformsUtils.clone(l.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new t.ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,defines:{}}),this.separableBlurMaterials=[];for(var h=[3,5,7,9,11],a=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2),u=0;u<this.nMips;u++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(h[u])),this.separableBlurMaterials[u].uniforms.texSize.value=new t.Vector2(a,s),a=Math.round(a/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=n,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;var f=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=f,this.bloomTintColors=[new t.Vector3(1,1,1),new t.Vector3(1,1,1),new t.Vector3(1,1,1),new t.Vector3(1,1,1),new t.Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===t.CopyShader&&console.error("threeInstance.BloomPass relies on threeInstance.CopyShader");var d=t.CopyShader;this.copyUniforms=t.UniformsUtils.clone(d.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new t.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,blending:t.AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new t.Color,this.oldClearAlpha=1,this.camera=new t.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new t.Scene,this.basic=new t.MeshBasicMaterial,this.quad=new t.Mesh(new t.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},t.UnrealBloomPass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.UnrealBloomPass,dispose:function t(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(var e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()},setSize:function e(n,r){var i=Math.round(n/2),o=Math.round(r/2);this.renderTargetBright.setSize(i,o);for(var a=0;a<this.nMips;a++)this.renderTargetsHorizontal[a].setSize(i,o),this.renderTargetsVertical[a].setSize(i,o),this.separableBlurMaterials[a].uniforms.texSize.value=new t.Vector2(i,o),i=Math.round(i/2),o=Math.round(o/2)},render:function e(n,r,i,o,a){this.oldClearColor.copy(n.getClearColor()),this.oldClearAlpha=n.getClearAlpha();var s=n.autoClear;n.autoClear=!1,n.setClearColor(new t.Color(0,0,0),0),a&&n.context.disable(n.context.STENCIL_TEST),this.renderToScreen&&(this.quad.material=this.basic,this.basic.map=i.texture,n.render(this.scene,this.camera,void 0,!0)),this.highPassUniforms.tDiffuse.value=i.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.quad.material=this.materialHighPassFilter,n.render(this.scene,this.camera,this.renderTargetBright,!0);for(var u=this.renderTargetBright,c=0;c<this.nMips;c++)this.quad.material=this.separableBlurMaterials[c],this.separableBlurMaterials[c].uniforms.colorTexture.value=u.texture,this.separableBlurMaterials[c].uniforms.direction.value=t.UnrealBloomPass.BlurDirectionX,n.render(this.scene,this.camera,this.renderTargetsHorizontal[c],!0),this.separableBlurMaterials[c].uniforms.colorTexture.value=this.renderTargetsHorizontal[c].texture,this.separableBlurMaterials[c].uniforms.direction.value=t.UnrealBloomPass.BlurDirectionY,n.render(this.scene,this.camera,this.renderTargetsVertical[c],!0),u=this.renderTargetsVertical[c];this.quad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,n.render(this.scene,this.camera,this.renderTargetsHorizontal[0],!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,a&&n.context.enable(n.context.STENCIL_TEST),this.renderToScreen?n.render(this.scene,this.camera,void 0,!1):n.render(this.scene,this.camera,i,!1),n.setClearColor(this.oldClearColor,this.oldClearAlpha),n.autoClear=s},getSeperableBlurMaterial:function e(n){return new t.ShaderMaterial({defines:{KERNEL_RADIUS:n,SIGMA:n},uniforms:{colorTexture:{value:null},texSize:{value:new t.Vector2(.5,.5)},direction:{value:new t.Vector2(.5,.5)}},vertexShader:"varying vec2 vUv;\n      \t\t\t\tvoid main() {\n      \t\t\t\t\tvUv = uv;\n      \t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n      \t\t\t\t}",fragmentShader:"#include <common>      \t\t\t\tvarying vec2 vUv;\n      \t\t\t\tuniform sampler2D colorTexture;\n      \t\t\t\tuniform vec2 texSize;      \t\t\t\tuniform vec2 direction;      \t\t\t\t      \t\t\t\tfloat gaussianPdf(in float x, in float sigma) {      \t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;      \t\t\t\t}      \t\t\t\tvoid main() {\n      \t\t\t\t\tvec2 invSize = 1.0 / texSize;      \t\t\t\t\tfloat fSigma = float(SIGMA);      \t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);      \t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;      \t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {      \t\t\t\t\t\tfloat x = float(i);      \t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);      \t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;      \t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;      \t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;      \t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;      \t\t\t\t\t\tweightSum += 2.0 * w;      \t\t\t\t\t}      \t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n      \t\t\t\t}"})},getCompositeMaterial:function e(n){return new t.ShaderMaterial({defines:{NUM_MIPS:n},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n      \t\t\t\tvoid main() {\n      \t\t\t\t\tvUv = uv;\n      \t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n      \t\t\t\t}",fragmentShader:"varying vec2 vUv;      \t\t\t\tuniform sampler2D blurTexture1;      \t\t\t\tuniform sampler2D blurTexture2;      \t\t\t\tuniform sampler2D blurTexture3;      \t\t\t\tuniform sampler2D blurTexture4;      \t\t\t\tuniform sampler2D blurTexture5;      \t\t\t\tuniform sampler2D dirtTexture;      \t\t\t\tuniform float bloomStrength;      \t\t\t\tuniform float bloomRadius;      \t\t\t\tuniform float bloomFactors[NUM_MIPS];      \t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];      \t\t\t\t      \t\t\t\tfloat lerpBloomFactor(const in float factor) {       \t\t\t\t\tfloat mirrorFactor = 1.2 - factor;      \t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);      \t\t\t\t}      \t\t\t\t      \t\t\t\tvoid main() {      \t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +       \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +       \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +       \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +       \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );      \t\t\t\t}"})}}),t.UnrealBloomPass.BlurDirectionX=new t.Vector2(1,0),t.UnrealBloomPass.BlurDirectionY=new t.Vector2(0,1),e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.TexturePass=function(e,n){t.Pass.call(this),void 0===t.CopyShader&&console.error("THREE.TexturePass relies on THREE.CopyShader");var r=t.CopyShader;this.map=e,this.opacity=void 0!==n?n:1,this.uniforms=t.UniformsUtils.clone(r.uniforms),this.material=new t.ShaderMaterial({uniforms:this.uniforms,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,depthTest:!1,depthWrite:!1}),this.needsSwap=!1,this.camera=new t.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new t.Scene,this.quad=new t.Mesh(new t.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},t.TexturePass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.TexturePass,render:function t(e,n,r,i,o){var a=e.autoClear;e.autoClear=!1,this.quad.material=this.material,this.uniforms.opacity.value=this.opacity,this.uniforms.tDiffuse.value=this.map,this.material.transparent=this.opacity<1,e.render(this.scene,this.camera,this.renderToScreen?null:r,this.clear),e.autoClear=a}}),e(t)})}e.a=r},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.MaskPass=function(e,n){t.Pass.call(this),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.inverse=!1},t.MaskPass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.MaskPass,render:function t(e,n,r,i,o){var a=e.context,s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);var u,c;this.inverse?(u=0,c=1):(u=1,c=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),s.buffers.stencil.setFunc(a.ALWAYS,u,4294967295),s.buffers.stencil.setClear(c),e.render(this.scene,this.camera,r,this.clear),e.render(this.scene,this.camera,n,this.clear),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.stencil.setFunc(a.EQUAL,1,4294967295),s.buffers.stencil.setOp(a.KEEP,a.KEEP,a.KEEP)}}),e(t)})}function i(t){return new Promise(function(e,n){t.ClearMaskPass=function(){t.Pass.call(this),this.needsSwap=!1},t.ClearMaskPass.prototype=Object.create(t.Pass.prototype),Object.assign(t.ClearMaskPass.prototype,{render:function t(e,n,r,i,o){e.state.buffers.stencil.setTest(!1)}}),e(t)})}e.b=r,e.a=i},function(t,e,n){"use strict";function r(t,e){var n=new s.Vector3;return n.setFromMatrixColumn(e,0),n.multiplyScalar(-t),n}function i(t,e){var n=new s.Vector3;return n.setFromMatrixColumn(e,1),n.multiplyScalar(t),n}function o(){}function a(){}e.a=r,e.b=i;var s=n(24)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(24),a=n(93),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){function t(){var e,n;i(this,t),this.key=new o.SpotLight(16777215,.2,0,Math.PI/2,1,2),this.back=new o.SpotLight(16777215,.2,0,Math.PI/2,1,2),this.flood=new o.PointLight(16777215,.1,0,2),this._lights=[this.key,this.back,this.flood],this._helpers=this._initHelpers(),this.key.castShadow=!0,this.back.castShadow=!0,this.toggleHelpers(),this._group=new o.Group,(e=this._group).add.apply(e,r(this._lights)),(n=this._group).add.apply(n,r(this._helpers))}return s(t,[{key:"traverse",value:function t(e){for(var n=0;n<this._lights.length;n++)e&&e(this._lights[n])}},{key:"traverseHelpers",value:function t(e){for(var n=0;n<this._lights.length;n++)e&&e(this._lights[n])}},{key:"_initHelpers",value:function t(){var e=[];return e.push(new o.SpotLightHelper(this.key)),e.push(new o.SpotLightHelper(this.back)),e.push(new o.PointLightHelper(this.flood)),e.push(new o.CameraHelper(this.key.shadow.camera)),e.push(new o.CameraHelper(this.back.shadow.camera)),e}},{key:"addTo",value:function t(e){e.add.apply(e,r(this._lights))}},{key:"addHelpers",value:function t(e,n){var i=function t(e){e.scale.multiplyScalar(n)};this.traverseHelpers(i),e.add.apply(e,r(this._helpers))}},{key:"toggleHelpers",value:function t(){for(var e=0;e<this._helpers.length;e++){var n=this._helpers[e];n.visible=!n.visible}}},{key:"toggleVisibility",value:function t(){var e=function t(e){e.visible=!e.visible};this.traverse(e)}},{key:"setPosition",value:function t(e){this._group.position.copy(e)}},{key:"setLightPositions",value:function t(e){var n=e.max.clone(),r=e.min.clone();this.key.position.set(n.x,n.y,r.z),this.key.position.multiplyScalar(100),this.back.position.set(r.x/2,n.y,n.z/2),this.back.position.multiplyScalar(100),this.flood.position.set(n.x,n.y,n.z),this.flood.position.multiplyScalar(100)}},{key:"setTarget",value:function t(e){var n=function t(n){n.target=e};this.traverse(n)}},{key:"positions",value:function t(){return{key:this.key.position,back:this.back.position,flood:this.flood.position}}}]),t}();e.a=u},function(t,e,n){"use strict";function r(t){return.393701*t}function i(t){return.1*t}function o(t){return 2.54*t}function a(t,e,n){if(console.log(t,e),(t=t.toUpperCase())===e)return n;var r=t+"_TO_"+e,i=s.g[r];return void 0!==i?i(n):n}e.a=a;var s=n(16)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(18),a=function t(e){var n=e.handleResetCamera,r=e.handleToggleInfo,a=e.handleToggleBackground,s=e.handleToggleDynamicLighting,u=e.handleToggleTools;return i.a.createElement("div",{className:"three-controls-container"},i.a.createElement(o.b,{className:"three-controls-button",content:"re-center",icon:"crosshairs",onClick:function t(){n()},labelPosition:"right",color:"grey"}),i.a.createElement(o.b,{className:"three-controls-button",content:"lighting",icon:"lightbulb",onClick:function t(){s()},labelPosition:"right",color:"grey"}),i.a.createElement(o.b,{className:"three-controls-button",content:"background",icon:"image",onClick:function t(){a()},labelPosition:"right",color:"grey"}),i.a.createElement(o.b,{color:"grey",labelPosition:"right",content:"tools",className:"three-controls-button",icon:"wrench",onClick:function t(){u()}}))},s=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(24),c=n(18),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.defaultState={active:!1,points:{a:null,b:null,distance:null},secondClick:!1},n.state={active:!1,points:{a:null,b:null,distance:null},secondClick:!1},n.activate=n.activate.bind(n),n.measure=n.measure.bind(n),n.handleIntersection=n.handleIntersection.bind(n),n.reset=n.reset.bind(n),n.doCallback=n.doCallback.bind(n),n.raycaster=new u.Raycaster,n}return o(e,t),l(e,[{key:"componentDidMount",value:function t(){this.props.target.addEventListener("click",this.measure,!0)}},{key:"componentWillUnmount",value:function t(){this.props.target.removeEventListener("click",this.measure,!0)}},{key:"activate",value:function t(){this.setState({active:!this.state.active},this.reset)}},{key:"reset",value:function t(){this.state.active||this.setState(Object.assign({},this.defaultState),this.doCallback)}},{key:"doCallback",value:function t(){this.props.updateCallback(this.state.active?this.state.points:null)}},{key:"measure",value:function t(e){if(this.state.active){var n=this.props,r=n.camera,i=n.mesh,o=this.props.target.getBoundingClientRect(),a=new u.Vector2;a.x=(e.clientX-o.x)/o.width*2-1,a.y=-(e.clientY-o.top)/o.height*2+1,this.raycaster.setFromCamera(a,r);var s=[];i.type===u.Group?s=i.children:s.push(i);var c=this.raycaster.intersectObjects(s,!0);c.length>0&&this.handleIntersection(c[0])}}},{key:"handleIntersection",value:function t(e){var n=this.state.points;this.state.secondClick?(n.b=e.point,n.distance=n.a&&n.b?n.a.distanceTo(n.b):null,this.setState({points:n,secondClick:!1},this.doCallback)):(n.a=e.point,n.b=null,n.distance=null,this.setState({points:n,secondClick:!0},this.doCallback))}},{key:"render",value:function t(){return s.a.createElement("div",{className:"three-measure-tool-container"},s.a.createElement(c.b,{className:"three-controls-button",content:"measure",icon:"pencil",onClick:this.activate,labelPosition:"right",color:"grey",active:this.state.active,inverted:!0}))}}]),e}(a.Component);e.a=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(18),c=n(1046),l=n.n(c),h=n(1062),f=n.n(h),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={value:0,minValue:0,maxValue:100},n.updateRange=n.updateRange.bind(n),n.updateThreshold=n.updateThreshold.bind(n),n.resetToDefaults=n.resetToDefaults.bind(n),n}return o(e,t),d(e,[{key:"componentDidMount",value:function t(){this.setState({value:this.props.defaultVal,stepValue:this.props.step,minValue:this.props.min,maxValue:this.props.max,defaults:{stepValue:this.props.step,minValue:this.props.min,maxValue:this.props.max}})}},{key:"updateRange",value:function t(e,n){this.setState({value:e},function(){n&&n(e)})}},{key:"updateThreshold",value:function t(e,n,r){this.setState({minValue:e,maxValue:n,stepValue:r})}},{key:"resetToDefaults",value:function t(){var e=this.state.defaults,n=e.minValue,r=e.maxValue,i=e.stepValue;this.updateThreshold(n,r,i)}},{key:"render",value:function t(){var e=this,n=this.props,r=n.callback,i=n.title,o=this.state,a=o.minValue,c=o.maxValue,h=o.stepValue;return s.a.createElement(u.o,{className:"three-tool-component-container"},s.a.createElement(u.k,{className:"three-tool-component-label",attached:"top left"},i),s.a.createElement(l.a,{className:"three-range-slider",step:h,maxValue:c,minValue:a,draggableTrack:!0,value:Number(this.state.value.toFixed(2)),onChange:function t(n){return e.updateRange(n,r)}}))}}]),e}(a.Component);e.a=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1047),o=r(i);e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l,h,f,d=n(0),p=i(d),m=n(1),v=i(m),g=n(277),y=i(g),b=n(1048),x=r(b),_=n(1056),w=i(_),E=n(499),M=i(E),S=n(1057),T=i(S),A=n(1058),C=i(A),O=n(1059),P=i(O),L=n(1060),R=i(L),k=n(182),N=n(1061),I=(f=function(t){function e(t){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.startValue=null,n.node=null,n.trackNode=null,n.isSliderDragging=!1,n.lastKeyMoved=null,n}return s(e,t),c(e,null,[{key:"propTypes",get:function t(){return{allowSameValues:v.default.bool,ariaLabelledby:v.default.string,ariaControls:v.default.string,classNames:v.default.objectOf(v.default.string),disabled:v.default.bool,draggableTrack:v.default.bool,formatLabel:v.default.func,maxValue:T.default,minValue:T.default,name:v.default.string,onChangeStart:v.default.func,onChange:v.default.func.isRequired,onChangeComplete:v.default.func,step:v.default.number,value:C.default}}},{key:"defaultProps",get:function t(){return{allowSameValues:!1,classNames:w.default,disabled:!1,maxValue:10,minValue:0,step:1}}}]),c(e,[{key:"componentWillUnmount",value:function t(){this.removeDocumentMouseUpListener(),this.removeDocumentTouchEndListener()}},{key:"getComponentClassName",value:function t(){return this.props.disabled?this.props.classNames.disabledInputRange:this.props.classNames.inputRange}},{key:"getTrackClientRect",value:function t(){return this.trackNode.getClientRect()}},{key:"getKeyByPosition",value:function t(e){var n=x.getValueFromProps(this.props,this.isMultiValue()),r=x.getPositionsFromValues(n,this.props.minValue,this.props.maxValue,this.getTrackClientRect());if(this.isMultiValue()){if((0,k.distanceTo)(e,r.min)<(0,k.distanceTo)(e,r.max))return"min"}return"max"}},{key:"getKeys",value:function t(){return this.isMultiValue()?["min","max"]:["max"]}},{key:"hasStepDifference",value:function t(e){var n=x.getValueFromProps(this.props,this.isMultiValue());return(0,k.length)(e.min,n.min)>=this.props.step||(0,k.length)(e.max,n.max)>=this.props.step}},{key:"isMultiValue",value:function t(){return(0,k.isObject)(this.props.value)}},{key:"isWithinRange",value:function t(e){return this.isMultiValue()?e.min>=this.props.minValue&&e.max<=this.props.maxValue&&this.props.allowSameValues?e.min<=e.max:e.min<e.max:e.max>=this.props.minValue&&e.max<=this.props.maxValue}},{key:"shouldUpdate",value:function t(e){return this.isWithinRange(e)&&this.hasStepDifference(e)}},{key:"updatePosition",value:function t(e,n){var r=x.getValueFromProps(this.props,this.isMultiValue()),i=x.getPositionsFromValues(r,this.props.minValue,this.props.maxValue,this.getTrackClientRect());i[e]=n,this.lastKeyMoved=e,this.updatePositions(i)}},{key:"updatePositions",value:function t(e){var n={min:x.getValueFromPosition(e.min,this.props.minValue,this.props.maxValue,this.getTrackClientRect()),max:x.getValueFromPosition(e.max,this.props.minValue,this.props.maxValue,this.getTrackClientRect())},r={min:x.getStepValueFromValue(n.min,this.props.step),max:x.getStepValueFromValue(n.max,this.props.step)};this.updateValues(r)}},{key:"updateValue",value:function t(e,n){var r=x.getValueFromProps(this.props,this.isMultiValue());r[e]=n,this.updateValues(r)}},{key:"updateValues",value:function t(e){this.shouldUpdate(e)&&this.props.onChange(this.isMultiValue()?e:e.max)}},{key:"incrementValue",value:function t(e){var n=x.getValueFromProps(this.props,this.isMultiValue()),r=n[e]+this.props.step;this.updateValue(e,r)}},{key:"decrementValue",value:function t(e){var n=x.getValueFromProps(this.props,this.isMultiValue()),r=n[e]-this.props.step;this.updateValue(e,r)}},{key:"addDocumentMouseUpListener",value:function t(){this.removeDocumentMouseUpListener(),this.node.ownerDocument.addEventListener("mouseup",this.handleMouseUp)}},{key:"addDocumentTouchEndListener",value:function t(){this.removeDocumentTouchEndListener(),this.node.ownerDocument.addEventListener("touchend",this.handleTouchEnd)}},{key:"removeDocumentMouseUpListener",value:function t(){this.node.ownerDocument.removeEventListener("mouseup",this.handleMouseUp)}},{key:"removeDocumentTouchEndListener",value:function t(){this.node.ownerDocument.removeEventListener("touchend",this.handleTouchEnd)}},{key:"handleSliderDrag",value:function t(e,n){var r=this;if(!this.props.disabled){var i=x.getPositionFromEvent(e,this.getTrackClientRect());this.isSliderDragging=!0,requestAnimationFrame(function(){return r.updatePosition(n,i)})}}},{key:"handleTrackDrag",value:function t(e,n){if(!this.props.disabled&&this.props.draggableTrack&&!this.isSliderDragging){var r=this.props,i=r.maxValue,o=r.minValue,a=r.value,s=a.max,u=a.min,c=x.getPositionFromEvent(e,this.getTrackClientRect()),l=x.getValueFromPosition(c,o,i,this.getTrackClientRect()),h=x.getStepValueFromValue(l,this.props.step),f=x.getPositionFromEvent(n,this.getTrackClientRect()),d=x.getValueFromPosition(f,o,i,this.getTrackClientRect()),p=x.getStepValueFromValue(d,this.props.step),m=p-h,v={min:u-m,max:s-m};this.updateValues(v)}}},{key:"handleSliderKeyDown",value:function t(e,n){if(!this.props.disabled)switch(e.keyCode){case N.LEFT_ARROW:case N.DOWN_ARROW:e.preventDefault(),this.decrementValue(n);break;case N.RIGHT_ARROW:case N.UP_ARROW:e.preventDefault(),this.incrementValue(n)}}},{key:"handleTrackMouseDown",value:function t(e,n){if(!this.props.disabled){var r=this.props,i=r.maxValue,o=r.minValue,a=r.value,s=a.max,u=a.min;e.preventDefault();var c=x.getValueFromPosition(n,o,i,this.getTrackClientRect()),l=x.getStepValueFromValue(c,this.props.step);(!this.props.draggableTrack||l>s||l<u)&&this.updatePosition(this.getKeyByPosition(n),n)}}},{key:"handleInteractionStart",value:function t(){this.props.onChangeStart&&this.props.onChangeStart(this.props.value),this.props.onChangeComplete&&!(0,k.isDefined)(this.startValue)&&(this.startValue=this.props.value)}},{key:"handleInteractionEnd",value:function t(){this.isSliderDragging&&(this.isSliderDragging=!1),this.props.onChangeComplete&&(0,k.isDefined)(this.startValue)&&(this.startValue!==this.props.value&&this.props.onChangeComplete(this.props.value),this.startValue=null)}},{key:"handleKeyDown",value:function t(e){this.handleInteractionStart(e)}},{key:"handleKeyUp",value:function t(e){this.handleInteractionEnd(e)}},{key:"handleMouseDown",value:function t(e){this.handleInteractionStart(e),this.addDocumentMouseUpListener()}},{key:"handleMouseUp",value:function t(e){this.handleInteractionEnd(e),this.removeDocumentMouseUpListener()}},{key:"handleTouchStart",value:function t(e){this.handleInteractionStart(e),this.addDocumentTouchEndListener()}},{key:"handleTouchEnd",value:function t(e){this.handleInteractionEnd(e),this.removeDocumentTouchEndListener()}},{key:"renderSliders",value:function t(){var e=this,n=x.getValueFromProps(this.props,this.isMultiValue()),r=x.getPercentagesFromValues(n,this.props.minValue,this.props.maxValue);return(this.props.allowSameValues&&"min"===this.lastKeyMoved?this.getKeys().reverse():this.getKeys()).map(function(t){var i=n[t],o=r[t],a=e.props,s=a.maxValue,u=a.minValue;return"min"===t?s=n.max:u=n.min,p.default.createElement(P.default,{ariaLabelledby:e.props.ariaLabelledby,ariaControls:e.props.ariaControls,classNames:e.props.classNames,formatLabel:e.props.formatLabel,key:t,maxValue:s,minValue:u,onSliderDrag:e.handleSliderDrag,onSliderKeyDown:e.handleSliderKeyDown,percentage:o,type:t,value:i})})}},{key:"renderHiddenInputs",value:function t(){var e=this;if(!this.props.name)return[];var n=this.isMultiValue(),r=x.getValueFromProps(this.props,n);return this.getKeys().map(function(t){var i=r[t],o=n?""+e.props.name+(0,k.captialize)(t):e.props.name;return p.default.createElement("input",{key:t,type:"hidden",name:o,value:i})})}},{key:"render",value:function t(){var e=this,n=this.getComponentClassName(),r=x.getValueFromProps(this.props,this.isMultiValue()),i=x.getPercentagesFromValues(r,this.props.minValue,this.props.maxValue);return p.default.createElement("div",{"aria-disabled":this.props.disabled,ref:function t(n){e.node=n},className:n,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart},p.default.createElement(M.default,{classNames:this.props.classNames,formatLabel:this.props.formatLabel,type:"min"},this.props.minValue),p.default.createElement(R.default,{classNames:this.props.classNames,draggableTrack:this.props.draggableTrack,ref:function t(n){e.trackNode=n},percentages:i,onTrackDrag:this.handleTrackDrag,onTrackMouseDown:this.handleTrackMouseDown},this.renderSliders()),p.default.createElement(M.default,{classNames:this.props.classNames,formatLabel:this.props.formatLabel,type:"max"},this.props.maxValue),this.renderHiddenInputs())}}]),e}(p.default.Component),u(f.prototype,"handleSliderDrag",[y.default],Object.getOwnPropertyDescriptor(f.prototype,"handleSliderDrag"),f.prototype),u(f.prototype,"handleTrackDrag",[y.default],Object.getOwnPropertyDescriptor(f.prototype,"handleTrackDrag"),f.prototype),u(f.prototype,"handleSliderKeyDown",[y.default],Object.getOwnPropertyDescriptor(f.prototype,"handleSliderKeyDown"),f.prototype),u(f.prototype,"handleTrackMouseDown",[y.default],Object.getOwnPropertyDescriptor(f.prototype,"handleTrackMouseDown"),f.prototype),u(f.prototype,"handleInteractionStart",[y.default],Object.getOwnPropertyDescriptor(f.prototype,"handleInteractionStart"),f.prototype),u(f.prototype,"handleInteractionEnd",[y.default],Object.getOwnPropertyDescriptor(f.prototype,"handleInteractionEnd"),f.prototype),u(f.prototype,"handleKeyDown",[y.default],Object.getOwnPropertyDescriptor(f.prototype,"handleKeyDown"),f.prototype),u(f.prototype,"handleKeyUp",[y.default],Object.getOwnPropertyDescriptor(f.prototype,"handleKeyUp"),f.prototype),u(f.prototype,"handleMouseDown",[y.default],Object.getOwnPropertyDescriptor(f.prototype,"handleMouseDown"),f.prototype),u(f.prototype,"handleMouseUp",[y.default],Object.getOwnPropertyDescriptor(f.prototype,"handleMouseUp"),f.prototype),u(f.prototype,"handleTouchStart",[y.default],Object.getOwnPropertyDescriptor(f.prototype,"handleTouchStart"),f.prototype),u(f.prototype,"handleTouchEnd",[y.default],Object.getOwnPropertyDescriptor(f.prototype,"handleTouchEnd"),f.prototype),f);e.default=I,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=e.width;return t.x/n||0}function i(t,e,n,i){return e+(n-e)*r(t,i)}function o(t,e){return e?f({},t.value):{min:t.minValue,max:t.value}}function a(t,e,n){return((0,d.clamp)(t,e,n)-e)/(n-e)||0}function s(t,e,n){return{min:a(t.min,e,n),max:a(t.max,e,n)}}function u(t,e,n,r){var i=r.width;return{x:a(t,e,n)*i,y:0}}function c(t,e,n,r){return{min:u(t.min,e,n,r),max:u(t.max,e,n,r)}}function l(t,e){var n=e.width,r=t.touches?t.touches[0]:t,i=r.clientX;return{x:(0,d.clamp)(i-e.left,0,n),y:0}}function h(t,e){return Math.round(t/e)*e}Object.defineProperty(e,"__esModule",{value:!0});var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.getPercentageFromPosition=r,e.getValueFromPosition=i,e.getValueFromProps=o,e.getPercentageFromValue=a,e.getPercentagesFromValues=s,e.getPositionFromValue=u,e.getPositionsFromValues=c,e.getPositionFromEvent=l,e.getStepValueFromValue=h;var d=n(182)},function(t,e,n){"use strict";function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n){return Math.min(Math.max(t,e),n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=Math.pow(e.x-t.x,2),r=Math.pow(e.y-t.y,2);return Math.sqrt(n+r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return void 0!==t&&null!==t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return"number"===typeof t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return null!==t&&"object"===("undefined"===typeof t?"undefined":i(t))}Object.defineProperty(e,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return Math.abs(t-e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={activeTrack:"input-range__track input-range__track--active",disabledInputRange:"input-range input-range--disabled",inputRange:"input-range",labelContainer:"input-range__label-container",maxLabel:"input-range__label input-range__label--max",minLabel:"input-range__label input-range__label--min",slider:"input-range__slider",sliderContainer:"input-range__slider-container",track:"input-range__track input-range__track--background",valueLabel:"input-range__label input-range__label--value"};e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){var e=t.maxValue,n=t.minValue;return(0,i.isNumber)(n)&&(0,i.isNumber)(e)?n>=e?new Error('"minValue" must be smaller than "maxValue"'):void 0:new Error('"minValue" and "maxValue" must be a number')}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(182);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=t.maxValue,r=t.minValue,o=t[e];return(0,i.isNumber)(o)||(0,i.isObject)(o)&&(0,i.isNumber)(o.min)&&(0,i.isNumber)(o.max)?(0,i.isNumber)(o)&&(o<r||o>n)?new Error('"'+e+'" must be in between "minValue" and "maxValue"'):(0,i.isObject)(o)&&(o.min<r||o.min>n||o.max<r||o.max>n)?new Error('"'+e+'" must be in between "minValue" and "maxValue"'):void 0:new Error('"'+e+'" must be a number or a range object')}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(182);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c,l,h,f=n(0),d=r(f),p=n(1),m=r(p),v=n(277),g=r(v),y=n(499),b=r(y),x=(h=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.node=null,n}return a(e,t),u(e,null,[{key:"propTypes",get:function t(){return{ariaLabelledby:m.default.string,ariaControls:m.default.string,classNames:m.default.objectOf(m.default.string).isRequired,formatLabel:m.default.func,maxValue:m.default.number,minValue:m.default.number,onSliderDrag:m.default.func.isRequired,onSliderKeyDown:m.default.func.isRequired,percentage:m.default.number.isRequired,type:m.default.string.isRequired,value:m.default.number.isRequired}}}]),u(e,[{key:"componentWillUnmount",value:function t(){this.removeDocumentMouseMoveListener(),this.removeDocumentMouseUpListener(),this.removeDocumentTouchEndListener(),this.removeDocumentTouchMoveListener()}},{key:"getStyle",value:function t(){return{position:"absolute",left:100*(this.props.percentage||0)+"%"}}},{key:"addDocumentMouseMoveListener",value:function t(){this.removeDocumentMouseMoveListener(),this.node.ownerDocument.addEventListener("mousemove",this.handleMouseMove)}},{key:"addDocumentMouseUpListener",value:function t(){this.removeDocumentMouseUpListener(),this.node.ownerDocument.addEventListener("mouseup",this.handleMouseUp)}},{key:"addDocumentTouchMoveListener",value:function t(){this.removeDocumentTouchMoveListener(),this.node.ownerDocument.addEventListener("touchmove",this.handleTouchMove)}},{key:"addDocumentTouchEndListener",value:function t(){this.removeDocumentTouchEndListener(),this.node.ownerDocument.addEventListener("touchend",this.handleTouchEnd)}},{key:"removeDocumentMouseMoveListener",value:function t(){this.node.ownerDocument.removeEventListener("mousemove",this.handleMouseMove)}},{key:"removeDocumentMouseUpListener",value:function t(){this.node.ownerDocument.removeEventListener("mouseup",this.handleMouseUp)}},{key:"removeDocumentTouchMoveListener",value:function t(){this.node.ownerDocument.removeEventListener("touchmove",this.handleTouchMove)}},{key:"removeDocumentTouchEndListener",value:function t(){this.node.ownerDocument.removeEventListener("touchend",this.handleTouchEnd)}},{key:"handleMouseDown",value:function t(){this.addDocumentMouseMoveListener(),this.addDocumentMouseUpListener()}},{key:"handleMouseUp",value:function t(){this.removeDocumentMouseMoveListener(),this.removeDocumentMouseUpListener()}},{key:"handleMouseMove",value:function t(e){this.props.onSliderDrag(e,this.props.type)}},{key:"handleTouchStart",value:function t(){this.addDocumentTouchEndListener(),this.addDocumentTouchMoveListener()}},{key:"handleTouchMove",value:function t(e){this.props.onSliderDrag(e,this.props.type)}},{key:"handleTouchEnd",value:function t(){this.removeDocumentTouchMoveListener(),this.removeDocumentTouchEndListener()}},{key:"handleKeyDown",value:function t(e){this.props.onSliderKeyDown(e,this.props.type)}},{key:"render",value:function t(){var e=this,n=this.getStyle();return d.default.createElement("span",{className:this.props.classNames.sliderContainer,ref:function t(n){e.node=n},style:n},d.default.createElement(b.default,{classNames:this.props.classNames,formatLabel:this.props.formatLabel,type:"value"},this.props.value),d.default.createElement("div",{"aria-labelledby":this.props.ariaLabelledby,"aria-controls":this.props.ariaControls,"aria-valuemax":this.props.maxValue,"aria-valuemin":this.props.minValue,"aria-valuenow":this.props.value,className:this.props.classNames.slider,draggable:"false",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,role:"slider",tabIndex:"0"}))}}]),e}(d.default.Component),s(h.prototype,"handleMouseDown",[g.default],Object.getOwnPropertyDescriptor(h.prototype,"handleMouseDown"),h.prototype),s(h.prototype,"handleMouseUp",[g.default],Object.getOwnPropertyDescriptor(h.prototype,"handleMouseUp"),h.prototype),s(h.prototype,"handleMouseMove",[g.default],Object.getOwnPropertyDescriptor(h.prototype,"handleMouseMove"),h.prototype),s(h.prototype,"handleTouchStart",[g.default],Object.getOwnPropertyDescriptor(h.prototype,"handleTouchStart"),h.prototype),s(h.prototype,"handleTouchMove",[g.default],Object.getOwnPropertyDescriptor(h.prototype,"handleTouchMove"),h.prototype),s(h.prototype,"handleTouchEnd",[g.default],Object.getOwnPropertyDescriptor(h.prototype,"handleTouchEnd"),h.prototype),s(h.prototype,"handleKeyDown",[g.default],Object.getOwnPropertyDescriptor(h.prototype,"handleKeyDown"),h.prototype),h);e.default=x,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c,l,h,f=n(0),d=r(f),p=n(1),m=r(p),v=n(277),g=r(v),y=(h=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.node=null,n.trackDragEvent=null,n}return a(e,t),u(e,null,[{key:"propTypes",get:function t(){return{children:m.default.node.isRequired,classNames:m.default.objectOf(m.default.string).isRequired,draggableTrack:m.default.bool,onTrackDrag:m.default.func,onTrackMouseDown:m.default.func.isRequired,percentages:m.default.objectOf(m.default.number).isRequired}}}]),u(e,[{key:"getClientRect",value:function t(){return this.node.getBoundingClientRect()}},{key:"getActiveTrackStyle",value:function t(){var e=100*(this.props.percentages.max-this.props.percentages.min)+"%";return{left:100*this.props.percentages.min+"%",width:e}}},{key:"addDocumentMouseMoveListener",value:function t(){this.removeDocumentMouseMoveListener(),this.node.ownerDocument.addEventListener("mousemove",this.handleMouseMove)}},{key:"addDocumentMouseUpListener",value:function t(){this.removeDocumentMouseUpListener(),this.node.ownerDocument.addEventListener("mouseup",this.handleMouseUp)}},{key:"removeDocumentMouseMoveListener",value:function t(){this.node.ownerDocument.removeEventListener("mousemove",this.handleMouseMove)}},{key:"removeDocumentMouseUpListener",value:function t(){this.node.ownerDocument.removeEventListener("mouseup",this.handleMouseUp)}},{key:"handleMouseMove",value:function t(e){this.props.draggableTrack&&(null!==this.trackDragEvent&&this.props.onTrackDrag(e,this.trackDragEvent),this.trackDragEvent=e)}},{key:"handleMouseUp",value:function t(){this.props.draggableTrack&&(this.removeDocumentMouseMoveListener(),this.removeDocumentMouseUpListener(),this.trackDragEvent=null)}},{key:"handleMouseDown",value:function t(e){var n=e.touches?e.touches[0].clientX:e.clientX,r=this.getClientRect(),i={x:n-r.left,y:0};this.props.onTrackMouseDown(e,i),this.props.draggableTrack&&(this.addDocumentMouseMoveListener(),this.addDocumentMouseUpListener())}},{key:"handleTouchStart",value:function t(e){e.preventDefault(),this.handleMouseDown(e)}},{key:"render",value:function t(){var e=this,n=this.getActiveTrackStyle();return d.default.createElement("div",{className:this.props.classNames.track,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,ref:function t(n){e.node=n}},d.default.createElement("div",{style:n,className:this.props.classNames.activeTrack}),this.props.children)}}]),e}(d.default.Component),s(h.prototype,"handleMouseMove",[g.default],Object.getOwnPropertyDescriptor(h.prototype,"handleMouseMove"),h.prototype),s(h.prototype,"handleMouseUp",[g.default],Object.getOwnPropertyDescriptor(h.prototype,"handleMouseUp"),h.prototype),s(h.prototype,"handleMouseDown",[g.default],Object.getOwnPropertyDescriptor(h.prototype,"handleMouseDown"),h.prototype),s(h.prototype,"handleTouchStart",[g.default],Object.getOwnPropertyDescriptor(h.prototype,"handleTouchStart"),h.prototype),h);e.default=y,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.DOWN_ARROW=40,i=e.LEFT_ARROW=37,o=e.RIGHT_ARROW=39,a=e.UP_ARROW=38},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return l});var a=n(0),s=n.n(a),u=n(18),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={toggleButtons:[]},n.updateChecked=n.updateChecked.bind(n),n}return o(e,t),c(e,[{key:"componentDidMount",value:function t(){this.setState({toggleButtons:this.props.buttons})}},{key:"updateChecked",value:function t(e){var n=this,r=this.state.toggleButtons,i=r.slice(0);i.forEach(function(t){t.checked=!1}),i[e].checked=!r[e].checked,this.setState({toggleButtons:i},function(){var t=n.state.toggleButtons;t[e].callback(t[e].checked)})}},{key:"render",value:function t(){var e=this,n=this.props.title,r=this.state.toggleButtons;return s.a.createElement(u.o,{className:"three-tool-component-container"},s.a.createElement(u.k,{className:"three-tool-component-label",attached:"top left"},n),s.a.createElement("div",{className:"three-tool-toggle-container"},s.a.createElement("div",{className:"three-toggle-multi-container"},r.map(function(t,n){return s.a.createElement("div",{className:"three-toggle-multi"},s.a.createElement("span",{className:"three-toggle-multi-label"},t.label),s.a.createElement(u.c,{className:"three-tool-toggle",checked:t.checked,toggle:!0,onClick:function t(){return e.updateChecked(n)}}),s.a.createElement("span",{className:"three-toggle-status"},t.checked?"on":"off"))}))))}}]),e}(a.Component),h=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={checked:!1},n.updateChecked=n.updateChecked.bind(n),n}return o(e,t),c(e,[{key:"componentDidMount",value:function t(){this.setState({checked:this.props.defaultVal})}},{key:"updateChecked",value:function t(){var e=!this.state.checked;this.setState({checked:e},this.props.callback(e))}},{key:"render",value:function t(){var e=this.props.title,n=this.state.checked;return s.a.createElement(u.o,{className:"three-tool-component-container"},s.a.createElement(u.k,{className:"three-tool-component-label",attached:"top left"},e),s.a.createElement("div",{className:"three-tool-toggle-container"},s.a.createElement(u.c,{className:"three-tool-toggle",checked:n,toggle:!0,onClick:this.updateChecked}),s.a.createElement("span",{className:"three-toggle-status"},n?"on":"off")))}}]),e}(a.Component);e.b=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"b",function(){return v}),n.d(e,"a",function(){return g});var a=n(0),s=n.n(a),u=n(1065),c=n.n(u),l=n(24),h=n(18),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function t(e){var n=e.r,r=e.g,i=e.b,o=[n,r,i];return new l.Color("rgb("+o.join(",")+")")},p=function t(e){var n=new l.Color(parseInt(e.substring(1),16)).multiplyScalar(255);return{r:n.r,g:n.g,b:n.b}},m=function t(e){var n=e.callback,r=e.title,i=e.color;return s.a.createElement(h.o,{className:"three-tool-component-container"},s.a.createElement(h.k,{className:"three-tool-component-label",attached:"top left"},r),s.a.createElement("div",{className:"three-color-picker-container"},s.a.createElement(u.CompactPicker,{className:"three-color-picker",color:i,onChangeComplete:function t(e){return n(d(e.rgb))}})))},v=function t(e){var n=e.callback,r=e.title,i=e.color;return s.a.createElement(h.o,{className:"three-tool-component-container"},s.a.createElement(h.k,{className:"three-tool-component-label",attached:"top left"},r),s.a.createElement("div",{className:"three-color-picker-container"},s.a.createElement(u.GithubPicker,{className:"three-color-picker",color:i,onChangeComplete:function t(e){return n(d(e.rgb))}})))},g=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={currentColor:{r:"255",g:"255",b:"255"},active:!1},n.pickColor=n.pickColor.bind(n),n.activate=n.activate.bind(n),n.handleChangeComplete=n.handleChangeComplete.bind(n),n}return o(e,t),f(e,[{key:"activate",value:function t(){this.setState({active:!this.state.active})}},{key:"pickColor",value:function t(e){if(this.state.active){var n=this.props,r=n.renderer,i=n.renderTarget,o=r.domElement,a=o.getBoundingClientRect(),s=new l.Vector2,u=o.width/a.width,c=o.height/a.height;s.x=(e.clientX-a.left)*u,s.y=(e.clientY-a.top)*c;var h=new Uint8Array(4);r.readRenderTargetPixels(i,s.x,o.height-s.y,1,1,h);var f={rgb:{r:h[0],g:h[1],b:h[2]}};this.handleChangeComplete(f)}}},{key:"handleChangeComplete",value:function t(e){var n=this;this.setState({currentColor:Object.assign({},e.rgb)},function(){n.props.callback(d(n.state.currentColor))})}},{key:"componentDidMount",value:function t(){this.props.renderer.domElement.addEventListener("click",this.pickColor,!0),void 0!==this.props.color&&(console.log(p(this.props.color)),this.setState({currentColor:Object.assign({},p(this.props.color))}))}},{key:"componentWillUnmount",value:function t(){this.props.renderer.domElement.removeEventListener("click",this.pickColor,!0)}},{key:"render",value:function t(){var e=this.props,n=e.renderer,r=e.renderTarget,i=e.title,o=e.color;return s.a.createElement(h.o,{className:"three-tool-component-container"},s.a.createElement(h.k,{className:"three-tool-component-label",attached:"top left"},i),s.a.createElement("div",{className:"three-color-picker-container"},s.a.createElement(h.b,{className:"three-controls-button",content:"pick color",icon:"eyedropper",onClick:this.activate,labelPosition:"right",color:"grey",active:this.state.active,inverted:!0}),s.a.createElement(u.CompactPicker,{className:"three-color-picker",color:this.state.currentColor,onChangeComplete:this.handleChangeComplete})))}}]),e}(a.Component);e.c=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CustomPicker=e.TwitterPicker=e.SwatchesPicker=e.SliderPicker=e.SketchPicker=e.PhotoshopPicker=e.MaterialPicker=e.HuePicker=e.GithubPicker=e.CompactPicker=e.ChromePicker=e.default=e.CirclePicker=e.BlockPicker=e.AlphaPicker=void 0;var i=n(1066);Object.defineProperty(e,"AlphaPicker",{enumerable:!0,get:function t(){return r(i).default}});var o=n(1089);Object.defineProperty(e,"BlockPicker",{enumerable:!0,get:function t(){return r(o).default}});var a=n(1091);Object.defineProperty(e,"CirclePicker",{enumerable:!0,get:function t(){return r(a).default}});var s=n(1093);Object.defineProperty(e,"ChromePicker",{enumerable:!0,get:function t(){return r(s).default}});var u=n(1097);Object.defineProperty(e,"CompactPicker",{enumerable:!0,get:function t(){return r(u).default}});var c=n(1100);Object.defineProperty(e,"GithubPicker",{enumerable:!0,get:function t(){return r(c).default}});var l=n(1102);Object.defineProperty(e,"HuePicker",{enumerable:!0,get:function t(){return r(l).default}});var h=n(1104);Object.defineProperty(e,"MaterialPicker",{enumerable:!0,get:function t(){return r(h).default}});var f=n(1105);Object.defineProperty(e,"PhotoshopPicker",{enumerable:!0,get:function t(){return r(f).default}});var d=n(1111);Object.defineProperty(e,"SketchPicker",{enumerable:!0,get:function t(){return r(d).default}});var p=n(1114);Object.defineProperty(e,"SliderPicker",{enumerable:!0,get:function t(){return r(p).default}});var m=n(1118);Object.defineProperty(e,"SwatchesPicker",{enumerable:!0,get:function t(){return r(m).default}});var v=n(1121);Object.defineProperty(e,"TwitterPicker",{enumerable:!0,get:function t(){return r(v).default}});var g=n(502);Object.defineProperty(e,"CustomPicker",{enumerable:!0,get:function t(){return r(g).default}});var y=r(s);e.default=y.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.AlphaPicker=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(12),u=r(s),c=n(20),l=n(1088),h=r(l),f=e.AlphaPicker=function t(e){var n=e.rgb,r=e.hsl,o=e.width,s=e.height,l=e.onChange,h=e.direction,f=e.style,d=e.renderers,p=e.pointer,m=e.className,v=void 0===m?"":m,g=(0,u.default)({default:{picker:{position:"relative",width:o,height:s},alpha:{radius:"2px",style:f}}});return a.default.createElement("div",{style:g.picker,className:"alpha-picker "+v},a.default.createElement(c.Alpha,i({},g.alpha,{rgb:n,hsl:r,pointer:p,renderers:d,onChange:l,direction:h})))};f.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:h.default},e.default=(0,c.ColorWrap)(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.flattenNames=void 0;var i=n(114),o=r(i),a=n(278),s=r(a),u=n(113),c=r(u),l=n(14),h=r(l),f=e.flattenNames=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,h.default)(e,function(e){Array.isArray(e)?t(e).map(function(t){return n.push(t)}):(0,c.default)(e)?(0,s.default)(e,function(t,e){!0===t&&n.push(e),n.push(e+"-"+t)}):(0,o.default)(e)&&n.push(e)}),n};e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeClasses=void 0;var i=n(278),o=r(i),a=n(1069),s=r(a),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=e.mergeClasses=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.default&&(0,s.default)(e.default)||{};return n.map(function(t){var n=e[t];return n&&(0,o.default)(n,function(t,e){r[e]||(r[e]={}),r[e]=u({},r[e],n[e])}),t}),r};e.default=c},function(t,e,n){function r(t){return i(t,o|a)}var i=n(243),o=1,a=4;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.autoprefix=void 0;var i=n(278),o=r(i),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s={borderRadius:function t(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function t(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function t(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function t(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function t(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function t(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function t(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function t(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function t(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function t(e,n){var r=n[e];return r||{extend:e}}},u=e.autoprefix=function t(e){var n={};return(0,o.default)(e,function(t,e){var r={};(0,o.default)(t,function(t,e){var n=s[e];n?r=a({},r,n(t)):r[e]=t}),n[e]=r}),n};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.hover=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(0),c=r(u),l=e.hover=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(t){function r(){var t,a,u,l;i(this,r);for(var h=arguments.length,f=Array(h),d=0;d<h;d++)f[d]=arguments[d];return a=u=o(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(f))),u.state={hover:!1},u.handleMouseOver=function(){return u.setState({hover:!0})},u.handleMouseOut=function(){return u.setState({hover:!1})},u.render=function(){return c.default.createElement(n,{onMouseOver:u.handleMouseOver,onMouseOut:u.handleMouseOut},c.default.createElement(e,s({},u.props,u.state)))},l=a,o(u,l)}return a(r,t),r}(c.default.Component)};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.active=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(0),c=r(u),l=e.active=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(t){function r(){var t,a,u,l;i(this,r);for(var h=arguments.length,f=Array(h),d=0;d<h;d++)f[d]=arguments[d];return a=u=o(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(f))),u.state={active:!1},u.handleMouseDown=function(){return u.setState({active:!0})},u.handleMouseUp=function(){return u.setState({active:!1})},u.render=function(){return c.default.createElement(n,{onMouseDown:u.handleMouseDown,onMouseUp:u.handleMouseUp},c.default.createElement(e,s({},u.props,u.state)))},l=a,o(u,l)}return a(r,t),r}(c.default.Component)};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e,n){var r={},i=function t(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r[e]=n};return 0===e&&i("first-child"),e===n-1&&i("last-child"),(0===e||e%2===0)&&i("even"),1===Math.abs(e%2)&&i("odd"),i("nth-child",e),r};e.default=r},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Alpha=void 0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(0),h=i(l),f=n(12),d=i(f),p=n(1075),m=r(p),v=n(500),g=i(v),y=e.Alpha=function(t){function e(){var t,n,r,i;o(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.handleChange=function(t,e){var n=m.calculateChange(t,e,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,t)},r.handleMouseDown=function(t){r.handleChange(t,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},i=n,a(r,i)}return s(e,t),c(e,[{key:"componentWillUnmount",value:function t(){this.unbindEventListeners()}},{key:"render",value:function t(){var e=this,n=this.props.rgb,r=(0,d.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+n.r+","+n.g+","+n.b+", 0) 0%,\n           rgba("+n.r+","+n.g+","+n.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*n.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+n.r+","+n.g+","+n.b+", 0) 0%,\n           rgba("+n.r+","+n.g+","+n.b+", 1) 100%)"},pointer:{left:0,top:100*n.a+"%"}},overwrite:u({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return h.default.createElement("div",{style:r.alpha},h.default.createElement("div",{style:r.checkboard},h.default.createElement(g.default,{renderers:this.props.renderers})),h.default.createElement("div",{style:r.gradient}),h.default.createElement("div",{style:r.container,ref:function t(n){return e.container=n},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},h.default.createElement("div",{style:r.pointer},this.props.pointer?h.default.createElement(this.props.pointer,this.props):h.default.createElement("div",{style:r.slider}))))}}]),e}(l.PureComponent||l.Component);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.calculateChange=function t(e,n,r,i){e.preventDefault();var o=i.clientWidth,a=i.clientHeight,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(i.getBoundingClientRect().left+window.pageXOffset),l=u-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===r.direction){var h=void 0;if(h=l<0?0:l>a?1:Math.round(100*l/a)/100,r.hsl.a!==h)return{h:r.hsl.h,s:r.hsl.s,l:r.hsl.l,a:h,source:"rgb"}}else{var f=void 0;if(f=c<0?0:c>o?1:Math.round(100*c/o)/100,r.a!==f)return{h:r.hsl.h,s:r.hsl.s,l:r.hsl.l,a:f,source:"rgb"}}return null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={},i=e.render=function t(e,n,r,i){if("undefined"===typeof document&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=2*r,o.height=2*r;var a=o.getContext("2d");return a?(a.fillStyle=e,a.fillRect(0,0,o.width,o.height),a.fillStyle=n,a.fillRect(0,0,r,r),a.translate(r,r),a.fillRect(0,0,r,r),o.toDataURL()):null},o=e.get=function t(e,n,o,a){var s=e+"-"+n+"-"+o+(a?"-server":""),u=i(e,n,o,a);return r[s]?r[s]:(r[s]=u,u)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.EditableInput=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),l=r(c),h=n(12),f=r(h),d=e.EditableInput=function(t){function e(t){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(t){n.props.label?n.props.onChange&&n.props.onChange(i({},n.props.label,t.target.value),t):n.props.onChange&&n.props.onChange(t.target.value,t),n.setState({value:t.target.value})},n.handleKeyDown=function(t){var e=String(t.target.value),r=e.indexOf("%")>-1,o=Number(e.replace(/%/g,""));if(!isNaN(o)){var a=n.props.arrowOffset||1;38===t.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(i({},n.props.label,o+a),t):n.props.onChange&&n.props.onChange(o+a,t),r?n.setState({value:o+a+"%"}):n.setState({value:o+a})),40===t.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(i({},n.props.label,o-a),t):n.props.onChange&&n.props.onChange(o-a,t),r?n.setState({value:o-a+"%"}):n.setState({value:o-a}))}},n.handleDrag=function(t){if(n.props.dragLabel){var e=Math.round(n.props.value+t.movementX);e>=0&&e<=n.props.dragMax&&n.props.onChange&&n.props.onChange(i({},n.props.label,e),t)}},n.handleMouseDown=function(t){n.props.dragLabel&&(t.preventDefault(),n.handleDrag(t),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},n}return s(e,t),u(e,[{key:"componentWillReceiveProps",value:function t(e){var n=this.input;e.value!==this.state.value&&(n===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function t(){this.unbindEventListeners()}},{key:"render",value:function t(){var e=this,n=(0,f.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return l.default.createElement("div",{style:n.wrap},l.default.createElement("input",{style:n.input,ref:function t(n){return e.input=n},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?l.default.createElement("span",{style:n.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(c.PureComponent||c.Component);e.default=d},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Hue=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),l=i(c),h=n(12),f=i(h),d=n(1079),p=r(d),m=e.Hue=function(t){function e(){var t,n,r,i;o(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.handleChange=function(t,e){var n=p.calculateChange(t,e,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,t)},r.handleMouseDown=function(t){r.handleChange(t,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},i=n,a(r,i)}return s(e,t),u(e,[{key:"componentWillUnmount",value:function t(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function t(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function t(){var e=this,n=this.props.direction,r=void 0===n?"horizontal":n,i=(0,f.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===r});return l.default.createElement("div",{style:i.hue},l.default.createElement("div",{className:"hue-"+r,style:i.container,ref:function t(n){return e.container=n},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),l.default.createElement("div",{style:i.pointer},this.props.pointer?l.default.createElement(this.props.pointer,this.props):l.default.createElement("div",{style:i.slider}))))}}]),e}(c.PureComponent||c.Component);e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.calculateChange=function t(e,n,r,i){e.preventDefault();var o=i.clientWidth,a=i.clientHeight,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(i.getBoundingClientRect().left+window.pageXOffset),l=u-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===r.direction){var h=void 0;if(l<0)h=359;else if(l>a)h=0;else{var f=-100*l/a+100;h=360*f/100}if(r.hsl.h!==h)return{h:h,s:r.hsl.s,l:r.hsl.l,a:r.hsl.a,source:"rgb"}}else{var d=void 0;if(c<0)d=0;else if(c>o)d=359;else{var p=100*c/o;d=360*p/100}if(r.hsl.h!==d)return{h:d,s:r.hsl.s,l:r.hsl.l,a:r.hsl.a,source:"rgb"}}return null}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Raised=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(12),c=r(u),l=e.Raised=function t(e){var n=e.zDepth,r=e.radius,i=e.background,a=e.children,s=(0,c.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+4*n+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===n});return o.default.createElement("div",{style:s.wrap},o.default.createElement("div",{style:s.bg}),o.default.createElement("div",{style:s.content},a))};l.propTypes={background:s.default.string,zDepth:s.default.oneOf([0,1,2,3,4,5]),radius:s.default.number},l.defaultProps={background:"#fff",zDepth:1,radius:2},e.default=l},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Saturation=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),l=i(c),h=n(12),f=i(h),d=n(1082),p=i(d),m=n(1084),v=r(m),g=e.Saturation=function(t){function e(t){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleChange=function(t,e){n.props.onChange&&n.throttle(n.props.onChange,v.calculateChange(t,e,n.props,n.container),t)},n.handleMouseDown=function(t){n.handleChange(t,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,p.default)(function(t,e,n){t(e,n)},50),n}return s(e,t),u(e,[{key:"componentWillUnmount",value:function t(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function t(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function t(){var e=this,n=this.props.style||{},r=n.color,i=n.white,o=n.black,a=n.pointer,s=n.circle,u=(0,f.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:r,white:i,black:o,pointer:a,circle:s}},{custom:!!this.props.style});return l.default.createElement("div",{style:u.color,ref:function t(n){return e.container=n},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),l.default.createElement("div",{style:u.white,className:"saturation-white"},l.default.createElement("div",{style:u.black,className:"saturation-black"}),l.default.createElement("div",{style:u.pointer},this.props.pointer?l.default.createElement(this.props.pointer,this.props):l.default.createElement("div",{style:u.circle}))))}}]),e}(c.PureComponent||c.Component);e.default=g},function(t,e,n){function r(t,e,n){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return o(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(t,e,{leading:r,maxWait:e,trailing:s})}var i=n(501),o=n(29),a="Expected a function";t.exports=r},function(t,e,n){var r=n(28),i=function(){return r.Date.now()};t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.calculateChange=function t(e,n,r,i){e.preventDefault();var o=i.getBoundingClientRect(),a=o.width,s=o.height,u="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,c="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=u-(i.getBoundingClientRect().left+window.pageXOffset),h=c-(i.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>a?l=a:h<0?h=0:h>s&&(h=s);var f=100*l/a,d=-100*h/s+100;return{h:r.hsl.h,s:f,v:d,a:r.hsl.a,source:"rgb"}}},function(t,e,n){var r;!function(Math){function i(t,e){if(t=t||"",e=e||{},t instanceof i)return t;if(!(this instanceof i))return new i(t,e);var n=o(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=H(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=H(this._r)),this._g<1&&(this._g=H(this._g)),this._b<1&&(this._b=H(this._b)),this._ok=n.ok,this._tc_id=V++}function o(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,c=!1;return"string"==typeof t&&(t=F(t)),"object"==typeof t&&(B(t.r)&&B(t.g)&&B(t.b)?(e=a(t.r,t.g,t.b),s=!0,c="%"===String(t.r).substr(-1)?"prgb":"rgb"):B(t.h)&&B(t.s)&&B(t.v)?(r=I(t.s),i=I(t.v),e=l(t.h,r,i),s=!0,c="hsv"):B(t.h)&&B(t.s)&&B(t.l)&&(r=I(t.s),o=I(t.l),e=u(t.h,r,o),s=!0,c="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=C(n),{ok:s,format:t.format||c,r:W(255,q(e.r,0)),g:W(255,q(e.g,0)),b:W(255,q(e.b,0)),a:n}}function a(t,e,n){return{r:255*O(t,255),g:255*O(e,255),b:255*O(n,255)}}function s(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var r=q(t,e,n),i=W(t,e,n),o,a,s=(r+i)/2;if(r==i)o=a=0;else{var u=r-i;switch(a=s>.5?u/(2-r-i):u/(r+i),r){case t:o=(e-n)/u+(e<n?6:0);break;case e:o=(n-t)/u+2;break;case n:o=(t-e)/u+4}o/=6}return{h:o,s:a,l:s}}function u(t,e,n){function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var i,o,a;if(t=O(t,360),e=O(e,100),n=O(n,100),0===e)i=o=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;i=r(u,s,t+1/3),o=r(u,s,t),a=r(u,s,t-1/3)}return{r:255*i,g:255*o,b:255*a}}function c(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var r=q(t,e,n),i=W(t,e,n),o,a,s=r,u=r-i;if(a=0===r?0:u/r,r==i)o=0;else{switch(r){case t:o=(e-n)/u+(e<n?6:0);break;case e:o=(n-t)/u+2;break;case n:o=(t-e)/u+4}o/=6}return{h:o,s:a,v:s}}function l(t,e,n){t=6*O(t,360),e=O(e,100),n=O(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=r%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}function h(t,e,n,r){var i=[N(H(t).toString(16)),N(H(e).toString(16)),N(H(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function f(t,e,n,r,i){var o=[N(H(t).toString(16)),N(H(e).toString(16)),N(H(n).toString(16)),N(j(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function d(t,e,n,r){return[N(j(r)),N(H(t).toString(16)),N(H(e).toString(16)),N(H(n).toString(16))].join("")}function p(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.s-=e/100,n.s=P(n.s),i(n)}function m(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.s+=e/100,n.s=P(n.s),i(n)}function v(t){return i(t).desaturate(100)}function g(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.l+=e/100,n.l=P(n.l),i(n)}function y(t,e){e=0===e?0:e||10;var n=i(t).toRgb();return n.r=q(0,W(255,n.r-H(-e/100*255))),n.g=q(0,W(255,n.g-H(-e/100*255))),n.b=q(0,W(255,n.b-H(-e/100*255))),i(n)}function b(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.l-=e/100,n.l=P(n.l),i(n)}function x(t,e){var n=i(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,i(n)}function _(t){var e=i(t).toHsl();return e.h=(e.h+180)%360,i(e)}function w(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+120)%360,s:e.s,l:e.l}),i({h:(n+240)%360,s:e.s,l:e.l})]}function E(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+90)%360,s:e.s,l:e.l}),i({h:(n+180)%360,s:e.s,l:e.l}),i({h:(n+270)%360,s:e.s,l:e.l})]}function M(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+72)%360,s:e.s,l:e.l}),i({h:(n+216)%360,s:e.s,l:e.l})]}function S(t,e,n){e=e||6,n=n||30;var r=i(t).toHsl(),o=360/n,a=[i(t)];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,a.push(i(r));return a}function T(t,e){e=e||6;for(var n=i(t).toHsv(),r=n.h,o=n.s,a=n.v,s=[],u=1/e;e--;)s.push(i({h:r,s:o,v:a})),a=(a+u)%1;return s}function A(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function C(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function O(t,e){R(t)&&(t="100%");var n=k(t);return t=W(e,q(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function P(t){return W(1,q(0,t))}function L(t){return parseInt(t,16)}function R(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function k(t){return"string"===typeof t&&-1!=t.indexOf("%")}function N(t){return 1==t.length?"0"+t:""+t}function I(t){return t<=1&&(t=100*t+"%"),t}function j(t){return Math.round(255*parseFloat(t)).toString(16)}function D(t){return L(t)/255}function B(t){return!!Z.CSS_UNIT.exec(t)}function F(t){t=t.replace(G,"").replace(z,"").toLowerCase();var e=!1;if(Y[t])t=Y[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Z.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Z.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Z.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Z.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Z.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Z.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Z.hex8.exec(t))?{r:L(n[1]),g:L(n[2]),b:L(n[3]),a:D(n[4]),format:e?"name":"hex8"}:(n=Z.hex6.exec(t))?{r:L(n[1]),g:L(n[2]),b:L(n[3]),format:e?"name":"hex"}:(n=Z.hex4.exec(t))?{r:L(n[1]+""+n[1]),g:L(n[2]+""+n[2]),b:L(n[3]+""+n[3]),a:D(n[4]+""+n[4]),format:e?"name":"hex8"}:!!(n=Z.hex3.exec(t))&&{r:L(n[1]+""+n[1]),g:L(n[2]+""+n[2]),b:L(n[3]+""+n[3]),format:e?"name":"hex"}}function U(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var G=/^\s+/,z=/\s+$/,V=0,H=Math.round,W=Math.min,q=Math.max,X=Math.random;i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t=this.toRgb(),e,n,r,i,o,a;return e=t.r/255,n=t.g/255,r=t.b/255,i=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),o=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),a=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),.2126*i+.7152*o+.0722*a},setAlpha:function(t){return this._a=C(t),this._roundA=H(100*this._a)/100,this},toHsv:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=c(this._r,this._g,this._b),e=H(360*t.h),n=H(100*t.s),r=H(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=s(this._r,this._g,this._b),e=H(360*t.h),n=H(100*t.s),r=H(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return h(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return f(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(100*O(this._r,255))+"%",g:H(100*O(this._g,255))+"%",b:H(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+H(100*O(this._r,255))+"%, "+H(100*O(this._g,255))+"%, "+H(100*O(this._b,255))+"%)":"rgba("+H(100*O(this._r,255))+"%, "+H(100*O(this._g,255))+"%, "+H(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(K[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+d(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var o=i(t);n="#"+d(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return i(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},i.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:I(t[r]));t=n}return i(t,e)},i.equals=function(t,e){return!(!t||!e)&&i(t).toRgbString()==i(e).toRgbString()},i.random=function(){return i.fromRatio({r:X(),g:X(),b:X()})},i.mix=function(t,e,n){n=0===n?0:n||50;var r=i(t).toRgb(),o=i(e).toRgb(),a=n/100;return i({r:(o.r-r.r)*a+r.r,g:(o.g-r.g)*a+r.g,b:(o.b-r.b)*a+r.b,a:(o.a-r.a)*a+r.a})},i.readability=function(t,e){var n=i(t),r=i(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},i.isReadable=function(t,e,n){var r=i.readability(t,e),o,a;switch(a=!1,o=U(n),o.level+o.size){case"AAsmall":case"AAAlarge":a=r>=4.5;break;case"AAlarge":a=r>=3;break;case"AAAsmall":a=r>=7}return a},i.mostReadable=function(t,e,n){var r=null,o=0,a,s,u,c;n=n||{},s=n.includeFallbackColors,u=n.level,c=n.size;for(var l=0;l<e.length;l++)(a=i.readability(t,e[l]))>o&&(o=a,r=i(e[l]));return i.isReadable(t,r,{level:u,size:c})||!s?r:(n.includeFallbackColors=!1,i.mostReadable(t,["#fff","#000"],n))};var Y=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},K=i.hexNames=A(Y),Z=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!==typeof t&&t.exports?t.exports=i:void 0!==(r=function(){return i}.call(e,n,e,t))&&(t.exports=r)}(Math)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Swatch=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(12),u=r(s),c=n(1087),l=n(20),h=13,f=e.Swatch=function t(e){var n=e.color,r=e.style,o=e.onClick,s=void 0===o?function(){}:o,c=e.onHover,h=e.title,f=void 0===h?n:h,d=e.children,p=e.focus,m=e.focusStyle,v=void 0===m?{}:m,g="transparent"===n,y=(0,u.default)({default:{swatch:i({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,p?v:{})}}),b=function t(e){return s(n,e)},x=function t(e){return 13===e.keyCode&&s(n,e)},_=function t(e){return c(n,e)},w={};return c&&(w.onMouseOver=_),a.default.createElement("div",i({style:y.swatch,onClick:b,title:f,tabIndex:0,onKeyDown:x},w),d,g&&a.default.createElement(l.Checkboard,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};e.default=(0,c.handleFocus)(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.handleFocus=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),l=r(c),h=e.handleFocus=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(t){function r(){var t,e,n,a;i(this,r);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return e=n=o(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(u))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},a=e,o(n,a)}return a(r,t),u(r,[{key:"render",value:function t(){return l.default.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},l.default.createElement(e,s({},this.props,this.state)))}}]),r}(l.default.Component)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.AlphaPointer=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=e.AlphaPointer=function t(e){var n=e.direction,r=(0,s.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===n});return o.default.createElement("div",{style:r.picker})};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Block=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(12),c=r(u),l=n(42),h=r(l),f=n(20),d=n(1090),p=r(d),m=e.Block=function t(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,a=e.colors,s=e.width,u=e.triangle,l=e.className,d=void 0===l?"":l,m="transparent"===i,v=function t(e,r){h.default.isValidHex(e)&&n({hex:e,source:"hex"},r)},g=(0,c.default)({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:h.default.getContrastingColor(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===u});return o.default.createElement("div",{style:g.card,className:"block-picker "+d},o.default.createElement("div",{style:g.triangle}),o.default.createElement("div",{style:g.head},m&&o.default.createElement(f.Checkboard,{borderRadius:"6px 6px 0 0"}),o.default.createElement("div",{style:g.label},i)),o.default.createElement("div",{style:g.body},o.default.createElement(p.default,{colors:a,onClick:v,onSwatchHover:r}),o.default.createElement(f.EditableInput,{style:{input:g.input},value:i,onChange:v})))};m.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.string),triangle:s.default.oneOf(["top","hide"])},m.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},e.default=(0,f.ColorWrap)(m)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.BlockSwatches=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=n(14),c=r(u),l=n(20),h=e.BlockSwatches=function t(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,a=(0,s.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return o.default.createElement("div",{style:a.swatches},(0,c.default)(n,function(t){return o.default.createElement(l.Swatch,{key:t,color:t,style:a.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}})}),o.default.createElement("div",{style:a.clear}))};e.default=h},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var o=n(0),a=i(o),s=n(1),u=i(s),c=n(12),l=i(c),h=n(14),f=i(h),d=n(503),p=r(d),m=n(20),v=n(1092),g=i(v),y=e.Circle=function t(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,u=e.circleSize,c=e.circleSpacing,h=e.className,d=void 0===h?"":h,p=(0,l.default)({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}}),m=function t(e,n){return r({hex:e,source:"hex"},n)};return a.default.createElement("div",{style:p.card,className:"circle-picker "+d},(0,f.default)(o,function(t){return a.default.createElement(g.default,{key:t,color:t,onClick:m,onSwatchHover:i,active:s===t.toLowerCase(),circleSize:u,circleSpacing:c})}))};y.propTypes={width:u.default.oneOfType([u.default.string,u.default.number]),circleSize:u.default.number,circleSpacing:u.default.number},y.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[p.red[500],p.pink[500],p.purple[500],p.deepPurple[500],p.indigo[500],p.blue[500],p.lightBlue[500],p.cyan[500],p.teal[500],p.green[500],p.lightGreen[500],p.lime[500],p.yellow[500],p.amber[500],p.orange[500],p.deepOrange[500],p.brown[500],p.blueGrey[500]]},e.default=(0,m.ColorWrap)(y)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CircleSwatch=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=n(20),c=e.CircleSwatch=function t(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,a=e.hover,c=e.active,l=e.circleSize,h=e.circleSpacing,f=(0,s.default)({default:{swatch:{width:l,height:l,marginRight:h,marginBottom:h,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+l/2+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:a,active:c});return o.default.createElement("div",{style:f.swatch},o.default.createElement(u.Swatch,{style:f.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:f.Swatch.boxShadow+", 0 0 5px "+n}}))};c.defaultProps={circleSize:28,circleSpacing:14},e.default=(0,a.handleHover)(c)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Chrome=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(12),c=r(u),l=n(20),h=n(1094),f=r(h),d=n(1095),p=r(d),m=n(1096),v=r(m),g=e.Chrome=function t(e){var n=e.onChange,r=e.disableAlpha,i=e.rgb,a=e.hsl,s=e.hsv,u=e.hex,h=e.renderers,d=e.className,m=void 0===d?"":d,g=(0,c.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:r});return o.default.createElement("div",{style:g.picker,className:"chrome-picker "+m},o.default.createElement("div",{style:g.saturation},o.default.createElement(l.Saturation,{style:g.Saturation,hsl:a,hsv:s,pointer:v.default,onChange:n})),o.default.createElement("div",{style:g.body},o.default.createElement("div",{style:g.controls,className:"flexbox-fix"},o.default.createElement("div",{style:g.color},o.default.createElement("div",{style:g.swatch},o.default.createElement("div",{style:g.active}),o.default.createElement(l.Checkboard,{renderers:h}))),o.default.createElement("div",{style:g.toggles},o.default.createElement("div",{style:g.hue},o.default.createElement(l.Hue,{style:g.Hue,hsl:a,pointer:p.default,onChange:n})),o.default.createElement("div",{style:g.alpha},o.default.createElement(l.Alpha,{style:g.Alpha,rgb:i,hsl:a,pointer:p.default,renderers:h,onChange:n})))),o.default.createElement(f.default,{rgb:i,hsl:a,hex:u,onChange:n,disableAlpha:r})))};g.propTypes={disableAlpha:s.default.bool},g.defaultProps={disableAlpha:!1},e.default=(0,l.ColorWrap)(g)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChromeFields=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),c=r(u),l=n(12),h=r(l),f=n(42),d=r(f),p=n(20),m=e.ChromeFields=function(t){function e(){var t,n,r,a;i(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(t,e){t.hex?d.default.isValidHex(t.hex)&&r.props.onChange({hex:t.hex,source:"hex"},e):t.r||t.g||t.b?r.props.onChange({r:t.r||r.props.rgb.r,g:t.g||r.props.rgb.g,b:t.b||r.props.rgb.b,source:"rgb"},e):t.a?(t.a<0?t.a=0:t.a>1&&(t.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*t.a)/100,source:"rgb"},e)):(t.h||t.s||t.l)&&r.props.onChange({h:t.h||r.props.hsl.h,s:Number(t.s&&t.s||r.props.hsl.s),l:Number(t.l&&t.l||r.props.hsl.l),source:"hsl"},e)},r.showHighlight=function(t){t.target.style.background="#eee"},r.hideHighlight=function(t){t.target.style.background="transparent"},a=n,o(r,a)}return a(e,t),s(e,[{key:"componentDidMount",value:function t(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function t(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function t(){var e=this,n=(0,h.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),r=void 0;return"hex"===this.state.view?r=c.default.createElement("div",{style:n.fields,className:"flexbox-fix"},c.default.createElement("div",{style:n.field},c.default.createElement(p.EditableInput,{style:{input:n.input,label:n.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?r=c.default.createElement("div",{style:n.fields,className:"flexbox-fix"},c.default.createElement("div",{style:n.field},c.default.createElement(p.EditableInput,{style:{input:n.input,label:n.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),c.default.createElement("div",{style:n.field},c.default.createElement(p.EditableInput,{style:{input:n.input,label:n.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),c.default.createElement("div",{style:n.field},c.default.createElement(p.EditableInput,{style:{input:n.input,label:n.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),c.default.createElement("div",{style:n.alpha},c.default.createElement(p.EditableInput,{style:{input:n.input,label:n.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(r=c.default.createElement("div",{style:n.fields,className:"flexbox-fix"},c.default.createElement("div",{style:n.field},c.default.createElement(p.EditableInput,{style:{input:n.input,label:n.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),c.default.createElement("div",{style:n.field},c.default.createElement(p.EditableInput,{style:{input:n.input,label:n.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),c.default.createElement("div",{style:n.field},c.default.createElement(p.EditableInput,{style:{input:n.input,label:n.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),c.default.createElement("div",{style:n.alpha},c.default.createElement(p.EditableInput,{style:{input:n.input,label:n.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),c.default.createElement("div",{style:n.wrap,className:"flexbox-fix"},r,c.default.createElement("div",{style:n.toggle},c.default.createElement("div",{style:n.icon,onClick:this.toggleViews,ref:function t(n){return e.icon=n}},c.default.createElement("svg",{style:n.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},c.default.createElement("path",{ref:function t(n){return e.iconUp=n},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),c.default.createElement("path",{ref:function t(n){return e.iconDown=n},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),e}(c.default.Component);e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ChromePointer=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=e.ChromePointer=function t(){var e=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return o.default.createElement("div",{style:e.picker})};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ChromePointerCircle=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=e.ChromePointerCircle=function t(){var e=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return o.default.createElement("div",{style:e.picker})};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Compact=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(12),c=r(u),l=n(14),h=r(l),f=n(42),d=r(f),p=n(20),m=n(1098),v=r(m),g=n(1099),y=r(g),b=e.Compact=function t(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,a=e.hex,s=e.rgb,u=e.className,l=void 0===u?"":u,f=(0,c.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),m=function t(e,r){e.hex?d.default.isValidHex(e.hex)&&n({hex:e.hex,source:"hex"},r):n(e,r)};return o.default.createElement(p.Raised,{style:f.Compact},o.default.createElement("div",{style:f.compact,className:"compact-picker "+l},o.default.createElement("div",null,(0,h.default)(i,function(t){return o.default.createElement(v.default,{key:t,color:t,active:t.toLowerCase()===a,onClick:m,onSwatchHover:r})}),o.default.createElement("div",{style:f.clear})),o.default.createElement(y.default,{hex:a,rgb:s,onChange:m})))};b.propTypes={colors:s.default.arrayOf(s.default.string)},b.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},e.default=(0,p.ColorWrap)(b)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CompactColor=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=n(42),c=r(u),l=n(20),h=e.CompactColor=function t(e){var n=e.color,r=e.onClick,i=void 0===r?function(){}:r,a=e.onSwatchHover,u=e.active,h=(0,s.default)({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:c.default.getContrastingColor(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:u,"color-#FFFFFF":"#FFFFFF"===n,transparent:"transparent"===n});return o.default.createElement(l.Swatch,{style:h.color,color:n,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+n}},o.default.createElement("div",{style:h.dot}))};e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CompactFields=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=n(20),c=e.CompactFields=function t(e){var n=e.hex,r=e.rgb,i=e.onChange,a=(0,s.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),c=function t(e,n){e.r||e.g||e.b?i({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n):i({hex:e.hex,source:"hex"},n)};return o.default.createElement("div",{style:a.fields,className:"flexbox-fix"},o.default.createElement("div",{style:a.active}),o.default.createElement(u.EditableInput,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"hex",value:n,onChange:c}),o.default.createElement(u.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:r.r,onChange:c}),o.default.createElement(u.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:r.g,onChange:c}),o.default.createElement(u.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:r.b,onChange:c}))};e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Github=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(12),c=r(u),l=n(14),h=r(l),f=n(20),d=n(1101),p=r(d),m=e.Github=function t(e){var n=e.width,r=e.colors,i=e.onChange,a=e.onSwatchHover,s=e.triangle,u=e.className,l=void 0===u?"":u,f=(0,c.default)({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s,"bottom-left-triangle":"bottom-left"==s,"bottom-right-triangle":"bottom-right"===s}),d=function t(e,n){return i({hex:e,source:"hex"},n)};return o.default.createElement("div",{style:f.card,className:"github-picker "+l},o.default.createElement("div",{style:f.triangleShadow}),o.default.createElement("div",{style:f.triangle}),(0,h.default)(r,function(t){return o.default.createElement(p.default,{color:t,key:t,onClick:d,onSwatchHover:a})}))};m.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.string),triangle:s.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"])},m.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},e.default=(0,f.ColorWrap)(m)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.GithubSwatch=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=n(20),c=e.GithubSwatch=function t(e){var n=e.hover,r=e.color,i=e.onClick,a=e.onSwatchHover,c={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},l=(0,s.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:c}},{hover:n});return o.default.createElement("div",{style:l.swatch},o.default.createElement(u.Swatch,{color:r,onClick:i,onHover:a,focusStyle:c}))};e.default=(0,a.handleHover)(c)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.HuePicker=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(12),u=r(s),c=n(20),l=n(1103),h=r(l),f=e.HuePicker=function t(e){var n=e.width,r=e.height,o=e.onChange,s=e.hsl,l=e.direction,h=e.pointer,f=e.className,d=void 0===f?"":f,p=(0,u.default)({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}}),m=function t(e){return o({a:1,h:e.h,l:.5,s:1})};return a.default.createElement("div",{style:p.picker,className:"hue-picker "+d},a.default.createElement(c.Hue,i({},p.hue,{hsl:s,pointer:h,onChange:m,direction:l})))};f.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:h.default},e.default=(0,c.ColorWrap)(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SliderPointer=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=e.SliderPointer=function t(e){var n=e.direction,r=(0,s.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===n});return o.default.createElement("div",{style:r.picker})};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Material=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=n(42),c=r(u),l=n(20),Material=e.Material=function Material(t){var e=t.onChange,n=t.hex,r=t.rgb,i=t.className,a=void 0===i?"":i,u=(0,s.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),h=function t(n,i){n.hex?c.default.isValidHex(n.hex)&&e({hex:n.hex,source:"hex"},i):(n.r||n.g||n.b)&&e({r:n.r||r.r,g:n.g||r.g,b:n.b||r.b,source:"rgb"},i)};return o.default.createElement(l.Raised,null,o.default.createElement("div",{style:u.material,className:"material-picker "+a},o.default.createElement(l.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:n,onChange:h}),o.default.createElement("div",{style:u.split,className:"flexbox-fix"},o.default.createElement("div",{style:u.third},o.default.createElement(l.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:r.r,onChange:h})),o.default.createElement("div",{style:u.third},o.default.createElement(l.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:r.g,onChange:h})),o.default.createElement("div",{style:u.third},o.default.createElement(l.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:r.b,onChange:h})))))};e.default=(0,l.ColorWrap)(Material)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Photoshop=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),c=r(u),l=n(1),h=r(l),f=n(12),d=r(f),p=n(20),m=n(1106),v=r(m),g=n(1107),y=r(g),b=n(1108),x=r(b),_=n(1109),w=r(_),E=n(1110),M=r(E),S=e.Photoshop=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:t.hex},n}return a(e,t),s(e,[{key:"render",value:function t(){var e=this.props.className,n=void 0===e?"":e,r=(0,d.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return c.default.createElement("div",{style:r.picker,className:"photoshop-picker "+n},c.default.createElement("div",{style:r.head},this.props.header),c.default.createElement("div",{style:r.body,className:"flexbox-fix"},c.default.createElement("div",{style:r.saturation},c.default.createElement(p.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:y.default,onChange:this.props.onChange})),c.default.createElement("div",{style:r.hue},c.default.createElement(p.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:x.default,onChange:this.props.onChange})),c.default.createElement("div",{style:r.controls},c.default.createElement("div",{style:r.top,className:"flexbox-fix"},c.default.createElement("div",{style:r.previews},c.default.createElement(M.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),c.default.createElement("div",{style:r.actions},c.default.createElement(w.default,{label:"OK",onClick:this.props.onAccept,active:!0}),c.default.createElement(w.default,{label:"Cancel",onClick:this.props.onCancel}),c.default.createElement(v.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(c.default.Component);S.propTypes={header:h.default.string},S.defaultProps={header:"Color Picker"},e.default=(0,p.ColorWrap)(S)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopPicker=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=n(42),c=r(u),l=n(20),h=e.PhotoshopPicker=function t(e){var n=e.onChange,r=e.rgb,i=e.hsv,a=e.hex,u=(0,s.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),h=function t(e,o){e["#"]?c.default.isValidHex(e["#"])&&n({hex:e["#"],source:"hex"},o):e.r||e.g||e.b?n({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},o):(e.h||e.s||e.v)&&n({h:e.h||i.h,s:e.s||i.s,v:e.v||i.v,source:"hsv"},o)};return o.default.createElement("div",{style:u.fields},o.default.createElement(l.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"h",value:Math.round(i.h),onChange:h}),o.default.createElement(l.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"s",value:Math.round(100*i.s),onChange:h}),o.default.createElement(l.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"v",value:Math.round(100*i.v),onChange:h}),o.default.createElement("div",{style:u.divider}),o.default.createElement(l.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:r.r,onChange:h}),o.default.createElement(l.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:r.g,onChange:h}),o.default.createElement(l.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:r.b,onChange:h}),o.default.createElement("div",{style:u.divider}),o.default.createElement(l.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"#",value:a.replace("#",""),onChange:h}),o.default.createElement("div",{style:u.fieldSymbols},o.default.createElement("div",{style:u.symbol},"\xb0"),o.default.createElement("div",{style:u.symbol},"%"),o.default.createElement("div",{style:u.symbol},"%")))};e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopPointerCircle=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=e.PhotoshopPointerCircle=function t(e){var n=e.hsl,r=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return o.default.createElement("div",{style:r.picker})};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopPointerCircle=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=e.PhotoshopPointerCircle=function t(){var e=(0,s.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return o.default.createElement("div",{style:e.pointer},o.default.createElement("div",{style:e.left},o.default.createElement("div",{style:e.leftInside})),o.default.createElement("div",{style:e.right},o.default.createElement("div",{style:e.rightInside})))};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopBotton=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=e.PhotoshopBotton=function t(e){var n=e.onClick,r=e.label,i=e.children,a=e.active,u=(0,s.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return o.default.createElement("div",{style:u.button,onClick:n},r||i)};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopPreviews=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=e.PhotoshopPreviews=function t(e){var n=e.rgb,r=e.currentColor,i=(0,s.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return o.default.createElement("div",null,o.default.createElement("div",{style:i.label},"new"),o.default.createElement("div",{style:i.swatches},o.default.createElement("div",{style:i.new}),o.default.createElement("div",{style:i.current})),o.default.createElement("div",{style:i.label},"current"))};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Sketch=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(12),c=r(u),l=n(20),h=n(1112),f=r(h),d=n(1113),p=r(d),m=e.Sketch=function t(e){var n=e.width,r=e.rgb,i=e.hex,a=e.hsv,s=e.hsl,u=e.onChange,h=e.onSwatchHover,d=e.disableAlpha,m=e.presetColors,v=e.renderers,g=e.className,y=void 0===g?"":g,b=(0,c.default)({default:{picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:d});return o.default.createElement("div",{style:b.picker,className:"sketch-picker "+y},o.default.createElement("div",{style:b.saturation},o.default.createElement(l.Saturation,{style:b.Saturation,hsl:s,hsv:a,onChange:u})),o.default.createElement("div",{style:b.controls,className:"flexbox-fix"},o.default.createElement("div",{style:b.sliders},o.default.createElement("div",{style:b.hue},o.default.createElement(l.Hue,{style:b.Hue,hsl:s,onChange:u})),o.default.createElement("div",{style:b.alpha},o.default.createElement(l.Alpha,{style:b.Alpha,rgb:r,hsl:s,renderers:v,onChange:u}))),o.default.createElement("div",{style:b.color},o.default.createElement(l.Checkboard,null),o.default.createElement("div",{style:b.activeColor}))),o.default.createElement(f.default,{rgb:r,hsl:s,hex:i,onChange:u,disableAlpha:d}),o.default.createElement(p.default,{colors:m,onClick:u,onSwatchHover:h}))};m.propTypes={disableAlpha:s.default.bool,width:s.default.oneOfType([s.default.string,s.default.number])},m.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},e.default=(0,l.ColorWrap)(m)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SketchFields=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=n(42),c=r(u),l=n(20),h=e.SketchFields=function t(e){var n=e.onChange,r=e.rgb,i=e.hsl,a=e.hex,u=e.disableAlpha,h=(0,s.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),f=function t(e,o){e.hex?c.default.isValidHex(e.hex)&&n({hex:e.hex,source:"hex"},o):e.r||e.g||e.b?n({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,a:r.a,source:"rgb"},o):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,n({h:i.h,s:i.s,l:i.l,a:e.a,source:"rgb"},o))};return o.default.createElement("div",{style:h.fields,className:"flexbox-fix"},o.default.createElement("div",{style:h.double},o.default.createElement(l.EditableInput,{style:{input:h.input,label:h.label},label:"hex",value:a.replace("#",""),onChange:f})),o.default.createElement("div",{style:h.single},o.default.createElement(l.EditableInput,{style:{input:h.input,label:h.label},label:"r",value:r.r,onChange:f,dragLabel:"true",dragMax:"255"})),o.default.createElement("div",{style:h.single},o.default.createElement(l.EditableInput,{style:{input:h.input,label:h.label},label:"g",value:r.g,onChange:f,dragLabel:"true",dragMax:"255"})),o.default.createElement("div",{style:h.single},o.default.createElement(l.EditableInput,{style:{input:h.input,label:h.label},label:"b",value:r.b,onChange:f,dragLabel:"true",dragMax:"255"})),o.default.createElement("div",{style:h.alpha},o.default.createElement(l.EditableInput,{style:{input:h.input,label:h.label},label:"a",value:Math.round(100*r.a),onChange:f,dragLabel:"true",dragMax:"100"})))};e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SketchPresetColors=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),u=r(s),c=n(12),l=r(c),h=n(20),f=e.SketchPresetColors=function t(e){var n=e.colors,r=e.onClick,o=void 0===r?function(){}:r,s=e.onSwatchHover,u=(0,l.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),c=function t(e,n){o({hex:e,source:"hex"},n)};return a.default.createElement("div",{style:u.colors,className:"flexbox-fix"},n.map(function(t){var e="string"===typeof t?{color:t}:t,n=""+e.color+(e.title||"");return a.default.createElement("div",{key:n,style:u.swatchWrap},a.default.createElement(h.Swatch,i({},e,{style:u.swatch,onClick:c,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+e.color}})))}))};f.propTypes={colors:u.default.arrayOf(u.default.oneOfType([u.default.string,u.default.shape({color:u.default.string,title:u.default.string})])).isRequired},e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=n(20),c=n(1115),l=r(c),h=n(1117),f=r(h),d=e.Slider=function t(e){var n=e.hsl,r=e.onChange,i=e.pointer,a=e.className,c=void 0===a?"":a,h=(0,s.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return o.default.createElement("div",{className:"slider-picker "+c},o.default.createElement("div",{style:h.hue},o.default.createElement(u.Hue,{style:h.Hue,hsl:n,pointer:i,onChange:r})),o.default.createElement("div",{style:h.swatches},o.default.createElement(l.default,{hsl:n,onClick:r})))};d.defaultProps={pointer:f.default},e.default=(0,u.ColorWrap)(d)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SliderSwatches=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=n(1116),c=r(u),l=e.SliderSwatches=function t(e){var n=e.onClick,r=e.hsl,i=(0,s.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return o.default.createElement("div",{style:i.swatches},o.default.createElement("div",{style:i.swatch},o.default.createElement(c.default,{hsl:r,offset:".80",active:Math.round(100*r.l)/100===.8&&Math.round(100*r.s)/100===.5,onClick:n,first:!0})),o.default.createElement("div",{style:i.swatch},o.default.createElement(c.default,{hsl:r,offset:".65",active:Math.round(100*r.l)/100===.65&&Math.round(100*r.s)/100===.5,onClick:n})),o.default.createElement("div",{style:i.swatch},o.default.createElement(c.default,{hsl:r,offset:".50",active:Math.round(100*r.l)/100===.5&&Math.round(100*r.s)/100===.5,onClick:n})),o.default.createElement("div",{style:i.swatch},o.default.createElement(c.default,{hsl:r,offset:".35",active:Math.round(100*r.l)/100===.35&&Math.round(100*r.s)/100===.5,onClick:n})),o.default.createElement("div",{style:i.swatch},o.default.createElement(c.default,{hsl:r,offset:".20",active:Math.round(100*r.l)/100===.2&&Math.round(100*r.s)/100===.5,onClick:n,last:!0})),o.default.createElement("div",{style:i.clear}))};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SliderSwatch=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=e.SliderSwatch=function t(e){var n=e.hsl,r=e.offset,i=e.onClick,a=void 0===i?function(){}:i,u=e.active,c=e.first,l=e.last,h=(0,s.default)({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+100*r+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:u,first:c,last:l}),f=function t(e){return a({h:n.h,s:.5,l:r,source:"hsl"},e)};return o.default.createElement("div",{style:h.swatch,onClick:f})};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SliderPointer=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=e.SliderPointer=function t(){var e=(0,s.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return o.default.createElement("div",{style:e.picker})};e.default=u},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Swatches=void 0;var o=n(0),a=i(o),s=n(1),u=i(s),c=n(12),l=i(c),h=n(14),f=i(h),d=n(42),p=i(d),m=n(503),v=r(m),g=n(20),y=n(1119),b=i(y),x=e.Swatches=function t(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,u=e.hex,c=e.className,h=void 0===c?"":c,d=(0,l.default)({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),m=function t(e,n){p.default.isValidHex(e)&&i({hex:e,source:"hex"},n)};return a.default.createElement("div",{style:d.picker,className:"swatches-picker "+h},a.default.createElement(g.Raised,null,a.default.createElement("div",{style:d.overflow},a.default.createElement("div",{style:d.body},(0,f.default)(s,function(t){return a.default.createElement(b.default,{key:t.toString(),group:t,active:u,onClick:m,onSwatchHover:o})}),a.default.createElement("div",{style:d.clear})))))};x.propTypes={width:u.default.oneOfType([u.default.string,u.default.number]),height:u.default.oneOfType([u.default.string,u.default.number]),colors:u.default.arrayOf(u.default.arrayOf(u.default.string))},x.defaultProps={width:320,height:240,colors:[[v.red[900],v.red[700],v.red[500],v.red[300],v.red[100]],[v.pink[900],v.pink[700],v.pink[500],v.pink[300],v.pink[100]],[v.purple[900],v.purple[700],v.purple[500],v.purple[300],v.purple[100]],[v.deepPurple[900],v.deepPurple[700],v.deepPurple[500],v.deepPurple[300],v.deepPurple[100]],[v.indigo[900],v.indigo[700],v.indigo[500],v.indigo[300],v.indigo[100]],[v.blue[900],v.blue[700],v.blue[500],v.blue[300],v.blue[100]],[v.lightBlue[900],v.lightBlue[700],v.lightBlue[500],v.lightBlue[300],v.lightBlue[100]],[v.cyan[900],v.cyan[700],v.cyan[500],v.cyan[300],v.cyan[100]],[v.teal[900],v.teal[700],v.teal[500],v.teal[300],v.teal[100]],["#194D33",v.green[700],v.green[500],v.green[300],v.green[100]],[v.lightGreen[900],v.lightGreen[700],v.lightGreen[500],v.lightGreen[300],v.lightGreen[100]],[v.lime[900],v.lime[700],v.lime[500],v.lime[300],v.lime[100]],[v.yellow[900],v.yellow[700],v.yellow[500],v.yellow[300],v.yellow[100]],[v.amber[900],v.amber[700],v.amber[500],v.amber[300],v.amber[100]],[v.orange[900],v.orange[700],v.orange[500],v.orange[300],v.orange[100]],[v.deepOrange[900],v.deepOrange[700],v.deepOrange[500],v.deepOrange[300],v.deepOrange[100]],[v.brown[900],v.brown[700],v.brown[500],v.brown[300],v.brown[100]],[v.blueGrey[900],v.blueGrey[700],v.blueGrey[500],v.blueGrey[300],v.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},e.default=(0,g.ColorWrap)(x)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SwatchesGroup=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=n(14),c=r(u),l=n(1120),h=r(l),f=e.SwatchesGroup=function t(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,a=e.active,u=(0,s.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return o.default.createElement("div",{style:u.group},(0,c.default)(i,function(t,e){return o.default.createElement(h.default,{key:t,color:t,active:t.toLowerCase()===a,first:0===e,last:e===i.length-1,onClick:n,onSwatchHover:r})}))};e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SwatchesColor=void 0;var i=n(0),o=r(i),a=n(12),s=r(a),u=n(42),c=r(u),l=n(20),h=e.SwatchesColor=function t(e){var n=e.color,r=e.onClick,i=void 0===r?function(){}:r,a=e.onSwatchHover,u=e.first,h=e.last,f=e.active,d=(0,s.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{fill:c.default.getContrastingColor(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:u,last:h,active:f,"color-#FFFFFF":"#FFFFFF"===n,transparent:"transparent"===n});return o.default.createElement(l.Swatch,{color:n,style:d.color,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+n}},o.default.createElement("div",{style:d.check},o.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},o.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Twitter=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(12),c=r(u),l=n(14),h=r(l),f=n(42),d=r(f),p=n(20),m=e.Twitter=function t(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,a=e.colors,s=e.width,u=e.triangle,l=e.className,f=void 0===l?"":l,m=(0,c.default)({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===u,"top-left-triangle":"top-left"===u,"top-right-triangle":"top-right"===u}),v=function t(e,r){d.default.isValidHex(e)&&n({hex:e,source:"hex"},r)};return o.default.createElement("div",{style:m.card,className:"twitter-picker "+f},o.default.createElement("div",{style:m.triangleShadow}),o.default.createElement("div",{style:m.triangle}),o.default.createElement("div",{style:m.body},(0,h.default)(a,function(t,e){return o.default.createElement(p.Swatch,{key:e,color:t,hex:t,style:m.swatch,onClick:v,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}})}),o.default.createElement("div",{style:m.hash},"#"),o.default.createElement(p.EditableInput,{style:{input:m.input},value:i.replace("#",""),onChange:v}),o.default.createElement("div",{style:m.clear})))};m.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),triangle:s.default.oneOf(["hide","top-left","top-right"]),colors:s.default.arrayOf(s.default.string)},m.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},e.default=(0,p.ColorWrap)(m)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(18),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={activeIndex:-1,menuExpanded:!1},n.selectTool=n.selectTool.bind(n),n.expandMenu=n.expandMenu.bind(n),n}return o(e,t),c(e,[{key:"selectTool",value:function t(e){this.state.activeIndex===e?this.setState({activeIndex:-1}):this.setState({activeIndex:e})}},{key:"expandMenu",value:function t(e){var n=this;this.setState({menuExpanded:!this.state.menuExpanded},function(){e&&e(n.state.menuExpanded)})}},{key:"render",value:function t(){var e=this,n=this.state,r=n.activeIndex,i=n.menuExpanded,o=this.props.tools,a="three-tool-menu",c="three-tool-menu-dropdown";return s.a.createElement("div",{className:a+=i?" expanded":" collapsed"},s.a.createElement(u.a,{className:c+=i?" expanded":" collapsed",inverted:!0},o.map(function(t,n){return s.a.createElement("div",{key:n,className:"three-tool-container"},s.a.createElement(u.a.Title,{active:r===n,key:n,onClick:function t(){return e.selectTool(n)}},s.a.createElement("h3",null,s.a.createElement(u.j,{name:"dropdown"}),t.group)),s.a.createElement(u.a.Content,{active:r===n},t.components.map(function(t,e){return s.a.createElement("div",{className:"three-tool",key:e},t.component)})))})))}}]),e}(a.Component),h=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(18),c=n(279),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=n(504),f=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={url:null,filename:null,inBuffer:!1},n.uuid=h(),n.captureScreenshot=n.captureScreenshot.bind(n),n.handleClientDownload=n.handleClientDownload.bind(n),n}return o(e,t),l(e,[{key:"captureScreenshot",value:function t(){var e=this.state,n=e.url,r=e.filename,i=e.inBuffer;this.setState({url:this.props.renderer.domElement.toDataURL(this.props.mime),filename:this.uuid.new()+"."+this.props.extension,inBuffer:!0})}},{key:"handleClientDownload",value:function t(e){this.setState({inBuffer:!1})}},{key:"render",value:function t(){var e=this.props.extension,n=this.state,r=n.url,i=n.filename,o=n.inBuffer,a="three-data-download-link";return s.a.createElement("div",{className:"three-screenshot-button-container"},s.a.createElement(c.a,{content:"screenshot",className:"three-controls-button",icon:"photo",onClick:this.captureScreenshot,labelPosition:"right",color:"grey"}),s.a.createElement("a",{href:r,download:i,className:a+=o?" show":" hide",onClick:this.handleClientDownload},s.a.createElement(u.k,{basic:!0,icon:"cloud download",content:"download"})))}}]),e}(a.Component);e.a=f},function(t,e,n){function r(t,e){var n=new i(t,e);return function(t){return n.convert(t)}}var i=n(1125);r.BIN="01",r.OCT="01234567",r.DEC="0123456789",r.HEX="0123456789abcdef",t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!t||!e||!t.length||!e.length)throw new Error("Bad alphabet");this.srcAlphabet=t,this.dstAlphabet=e}r.prototype.convert=function(t){var e,n,r,i={},o=this.srcAlphabet.length,a=this.dstAlphabet.length,s=t.length,u="string"===typeof t?"":[];if(!this.isValid(t))throw new Error('Number "'+t+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return t;for(e=0;e<s;e++)i[e]=this.srcAlphabet.indexOf(t[e]);do{for(n=0,r=0,e=0;e<s;e++)n=n*o+i[e],n>=a?(i[r++]=parseInt(n/a,10),n%=a):r>0&&(i[r++]=0);s=r,u=this.dstAlphabet.slice(n,n+1).concat(u)}while(0!==r);return u},r.prototype.isValid=function(t){for(var e=0;e<t.length;++e)if(-1===this.srcAlphabet.indexOf(t[e]))return!1;return!0},t.exports=r},function(t,e,n){function r(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var a=t.random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[r+s]=a[s];return e||o(a)}var i=n(1127),o=n(1128);t.exports=r},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function t(){return n(r),r}}else{var i=new Array(16);t.exports=function t(){for(var e=0,n;e<16;e++)0===(3&e)&&(n=4294967296*Math.random()),i[e]=n>>>((3&e)<<3)&255;return i}}},function(t,e){function n(t,e){var n=e||0,i=r;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(18),c=n(279),l=n(1130),h=n(1133),f=n(24),d=n(1134),p=n.n(d),m=n(16),v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=n(504),y=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.FORMATS={OBJ:{ext:".obj",mime:"text/plain",exporter:null},STL:{ext:".stl",mime:"text/plain",exporter:null}},n.OBJ_FORMAT="OBJ",n.STL_FORMAT="STL",n.MIME="text/plain",n.state={url:null,OBJKey:null,STLKey:null,dbLoaded:!1,menuVisible:!1,filename:null},n.uuid=g(),n.export=n.export.bind(n),n.save=n.save.bind(n),n.initCache=n.initCache.bind(n),n.toggleExportMenu=n.toggleExportMenu.bind(n),n.handleClientDownload=n.handleClientDownload.bind(n),n.OBJExporter=null,n.STLExporter=null,n}return o(e,t),v(e,[{key:"componentDidMount",value:function t(){var e=this;Object(l.a)(this.props.threeInstance).then(function(){e.FORMATS[e.OBJ_FORMAT].exporter=new e.props.threeInstance.OBJExporter,e.FORMATS[e.STL_FORMAT].exporter=new e.props.threeInstance.STLExporter,e.initCache()})}},{key:"componentWillUnmount",value:function t(){this._cache.close()}},{key:"initCache",value:function t(){var e=this;this._cache=new h.a("ThreeMesh",{name:"ThreeMeshIndex",items:["mesh.name","mesh.format"]}),this._cache.open().then(function(){return e.setState({dbLoaded:!0})}).catch(function(t){return console.log(t)})}},{key:"export",value:function t(e,n){var r=this;e.preventDefault(),e.stopPropagation();var i=void 0!==this.props.mesh.children[0]?this.props.mesh.children[0].name:this.props.mesh.name;if(!1!==this.state.dbLoaded)var o=this._cache.get([i,n]).then(function(t){null===t.data?r.save(n):r.handleClientDownload(t.data.mesh.data,n)}).catch(function(t){console.log("Unable to retrieve exported mesh from cache. Encountered the following error: ",t);var e=r.FORMATS[n].exporter.parse(r.props.mesh,r.uuid.new());r.handleClientDownload(e,n)})}},{key:"save",value:function t(e){var n=this,r=void 0!==this.props.mesh.children[0]?this.props.mesh.children[0].name:this.props.mesh.name,i=this.FORMATS[e].exporter.parse(this.props.mesh,this.uuid.new());this._cache.add({id:this.uuid.new(),mesh:{name:r,format:e,data:i}}).then(function(t){n.handleClientDownload(i,e)}).catch(function(t){return console.log(t)})}},{key:"toggleExportMenu",value:function t(){this.setState({menuVisible:!this.state.menuVisible})}},{key:"handleClientDownload",value:function t(e,n){var r=this;switch(n){case this.OBJ_FORMAT:var i=new p.a,o=e.obj,a=e.mtl,s=e.images,u=e.zip;i.file(o.filename,o.rawData),i.file(a.filename,a.rawData);for(var c=0;c<s.length;c++){var l=s[c];i.file(s[c].filename,s[c].rawData,{binary:!0})}i.generateAsync({type:"blob"}).then(function(t){r.setState({url:window.URL.createObjectURL(t),filename:u.filename},function(){return r.downloadLink.click()})});break;case this.STL_FORMAT:var h=e.stl,f=new Blob([h.rawData],{type:this.MIME});this.setState({url:window.URL.createObjectURL(f),filename:h.filename},function(){return r.downloadLink.click()})}}},{key:"render",value:function t(){var e=this,n=this.props.extension,r=this.state,i=r.menuVisible,o=r.filename,a=r.url,l="three-data-download-link",h="three-export-menu ";return h+=i?"show":"hide",s.a.createElement("div",{className:"three-export-button-container"},s.a.createElement(u.m,{basic:!0,className:"three-export-modal",trigger:s.a.createElement(c.a,{content:"save mesh",className:"three-controls-button",icon:"cube",labelPosition:"right",color:"grey"})},s.a.createElement(u.m.Header,{className:"three-export-modal-header"}," ","Select an export format"," "),s.a.createElement(u.m.Content,{className:"three-export-modal-content"},s.a.createElement("span",{className:"three-export-format"},s.a.createElement("span",{className:"three-export-format-label"},"WaveFront OBJ (geometry + textures) --"),s.a.createElement("a",{className:"three-export-format-info",href:"https://en.wikipedia.org/wiki/Wavefront_.obj_file",target:"_blank"},s.a.createElement(u.j,{name:"info"})),s.a.createElement("span",{className:"three-export-format-download",onClick:function t(n){return e.export(n,e.OBJ_FORMAT)}},s.a.createElement(u.j,{name:"cloud download"}))),s.a.createElement("span",{className:"three-export-format"},s.a.createElement("span",{className:"three-export-format-label"},"Stereolithography STL (geometry only) --"),s.a.createElement("a",{className:"three-export-format-info",href:"https://en.wikipedia.org/wiki/Stereolithography",target:"_blank"},s.a.createElement(u.j,{name:"info"})),s.a.createElement("span",{className:"three-export-format-download",onClick:function t(n){return e.export(n,e.STL_FORMAT)}},s.a.createElement(u.j,{name:"cloud download"}))),s.a.createElement("a",{ref:function t(n){return e.downloadLink=n},href:a,download:o}))))}}]),e}(a.Component);e.a=y},function(t,e,n){"use strict";function r(t){var e=[Object(i.a)(t),Object(o.a)(t)];return Promise.all(e).then(function(){return t})}e.a=r;var i=n(1131),o=n(1132)},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.OBJExporter=function(){},t.OBJExporter.prototype={constructor:t.OBJExporter,parse:function e(n,r){var s="",u=[],c="",l=0,h=0,f=0,d=new t.Vector3,p=new t.Vector3,m=new t.Vector2,v,g,y,b,x,_=[],w=function e(n){var y=0,w=0,E=0,M=n.geometry,S=new t.Matrix3;if(M instanceof t.Geometry&&(M=(new t.BufferGeometry).setFromObject(n)),M instanceof t.BufferGeometry){var T=M.getAttribute("position"),A=M.getAttribute("normal"),C=M.getAttribute("uv"),O=M.getIndex();if(s+="o "+r+"\n",s+="",n.material&&(s+="mtllib ./"+r+o.u+"\n",s+="usemtl "+r+"\n",u=Object(i.c)(n.material,i.a),u.length>0)){var P=void 0,L=1,R=1;c=a[0];for(var k=0;k<u.length;k++){var N=u[k];N.type===o.s.DIFFUSE_MAP?(c+="newmtl + material_"+k+"\n",c+=a[1],P=r+"_diffuse_"+R+N.ext,c+="\n map_Kd "+P+"\n",R++):N.type===o.s.NORMAL_MAP&&(P=r+"_normal_"+L+N.ext,L++),N.filename=P}}if(void 0!==T)for(v=0,b=T.count;v<b;v++,y++)d.x=T.getX(v),d.y=T.getY(v),d.z=T.getZ(v),d.applyMatrix4(n.matrixWorld),s+="v "+d.x+" "+d.y+" "+d.z+"\n";if(void 0!==C)for(v=0,b=C.count;v<b;v++,E++)m.x=C.getX(v),m.y=C.getY(v),s+="vt "+m.x+" "+m.y+"\n";if(void 0!==A)for(S.getNormalMatrix(n.matrixWorld),v=0,b=A.count;v<b;v++,w++)p.x=A.getX(v),p.y=A.getY(v),p.z=A.getZ(v),p.applyMatrix3(S),s+="vn "+p.x+" "+p.y+" "+p.z+"\n";if(null!==O)for(v=0,b=O.count;v<b;v+=3){for(x=0;x<3;x++)g=O.getX(v+x)+1,_[x]=l+g+(A||C?"/"+(C?h+g:"")+(A?"/"+(f+g):""):"");s+="f "+_.join(" ")+"\n"}else for(v=0,b=T.count;v<b;v+=3){for(x=0;x<3;x++)g=v+x+1,_[x]=l+g+(A||C?"/"+(C?h+g:"")+(A?"/"+(f+g):""):"");s+="f "+_.join(" ")+"\n"}}else console.warn("THREE.OBJExporter.parseMesh(): geometry type unsupported",M);l+=y,h+=E,f+=w},E=function e(n){var r=0,i=n.geometry,o=n.type;if(i instanceof t.Geometry&&(i=(new t.BufferGeometry).setFromObject(n)),i instanceof t.BufferGeometry){var a=i.getAttribute("position");if(s+="o "+n.name+"\n",void 0!==a)for(v=0,b=a.count;v<b;v++,r++)d.x=a.getX(v),d.y=a.getY(v),d.z=a.getZ(v),d.applyMatrix4(n.matrixWorld),s+="v "+d.x+" "+d.y+" "+d.z+"\n";if("Line"===o){for(s+="l ",g=1,b=a.count;g<=b;g++)s+=l+g+" ";s+="\n"}if("LineSegments"===o)for(g=1,y=g+1,b=a.count;g<b;g+=2,y=g+1)s+="l "+(l+g)+" "+(l+y)+"\n"}else console.warn("THREE.OBJExporter.parseLine(): geometry type unsupported",i);l+=r};return n.traverse(function(e){e instanceof t.Mesh&&w(e),e instanceof t.Line&&E(e)}),{obj:{filename:r+o.v,rawData:s},mtl:{filename:r+o.u,rawData:c},images:u,zip:{filename:r+o.P}}}},e(t)})}e.a=r;var i=n(135),o=n(16),a=[["#","# Wavefront material file","#\n"].join("\n"),["Ka 0.200000 0.200000 0.200000","Kd 1.000000 1.000000 1.000000","Ks 1.000000 1.000000 1.000000","Tr 1.000000","illum 2","Ns 0.000000\n"].join("\n")]},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){t.STLExporter=function(){},t.STLExporter.prototype={constructor:t.STLExporter,parse:function(){var e=new t.Vector3,n=new t.Matrix3;return function r(o,a){var s="";return s+="solid exported\n",o.traverse(function(r){if(r instanceof t.Mesh){var i=r.geometry,o=r.matrixWorld;if(i instanceof t.BufferGeometry&&(i=(new t.Geometry).fromBufferGeometry(i)),i instanceof t.Geometry){var a=i.vertices,u=i.faces;n.getNormalMatrix(o);for(var c=0,l=u.length;c<l;c++){var h=u[c];e.copy(h.normal).applyMatrix3(n).normalize(),s+="\tfacet normal "+e.x+" "+e.y+" "+e.z+"\n",s+="\t\touter loop\n";for(var f=[h.a,h.b,h.c],d=0;d<3;d++)e.copy(a[f[d]]).applyMatrix4(o),s+="\t\t\tvertex "+e.x+" "+e.y+" "+e.z+"\n";s+="\t\tendloop\n",s+="\tendfacet\n"}}}}),s+="endsolid exported\n",{stl:{filename:a+i.y,rawData:s}}}}()},e(t)})}e.a=r;var i=n(16)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){r(this,t),this._connectionOpened=!1,this._indexedDB=indexedDB,this.name=e,this.storeKey=this.name+"Store",this.dbKey=this.name+"DB",this.index=n,this._db=null}return i(t,[{key:"_initDB",value:function t(){var e=this;return new Promise(function(t,n){e._db=e._indexedDB.open(e.dbKey),e._db.onupgradeneeded=function(t){e._updateDB(t.target.result)},e._db.onsuccess=function(n){void 0===e._idbStore&&(e._idbStore=n.target.result),e._connectionOpened=!0,t({data:null,success:!0})},e._db.onerror=function(t){n(t)}})}},{key:"_updateDB",value:function t(e){this._idbStore=void 0!==this._db.result?this._db.result:e,this._idbStore.createObjectStore(this.storeKey,{keyPath:"id"}).createIndex(this.index.name,this.index.items)}},{key:"open",value:function t(){return this._initDB()}},{key:"get",value:function t(e){var n=this;return new Promise(function(t,r){var i=n._idbStore.transaction(n.storeKey,"readwrite"),o=i.objectStore(n.storeKey),a=o.index(n.index.name),s=a.get(e);s.onsuccess=function(){t(void 0!==s.result?{data:s.result,success:!0}:{data:null,success:!1})},s.onerror=function(t){r(t)}})}},{key:"add",value:function t(e){var n=this;return new Promise(function(t,r){var i=n._idbStore.transaction(n.storeKey,"readwrite"),o=i.objectStore(n.storeKey),a=o.put(e);a.onsuccess=function(){return t({data:e,success:!0})},a.onerror=function(t){return r({data:null,success:!1,error:t})}})}},{key:"remove",value:function t(e){var n=this;return new Promise(function(t,r){var i=n._idbStore.transaction(n.storeKey,"readwrite"),o=i.objectStore(n.storeKey),a=o.delete(e);a.onsuccess=function(){return t({data:null,success:!0})},a.onerror=function(t){return r({data:null,success:!1,error:t})}})}},{key:"clear",value:function t(){var e=this;return new Promise(function(t,n){var r=e._idbStore.transaction(e.storeKey,"readwrite"),i=r.objectStore(e.storeKey),o=i.clear();o.onsuccess=function(){return t({data:null,success:!0})},o.onerror=function(t){return n({data:null,success:!1,error:t})}})}},{key:"close",value:function t(){this._db.result.close()}}]),t}();e.a=o},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!==typeof this[e]&&(t[e]=this[e]);return t}}r.prototype=n(1135),r.prototype.loadAsync=n(1169),r.support=n(62),r.defaults=n(515),r.version="3.1.5",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=n(120),t.exports=r},function(t,e,n){"use strict";function r(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var i=n(91),o=n(22),a=n(36),s=n(514),u=n(515),c=n(285),l=n(1164),h=n(1165),f=n(185),d=n(1168),p=function(t,e,n){var r=o.getTypeOf(e),i,s=o.extend(n||{},u);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"===typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=v(t)),s.createFolders&&(i=m(t))&&g.call(this,i,!0);var h="string"===r&&!1===s.binary&&!1===s.base64;n&&"undefined"!==typeof n.binary||(s.binary=!h),(e instanceof c&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",r="string");var p=null;p=e instanceof c||e instanceof a?e:f.isNode&&f.isStream(e)?new d(t,e):o.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var y=new l(t,p,s);this.files[t]=y},m=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},v=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},g=function(t,e){return e="undefined"!==typeof e?e:u.createFolders,t=v(t),this.files[t]||p.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,r;for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r))},filter:function(t){var e=[];return this.forEach(function(n,r){t(n,r)&&e.push(r)}),e},file:function(t,e,n){if(1===arguments.length){if(r(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var o=this.files[this.root+t];return o&&!o.dir?o:null}return t=this.root+t,p.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(r(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=g.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if(n=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode}),n.type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";e=h.generateWorker(this,n,r)}catch(t){e=new a("error"),e.error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return t=t||{},t.type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=y},function(t,e,n){var r=function(){try{return n(183)}catch(t){}}();e=t.exports=n(506),e.Stream=r||e,e.Readable=e,e.Writable=n(281),e.Duplex=n(77),e.Transform=n(282),e.PassThrough=n(508)},function(t,e){},function(t,e,n){(function(t){function r(t,e){this._id=t,this._clearFn=e}var i="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function e(){t._onTimeout&&t._onTimeout()},e))},n(1139),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(e,n(33))},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return p[d]=r,g(d),d++}function i(t){delete p[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(m)setTimeout(a,0,t);else{var e=p[t];if(e){m=!0;try{o(e)}finally{i(t),m=!1}}}}function s(){g=function(t){e.nextTick(function(){a(t)})}}function u(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function c(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),g=function(n){t.postMessage(e+n,"*")}}function l(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},g=function(e){t.port2.postMessage(e)}}function h(){var t=v.documentElement;g=function(e){var n=v.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function f(){g=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var d=1,p={},m=!1,v=t.document,g,y=Object.getPrototypeOf&&Object.getPrototypeOf(t);y=y&&y.setTimeout?y:t,"[object process]"==={}.toString.call(t.process)?s():u()?c():t.MessageChannel?l():v&&"onreadystatechange"in v.createElement("script")?h():f(),y.setImmediate=r,y.clearImmediate=i}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(e,n(33),n(99))},function(t,e,n){(function(e){function n(t,e){function n(){if(!i){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(r("noDeprecation"))return t;var i=!1;return n}function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(e,n(33))},function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return a(t,e,n)}var o=n(45),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(r(o,e),e.Buffer=i),r(a,i),i.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},i.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=a(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},i.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return a(t)},i.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(t,e,n){t.exports=n(281)},function(t,e,n){t.exports=n(77)},function(t,e,n){t.exports=n(282)},function(t,e,n){t.exports=n(508)},function(t,e,n){n(1147),t.exports=n(510).setImmediate},function(t,e,n){var r=n(1148),i=n(1156);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){var r=n(186),i=n(510),o=n(511),a=n(1150),s="prototype",u=function(t,e,n){var c=t&u.F,l=t&u.G,h=t&u.S,f=t&u.P,d=t&u.B,p=t&u.W,m=l?i:i[e]||(i[e]={}),v=m[s],g=l?r:h?r[e]:(r[e]||{})[s],y,b,x;l&&(n=e);for(y in n)(b=!c&&g&&void 0!==g[y])&&y in m||(x=b?g[y]:n[y],m[y]=l&&"function"!=typeof g[y]?n[y]:d&&b?o(x,r):p&&g[y]==x?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[s]=t[s],e}(x):f&&"function"==typeof x?o(Function.call,x):x,f&&((m.virtual||(m.virtual={}))[y]=x,t&u.R&&v&&!v[y]&&a(v,y,x)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(1151),i=n(1155);t.exports=n(284)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(1152),i=n(1153),o=n(1154),a=Object.defineProperty;e.f=n(284)?Object.defineProperty:function t(e,n,s){if(r(e),n=o(n,!0),r(s),i)try{return a(e,n,s)}catch(t){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(e[n]=s.value),e}},function(t,e,n){var r=n(283);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(284)&&!n(512)(function(){return 7!=Object.defineProperty(n(513)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(283);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(511),i=n(1157),o=n(1158),a=n(513),s=n(186),u=s.process,c=s.setImmediate,l=s.clearImmediate,h=s.MessageChannel,f=0,d={},p="onreadystatechange",m,v,g,y=function(){var t=+this;if(d.hasOwnProperty(t)){var e=d[t];delete d[t],e()}},b=function(t){y.call(t.data)};c&&l||(c=function t(e){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return d[++f]=function(){i("function"==typeof e?e:Function(e),n)},m(f),f},l=function t(e){delete d[e]},"process"==n(1159)(u)?m=function(t){u.nextTick(r(y,t,1))}:h?(v=new h,g=v.port2,v.port1.onmessage=b,m=r(g.postMessage,g,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(m=function(t){s.postMessage(t+"","*")},s.addEventListener("message",b,!1)):m=p in a("script")?function(t){o.appendChild(a("script"))[p]=function(){o.removeChild(this),y.call(t)}}:function(t){setTimeout(r(y,t,1),0)}),t.exports={set:c,clear:l}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){t.exports=n(186).document&&document.documentElement},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";function r(){}function i(t){if("function"!==typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t!==r&&u(this,t)}function o(t,e,n){this.promise=t,"function"===typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"===typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){p(function(){var r;try{r=e(n)}catch(e){return m.reject(t,e)}r===t?m.reject(t,new TypeError("Cannot resolve promise with itself")):m.resolve(t,r)})}function s(t){var e=t&&t.then;if(t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof e)return function n(){e.apply(t,arguments)}}function u(t,e){function n(e){o||(o=!0,m.reject(t,e))}function r(e){o||(o=!0,m.resolve(t,e))}function i(){e(r,n)}var o=!1,a=c(i);"error"===a.status&&n(a.value)}function c(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function l(t){return t instanceof this?t:m.resolve(new this(r),t)}function h(t){var e=new this(r);return m.reject(e,t)}function f(t){function e(t,e){function r(t){a[e]=t,++s!==i||o||(o=!0,m.resolve(c,a))}n.resolve(t).then(r,function(t){o||(o=!0,m.reject(c,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var a=new Array(i),s=0,u=-1,c=new this(r);++u<i;)e(t[u],u);return c}function d(t){function e(t){n.resolve(t).then(function(t){o||(o=!0,m.resolve(s,t))},function(t){o||(o=!0,m.reject(s,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var a=-1,s=new this(r);++a<i;)e(t[a]);return s}var p=n(1161),m={},v=["REJECTED"],g=["FULFILLED"],y=["PENDING"];t.exports=i,i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){if("function"!==typeof t&&this.state===g||"function"!==typeof e&&this.state===v)return this;var n=new this.constructor(r);if(this.state!==y){a(n,this.state===g?t:e,this.outcome)}else this.queue.push(new o(n,t,e));return n},o.prototype.callFulfilled=function(t){m.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){m.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},m.resolve=function(t,e){var n=c(s,e);if("error"===n.status)return m.reject(t,n.value);var r=n.value;if(r)u(t,r);else{t.state=g,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},m.reject=function(t,e){t.state=v,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},i.resolve=l,i.reject=h,i.all=f,i.race=d},function(t,e,n){"use strict";(function(e){function n(){l=!0;for(var t,e,n=h.length;n;){for(e=h,h=[],t=-1;++t<n;)e[t]();n=h.length}l=!1}function r(t){1!==h.push(t)||l||o()}var i=e.MutationObserver||e.WebKitMutationObserver,o;if(i){var a=0,s=new i(n),u=e.document.createTextNode("");s.observe(u,{characterData:!0}),o=function(){u.data=a=++a%2}}else if(e.setImmediate||"undefined"===typeof e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var l,h=[];t.exports=r}).call(e,n(33))},function(t,e,n){"use strict";function r(t){i.call(this,"ConvertWorker to "+t),this.destType=t}var i=n(36),o=n(22);o.inherits(r,i),r.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,e),this._helper=t;var r=this;t.on("data",function(t,e){r.push(t)||r._helper.pause(),n&&n(e)}).on("error",function(t){r.emit("error",t)}).on("end",function(){r.push(null)})}var i=n(505).Readable;n(22).inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},function(t,e,n){"use strict";var r=n(514),i=n(516),o=n(91),a=n(285),s=n(36),u=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};u.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");n=t.toLowerCase();var i="string"===n||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(e=e.pipe(new o.Utf8EncodeWorker)),!a&&i&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){e=new s("error"),e.error(t)}return new r(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof a&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new i(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)u.prototype[c[h]]=l;t.exports=u},function(t,e,n){"use strict";var r=n(519),i=n(1167),o=function(t,e){var n=t||e,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i};e.generateWorker=function(t,e,n){var r=new i(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach(function(t,n){a++;var i=o(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},u=n.dir,c=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:t,dir:u,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(r)}),r.entriesCount=a}catch(t){r.error(t)}return r}},function(t,e,n){"use strict";function r(t,e){s.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var i="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array,o=n(125),a=n(22),s=n(36),u=i?"uint8array":"array";e.magic="\b\0",a.inherits(r,s),r.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(u,t.data),!1)},r.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},r.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},r.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e.compressWorker=function(t){return new r("Deflate",t)},e.uncompressWorker=function(){return new r("Inflate",{})}},function(t,e,n){"use strict";function r(t,e,n,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var i=n(22),o=n(36),a=n(91),s=n(286),u=n(520),c=function(t,e){var n="",r;for(r=0;r<e;r++)n+=String.fromCharCode(255&t),t>>>=8;return n},l=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16},h=function(t,e){return 63&(t||0)},f=function(t,e,n,r,o,f){var d=t.file,p=t.compression,m=f!==a.utf8encode,v=i.transformTo("string",f(d.name)),g=i.transformTo("string",a.utf8encode(d.name)),y=d.comment,b=i.transformTo("string",f(y)),x=i.transformTo("string",a.utf8encode(y)),_=g.length!==d.name.length,w=x.length!==y.length,E,M,S="",T="",A="",C=d.dir,O=d.date,P={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(P.crc32=t.crc32,P.compressedSize=t.compressedSize,P.uncompressedSize=t.uncompressedSize);var L=0;e&&(L|=8),m||!_&&!w||(L|=2048);var R=0,k=0;C&&(R|=16),"UNIX"===o?(k=798,R|=l(d.unixPermissions,C)):(k=20,R|=h(d.dosPermissions,C)),E=O.getUTCHours(),E<<=6,E|=O.getUTCMinutes(),E<<=5,E|=O.getUTCSeconds()/2,M=O.getUTCFullYear()-1980,M<<=4,M|=O.getUTCMonth()+1,M<<=5,M|=O.getUTCDate(),_&&(T=c(1,1)+c(s(v),4)+g,S+="up"+c(T.length,2)+T),w&&(A=c(1,1)+c(s(b),4)+x,S+="uc"+c(A.length,2)+A);var N="";return N+="\n\0",N+=c(L,2),N+=p.magic,N+=c(E,2),N+=c(M,2),N+=c(P.crc32,4),N+=c(P.compressedSize,4),N+=c(P.uncompressedSize,4),N+=c(v.length,2),N+=c(S.length,2),{fileRecord:u.LOCAL_FILE_HEADER+N+v+S,dirRecord:u.CENTRAL_FILE_HEADER+c(k,2)+N+c(b.length,2)+"\0\0\0\0"+c(R,4)+c(r,4)+v+S+b}},d=function(t,e,n,r,o){var a="",s=i.transformTo("string",o(r));return a=u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(t,2)+c(t,2)+c(e,4)+c(n,4)+c(s.length,2)+s},p=function(t){var e="";return e=u.DATA_DESCRIPTOR+c(t.crc32,4)+c(t.compressedSize,4)+c(t.uncompressedSize,4)};i.inherits(r,o),r.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-r-1))/n:100}}))},r.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=f(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},r.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=f(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:p(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},r.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,r=d(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},r.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},r.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},r.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},r.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=r},function(t,e,n){"use strict";function r(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var i=n(22),o=n(36);i.inherits(r,o),r.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},r.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=r},function(t,e,n){"use strict";function r(t){return new o.Promise(function(e,n){var r=t.decompressed.getContentWorker().pipe(new u);r.on("error",function(t){n(t)}).on("end",function(){r.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var i=n(22),o=n(120),a=n(91),i=n(22),s=n(1170),u=n(518),c=n(185);t.exports=function(t,e){var n=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var n=new s(e);return n.load(t),n}).then(function t(n){var i=[o.Promise.resolve(n)],a=n.files;if(e.checkCRC32)for(var s=0;s<a.length;s++)i.push(r(a[s]));return o.Promise.all(i)}).then(function t(r){for(var i=r.shift(),o=i.files,a=0;a<o.length;a++){var s=o[a];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},function(t,e,n){"use strict";function r(t){this.files=[],this.loadOptions=t}var i=n(521),o=n(22),a=n(520),s=n(1173),u=n(91),c=n(62);r.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4),i=r===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=c.uint8array?"uint8array":"array",n=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t=this.zip64EndOfCentralSize-44,e=0,n,r,i;0<t;)n=this.reader.readInt(2),r=this.reader.readInt(4),i=this.reader.readData(r),this.zip64ExtensibleData[n]={id:n,length:r,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)t=new s({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(t<0){throw!this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(t);var e=t;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(r>0)this.isSignature(e,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=r},function(t,e,n){"use strict";function r(t){i.call(this,t)}var i=n(523);n(22).inherits(r,i),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t){i.call(this,t)}var i=n(524);n(22).inherits(r,i),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.options=t,this.loadOptions=e}var i=n(521),o=n(22),a=n(285),s=n(286),u=n(91),c=n(519),l=n(62),h=0,f=3,d=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null};r.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=d(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e=t.index+this.extraFieldsLength,n,r,i;for(this.extraFields||(this.extraFields={});t.index<e;)n=t.readInt(2),r=t.readInt(2),i=t.readData(r),this.extraFields[n]={id:n,length:r,value:i}},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:s(this.fileName)!==e.readInt(4)?null:u.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:s(this.fileComment)!==e.readInt(4)?null:u.utf8decode(e.readData(t.length-5))}return null}},t.exports=r},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return Object(m.b)(p,t)}var u=n(0),c=n.n(u),l=n(34),h=n(30),f=n(1),d=n.n(f),p=n(187),m=n(64),v=n(16),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={threeFile:"",threeThumbnail:"",skybox:"",enableLight:!1,enableMaterials:!1,enableShaders:!1,enableMeasurement:!1,modelUnits:v.I[0]},n.onChange=n.onChange.bind(n),n.onSubmit=n.onSubmit.bind(n),n.onDiscard=n.onDiscard.bind(n),n}return a(e,t),g(e,[{key:"onChange",value:function t(e){"threeFile"===e.target.name?this.setState(r({},e.target.name,e.target.files[0])):"threeThumbnail"===e.target.name?(console.log(e.target.files[0]),this.setState(r({},e.target.name,e.target.files[0]))):"skybox"===e.target.name?(console.log(e.target.files[0]),this.setState(r({},e.target.name,e.target.files[0]))):this.setState(r({},e.target.name,e.target.value))}},{key:"onDiscard",value:function t(e){e.preventDefault(),this.props.history.push("/")}},{key:"onSubmit",value:function t(e){e.preventDefault(),"false"===this.state.enableLight?this.setState(r({},this.state.enableLight,!1)):this.setState(r({},this.state.enableLight,!0)),"false"===this.state.enableMaterials?this.setState(r({},this.state.enableMaterials,!1)):this.setState(r({},this.state.enableMaterials,!0)),"false"===this.state.enableShaders?this.setState(r({},this.state.enableShaders,!1)):this.setState(r({},this.state.enableShaders,!0)),"false"===this.state.enableMeasurement?this.setState(r({},this.state.enableMeasurement,!1)):this.setState(r({},this.state.enableMeasurement,!0));var n={threeFile:this.state.threeFile,threeThumbnail:this.state.threeThumbnail,skybox:{file:this.state.skybox},enableLight:this.state.enableLight,enableMaterials:this.state.enableMaterials,enableShaders:this.state.enableShaders,enableMeasurement:this.state.enableMeasurement,modelUnits:this.state.modelUnits},i=this.props.history;this.props.addView(n)}},{key:"render",value:function t(){var e=c.a.createElement(l.b,{to:"/"}," Views ");return c.a.createElement("div",null,c.a.createElement("h2",null,"Add View"),c.a.createElement("h3",null,e),c.a.createElement("hr",null),c.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.onSubmit},c.a.createElement("div",{className:"ui one column middle aligned very relaxed stackable grid"},c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"ui form"},c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"ui raised segment"},c.a.createElement("div",{className:"ui blue ribbon label"},c.a.createElement("label",null,"ThreeFile: ")),c.a.createElement("input",{type:"file",name:"threeFile",onChange:this.onChange,accept:".json,.gz"}))),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"ui raised segment"},c.a.createElement("div",{className:"ui blue ribbon label"},c.a.createElement("label",null,"ThreeThumbnail: ")),c.a.createElement("input",{type:"file",name:"threeThumbnail",onChange:this.onChange,accept:"image/*"}))),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"ui raised segment"},c.a.createElement("div",{className:"ui blue ribbon label"},c.a.createElement("label",null,"Skybox: ")),c.a.createElement("input",{type:"file",name:"skybox",accept:"image/*",onChange:this.onChange}))),c.a.createElement("div",{className:"ui inverted segment"},c.a.createElement("div",{className:"field"},c.a.createElement("label",null,c.a.createElement("div",{className:"ui horizontal inverted divider"},"Enable Light: ",this.state.enableLight.toString())),c.a.createElement("select",{name:"enableLight",onChange:this.onChange},c.a.createElement("option",{value:"false"},"false"),c.a.createElement("option",{value:"true"},"true")))),c.a.createElement("div",{className:"ui inverted segment"},c.a.createElement("div",{className:"field"},c.a.createElement("label",null,c.a.createElement("div",{className:"ui horizontal inverted divider"},"Enable Materials: ",this.state.enableMaterials.toString())),c.a.createElement("select",{name:"enableMaterials",onChange:this.onChange},c.a.createElement("option",{value:"false"},"false"),c.a.createElement("option",{value:"true"},"true")))),c.a.createElement("div",{className:"ui inverted segment"},c.a.createElement("div",{className:"field"},c.a.createElement("label",null,c.a.createElement("div",{className:"ui horizontal inverted divider"},"Enable Shaders: ",this.state.enableShaders.toString())),c.a.createElement("select",{name:"enableShaders",onChange:this.onChange},c.a.createElement("option",{value:"false"},"false"),c.a.createElement("option",{value:"true"},"true")))),c.a.createElement("div",{className:"ui inverted segment"},c.a.createElement("div",{className:"field"},c.a.createElement("label",null,c.a.createElement("div",{className:"ui horizontal inverted divider"},"Enable Measurement: ",this.state.enableMeasurement.toString())),c.a.createElement("select",{name:"enableMeasurement",onChange:this.onChange},c.a.createElement("option",{value:"false"},"false"),c.a.createElement("option",{value:"true"},"true")))),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"ui raised segment"},c.a.createElement("div",{className:"ui blue ribbon label"},c.a.createElement("label",null,"Model Units: ")),c.a.createElement("select",{name:"modelUnits",value:this.state.modelUnits,onChange:this.onChange},v.I.map(function(t,e){return c.a.createElement("option",{key:e,value:t},t)})))),c.a.createElement("div",{className:"ui buttons"},c.a.createElement("button",{className:"ui fluid primary button",type:"submit"},c.a.createElement("i",{className:"signup icon"}),"Save"),c.a.createElement("div",{className:"or"}),c.a.createElement("button",{className:"ui fluid secondary button",onClick:this.onDiscard},"Discard")))))))}}]),e}(u.Component);y.propTypes={addView:d.a.func.isRequired};var b=function t(e){return{views:e.views.views}};e.a=Object(h.b)(b,s)(y)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(34),c=n(30),l=n(1),h=n.n(l),f=n(187),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.readyToLoad=!1,n.onDelete=n.onDelete.bind(n),n}return o(e,t),d(e,[{key:"componentWillMount",value:function t(){this.props.getViews(),console.log(this.props)}},{key:"componentWillReceiveProps",value:function t(e){console.log("componentWillReceiveProps"),this.readyToLoad&&e.newView&&this.props.views.unshift(e.newView)}},{key:"shouldComponentUpdate",value:function t(e,n){return console.log("shouldComponentUpdate was called"),console.log(e),null==e.views?(this.props.getViews(),this.readyToLoad=!1):this.readyToLoad=!0}},{key:"onDelete",value:function t(e){e.preventDefault(),this.props.deleteView(e.target.name),this.readyToLoad=!1,this.props.getViews()}},{key:"render",value:function t(){var e=this,n=s.a.createElement(u.b,{to:"/viewform"}," Add view ");if(this.readyToLoad){var r=this.props.views.map(function(t){return s.a.createElement("div",{key:t._id,className:"ui card"},s.a.createElement("div",{className:"ui raised segment"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"ui blue ribbon label"},s.a.createElement(u.b,{to:"/admin/view/"+t._id},s.a.createElement("h2",null,t.threeFile))))),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"ui small feed"},s.a.createElement("div",{className:"event"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"summary"},s.a.createElement("div",null,t.threeThumbnail)))),s.a.createElement("div",{className:"event"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"summary"},s.a.createElement("div",null,t.skybox.file)))),s.a.createElement("div",{className:"event"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"summary"},s.a.createElement("div",null,t.enableLight.toString())))),s.a.createElement("div",{className:"event"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"summary"},s.a.createElement("div",null,t.enableMaterials.toString())))),s.a.createElement("div",{className:"event"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"summary"},s.a.createElement("div",null,t.enableShaders.toString())))),s.a.createElement("div",{className:"event"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"summary"},s.a.createElement("div",null,t.enableMeasurement.toString())))),s.a.createElement("div",{className:"event"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"summary"},s.a.createElement("div",null,t.modelUnits)))))),s.a.createElement("div",{className:"extra content"},s.a.createElement("div",{className:"ui buttons"},s.a.createElement("button",{className:"ui secondary button"},s.a.createElement(u.b,{to:"/admin/view/"+t._id},s.a.createElement("div",null,"Update"))),s.a.createElement("div",{className:"or"}),s.a.createElement("button",{className:"ui orange button",type:"button",name:t._id,onClick:e.onDelete},"Delete")))))});return s.a.createElement("div",null,s.a.createElement("h1",{className:"ui header"},"Views"),s.a.createElement("h2",null,n),s.a.createElement("hr",null),s.a.createElement("div",{className:"ui link cards"},r))}return s.a.createElement("div",null,s.a.createElement("h1",{className:"ui header"},"Views"),n,s.a.createElement("p",null,"Getting views..."))}}]),e}(a.Component);p.propTypes={getViews:h.a.func.isRequired,deleteView:h.a.func.isRequired,views:h.a.array.isRequired,newView:h.a.object};var m=function t(e){return{views:e.views.views,newView:e.views.view}};e.a=Object(c.b)(m,{getViews:f.getViews,deleteView:f.deleteView})(p)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(34),a=n(37),s=n(18),u=function t(e){if(!0===e.active){var n=i.a.createElement(s.j,{className:"three-menu-admin-trigger",size:"big",name:"bars"});return i.a.createElement("div",{className:"three-menu-admin-container"},i.a.createElement(s.g,{className:"three-menu-admin-dropdown",direction:"left",trigger:n},i.a.createElement(s.g.Menu,{className:"three-menu-admin"},i.a.createElement(s.g.Item,null,i.a.createElement(o.b,{to:a.b+"/admin/account"},"Account")),i.a.createElement(s.g.Item,null,i.a.createElement(o.b,{to:a.b+"/admin/views"},"My Meshes")),i.a.createElement(s.g.Divider,null),i.a.createElement(s.g.Item,null,i.a.createElement(o.b,{to:a.b+"/admin/logout"},"Log Out")))))}return null};e.a=u},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),u=n.n(s),c=n(34),l=n(30),h=n(1),f=n.n(h),d=n(187),p=n(16),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.readyToLoad=!1,n.state={threeFile:"",threeThumbnail:"",skybox:"",enableLight:!1,enableMaterials:!1,enableShaders:!1,enableMeasurement:!1,modelUnits:""},n.onChange=n.onChange.bind(n),n.onSubmit=n.onSubmit.bind(n),n.onDiscard=n.onDiscard.bind(n),n}return a(e,t),m(e,[{key:"componentDidMount",value:function t(){var e=this.props.match.params;console.log("componentDidMount - was called"),console.log("componentDidMount - This is the params.id: "+e.id),console.log("componentDidMount - getView was called"),this.props.getView(e.id)}},{key:"componentDidUpdate",value:function t(e){e.view._id!==this.props.view._id&&this.setState(Object.assign({},this.props.view))}},{key:"shouldComponentUpdate",value:function t(e,n){return console.log("shouldComponentUpdate - was called"),this.readyToLoad=!0}},{key:"onChange",value:function t(e){"threeFile"===e.target.name?(console.log(e.target.files[0]),this.setState(r({},e.target.name,e.target.files[0]))):"threeThumbnail"===e.target.name?this.setState(r({},e.target.name,e.target.files[0])):"skybox"===e.target.name?this.setState(r({},e.target.name,{file:e.target.files[0]})):this.setState(r({},e.target.name,e.target.value))}},{key:"onDiscard",value:function t(e){e.preventDefault(),this.props.history.push("/")}},{key:"onSubmit",value:function t(e){e.preventDefault(),"false"===this.state.enableLight?this.setState(r({},this.state.enableLight,!1)):this.setState(r({},this.state.enableLight,!0)),"false"===this.state.enableMaterials?this.setState(r({},this.state.enableMaterials,!1)):this.setState(r({},this.state.enableMaterials,!0)),"false"===this.state.enableShaders?this.setState(r({},this.state.enableShaders,!1)):this.setState(r({},this.state.enableShaders,!0)),"false"===this.state.enableMeasurement?this.setState(r({},this.state.enableMeasurement,!1)):this.setState(r({},this.state.enableMeasurement,!0));var n=Object.assign({_id:this.props.view._id},this.state);console.log(n);var i=this.props.history;this.props.updateView(n)}},{key:"render",value:function t(){var e=u.a.createElement(c.b,{to:"/"}," view ");return this.readyToLoad?u.a.createElement("div",null,u.a.createElement("h2",null,"Change View"),u.a.createElement("h3",null,e),u.a.createElement("hr",null),u.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.onSubmit},u.a.createElement("div",{className:"ui one column middle aligned very relaxed stackable grid"},u.a.createElement("div",{className:"column"},u.a.createElement("div",{className:"ui form"},u.a.createElement("div",{className:"field"},u.a.createElement("div",{className:"ui raised segment"},u.a.createElement("div",{className:"ui blue ribbon label"},u.a.createElement("label",null,"ThreeFile: ",this.props.view.threeFile," ")),u.a.createElement("input",{type:"file",name:"threeFile",onChange:this.onChange,accept:".gz"}))),u.a.createElement("div",{className:"field"},u.a.createElement("div",{className:"ui raised segment"},u.a.createElement("div",{className:"ui blue ribbon label"},u.a.createElement("label",null,"ThreeThumbnail: ",this.props.view.threeThumbnail," ")),u.a.createElement("input",{type:"file",name:"threeThumbnail",onChange:this.onChange,accept:"image/*"}))),u.a.createElement("div",{className:"field"},u.a.createElement("div",{className:"ui raised segment"},u.a.createElement("div",{className:"ui blue ribbon label"},u.a.createElement("label",null,"Skybox: ",this.props.view.skybox.file," ")),u.a.createElement("input",{type:"file",name:"skybox",onChange:this.onChange,accept:"image/*"}))),u.a.createElement("div",{className:"ui inverted segment"},u.a.createElement("div",{className:"field"},u.a.createElement("label",null,u.a.createElement("div",{className:"ui horizontal inverted divider"},"Enable Light: ",this.props.view.enableLight.toString())),u.a.createElement("select",{name:"enableLight",onChange:this.onChange},u.a.createElement("option",{value:"false"},"false"),u.a.createElement("option",{value:"true"},"true")))),u.a.createElement("div",{className:"ui inverted segment"},u.a.createElement("div",{className:"field"},u.a.createElement("label",null,u.a.createElement("div",{className:"ui horizontal inverted divider"},"Enable Materials: ",this.props.view.enableMaterials.toString())),u.a.createElement("select",{name:"enableMaterials",onChange:this.onChange},u.a.createElement("option",{value:"false"},"false"),u.a.createElement("option",{value:"true"},"true")))),u.a.createElement("div",{className:"ui inverted segment"},u.a.createElement("div",{className:"field"},u.a.createElement("label",null,u.a.createElement("div",{className:"ui horizontal inverted divider"},"Enable Shaders: ",this.props.view.enableShaders.toString())),u.a.createElement("select",{name:"enableShaders",onChange:this.onChange},u.a.createElement("option",{value:"false"},"false"),u.a.createElement("option",{value:"true"},"true")))),u.a.createElement("div",{className:"ui inverted segment"},u.a.createElement("div",{className:"field"},u.a.createElement("label",null,u.a.createElement("div",{className:"ui horizontal inverted divider"},"Enable Measurement: ",this.props.view.enableMeasurement.toString())),u.a.createElement("select",{name:"enableMeasurement",onChange:this.onChange},u.a.createElement("option",{value:"false"},"false"),u.a.createElement("option",{value:"true"},"true")))),u.a.createElement("div",{className:"field"},u.a.createElement("div",{className:"ui raised segment"},u.a.createElement("div",{className:"ui blue ribbon label"},u.a.createElement("label",null,"modelUnits: ",this.props.view.modelUnits)),u.a.createElement("select",{name:"modelUnits",onChange:this.onChange},p.I.map(function(t,e){return u.a.createElement("option",{key:e,value:t},t)})))),u.a.createElement("br",null),u.a.createElement("div",{className:"ui buttons"},u.a.createElement("button",{className:"ui fluid primary button",type:"submit"},"Save"),u.a.createElement("div",{className:"or"}),u.a.createElement("button",{className:"ui fluid secondary button",onClick:this.onDiscard},"Discard"))))))):u.a.createElement("div",null,u.a.createElement("h2",null,"Change View"),e,u.a.createElement("p",null,"Getting view..."))}}]),e}(s.Component);v.propTypes={getView:f.a.func,udpateView:f.a.func,getThreefile:f.a.func,view:f.a.object.isRequired};var g=function t(e){return{view:e.views.view,file:e.views.file}};e.a=Object(l.b)(g,{getView:d.getView,getThreeFile:d.getThreeFile,updateView:d.updateView})(v)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return Object.assign({},t.converter)}var s=n(0),u=n.n(s),c=n(30),l=n(64),h=n(221),f=n(525),d=n(1179),p=n(76),m=n(1180),v=n(16),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),g(e,[{key:"render",value:function t(){var e=this.props,n=e.startConversion,r=e.restartConverter,i=e.conversionStarted,o=e.conversionComplete,a=e.file,s=e.progress,c=e.conversionType,l=e.error;return!1===i?c!==v.i?u.a.createElement(f.a,{startConversion:n}):u.a.createElement(d.a,{startConversion:n}):!1===o?u.a.createElement(p.a,{className:"three-loader-dimmer",text:s.label,percent:s.percent,active:!0,error:l}):u.a.createElement(m.a,{file:a,restartConverter:r})}}]),e}(s.Component);e.a=Object(c.b)(a,{startConversion:h.startConversion,restartConverter:h.restartConverter})(y)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),u=n.n(s),c=n(18),l=n(16),h=n(525),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={ptm:{label:"RTI File (.ptm)",file:null,info:"http://www.hpl.hp.com/research/ptm/",type:l.l,accept:l.M},options:{createMesh:{label:"Create Mesh from Surface Normals",val:!1,type:l.d},compress:{label:"Use JPEG Compression on Large Textures",val:!1,type:l.d},zlib:{label:"Use zlib Compression on the Output Mesh",val:!1,type:l.d}}},n.handleFileUpload=n.handleFileUpload.bind(n),n.handleField=n.handleField.bind(n),n.renderGroup=n.renderGroup.bind(n),n.checkFileUploadType=n.checkFileUploadType.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.prepare=n.prepare.bind(n),n}return a(e,t),f(e,[{key:"prepare",value:function t(e){var n=e.ptm,r=e.options,i={};i.ptm=n.file,i.options={};for(var o in r){var a=r[o];i.options[o]=a.val}return i}},{key:"handleSubmit",value:function t(e){e.preventDefault(),e.stopPropagation(),this.props.startConversion(this.prepare(this.state))}},{key:"render",value:function t(){var e=this.state,n=e.options,i=r(e,["options"]);return u.a.createElement(c.h,{inverted:!0,className:"three-converter-form"},u.a.createElement(c.f,{className:"three-converter-form-divider",inverted:!0,horizontal:!0},"RTI"),this.renderGroup(i),u.a.createElement(c.f,{className:"three-converter-form-divider",inverted:!0,horizontal:!0},"Options"),this.renderGroup(n),u.a.createElement(c.b,{size:"large",className:"three-converter-form-submit",color:"green",onClick:this.handleSubmit},"convert"))}}]),e}(h.a);e.a=d},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(24),c=n(16),l=n(18),h=n(34),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={filename:u.Math.generateUUID(),url:null,ext:null,filesize:0},n.onSave=n.onSave.bind(n),n.onName=n.onName.bind(n),n.performRedirect=n.performRedirect.bind(n),n.formatFileLabel=n.formatFileLabel.bind(n),n}return o(e,t),f(e,[{key:"componentDidMount",value:function t(){var e=this.props.file,n=c.o;e.constructor!==Uint8Array&&(n=c.q);var r=(e.length/1048576).toFixed(2);this.setState({url:window.URL.createObjectURL(new Blob([e])),ext:n,filesize:r})}},{key:"onSave",value:function t(e){e.preventDefault(),e.stopPropagation(),this.downloadLink.click(),this.setState({saved:!0})}},{key:"performRedirect",value:function t(e){e.preventDefault(),e.stopPropagation(),this.props.restartConverter()}},{key:"onName",value:function t(e,n){var r=n.value;this.setState({filename:r})}},{key:"formatFileLabel",value:function t(){var e=this.state;return"current filename: "+e.filename+e.ext+" ("+e.filesize+" MB)"}},{key:"render",value:function t(){var e=this,n=this.state,r=n.filename,i=n.url,o=n.ext,a=n.filesize;return s.a.createElement(l.h,{inverted:!0,className:"three-converter-form"},s.a.createElement(l.f,{className:"three-converter-form-divider",inverted:!0,horizontal:!0},"Conversion Complete"),s.a.createElement(l.h.Group,{className:"three-converter-form-group"},s.a.createElement(l.h.Input,{fluid:!0,className:"three-converter-form-field",label:this.formatFileLabel(),onChange:this.onName,value:r})),s.a.createElement(l.h.Group,{className:"three-converter-form-group"},s.a.createElement(l.b,{size:"large",className:"three-converter-form-submit",color:"green",onClick:this.onSave},"save"),s.a.createElement(l.f,{className:"three-converter-form-divider",inverted:!0,horizontal:!0},"or"),s.a.createElement(l.b,{size:"large",className:"three-converter-form-submit",color:"green",onClick:this.performRedirect},"convert another"),s.a.createElement("a",{ref:function t(n){return e.downloadLink=n},href:i,download:r+o})))}}]),e}(a.Component);e.a=d},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return{loggedIn:t.user.loggedIn,loginError:t.user.loginError,info:t.user.info}}var s=n(0),u=n.n(s),c=n(1),l=n.n(c),h=n(30),f=n(18),d=n(63),p=n(287),m=n(34),v=n(1182),g=n(1183),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),y(e,[{key:"componentDidMount",value:function t(){!1===this.props.loggedIn&&this.props.authenticate()}},{key:"render",value:function t(){var e=this.props,n=e.loginError,r=e.loggedIn,i=e.loginUser,o=e.addUser,a=e.info;return u.a.createElement("div",{className:"hp-body-container"},u.a.createElement("div",{className:"hp-overlay"},u.a.createElement("div",{className:"hp-content"},u.a.createElement("p",{className:"hp-tagline"},"Some great tagline about 3D stuff"),u.a.createElement("div",{className:"hp-login-container"},u.a.createElement(v.a,{loginError:n,loggedIn:r,loginUser:i}),u.a.createElement("div",{className:"hp-forgot-pass-container"},u.a.createElement(g.a,{trigger:u.a.createElement("a",null,"sign up"),signUpUser:o,status:void 0!==a.email}))))))}}]),e}(s.Component);e.a=Object(h.b)(a,{loginUser:d.d,authenticate:d.b,addUser:d.a})(b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(1),c=n.n(u),l=n(30),h=n(18),f=n(63),d=n(287),p=n(34),m=n(37),v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={email:"",password:"",showPassword:!1},n.handleSubmit=n.handleSubmit.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.handleEmailChange=n.handleEmailChange.bind(n),n.handlePasswordChange=n.handlePasswordChange.bind(n),n.handleShowPassword=n.handleShowPassword.bind(n),n}return o(e,t),v(e,[{key:"handleSubmit",value:function t(e){e.preventDefault(),e.stopPropagation();var n=this.state,r=n.email,i=n.password,o={username:r,password:encodeURIComponent(i)};this.props.loginUser(o)}},{key:"handleEmailChange",value:function t(e){e.preventDefault(),e.stopPropagation(),this.setState({email:e.target.value})}},{key:"handlePasswordChange",value:function t(e,n){var r=n.value;e.preventDefault(),e.stopPropagation(),this.setState({password:r})}},{key:"handleShowPassword",value:function t(){this.setState({showPassword:!this.state.showPassword})}},{key:"handleKeyPress",value:function t(e){13===e.charCode&&this.handleSubmit(e)}},{key:"render",value:function t(){var e=this.state,n=e.password,r=e.showPassword,i=this.props,o=i.loginError,a=i.loggedIn,u="login-error ";return u+=!0===o?"show":"hide",!1===a?s.a.createElement("div",{className:"ui middle aligned center aligned grid"},s.a.createElement("div",{className:"column"},s.a.createElement(h.h,{className:"login-form",onSubmit:this.handleSubmit},s.a.createElement(h.h.Input,{className:"login-form-field",icon:"mail",iconPosition:"left",onKeyPress:this.handleKeyPress,onChange:this.handleEmailChange,placeholder:"email",name:"email",type:"text",error:o}),s.a.createElement(h.h.Input,{className:"login-form-field",icon:"lock",iconPosition:"left",onKeyPress:this.handleKeyPress,onChange:this.handlePasswordChange,placeholder:"password",name:"password",value:n,type:!0===r?"text":"password",error:o}),s.a.createElement(h.l,{negative:!0,className:u},s.a.createElement(h.l.Header,null,"There was a problem logging in!"),s.a.createElement("p",null,"Username or password is incorrect")),s.a.createElement(h.b,{className:"login-submit",type:"submit",color:"green"},"login"),s.a.createElement(d.a,{className:"login-form-button",id:"show-password",onClick:this.handleShowPassword,onColor:"grey",offColor:"black",onIcon:"hide",offIcon:"eye",onLabel:"hide password",offLabel:"show password"})))):s.a.createElement(p.c,{to:m.b+"/admin/views"})}}]),e}(a.Component);e.a=g},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(18),c=n(287),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={username:"",password:"",email:""},n.handleSignUpUser=n.handleSignUpUser.bind(n),n.handleEmailChange=n.handleEmailChange.bind(n),n.handlePasswordChange=n.handlePasswordChange.bind(n),n.handleShowPassword=n.handleShowPassword.bind(n),n.handleUsernameChange=n.handleUsernameChange.bind(n),n}return o(e,t),l(e,[{key:"handleEmailChange",value:function t(e,n){var r=n.value;e.preventDefault(),e.stopPropagation(),this.setState({email:r})}},{key:"handlePasswordChange",value:function t(e,n){var r=n.value;e.preventDefault(),e.stopPropagation(),this.setState({password:r})}},{key:"handleUsernameChange",value:function t(e,n){var r=n.value;e.preventDefault(),e.stopPropagation(),this.setState({username:r})}},{key:"handleShowPassword",value:function t(){this.setState({showPassword:!this.state.showPassword})}},{key:"handleSignUpUser",value:function t(e){e.preventDefault(),e.stopPropagation();var n=this.state,r=n.email,i=n.password,o=n.username,a={username:o,email:r,password:encodeURIComponent(i)};this.props.signUpUser(a)}},{key:"render",value:function t(){var e=this.state,n=e.password,r=e.showPassword,i=e.username,o=e.email,a=this.props,l=a.trigger,h=a.signUpUser,f=a.signUpError,d=a.status,p="signup-error ";return p+=!0===f?"show":"hide",s.a.createElement(u.m,{dimmer:!0,className:"three-admin-signup-modal",trigger:l},s.a.createElement(u.m.Header,null,"Create an Account"),s.a.createElement(u.m.Content,null,!1===d?s.a.createElement(u.h,{className:"signup-form",onSubmit:this.handleSignUpUser},s.a.createElement(u.h.Input,{className:"login-form-field",icon:"mail",iconPosition:"left",onChange:this.handleEmailChange,placeholder:"email",name:"email",type:"text",error:f}),s.a.createElement(u.h.Input,{className:"login-form-field",icon:"lock",iconPosition:"left",onChange:this.handlePasswordChange,placeholder:"password",name:"password",value:n,type:!0===r?"text":"password",error:f}),s.a.createElement(u.h.Input,{className:"login-form-field",icon:"user circle",iconPosition:"left",onChange:this.handleUsernameChange,placeholder:"username (optional)",name:"username",value:i,type:"text",error:f}),s.a.createElement(u.l,{negative:!0,className:p},s.a.createElement(u.l.Header,null,"There was a problem creating your account!"),s.a.createElement("p",null,"(real message goes here)")),s.a.createElement(u.b,{className:"login-submit",type:"submit",color:"green"},"create"),s.a.createElement(c.a,{className:"login-form-button",id:"show-password",onClick:this.handleShowPassword,onColor:"grey",offColor:"black",onIcon:"hide",offIcon:"eye",onLabel:"hide password",offLabel:"show password"})):s.a.createElement(u.l,{className:"three-admin-signup-message",positive:!0},s.a.createElement(u.l.Header,null,"Your Account was Created"),"We just sent a verification e-mail to ",o,". Please check your inbox for further instructions.")))}}]),e}(a.Component);e.a=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return{user:t.user}}var s=n(0),u=n.n(s),c=n(30),l=n(34),h=n(76),f=n(63),d=n(37),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=function t(){return u.a.createElement(h.a,{active:!0,text:"Logging Out ..."})},v=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),p(e,[{key:"componentDidMount",value:function t(){this.props.logoutUser(),this.props.resetLoginErrorMessage()}},{key:"render",value:function t(){return!1===this.props.user.loggedIn?u.a.createElement(l.c,{to:d.b+"/admin/login"}):u.a.createElement(m,null)}}]),e}(s.Component);e.a=Object(c.b)(a,{logoutUser:f.e,resetLoginErrorMessage:f.f})(v)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return{user:t.user}}var s=n(0),u=n.n(s),c=n(30),l=n(34),h=n(63),f=n(18),d=n(37),p=n(1186),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleDeleteUser=n.handleDeleteUser.bind(n),n}return o(e,t),m(e,[{key:"handleDeleteUser",value:function t(){this.props.deleteUser(this.props.user.info.id)}},{key:"render",value:function t(){var e=this.props.user;return u.a.createElement("div",{className:"three-admin-account-settings-container"},u.a.createElement(f.f,{className:"three-admin-account-settings-divider",horizontal:!0,inverted:!0},"My Account"),u.a.createElement(p.a,{onDelete:this.handleDeleteUser,user:e,onSuccessRedirect:u.a.createElement(l.c,{to:d.b+"/admin/login"})}))}}]),e}(s.Component);e.a=Object(c.b)(a,{deleteUser:h.c})(v)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),u=n(18),c=n(76),l=n(34),h=n(37),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=s.a.createElement(l.b,{className:"three-admin-home-link",to:h.b+"/admin/login"},"Back to Login"),p=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={open:!1,deleteAttempted:!1,redirectTimeout:0},n.onDelete=n.onDelete.bind(n),n.close=n.close.bind(n),n.open=n.open.bind(n),n}return o(e,t),f(e,[{key:"onDelete",value:function t(){var e=this;this.setState({deleteAttempted:!0},function(){e.props.onDelete(),e.close()})}},{key:"open",value:function t(){this.setState({open:!0})}},{key:"close",value:function t(){this.setState({open:!1})}},{key:"render",value:function t(){var e=this.state,n=e.open,r=e.deleteAttempted,i=e.deleteTimeout,o=this.props.user,a=o.info,c=a.message,l=a.status;if(!0===r){var h=!0===l?"Your Account Was Successfully Deleted. You will be Redirected to the Login Screen in 5 seconds.":"There was an Problem Deleting Your Account";return s.a.createElement(u.l,{success:l,className:"three-admin-verify-message"},s.a.createElement(u.l.Header,null,h),s.a.createElement(u.l.Content,null,c),s.a.createElement(u.l.Content,{className:"three-admin-content-link"},d))}return s.a.createElement("div",{className:"three-admin-delete-account-container"},s.a.createElement(u.b,{className:"three-admin-button-confirm",onClick:this.open,icon:!0,labelPosition:"left"},s.a.createElement(u.j,{name:"user delete"}),"Delete My Account"),s.a.createElement(u.d,{content:"Are you sure you wanto to delete your account? This can't be undone.",className:"three-admin-confirm",open:n,onCancel:this.close,onConfirm:this.onDelete}))}}]),e}(a.Component);e.a=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return{user:t.user,token:e.match.params.token}}var s=n(0),u=n.n(s),c=n(30),l=n(63),h=n(1188),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"componentDidMount",value:function t(){this.props.verifyUser(this.props.token)}},{key:"render",value:function t(){var e=this.props.user;return u.a.createElement("div",{className:"three-admin-verify-user-container"},u.a.createElement(h.a,{verified:e.info.status,message:e.info.message}))}}]),e}(s.Component);e.a=Object(c.b)(a,{verifyUser:l.g})(d)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(18),a=n(76),s=n(34),u=n(37),c=function t(){return i.a.createElement(a.a,{active:!0,text:"Verifying Account ..."})},l=i.a.createElement(s.b,{className:"three-admin-home-link",to:u.b+"/admin/login"},"Back to Login"),h=function t(e){var n=e.verified,r=e.message;if(void 0===n)return c();var a=!0===n?"Success":"Something Went Wrong!";return i.a.createElement(o.l,{success:n,className:"three-admin-verify-message"},i.a.createElement(o.l.Header,null,a),i.a.createElement(o.l.Content,null,r),i.a.createElement(o.l.Content,{className:"three-admin-content-link"},l))};e.a=h}]);
//# sourceMappingURL=main.71a59351.js.map